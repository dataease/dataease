//>>built
define(["dojo/_base/kernel","dojo/_base/lang","dojox","dojo/_base/array"],function(w,v,n){v.getObject("json",!0,n);n.json._slice=function(e,d,f,k){var b=e.length,c=[];f=f||b;d=0>d?Math.max(0,d+b):Math.min(b,d);for(f=0>f?Math.max(0,f+b):Math.min(b,f);d<f;d+=k)c.push(e[d]);return c};n.json._find=function(e,d){function f(c){d&&(!0!==d||c instanceof Array?c[d]&&k.push(c[d]):k.push(c));for(var h in c){var l=c[h];d?l&&"object"==typeof l&&f(l):k.push(l)}}var k=[];if(d instanceof Array){if(1==d.length)return e[d[0]];
for(var b=0;b<d.length;b++)k.push(e[d[b]])}else f(e);return k};n.json._distinctFilter=function(e,d){for(var f=[],k={},b=0,c=e.length;b<c;++b){var h=e[b];d(h,b,e)&&("object"==typeof h&&h?h.__included||(h.__included=!0,f.push(h)):k[h+typeof h]||(k[h+typeof h]=!0,f.push(h)))}b=0;for(c=f.length;b<c;++b)f[b]&&delete f[b].__included;return f};return n.json.query=function(e,d){function f(a,g,m,u,p,q,t,r){return b[r].match(/[\*\?]/)||"~"==t?"/^"+b[r].substring(1,b[r].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,
"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+("~"==t?"$/i":"$/")+".test("+g+")":a}var k=0,b=[];e=e.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(a){k+="["==a?1:"]"==a?-1:0;return"]"==a&&0<k?"`]":'"'==a.charAt(0)||"'"==a.charAt(0)?"`"+(b.push(a)-1):a});var c="";e.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw Error("Unsafe function call");});e=e.replace(/([^<>=]=)([^=])/g,"$1\x3d$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(a){return"."==a.charAt(0)?
a:"@"==a?"$obj":(a.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+a}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(a,g,m){return(g=a.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/))?(m="",a.match(/^\./)&&(c="dojox.json._find("+c,m=",true)"),c=(g[1].match(/=/)?"dojo.map":g[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter")+"("+c,m+",function($obj){return "+g[2]+"})"):(g=a.match(/^\[\s*([\/\\].*)\]/))?".concat().sort(function(a,b){"+g[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,
function(u,p,q){return"var av\x3d "+q.replace(/\$obj/,"a")+",bv\x3d "+q.replace(/\$obj/,"b")+";if(av\x3ebv||bv\x3d\x3dnull){return "+("/"==p?1:-1)+";}\nif(bv\x3eav||av\x3d\x3dnull){return "+("/"==p?-1:1)+";}\n"})+"return 0;})":(g=a.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/))?(c="dojox.json._slice("+c,","+(g[1]||0)+","+(g[2]||0)+","+(g[3]||1)+")"):a.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(c="dojox.json._find("+c,("."==a.charAt(1)?",'"+m+"'":a.match(/,/)?","+a:"")+")"):a}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,
f).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(a,g,m,u,p,q,t,r){return f(a,u,p,q,t,r,m,g)});e=c+("$"==e.charAt(0)?"":"$")+e.replace(/`([0-9]+|\])/g,function(a,g){return"]"==g?"]":b[g]});for(var h=eval("1\x26\x26function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj\x3d$;return "+e+"}"),l=0;l<arguments.length-1;l++)arguments[l]=arguments[l+1];return d?h.apply(this,arguments):h}});
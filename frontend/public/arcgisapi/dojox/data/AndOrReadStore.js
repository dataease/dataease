//>>built
define("dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/data/util/filter dojo/_base/array dojo/_base/json".split(" "),function(z,e,A,y,B,w){return z("dojox.data.AndOrReadStore",[A],{_containsValue:function(m,r,x,k){return B.some(this.getValues(m,r),function(c){if(e.isString(k))return eval(k);if(null!==c&&!e.isObject(c)&&k){if(c.toString().match(k))return!0}else return x===c?!0:!1})},filter:function(m,r,x){var k=[];if(m.query){var c=w.fromJson(w.toJson(m.query));if("object"==typeof c){var a=
0;for(g in c)a++;if(1<a&&c.complexQuery){a=c.complexQuery;var n=!1;for(g in c)if("complexQuery"!==g){n||(a="( "+a+" )",n=!0);var l=m.query[g];e.isString(l)&&(l="'"+l+"'");a+=" AND "+g+":"+l;delete c[g]}c.complexQuery=a}}var g=m.queryOptions?m.queryOptions.ignoreCase:!1;"string"!=typeof c&&(c=w.toJson(c),c=c.replace(/\\\\/g,"\\"));c=c.replace(/\\"/g,'"');a=e.trim(c.replace(/{|}/g,""));if(a.match(/"? *complexQuery *"?:/)){a=e.trim(a.replace(/"?\s*complexQuery\s*"?:/,""));n=["'",'"'];var p=!1;for(c=
0;c<n.length;c++){l=a.indexOf(n[c]);var b=a.indexOf(n[c],1);var t=a.indexOf(":",1);if(0===l&&-1!=b&&t<b){p=!0;break}}p&&(a=a.replace(/^"|^'|"$|'$/g,""))}n=a;l=/^>=|^<=|^<|^>|^,|^NOT |^AND |^OR |^\(|^\)|^!|^&&|^\|\|/i;b=t="";var f=-1;p=!1;var v="",d="";b="";b=-1;for(c=0;c<r.length;++c){var h=!0,u=r[c];if(null===u)h=!1;else{a=n;for(t="";0<a.length&&!p;){for(b=a.match(l);b&&!p;)a=e.trim(a.replace(b[0],"")),b=e.trim(b[0]).toUpperCase(),b="NOT"==b?"!":"AND"==b||","==b?"\x26\x26":"OR"==b?"||":b,b=" "+b+
" ",t+=b,b=a.match(l);if(0<a.length)if(h=(b=a.match(/:|>=|<=|>|</g))&&b.shift(),f=a.indexOf(h),-1==f){p=!0;break}else{v=e.trim(a.substring(0,f).replace(/"|'/g,""));a=e.trim(a.substring(f+h.length));if(b=a.match(/^'|^"/)){b=b[0];f=a.indexOf(b);b=a.indexOf(b,f+1);if(-1==b){p=!0;break}d=a.substring(f+h.length,b);a=b==a.length-1?"":e.trim(a.substring(b+1));b=":"!=h?this.getValue(u,v)+h+d:y.patternToRegExp(d,g)}else{if(b=a.match(/\s|\)|,/)){d=Array(b.length);for(var q=0;q<b.length;q++)d[q]=a.indexOf(b[q]);
f=d[0];if(1<d.length)for(q=1;q<d.length;q++)f=Math.min(f,d[q]);d=e.trim(a.substring(0,f));a=e.trim(a.substring(f))}else d=e.trim(a),a="";":"!=h?b=this.getValue(u,v)+h+d:(b=y.patternToRegExp(d,g),console.log("regex value: ",d," regex pattern: ",b))}t+=this._containsValue(u,v,d,b)}}h=eval(t)}h&&k.push(u)}p&&(k=[],console.log("The store's _fetchItems failed, probably due to a syntax error in query."))}else for(c=0;c<r.length;++c)g=r[c],null!==g&&k.push(g);x(k,m)}})});
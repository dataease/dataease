//>>built
define(["dojo","dijit","dojox","dojo/require!dojo/window"],function(f,n,c){f.provide("dojox.flash._base");f.experimental("dojox.flash");f.require("dojo.window");c.flash={ready:!1,url:null,_visible:!0,_loadedListeners:[],_installingListeners:[],setSwf:function(a,b){this.url=a;this._visible=!0;null!==b&&void 0!==b&&(this._visible=b);this._initialize()},addLoadedListener:function(a){this._loadedListeners.push(a)},addInstallingListener:function(a){this._installingListeners.push(a)},loaded:function(){c.flash.ready=
!0;if(c.flash._loadedListeners.length)for(var a=0;a<c.flash._loadedListeners.length;a++)c.flash._loadedListeners[a].call(null)},installing:function(){if(c.flash._installingListeners.length)for(var a=0;a<c.flash._installingListeners.length;a++)c.flash._installingListeners[a].call(null)},_initialize:function(){var a=new c.flash.Install;c.flash.installer=a;a.needed()?a.install():(c.flash.obj=new c.flash.Embed(this._visible),c.flash.obj.write(),c.flash.comm=new c.flash.Communicator)}};c.flash.Info=function(){this._detectVersion()};
c.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:!1,installing:!1,isVersionOrAbove:function(a,b,d){d=parseFloat("."+d);return this.versionMajor>=a&&this.versionMinor>=b&&this.versionRevision>=d?!0:!1},_detectVersion:function(){for(var a,b=25;0<b;b--){if(f.isIE)try{var d=6<b?new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b):new ActiveXObject("ShockwaveFlash.ShockwaveFlash");"object"==typeof d&&(6==b&&(d.AllowScriptAccess="always"),a=d.GetVariable("$version"))}catch(e){continue}else a=
this._JSFlashInfo(b);if(-1==a){this.capable=!1;break}else if(0!=a){a=f.isIE?a.split(" ")[1].split(","):a.split(".");this.versionMajor=a[0];this.versionMinor=a[1];this.versionRevision=a[2];this.version=parseFloat(this.versionMajor+"."+this.versionRevision);this.capable=!0;break}}},_JSFlashInfo:function(a){if(null!=navigator.plugins&&0<navigator.plugins.length&&(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])){var b=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?
" 2.0":"")].description.split(" "),d=b[2].split(".");a=d[0];d=d[1];b=(b[3]||b[4]).split("r");return a+"."+d+"."+(0<b[1]?b[1]:0)}return-1}};c.flash.Embed=function(a){this._visible=a};c.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:!0,protocol:function(){switch(window.location.protocol){case "https:":return"https";default:return"http"}},write:function(a){var b=c.flash.url,d=b,e=f.baseUrl,k=document.location.protocol+"//"+document.location.host;if(a){a=escape(window.location);
document.title=document.title.slice(0,47)+" - Flash Player Installation";var l=escape(document.title);d+="?MMredirectURL\x3d"+a+"\x26MMplayerType\x3dActiveX\x26MMdoctitle\x3d"+l+"\x26baseUrl\x3d"+escape(e)+"\x26xdomain\x3d"+escape(k);b+="?MMredirectURL\x3d"+a+"\x26MMplayerType\x3dPlugIn\x26baseUrl\x3d"+escape(e)+"\x26xdomain\x3d"+escape(k)}else d+="?cachebust\x3d"+(new Date).getTime(),d+="\x26baseUrl\x3d"+escape(e),d+="\x26xdomain\x3d"+escape(k);b=-1==b.indexOf("?")?b+("?baseUrl\x3d"+escape(e)):b+
("\x26baseUrl\x3d"+escape(e));b+="\x26xdomain\x3d"+escape(k);var m='\x3cobject classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase\x3d"'+this.protocol()+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d8,0,0,0"\n width\x3d"'+this.width+'"\n height\x3d"'+this.height+'"\n id\x3d"'+this.id+'"\n name\x3d"'+this.id+'"\n align\x3d"middle"\x3e\n \x3cparam name\x3d"allowScriptAccess" value\x3d"always"\x3e\x3c/param\x3e\n \x3cparam name\x3d"movie" value\x3d"'+d+'"\x3e\x3c/param\x3e\n \x3cparam name\x3d"quality" value\x3d"high"\x3e\x3c/param\x3e\n \x3cparam name\x3d"bgcolor" value\x3d"#ffffff"\x3e\x3c/param\x3e\n \x3cembed src\x3d"'+
b+'" quality\x3d"high" bgcolor\x3d"#ffffff" width\x3d"'+this.width+'" height\x3d"'+this.height+'" id\x3d"'+this.id+'Embed" name\x3d"'+this.id+'" swLiveConnect\x3d"true" align\x3d"middle" allowScriptAccess\x3d"always" type\x3d"application/x-shockwave-flash" pluginspage\x3d"'+this.protocol()+'://www.macromedia.com/go/getflashplayer" \x3e\x3c/embed\x3e\n\x3c/object\x3e\n';f.connect(f,"loaded",f.hitch(this,function(){if(!f.byId(this.id+"Container")){var g=document.createElement("div");g.id=this.id+"Container";
g.style.width=this.width+"px";g.style.height=this.height+"px";this._visible||(g.style.position="absolute",g.style.zIndex="10000",g.style.top="-1000px");g.innerHTML=m;var h=document.getElementsByTagName("body");if(!h||!h.length)throw Error("No body tag for this page");h=h[0];h.appendChild(g)}}))},get:function(){return f.isIE||f.isWebKit?f.byId(this.id):document[this.id+"Embed"]},setVisible:function(a){var b=f.byId(this.id+"Container");a?(b.style.position="absolute",b.style.visibility="visible"):(b.style.position=
"absolute",b.style.y="-1000px",b.style.visibility="hidden")},center:function(){var a=this.width,b=this.height,d=f.window.getBox();a=d.l+(d.w-a)/2;b=d.t+(d.h-b)/2;d=f.byId(this.id+"Container");d.style.top=b+"px";d.style.left=a+"px"}};c.flash.Communicator=function(){};c.flash.Communicator.prototype={_addExternalInterfaceCallback:function(a){var b=f.hitch(this,function(){for(var d=Array(arguments.length),e=0;e<arguments.length;e++)d[e]=this._encodeData(arguments[e]);d=this._execFlash(a,d);return d=this._decodeData(d)});
this[a]=b},_encodeData:function(a){if(!a||"string"!=typeof a)return a;a=a.replace("\\","\x26custom_backslash;");return a=a.replace(/\0/g,"\x26custom_null;")},_decodeData:function(a){a&&a.length&&"string"!=typeof a&&(a=a[0]);if(!a||"string"!=typeof a)return a;a=a.replace(/&custom_null;/g,"\x00");return a=a.replace(/&custom_lt;/g,"\x3c").replace(/&custom_gt;/g,"\x3e").replace(/&custom_backslash;/g,"\\")},_execFlash:function(a,b){var d=c.flash.obj.get();b=b?b:[];for(var e=0;e<b;e++)"string"==typeof b[e]&&
(b[e]=this._encodeData(b[e]));e=function(){return eval(d.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e'+__flash__argumentsToXML(b,0)+"\x3c/invoke\x3e"))}.call(b);"string"==typeof e&&(e=this._decodeData(e));return e}};c.flash.Install=function(){};c.flash.Install.prototype={needed:function(){return c.flash.info.capable&&c.flash.info.isVersionOrAbove(8,0,0)?!1:!0},install:function(){c.flash.info.installing=!0;c.flash.installing();if(0==c.flash.info.capable){var a=new c.flash.Embed(!1);
a.write()}else c.flash.info.isVersionOrAbove(6,0,65)?(a=new c.flash.Embed(!1),a.write(!0),a.setVisible(!0),a.center()):(alert("This content requires a more recent version of the Macromedia  Flash Player."),window.location.href=+c.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer")},_onInstallStatus:function(a){"Download.Complete"==a?c.flash._initialize():"Download.Cancelled"==a?(alert("This content requires a more recent version of the Macromedia  Flash Player."),window.location.href=
c.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer"):"Download.Failed"==a&&alert("There was an error downloading the Flash Player update. Please try again later, or visit macromedia.com to download the latest version of the Flash plugin.")}};c.flash.info=new c.flash.Info});
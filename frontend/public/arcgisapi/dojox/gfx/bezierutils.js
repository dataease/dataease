//>>built
define(["./_base"],function(p){p=p.bezierutils={};p.tAtLength=function(a,b){var c=0,d=6==a.length,k=0,f=0,n=d?u:y,m=function(e,g){for(var l=0,h=0;h<e.length-2;h+=2)l+=q(e[h],e[h+1],e[h+2],e[h+3]);h=d?q(a[0],a[1],a[4],a[5]):q(a[0],a[1],a[6],a[7]);l-h>g||k+l>b+g?(++f,e=n(e,.5),m(e[0],g),Math.abs(k-b)<=g||m(e[1],g)):(k+=l,c+=1/(1<<f))};b&&m(a,.5);return c};var w=p.computeLength=function(a){for(var b=6==a.length,c=0,d=0;d<a.length-2;d+=2)c+=q(a[d],a[d+1],a[d+2],a[d+3]);d=b?q(a[0],a[1],a[4],a[5]):q(a[0],
a[1],a[6],a[7]);return.1<c-d?(a=b?u(a,.5):v(a,.5),c=w(a[0],b),c+=w(a[1],b)):c},q=p.distance=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},u=function(a,b){var c=1-b,d=c*c,k=b*b,f=a[0],n=a[1],m=a[2],e=a[3],g=a[4];a=a[5];var l=d*f+2*c*b*m+k*g;d=d*n+2*c*b*e+k*a;return[[f,n,c*f+b*m,c*n+b*e,l,d],[l,d,c*m+b*g,c*e+b*a,g,a]]},v=function(a,b){var c=1-b,d=c*c,k=d*c,f=b*b,n=f*b,m=a[0],e=a[1],g=a[2],l=a[3],h=a[4],r=a[5],t=a[6];a=a[7];var x=k*m+3*d*b*g+3*c*f*h+n*t;k=k*e+3*d*b*l+3*c*f*r+n*a;return[[m,
e,c*m+b*g,c*e+b*l,d*m+2*c*b*g+f*h,d*e+2*c*b*l+f*r,x,k],[x,k,d*g+2*c*b*h+f*t,d*l+2*c*b*r+f*a,c*h+b*t,c*r+b*a,t,a]]},y=p.splitBezierAtT=function(a,b){return 6==a.length?u(a,b):v(a,b)};return p});
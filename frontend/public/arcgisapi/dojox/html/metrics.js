//>>built
define("dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(p,q,k,v,w,f,x){var e=q.getObject("dojox.html.metrics",!0),r=q.getObject("dojox");e.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(k("ie")){var d=f.doc.documentElement.style.fontSize||"";d||(f.doc.documentElement.style.fontSize="100%")}var g=f.doc.createElement("div"),
b=g.style;b.position="absolute";b.left="-100px";b.top="0";b.width="30px";b.height="1000em";b.borderWidth="0";b.margin="0";b.padding="0";b.outline="0";b.lineHeight="1";b.overflow="hidden";f.body().appendChild(g);for(var h in a)b.fontSize=h,a[h]=16*Math.round(12*g.offsetHeight/16)/12/1E3;k("ie")&&(f.doc.documentElement.style.fontSize=d);f.body().removeChild(g);g=null;return a};var l=null;e.getCachedFontMeasurements=function(a){if(a||!l)l=e.getFontMeasurements();return l};var m=null,y={};e.getTextBox=
function(a,d,g){if(m)var b=m;else{b=m=f.doc.createElement("div");b.style.whiteSpace="nowrap";var h=f.doc.createElement("div");h.appendChild(b);var c=h.style;c.overflow="scroll";c.position="absolute";c.left="0px";c.top="-10000px";c.width="1px";c.height="1px";c.visibility="hidden";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";f.body().appendChild(h)}b.className="";c=b.style;c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";if(1<arguments.length&&d)for(var n in d)n in y||(c[n]=
d[n]);2<arguments.length&&g&&(b.className=g);b.innerHTML=a;c=x.position(b);c.w=b.parentNode.scrollWidth;return c};var t=16,u=16;e.getScrollbar=function(){return{w:t,h:u}};e._fontResizeNode=null;e.initOnFontResize=function(a){var d=e._fontResizeNode=f.doc.createElement("iframe");a=d.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";k("ie")?d.onreadystatechange=function(){"complete"==d.contentWindow.document.readyState&&(d.onresize=d.contentWindow.parent[r._scopeName].html.metrics._fontresize)}:
d.onload=function(){d.contentWindow.onresize=d.contentWindow.parent[r._scopeName].html.metrics._fontresize};d.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");f.body().appendChild(d);e.initOnFontResize=function(){}};e.onFontResize=function(){};e._fontresize=function(){e.onFontResize()};w.addOnUnload(function(){var a=e._fontResizeNode;a&&(k("ie")&&
a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),e._fontResizeNode=null)});v(function(){try{var a=f.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";f.body().appendChild(a);t=a.offsetWidth-a.clientWidth;u=a.offsetHeight-a.clientHeight;f.body().removeChild(a);delete a}catch(d){}"fontSizeWatch"in p.config&&p.config.fontSizeWatch&&e.initOnFontResize()});return e});
//>>built
define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),function(u,v,p,q,w,m,x,y,n,z,A,B){var h=w.getObject("dojox.html",!0);if(y("ie"))var r=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var C=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,
t=h._adjustCssPaths=function(b,a){if(a&&b)return r&&(a=a.replace(r,function(c,d,f,e,g){return d+(new n(b,"./"+e)).toString()+g})),a.replace(C,function(c,d,f,e,g,l){return f?'@import "'+(new n(b,"./"+f)).toString()+'"'+l:"url("+(new n(b,"./"+g)).toString()+")"+l})},D=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,G=h._adjustHtmlPaths=function(b,a){var c=b||"./";return a.replace(D,function(d,f,e,g,l,k,E,F){return f+(e?e+"\x3d"+g+(new n(c,l)).toString()+
g:"style\x3d"+k+t(c,E)+k)+F})},H=h._snarfStyles=function(b,a,c){c.attributes=[];a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(d){return d.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,'@ import "')});return a.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(d,f,e,g,l,k){d=(f||g||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");e?e=c.push(b?t(b,e):e):(e=c.push('@import "'+
k+'";'),d=d.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(d){d=d.split(/\s+/);k={};g=0;for(l=d.length;g<l;g++)f=d[g].split("\x3d"),k[f[0]]=f[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[e-1]=k}return""})},I=h._snarfScripts=function(b,a){function c(d){a.downloadRemote&&(d=d.replace(/&([a-z0-9#]+);/g,function(f,e){switch(e){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==e.charAt(0)?String.fromCharCode(e.substring(1)):"\x26"+e+";"}}),
z.get({url:d,sync:!0,load:function(f){""!==a.code&&(f="\n"+f);a.code+=f+";"},error:a.errBack}))}a.code="";b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(d){return d.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return b.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(d,f,e,g){e?c(e):(""!==a.code&&(g="\n"+g),a.code+=g+";");return""})},J=h.evalInGlobal=function(b,a){a=a||B.doc.body;var c=a.ownerDocument.createElement("script");
c.type="text/javascript";a.appendChild(c);c.text=b};h._ContentSetter=u(q._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(b){this._styleNodes=[];for(var a,c,d,f=this.node.ownerDocument,e=f.getElementsByTagName("head")[0],g=0,l=b.length;g<l;g++){d=b[g];c=b.attributes[g];a=f.createElement("style");a.setAttribute("type","text/css");for(var k in c)a.setAttribute(k,c[k]);this._styleNodes.push(a);e.appendChild(a);
a.styleSheet?a.styleSheet.cssText=d:a.appendChild(f.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var b=this.content,a=this._styles;this._code=null;if(m.isString(b)){this.adjustPaths&&this.referencePath&&(b=G(this.referencePath,b));if(this.renderStyles||this.cleanContent)b=H(this.referencePath,b,a);if(this.executeScripts){var c=this;a={downloadRemote:!0,errBack:function(d){c._onError.call(c,"Exec",'Error downloading remote script in "'+
c.id+'"',d)}};b=I(b,a);this._code=a.code}}this.content=b},onEnd:function(){var b=this._code,a=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)p.destroy(this._styleNodes.pop());this.renderStyles&&a&&a.length&&this._renderStyles(a);var c=new v,d=this.getInherited(arguments),f=arguments;a=m.hitch(this,function(){d.apply(this,f);A(this.parseDeferred,function(){c.resolve()})});if(this.executeScripts&&b){this.cleanContent&&(b=b.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,
""));this.scriptHasHooks&&(b=b.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{J(b,this.node)}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e)}x(a)}else a();return c.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)p.destroy(this._styleNodes.pop());delete this._styleNodes;m.mixin(this,h._ContentSetter.prototype)}});h.set=function(b,a,c){return c?(new h._ContentSetter(m.mixin(c,
{content:a,node:b}))).set():q._setNodeContent(b,a,!0)};return h});
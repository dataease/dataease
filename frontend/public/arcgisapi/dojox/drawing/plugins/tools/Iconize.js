//>>built
define(["dojo","../../util/oo","../_Plugin","../../manager/_registry"],function(h,e,m,n){e=e.declare(m,function(b){},{onClick:function(){var b;for(b in this.stencils.stencils)if(console.log(" stanceil item:",this.stencils.stencils[b].id,this.stencils.stencils[b]),"path"==this.stencils.stencils[b].shortType){var d=this.stencils.stencils[b];break}d&&(console.log("click Iconize plugin",d.points),this.makeIcon(d.points))},makeIcon:function(b){var d=1E4,k=1E4;b.forEach(function(a){void 0===a.x||isNaN(a.x)||
(d=Math.min(d,a.x),k=Math.min(k,a.y))});var f=0,g=0;b.forEach(function(a){void 0===a.x||isNaN(a.x)||(a.x=Number((a.x-d).toFixed(1)),a.y=Number((a.y-k).toFixed(1)),f=Math.max(f,a.x),g=Math.max(g,a.y))});console.log("xmax:",f,"ymax:",g);b.forEach(function(a){a.x=60*Number((a.x/f).toFixed(1))+20;a.y=60*Number((a.y/g).toFixed(1))+20});var c="[\n";h.forEach(b,function(a,p){c+="{\t";a.t&&(c+="t:'"+a.t+"'");void 0===a.x||isNaN(a.x)||(a.t&&(c+=", "),c+="x:"+a.x+",\t\ty:"+a.y);c+="\t}";p!=b.length-1&&(c+=
",");c+="\n"});c+="]";console.log(c);var l=h.byId("data");l&&(l.value=c)}});e.setup={name:"dojox.drawing.plugins.tools.Iconize",tooltip:"Iconize Tool",iconClass:"iconPan"};h.setObject("dojox.drawing.plugins.tools.Iconize",e);n.register(e.setup,"plugin");return e});
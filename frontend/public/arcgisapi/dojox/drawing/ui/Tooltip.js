//>>built
define(["dojo","../util/oo","../plugins/_Plugin","../manager/_registry"],function(f,g,l,n){var h=null,p=g.declare(l,function(a){this.createDom()},{show:function(a,b){this.domNode.innerHTML=b;b=a.data.x+a.data.width+this.mouse.origin.x+30;a=a.data.y+a.data.height+this.mouse.origin.y+30;f.style(this.domNode,{display:"inline",left:b+"px",top:a+"px"});var c=f.marginBox(this.domNode);this.createShape(b-this.mouse.origin.x,a-this.mouse.origin.y,c.w,c.h)},createShape:function(a,b,c,d){this.balloon&&this.balloon.destroy();
c=a+c;d=b+d;var m=[],e=function(){for(var k=0;k<arguments.length;k++)m.push(arguments[k])};e({x:a,y:b+5},{t:"Q",x:a,y:b},{x:a+5,y:b});e({t:"L",x:c-5,y:b});e({t:"Q",x:c,y:b},{x:c,y:b+5});e({t:"L",x:c,y:d-5});e({t:"Q",x:c,y:d},{x:c-5,y:d});e({t:"L",x:a+5,y:d});e({t:"Q",x:a,y:d},{x:a,y:d-5});e({t:"L",x:a,y:b+5});this.balloon=this.drawing.addUI("path",{points:m})},createDom:function(){this.domNode=f.create("span",{"class":"drawingTooltip"},document.body);f.style(this.domNode,{display:"none",position:"absolute"})}});
g=g.declare(l,function(a){h||(h=new p(a));!a.stencil&&this.button&&(this.connect(this.button,"onOver",this,"onOver"),this.connect(this.button,"onOut",this,"onOut"))},{width:300,height:200,onOver:function(){h.show(this.button,this.data.text)},onOut:function(){}});f.setObject("dojox.drawing.ui.Tooltip",g);n.register({name:"dojox.drawing.ui.Tooltip"},"stencil");return g});
//>>built
define(["dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/when"],function(h,l,m,n){function p(b,a,f,c){var e=b[a].params?b[a].params:{},g=b[a].modelLoader?b[a].modelLoader:"dojox/app/utils/simpleModel";try{var q=require(g)}catch(d){throw Error(g+" must be listed in the dependencies");}var k=new l;try{var r=q(b,e,a)}catch(d){throw Error("Error creating "+g+" for model named ["+a+"]: "+d.message);}n(r,h.hitch(this,function(d){c[a]=d;f.log("in app/model, for item\x3d[",a,"] loadedModels \x3d",
c);k.resolve(c);return c}),function(d){throw Error("Error loading model named ["+a+"]: "+d.message);});return k}return function(b,a,f){var c={};a.loadedModels&&h.mixin(c,a.loadedModels);if(b){a=[];for(var e in b)"_"!==e.charAt(0)&&a.push(p(b,e,f,c));return 0==a.length?c:m(a)}return c}});
//>>built
define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(d){d.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(a,e){var b=d.doc;e=e||"text/xml";if(a&&d.trim(a)&&"DOMParser"in d.global){var c=(new DOMParser).parseFromString(a,e);a=c.documentElement;if("parsererror"==a.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==a.namespaceURI){if(b=a.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml",
"sourcetext")[0])b=b.firstChild.data;throw Error("Error parsing text "+a.firstChild.data+" \n"+b);}return c}if("ActiveXObject"in d.global){b=function(f){return"MSXML"+f+".DOMDocument"};b=["Microsoft.XMLDOM",b(6),b(4),b(3),b(2)];d.some(b,function(f){try{c=new ActiveXObject(f)}catch(h){return!1}return!0});if(a&&c&&(c.async=!1,c.loadXML(a),a=c.parseError,0!==a.errorCode))throw Error("Line: "+a.line+"\nCol: "+a.linepos+"\nReason: "+a.reason+"\nError Code: "+a.errorCode+"\nSource: "+a.srcText);if(c)return c}else if(b.implementation&&
b.implementation.createDocument){if(a&&d.trim(a)&&b.createElement){e=b.createElement("xml");e.innerHTML=a;var g=b.implementation.createDocument("foo","",null);d.forEach(e.childNodes,function(f){g.importNode(f,!0)});return g}return b.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(a,e){if(1<arguments.length)return dojox.xml.parser.replaceChildren(a,(a.ownerDocument||d.doc).createTextNode(e)),e;if(void 0!==a.textContent)return a.textContent;var b="";a&&d.forEach(a.childNodes,
function(c){switch(c.nodeType){case 1:case 5:b+=dojox.xml.parser.textContent(c);break;case 3:case 2:case 4:b+=c.nodeValue}});return b};dojox.xml.parser.replaceChildren=function(a,e){var b=[];d.isIE&&d.forEach(a.childNodes,function(c){b.push(c)});dojox.xml.parser.removeChildren(a);d.forEach(b,d.destroy);d.isArray(e)?d.forEach(e,function(c){a.appendChild(c)}):a.appendChild(e)};dojox.xml.parser.removeChildren=function(a){for(var e=a.childNodes.length;a.hasChildNodes();)a.removeChild(a.firstChild);return e};
dojox.xml.parser.innerXML=function(a){return a.innerXML?a.innerXML:a.xml?a.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(a):null};return dojox.xml.parser});
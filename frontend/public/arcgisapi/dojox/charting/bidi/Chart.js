//>>built
define("dojox/main dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/_base/array dojo/sniff dojo/dom dojo/dom-construct dojox/gfx dojox/gfx/_gfxBidiSupport ../axis2d/common dojox/string/BidiEngine dojox/lang/functional dojo/dom-attr ./_bidiutils".split(" "),function(k,l,m,e,f,w,x,n,y,z,p,q,r,g,t){function h(b){return/^(ltr|rtl|auto)$/.test(b)?b:null}var u=new q;m.getObject("charting",!0,k);return l(null,{textDir:"",dir:"",isMirrored:!1,getTextDir:function(b){(b="auto"==this.textDir?u.checkContextual(b):
this.textDir)||(b=e.get(this.node,"direction"));return b},postscript:function(b,c){var a=c?c.textDir?h(c.textDir):"":"";this.textDir=a=a?a:e.get(this.node,"direction");this.surface.textDir=a;this.htmlElementsRegistry=[];this.truncatedLabelsRegistry=[];a="ltr";g.has(b,"direction")&&(a=g.get(b,"direction"));this.setDir(c?c.dir?c.dir:a:a)},setTextDir:function(b,c){if(b==this.textDir)return this;null!=h(b)&&(this.textDir=b,this.surface.setTextDir(b),this.truncatedLabelsRegistry&&"auto"==b&&f.forEach(this.truncatedLabelsRegistry,
function(a){var d=this.getTextDir(a.label);a.element.textDir!=d&&a.element.setShape({textDir:d})},this),c=r.keys(this.axes),0<c.length?(f.forEach(c,function(a,d,v){a=this.axes[a];a.htmlElements[0]&&(a.dirty=!0,a.render(this.dim,this.offsets))},this),this.title&&this._renderTitle(this.dim,this.offsets)):f.forEach(this.htmlElementsRegistry,function(a,d,v){d="auto"==b?this.getTextDir(a[4]):b;a[0].children[0]&&a[0].children[0].dir!=d&&(n.destroy(a[0].children[0]),a[0].children[0]=p.createText.html(this,
this.surface,a[1],a[2],a[3],a[4],a[5],a[6]).children[0])},this));return this},setDir:function(b){if("rtl"==b||"ltr"==b)this.dir!=b&&(this.dirty=this.isMirrored=!0),this.dir=b;return this},isRightToLeft:function(){return"rtl"==this.dir},applyMirroring:function(b,c,a){t.reverseMatrix(b,c,a,"rtl"==this.dir);e.set(this.node,"direction","ltr");return this},formatTruncatedLabel:function(b,c,a){this.truncateBidi(b,c,a)},truncateBidi:function(b,c,a){"gfx"==a&&(this.truncatedLabelsRegistry.push({element:b,
label:c}),"auto"==this.textDir&&b.setShape({textDir:this.getTextDir(c)}));"html"==a&&"auto"==this.textDir&&(b.children[0].dir=this.getTextDir(c))},render:function(){this.inherited(arguments);this.isMirrored=!1;return this},_resetLeftBottom:function(b){b.vertical&&this.isMirrored&&(b.opt.leftBottom=!b.opt.leftBottom)}})});
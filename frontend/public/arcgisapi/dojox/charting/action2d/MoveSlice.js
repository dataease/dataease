//>>built
define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(m,n,p,q,r,e,t,d){return n("dojox.charting.action2d.MoveSlice",q,{defaultParams:{duration:400,easing:r.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(a,f,b){b||(b={});this.scale="number"==typeof b.scale?b.scale:1.05;this.shift="number"==typeof b.shift?b.shift:7;this.connect()},
process:function(a){if(a.shape&&"slice"==a.element&&a.type in this.overOutEvents){if(!this.angles){var f=e._degToRad(a.plot.opt.startAngle);this.angles="number"==typeof a.run.data[0]?d.map(d.scanl(a.run.data,"+",0),"* 2 * Math.PI / this",d.foldl(a.run.data,"+",0)):d.map(d.scanl(a.run.data,"a + b.y",0),"* 2 * Math.PI / this",d.foldl(a.run.data,"a + b.y",0));this.angles=p.map(this.angles,function(u){return u+f})}var b=a.index;var c=(this.angles[b]+this.angles[b+1])/2;var v=e.rotateAt(-c,a.cx,a.cy),
w=e.rotateAt(c,a.cx,a.cy);(c=this.anim[b])?c.action.stop(!0):this.anim[b]=c={};if("onmouseover"==a.type){var g=0;var h=this.shift;var k=1;var l=this.scale}else g=this.shift,h=0,k=this.scale,l=1;c.action=t.animateTransform({shape:a.shape,duration:this.duration,easing:this.easing,transform:[w,{name:"translate",start:[g,0],end:[h,0]},{name:"scaleAt",start:[k,a.cx,a.cy],end:[l,a.cx,a.cy]},v]});"onmouseout"==a.type&&m.connect(c.action,"onEnd",this,function(){delete this.anim[b]});c.action.play()}},reset:function(){delete this.angles}})});
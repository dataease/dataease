//>>built
define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/Color dojo/_base/fx dojo/fx".split(" "),function(l,q,m,r,t,n,p,v){q.getObject("dojox.fx.ext-dojo.complex",!0);var u=p.animateProperty;l.animateProperty=p.animateProperty=function(a){var b=u(a);t.connect(b,"beforeBegin",function(){b.curve.getValue=function(f){var g={},d;for(d in this._properties){var e=this._properties[d],k=e.start;k instanceof l.Color?g[d]=l.blendColors(k,e.end,f,e.tempColor).toCss():
k instanceof dojox.fx._Complex?g[d]=k.getValue(f):l.isArray(k)||(g[d]=(e.end-k)*f+k+("opacity"!=d?e.units||"px":0))}return g};for(var h in this.properties){var c=this.properties[h];"string"==typeof c.start&&/\(/.test(c.start)&&(this.curve._properties[h].start=new dojox.fx._Complex(c))}});return b};return r("dojox.fx._Complex",null,{PROP:/\([\w|,|+|\-|#|\.|\s]*\)/g,constructor:function(a){var b=a.start.match(this.PROP),h=a.end.match(this.PROP);b=m.map(b,this.getProps,this);var c=m.map(h,this.getProps,
this);this._properties={};this.strProp=a.start;m.forEach(b,function(f,g){m.forEach(f,function(d,e){this.strProp=this.strProp.replace(d,"PROP_"+g+e);this._properties["PROP_"+g+e]=this.makePropObject(d,c[g][e])},this)},this)},getValue:function(a){var b=this.strProp,h;for(h in this._properties){var c=this._properties[h];if("isColor"==c.units){var f=n.blendColors(c.beg,c.end,a).toCss(!1);c=""}else f=(c.end-c.beg)*a+c.beg,c=c.units;b=b.replace(h,f+c)}return b},makePropObject:function(a,b){a=this.getNumAndUnits(a);
b=this.getNumAndUnits(b);return{beg:a.num,end:b.num,units:a.units}},getProps:function(a){a=a.substring(1,a.length-1);/,/.test(a)?(a=a.replace(/\s/g,""),a=a.split(",")):(a=a.replace(/\s{2,}/g," "),a=a.split(" "));return a},getNumAndUnits:function(a){if(!a)return{};if(/#/.test(a))return{num:new n(a),units:"isColor"};var b={num:parseFloat(/-*[\d\.\d|\d]{1,}/.exec(a).join(""))};b.units=/[a-z]{1,}/.exec(a);b.units=b.units&&b.units.length?b.units.join(""):"";return b}})});
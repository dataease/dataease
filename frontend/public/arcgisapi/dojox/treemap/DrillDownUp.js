//>>built
define("dojo/_base/lang dojo/_base/event dojo/_base/declare dojo/on dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/_base/fx dojo/has!touch?dojox/gesture/tap".split(" "),function(d,q,r,k,e,l,f,m,n){return r("dojox.treemap.DrillDownUp",null,{postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"dblclick",d.hitch(this,this._onDoubleClick)));n&&this.own(k(this.domNode,n.doubletap,d.hitch(this,this._onDoubleClick)))},_onDoubleClick:function(a){var b=this._getRendererFromTarget(a.target);
if(b.item){var c=b.item;if(this._isLeaf(c)&&(c=b.parentItem,b=this.itemToRenderer[this.getIdentity(c)],null==b))return;this.rootItem==c?this.drillUp(b):this.drillDown(b);q.stop(a)}},drillUp:function(a){var b=a.item;this.domNode.removeChild(a);var c=this._getRenderer(b).parentItem;this.set("rootItem",c);this.validateRendering();l.place(a,this.domNode);f.set(a,"zIndex",40);b=e.position(this._getRenderer(b),!0);c=e.getMarginBox(this.domNode);m.animateProperty({node:a,duration:500,properties:{left:{end:b.x-
c.l},top:{end:b.y-c.t},height:{end:b.h},width:{end:b.w}},onAnimate:d.hitch(this,function(g){g=e.getContentBox(a);this._layoutGroupContent(a,g.w,g.h,a.level+1,!1,!0)}),onEnd:d.hitch(this,function(){this.domNode.removeChild(a)})}).play()},drillDown:function(a){var b=e.getMarginBox(this.domNode),c=a.item,g=a.parentNode,p=e.position(a,!0);g.removeChild(a);l.place(a,this.domNode);f.set(a,{left:p.x-b.l+"px",top:p.y-b.t+"px"});var t=f.get(a,"zIndex");f.set(a,"zIndex",40);m.animateProperty({node:a,duration:500,
properties:{left:{end:b.l},top:{end:b.t},height:{end:b.h},width:{end:b.w}},onAnimate:d.hitch(this,function(h){h=e.getContentBox(a);this._layoutGroupContent(a,h.w,h.h,a.level+1,!1)}),onEnd:d.hitch(this,function(){f.set(a,"zIndex",t);this.set("rootItem",c)})}).play()}})});
//>>built
define("dojo/_base/kernel dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dijit/registry ./scrollable".split(" "),function(m,h,k,n,e,d,f,g,l){return k("dojox.mobile._ScrollableMixin",l,{fixedHeader:"",fixedFooter:"",_fixedAppFooter:"",scrollableParams:null,allowNestedScrolls:!0,appBars:!0,constructor:function(){this.scrollableParams={}},destroy:function(){this.cleanup();this.inherited(arguments)},startup:function(){if(!this._started){this._fixedAppFooter&&
(this._fixedAppFooter=d.byId(this._fixedAppFooter));this.findAppBars();var b=this.scrollableParams;if(this.fixedHeader){var a=d.byId(this.fixedHeader);a.parentNode==this.domNode&&(this.isLocalHeader=!0);b.fixedHeaderHeight=a.offsetHeight}this.fixedFooter&&(a=d.byId(this.fixedFooter),a.parentNode==this.domNode&&(this.isLocalFooter=!0,a.style.bottom="0px"),b.fixedFooterHeight=a.offsetHeight);this.scrollType=this.scrollType||h.mblScrollableScrollType||0;this.init(b);if(this.allowNestedScrolls)for(a=
this.getParent();a;a=a.getParent())if(a&&a.scrollableParams){this.dirLock=!0;a.dirLock=!0;break}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if("none"!==this.domNode.style.display){var c=e.doc.activeElement;this.isFormElement(c)&&d.isDescendant(c,this.containerNode)&&this.scrollIntoView(c)}});this.inherited(arguments)}},findAppBars:function(){if(this.appBars){var b;var a=0;for(b=e.body().childNodes.length;a<b;a++){var c=e.body().childNodes[a];this.checkFixedBar(c,!1)}if(this.domNode.parentNode)for(a=
0,b=this.domNode.parentNode.childNodes.length;a<b;a++)c=this.domNode.parentNode.childNodes[a],this.checkFixedBar(c,!1);this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0}},checkFixedBar:function(b,a){if(1===b.nodeType){var c=b.getAttribute("fixed")||b.getAttribute("data-mobile-fixed")||g.byNode(b)&&g.byNode(b).fixed;if("top"===c)return f.add(b,"mblFixedHeaderBar"),a&&(b.style.top="0px",this.fixedHeader=b),c;if("bottom"===c)return f.add(b,"mblFixedBottomBar"),a?this.fixedFooter=
b:this._fixedAppFooter=b,c}return null}})});
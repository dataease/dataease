//>>built
require({cache:{"url:dojox/calc/templates/Grapher.html":'\x3cdiv\x3e\r\n\x3cdiv data-dojo-attach-point\x3d"chartsParent" class\x3d"dojoxCalcChartHolder"\x3e\x3c/div\x3e\r\n\x3cdiv data-dojo-attach-point\x3d"outerDiv"\x3e\r\n\x3cdiv data-dojo-type\x3d"dijit.form.DropDownButton" data-dojo-attach-point\x3d"windowOptions" class\x3d"dojoxCalcDropDownForWindowOptions" title\x3d"Window Options"\x3e\r\n\t\x3cdiv\x3eWindow Options\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit.TooltipDialog" data-dojo-attach-point\x3d"windowOptionsInside" class\x3d"dojoxCalcTooltipDialogForWindowOptions" title\x3d""\x3e\r\n\t\t\x3ctable class\x3d"dojoxCalcGraphOptionTable"\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tWidth:\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphWidth" class\x3d"dojoxCalcGraphWidth" value\x3d"500" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tHeight:\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphHeight" class\x3d"dojoxCalcGraphHeight" value\x3d"500" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tX \x3e\x3d\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphMinX" class\x3d"dojoxCalcGraphMinX" value\x3d"-10" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tX \x3c\x3d\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphMaxX" class\x3d"dojoxCalcGraphMaxX" value\x3d"10" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tY \x3e\x3d\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphMinY" class\x3d"dojoxCalcGraphMinY" value\x3d"-10" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tY \x3c\x3d\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.TextBox" data-dojo-attach-point\x3d"graphMaxY" class\x3d"dojoxCalcGraphMaxY" value\x3d"10" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/table\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n\r\n\x3cBR\x3e\r\n\r\n\x3cdiv class\x3d"dojoxCalcGrapherFuncOuterDiv"\x3e\r\n\t\x3ctable class\x3d"dojoxCalcGrapherFuncTable" data-dojo-attach-point\x3d"graphTable"\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e\r\n\r\n\x3cdiv data-dojo-type\x3d"dijit.form.DropDownButton" data-dojo-attach-point\x3d\'addFuncButton\' class\x3d"dojoxCalcDropDownAddingFunction"\x3e\r\n\t\x3cdiv\x3eAdd Function\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit.TooltipDialog" data-dojo-attach-point\x3d"addFuncInside" class\x3d"dojoxCalcTooltipDialogAddingFunction" title\x3d""\x3e\r\n\t\t\x3ctable class\x3d"dojoxCalcGrapherModeTable"\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\tMode:\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"dijit.form.Select" data-dojo-attach-point\x3d"funcMode" class\x3d"dojoxCalcFunctionModeSelector"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"y\x3d" selected\x3d"selected"\x3ey\x3d\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"x\x3d"\x3ex\x3d\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-point\x3d"createFunc" class\x3d"dojoxCalcAddFunctionButton" label\x3d"Create" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/table\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n\x3cBR\x3e\r\n\x3cBR\x3e\r\n\x3ctable class\x3d"dijitInline dojoxCalcGrapherLayout"\x3e\r\n\t\x3ctr\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'selectAllButton\' label\x3d"Select All" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'deselectAllButton\' label\x3d"Deselect All" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\x3c/tr\x3e\r\n\t\x3ctr\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'drawButton\'label\x3d"Draw Selected" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'eraseButton\' label\x3d"Erase Selected" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\x3c/tr\x3e\r\n\t\x3ctr\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'deleteButton\' label\x3d"Delete Selected" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\t\x3ctd class\x3d"dojoxCalcGrapherButtonContainer"\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit.form.Button" class\x3d"dojoxCalcGrapherButton" data-dojo-attach-point\x3d\'closeButton\' label\x3d"Close" /\x3e\r\n\t\t\x3c/td\x3e\r\n\t\x3c/tr\x3e\r\n\x3c/table\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/_TemplatedMixin dojox/math/_base dijit/registry dijit/form/DropDownButton dijit/TooltipDialog dijit/form/TextBox dijit/form/CheckBox dijit/ColorPalette dojox/charting/Chart dojox/charting/axis2d/Default dojox/charting/plot2d/Default dojox/charting/plot2d/Lines dojox/charting/themes/Tufte dojo/colors dojo/text!./templates/Grapher.html dojox/calc/_Executor dijit/form/Button dijit/form/Select".split(" "),
function(E,m,K,w,y,B,L,M,N,Y,O,P,Q,R,S,T,Z,aa,ba,ca,da,ea,U,F){var C=1E-15/9,V=Math.log(2),W={graphNumber:0,fOfX:!0,color:{stroke:"black"}};E=E("dojox.calc.Grapher",[L,N,M],{templateString:U,addXYAxes:function(a){return a.addAxis("x",{max:parseInt(this.graphMaxX.get("value")),min:parseInt(this.graphMinX.get("value")),majorLabels:!0,minorLabels:!0,minorTicks:!1,microTicks:!1,htmlLabels:!0,labelFunc:function(d){return d},maxLabelSize:30,fixUpper:"major",fixLower:"major",majorTick:{length:3}}).addAxis("y",
{max:parseInt(this.graphMaxY.get("value")),min:parseInt(this.graphMinY.get("value")),labelFunc:function(d){return d},maxLabelSize:50,vertical:!0,microTicks:!1,minorTicks:!0,majorTick:{stroke:"black",length:3}})},selectAll:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].set("checked",!0)},deselectAll:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].set("checked",!1)},drawOne:function(a){},onDraw:function(){console.log("Draw was pressed")},erase:function(a){for(var d=
0,b="Series "+this.array[a][this.funcNumberIndex]+"_"+d;b in this.array[a][this.chartIndex].runs;)this.array[a][this.chartIndex].removeSeries(b),d++,b="Series "+this.array[a][this.funcNumberIndex]+"_"+d;this.array[a][this.chartIndex].render();this.setStatus(a,"Hidden")},onErase:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].get("checked")&&this.erase(a)},onDelete:function(){for(var a=0;a<this.rowCount;a++)if(this.array[a][this.checkboxIndex].get("checked")){this.erase(a);
for(var d=0;d<this.functionRef;d++)this.array[a][d]&&this.array[a][d].destroy&&this.array[a][d].destroy();this.graphTable.deleteRow(a);this.array.splice(a,1);this.rowCount--;a--}},checkboxIndex:0,functionMode:1,expressionIndex:2,colorIndex:3,dropDownIndex:4,tooltipIndex:5,colorBoxFieldsetIndex:6,statusIndex:7,chartIndex:8,funcNumberIndex:9,evaluatedExpression:10,functionRef:11,createFunction:function(){var a=this.graphTable.insertRow(-1);this.array[a.rowIndex]=[];var d=a.insertCell(-1),b=w.create("div");
d.appendChild(b);var g=new S({},b);this.array[a.rowIndex][this.checkboxIndex]=g;y.add(b,"dojoxCalcCheckBox");d=a.insertCell(-1);g=this.funcMode.get("value");b=K.doc.createTextNode(g);d.appendChild(b);this.array[a.rowIndex][this.functionMode]=g;d=a.insertCell(-1);b=w.create("div");d.appendChild(b);g=new R({},b);this.array[a.rowIndex][this.expressionIndex]=g;y.add(b,"dojoxCalcExpressionBox");b=w.create("div");g=new T({changedColor:this.changedColor},b);y.add(b,"dojoxCalcColorPalette");this.array[a.rowIndex][this.colorIndex]=
g;b=w.create("div");var h=new Q({content:g},b);this.array[a.rowIndex][this.tooltipIndex]=h;y.add(b,"dojoxCalcContainerOfColor");d=a.insertCell(-1);b=w.create("div");d.appendChild(b);var c=w.create("fieldset");B.set(c,{backgroundColor:"black",width:"1em",height:"1em",display:"inline"});this.array[a.rowIndex][this.colorBoxFieldsetIndex]=c;d=new P({label:"Color ",dropDown:h},b);d.containerNode.appendChild(c);this.array[a.rowIndex][this.dropDownIndex]=d;y.add(b,"dojoxCalcDropDownForColor");d=a.insertCell(-1);
b=w.create("fieldset");b.innerHTML="Hidden";this.array[a.rowIndex][this.statusIndex]=b;y.add(b,"dojoxCalcStatusBox");d.appendChild(b);b=w.create("div");B.set(b,{position:"absolute",left:"0px",top:"0px"});this.chartsParent.appendChild(b);this.array[a.rowIndex][this.chartNodeIndex]=b;y.add(b,"dojoxCalcChart");b=(new dojox.charting.Chart(b)).setTheme(dojox.charting.themes.Tufte).addPlot("default",{type:"Lines",shadow:{dx:1,dy:1,width:2,color:[0,0,0,.3]}});this.addXYAxes(b);this.array[a.rowIndex][this.chartIndex]=
b;g.set("chart",b);g.set("colorBox",c);g.set("onChange",m.hitch(g,"changedColor"));this.array[a.rowIndex][this.funcNumberIndex]=this.funcNumber++;this.rowCount++},setStatus:function(a,d){this.array[a][this.statusIndex].innerHTML=d},changedColor:function(){for(var a=this.get("chart"),d=this.get("colorBox"),b=0;b<a.series.length;b++)a.series[b].stroke&&a.series[b].stroke.color&&(a.series[b].stroke.color=this.get("value"),a.dirty=!0);a.render();B.set(d,{backgroundColor:this.get("value")})},makeDirty:function(){this.dirty=
!0},checkDirty1:function(){setTimeout(m.hitch(this,"checkDirty"),0)},checkDirty:function(){if(this.dirty){for(var a=0;a<this.rowCount;a++)this.array[a][this.chartIndex].removeAxis("x"),this.array[a][this.chartIndex].removeAxis("y"),this.addXYAxes(this.array[a][this.chartIndex]);this.onDraw()}this.dirty=!1},postCreate:function(){this.inherited(arguments);this.createFunc.set("onClick",m.hitch(this,"createFunction"));this.selectAllButton.set("onClick",m.hitch(this,"selectAll"));this.deselectAllButton.set("onClick",
m.hitch(this,"deselectAll"));this.drawButton.set("onClick",m.hitch(this,"onDraw"));this.eraseButton.set("onClick",m.hitch(this,"onErase"));this.deleteButton.set("onClick",m.hitch(this,"onDelete"));this.dirty=!1;this.graphWidth.set("onChange",m.hitch(this,"makeDirty"));this.graphHeight.set("onChange",m.hitch(this,"makeDirty"));this.graphMaxX.set("onChange",m.hitch(this,"makeDirty"));this.graphMinX.set("onChange",m.hitch(this,"makeDirty"));this.graphMaxY.set("onChange",m.hitch(this,"makeDirty"));this.graphMinY.set("onChange",
m.hitch(this,"makeDirty"));this.windowOptionsInside.set("onClose",m.hitch(this,"checkDirty1"));this.rowCount=this.funcNumber=0;this.array=[]},startup:function(){this.inherited(arguments);var a=O.getEnclosingWidget(this.domNode.parentNode);a&&"function"==typeof a.close?this.closeButton.set("onClick",m.hitch(a,"close")):B.set(this.closeButton.domNode,{display:"none"});this.createFunction();this.array[0][this.checkboxIndex].set("checked",!0);this.onDraw();this.erase(0);this.array[0][this.expressionIndex].value=
""}});return m.mixin(F,{draw:function(a,d,b){b=m.mixin({},W,b);a.fullGeometry();d=1==b.fOfX?F.generatePoints(d,"x","y",a.axes.x.scaler.bounds.span,a.axes.x.scaler.bounds.lower,a.axes.x.scaler.bounds.upper,a.axes.y.scaler.bounds.lower,a.axes.y.scaler.bounds.upper):F.generatePoints(d,"y","x",a.axes.y.scaler.bounds.span,a.axes.y.scaler.bounds.lower,a.axes.y.scaler.bounds.upper,a.axes.x.scaler.bounds.lower,a.axes.x.scaler.bounds.upper);var g=0;if(0<d.length)for(;g<d.length;g++)0<d[g].length&&a.addSeries("Series "+
b.graphNumber+"_"+g,d[g],b.color);for(var h="Series "+b.graphNumber+"_"+g;h in a.runs;)a.removeSeries(h),g++,h="Series "+b.graphNumber+"_"+g;a.render();return d},generatePoints:function(a,d,b,g,h,c,z,x){function H(u,n,p,v){for(;n<=p;){var k={};k[d]=(n[d]+p[d])/2;k[b]=u(k[d]);if(v==k[b]||k[d]==p[d]||k[d]==n[d])return k;var r=!0;v<k[b]&&(r=!1);k[b]<p[b]?r?n=k:p=k:k[b]<n[b]&&(r?p=k:n=k)}return NaN}function X(u,n,p){for(var v=[[],[]],k;n[d]<=p[d];){var r=(n[d]+p[d])/2;k={};k[d]=r;k[b]=u(r);r=void 0;var q=
k[d];r=-1<q&&1>q?0>q?q>=-C?-q:q/Math.ceil(q/C):C:Math.abs(q)*C;r=q+r;q={};q[d]=r;q[b]=u(r);if(Math.abs(q[b])>=Math.abs(k[b]))v[0].push(k),n=q;else{v[1].unshift(k);if(p[d]==k[d])break;p=k}}return v}function I(u,n){var p=!1,v=!1;u<n&&(p=!0);0<n&&(v=!0);return{inc:p,pos:v}}function A(u,n){return(n[b]-u[b])/(n[d]-u[d])}g=1<<Math.ceil(Math.log(g)/V);var t=(c-h)/g;c=[];var f=0;c[f]=[];for(var G=h,J=0;J<=g;G+=t,J++){h={};h[d]=G;h[b]=a({_name:d,_value:G,_graphing:!0});if(null==h[d]||null==h[b])return{};if(!isNaN(h[b])&&
!isNaN(h[d]))if(c[f].push(h),3==c[f].length)var e=I(A(c[f][c[f].length-3],c[f][c[f].length-2]),A(c[f][c[f].length-2],c[f][c[f].length-1]));else if(!(4>c[f].length)){var l=I(A(c[f][c[f].length-3],c[f][c[f].length-2]),A(c[f][c[f].length-2],c[f][c[f].length-1]));if(e.inc!=l.inc||e.pos!=l.pos){var D=X(a,c[f][c[f].length-3],c[f][c[f].length-1]);h=c[f].pop();c[f].pop();for(e=0;e<D[0].length;e++)c[f].push(D[0][e]);for(e=1;e<D.length;e++)c[++f]=D.pop();c[f].push(h);e=l}}}for(;1<c.length;){for(e=0;e<c[1].length;e++)c[0][c[0].length-
1][d]!=c[1][e][d]&&c[0].push(c[1][e]);c.splice(1,1)}c=c[0];g=0;t=[[]];for(e=0;e<c.length;e++)if(isNaN(c[e][b])||isNaN(c[e][d])){for(;isNaN(c[e][b])||isNaN(c[e][d]);)c.splice(e,1);t[++g]=[];e--}else if(c[e][b]>x||c[e][b]<z){0<e&&c[e-1].y!=z&&c[e-1].y!=x&&(l=A(c[e-1],c[e]),1E200<l?l=1E200:-1E200>l&&(l=-1E200),f=c[e][b]>x?x:z,h=c[e][b]-l*c[e][d],l=(f-h)/l,h={},h[d]=l,h[b]=a(l),h[b]!=f&&(h=H(a,c[e-1],c[e],f)),t[g].push(h),t[++g]=[]);for(;e<c.length&&(c[e][b]>x||c[e][b]<z);)e++;if(e>=c.length){0==t[g].length&&
t.splice(g,1);break}0<e&&c[e].y!=z&&c[e].y!=x&&(l=A(c[e-1],c[e]),1E200<l?l=1E200:-1E200>l&&(l=-1E200),f=c[e-1][b]>x?x:z,h=c[e][b]-l*c[e][d],l=(f-h)/l,h={},h[d]=l,h[b]=a(l),h[b]!=f&&(h=H(a,c[e-1],c[e],f)),t[g].push(h),t[g].push(c[e]))}else t[g].push(c[e]);return t},Grapher:E})});
//>>built
define(["dojo/_base/lang","dojox/calc/_Executor"],function(y,l){function x(d){function a(g){var h=Math.floor(1/g),b=l.approx(1/h);if(b==g)return{n:1,d:h};var r=h+1;b=l.approx(1/r);if(b==g)return{n:1,d:r};if(50<=h)return null;var e=h+r;b=l.approx(2/e);if(b==g)return{n:2,d:e};if(34<=h)return null;var m=g<b,f=2*e+(m?1:-1);b=l.approx(4/f);if(b==g)return{n:4,d:f};var t=g<b;if(m&&!t||!m&&t)if(f=e+f>>1,b=l.approx(3/f),b==g)return{n:3,d:f};if(20<=h)return null;e+=2*h;f=e+2;for(var u=5;100>=e;u++){e+=h;f+=
r;b=m?f+e+1>>1:e;var n=m?f:f+e-1>>1;b=t?b+n>>1:b;n=t?n:b+n>>1;for(var p=b;p<=n;p++)if(!(u&0&&p&0)){b=l.approx(u/p);if(b==g)return{n:u,d:p};if(b<g)break}}return null}d=Math.abs(d);for(var c in q){var v=q[c],k=d/v,w=Math.floor(k);k=l.approx(k-w);if(0==k)return{mt:c,m:v,n:w,d:1};if(k=a(k))return{mt:c,m:v,n:w*k.d+k.n,d:k.d}}return null}var q;(function(){var d=[5,6,7,10,11,13,14,15,17,19,21,22,23,26,29,30,31,33,34,35,37,38,39,41,42,43,46,47,51,53,55,57,58,59,61,62,65,66,67,69,70,71,73,74,77,78,79,82,83,
85,86,87,89,91,93,94,95,97];q={1:1,"\u221a(2)":Math.sqrt(2),"\u221a(3)":Math.sqrt(3),pi:Math.PI};for(var a in d){var c=d[a];q["\u221a("+c+")"]=Math.sqrt(c)}q["\u221a(pi)"]=Math.sqrt(Math.PI)})();return y.mixin(l,{toFrac:function(d){var a=x(d);return a?(0>d?"-":"")+(1==a.m?"":1==a.n?"":a.n+"*")+(1==a.m?a.n:a.mt)+(1==a.d?"":"/"+a.d):d},pow:function(d,a){if(0<d||Math.floor(a)==a)return Math.pow(d,a);var c=x(a);return 0<=d?c&&1==c.m?Math.pow(Math.pow(d,1/c.d),0>a?-c.n:c.n):Math.pow(d,a):c&&c.d&1?Math.pow(Math.pow(-Math.pow(-d,
1/c.d),0>a?-c.n:c.n),c.m):NaN}})});
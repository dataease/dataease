//>>built
define(["dojo/_base/kernel"],function(h){h.getObject("io.httpParse",!0,dojox);dojox.io.httpParse=function(b,k,l){var f=[],m=b.length;do{var e={},c=b.match(/(\n*[^\n]+)/);if(!c)return null;b=b.substring(c[0].length+1);c=c[1];var a=b.match(/([^\n]+\n)*/)[0];b=b.substring(a.length);var n=b.substring(0,1);b=b.substring(1);var p=a=(k||"")+a;a=a.match(/[^:\n]+:[^\n]+\n/g);for(var d=0;d<a.length;d++){var g=a[d].indexOf(":");e[a[d].substring(0,g)]=a[d].substring(g+1).replace(/(^[ \r\n]*)|([ \r\n]*)$/g,"")}c=
c.split(" ");c={status:parseInt(c[1],10),statusText:c[2],readyState:3,getAllResponseHeaders:function(){return p},getResponseHeader:function(q){return e[q]}};if(a=e["Content-Length"])if(a<=b.length)a=b.substring(0,a);else break;else if(a=b.match(/(.*)HTTP\/\d\.\d \d\d\d[\w\s]*\n/))a=a[0];else if(l&&"\n"!=n)break;else a=b;f.push(c);b=b.substring(a.length);c.responseText=a;c.readyState=4;c._lastIndex=m-b.length}while(b);return f};return dojox.io.httpParse});
//>>built
define("dojo/_base/kernel dojo/_base/json dojo/_base/xhr dojox/io/xhrPlugins dojox/io/windowName dojox/io/httpParse dojox/secure/capability".split(" "),function(b,u,v,m,n,w,p){b.getObject("io.xhrWindowNamePlugin",!0,dojox);dojox.io.xhrWindowNamePlugin=function(h,f,q){m.register("windowName",function(c,a){return!0!==a.sync&&("GET"==c||"POST"==c||f)&&a.url.substring(0,h.length)==h},function(c,a,r){var k=n.send,l=a.load;a.load=void 0;var d=(f?f(k,!0):k)(c,a,r);d.addCallback(function(g){var e=d.ioArgs;
e.xhr={getResponseHeader:function(t){return b.queryToObject(e.hash.match(/[^#]*$/)[0])[t]}};return"json"==e.handleAs?(q||p.validate(g,["Date"],{}),b.fromJson(g)):b._contentHandlers[e.handleAs||"text"]({responseText:g})});(a.load=l)&&d.addCallback(l);return d})};return dojox.io.xhrWindowNamePlugin});
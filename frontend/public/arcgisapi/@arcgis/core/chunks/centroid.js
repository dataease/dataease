/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function n(n,t){return n?t?4:3:t?3:2}function t(t,l,N,s,c){if(!l||!l.lengths.length)return null;const f="upperLeft"===(null==c?void 0:c.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const i=t.coords,T=[],h=N?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:g,coords:E}=l,b=n(N,s);let m=0;for(const n of g){const t=e(h,E,m,n,N,s,f);t&&T.push(t),m+=n*b}if(T.sort(((n,t)=>{let e=f*n[2]-f*t[2];return 0===e&&N&&(e=n[4]-t[4]),e})),T.length){let n=6*T[0][2];i[0]=T[0][0]/n,i[1]=T[0][1]/n,N&&(n=6*T[0][4],i[2]=0!==n?T[0][3]/n:0),(i[0]<h[0]||i[0]>h[1]||i[1]<h[2]||i[1]>h[3]||N&&(i[2]<h[4]||i[2]>h[5]))&&(i.length=0)}if(!i.length){const t=l.lengths[0]?function(t,e,l,N,s){const c=n(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,e=l-1;n<e;n++,f+=c,i+=c){const n=t[f],e=t[f+1],l=t[f+2],s=t[i],c=t[i+1],b=t[i+2],m=N?I(n,e,l,s,c,b):r(n,e,s,c);if(m)if(T+=m,N){const t=u(n,e,l,s,c,b);h+=m*t[0],g+=m*t[1],E+=m*t[2]}else{const t=o(n,e,s,c);h+=m*t[0],g+=m*t[1]}}if(T>0)return N?[h/T,g/T,E/T]:[h/T,g/T];if(l>0)return N?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]];return null}(E,0,g[0],N,s):null;if(!t)return null;i[0]=t[0],i[1]=t[1],N&&t.length>2&&(i[2]=t[2])}return t}function e(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,r=I-1;n<r;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function r(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function I(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function o(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function u(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}export{t as g};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import"../chunks/tslib.es6.js";import"../chunks/ArrayPool.js";import"../chunks/object.js";import"../chunks/deprecate.js";import"../core/lang.js";import"../config.js";import"../chunks/Logger.js";import"../chunks/string.js";import"../chunks/metadata.js";import"../core/accessorSupport/decorators/property.js";import"../core/Accessor.js";import"../chunks/PropertyOrigin.js";import"../core/scheduling.js";import"../core/promiseUtils.js";import"../chunks/Message.js";import e from"../core/Error.js";import"../chunks/ensureType.js";import"../core/accessorSupport/decorators/subclass.js";import"../chunks/JSONSupport.js";import"../core/urlUtils.js";import"../core/accessorSupport/decorators/cast.js";import"../chunks/reader.js";import"../chunks/writer.js";import"../chunks/resourceExtension.js";import r from"./SpatialReference.js";import"../kernel.js";import"../request.js";import"../chunks/assets.js";import"./Geometry.js";import o from"./Point.js";import"../chunks/Ellipsoid.js";import"./support/webMercatorUtils.js";import{i as t,a as n,l as s,P as i,b as c,c as a,d as u,e as l,f as _}from"../chunks/pe.js";function p(){return t()}function m(){return n()}function d(){return s()}function f(e,t){const n=[];e=e.replace(/\u2032/g,"'");const s=P(t);return i.dms_to_geog(s,1,[e],n)?new o(n[0][0],n[0][1],t||r.WGS84):null}function g(e,t,n){const s=[],i=G(n);if(-1===i)return console.warn(`invalid conversionMode: ${n}`),null;const a=P(t);return c.mgrs_to_geog_extended(a,1,[e],i,s)?new o(s[0][0],s[0][1],t||r.WGS84):null}function S(e,t){const n=[];!t&&/\(.+27/.test(e)&&(t=r.GCS_NAD_1927);const s=P(t);return a.usng_to_geog(s,1,[e],n)?new o(n[0][0],n[0][1],t||r.WGS84):null}function j(e,t,n){const s=[],i=M(n);if(-1===i)return console.warn(`invalid conversionMode: ${n}`),null;const c=P(t);return u.utm_to_geog(c,1,[e],i,s)?new o(s[0][0],s[0][1],t||r.WGS84):null}function k(e,r,o=0){const t=[[e.x,e.y]],n=[],s=P(e.spatialReference);let c=0;switch(r){case"dd":c=i.geog_to_dd(s,1,t,o,n);break;case"ddm":c=i.geog_to_ddm(s,1,t,o,n);break;case"dms":c=i.geog_to_dms(s,1,t,o,n);break;default:return console.warn(`invalid format: ${r}`),null}return c?n[0]:null}function w(e,r,o=0,t=!1){const n=[[e.x,e.y]],s=[],i=P(e.spatialReference);let a=G(r);if(-1===a)return console.warn(`invalid conversionMode: ${r}`),null;t&&(a|=c.PE_MGRS_ADD_SPACES);return c.geog_to_mgrs_extended(i,1,n,o,!1,a,s)?s[0]:null}function E(e,r=0,o=!1){const t=[[e.x,e.y]],n=[],s=P(e.spatialReference);return a.geog_to_usng(s,1,t,r,!1,o,n)?n[0]:null}function h(e,r,o=!1){const t=[[e.x,e.y]],n=[],s=P(e.spatialReference);let i=M(r);if(-1===i)return console.warn(`invalid conversionMode: ${r}`),null;o&&(i|=u.PE_UTM_OPTS_ADD_SPACES);return u.geog_to_utm(s,1,t,i,n)?n[0]:null}function P(o){let t=null;if(o||(o=r.WGS84),o.wkid){if(t=l.geogcs(o.wkid),!t)throw new e("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!o.wkt)throw new e("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=l.fromString(_.PE_TYPE_GEOGCS,o.wkt),!t)throw new e("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function G(e){let r=-1;switch(e){case"automatic":r=c.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":r=c.PE_MGRS_STYLE_NEW|c.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":r=c.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":r=c.PE_MGRS_STYLE_OLD|c.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":r=c.PE_MGRS_STYLE_OLD}return r}function M(e){let r=-1;switch(e){case"latitude-band-indicators":r=u.PE_UTM_OPTS_NONE;break;case"north-south-indicators":r=u.PE_UTM_OPTS_NS}return r}export{f as fromLatitudeLongitude,g as fromMgrs,S as fromUsng,j as fromUtm,p as isLoaded,m as isSupported,d as load,k as toLatitudeLongitude,w as toMgrs,E as toUsng,h as toUtm};

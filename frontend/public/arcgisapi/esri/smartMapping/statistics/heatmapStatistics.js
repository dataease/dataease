// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../core/maybe ../../core/Error ../../layers/support/fieldUtils ../support/utils ./support/utils ../support/adapters/support/layerUtils".split(" "),function(k,f,l,m,g,h){async function n(a){if(!(a&&a.layer&&a.view))throw new f("heatmap-statistics:missing-parameters","'layer' and 'view' parameters are required");var b=[0,2,1];const {layer:e,...p}=a;var c=h.createLayerAdapter(e,b);a={layerAdapter:c,...p};a.blurRadius=null==a.blurRadius?10:a.blurRadius;if(!c)throw new f("heatmap-statistics:invalid-parameters",
"'layer' must be one of these types: "+h.getLayerTypeLabels(b).join(", "));b=k.isSome(a.signal)?{signal:a.signal}:null;await c.load(b);var d=a.field;b=d?c.getField(d):null;d=await m.getFieldsList({field:d});if(d=g.verifyBasicFieldValidity(c,d,"heatmap-statistics:invalid-parameters"))throw d;if(b&&(c=g.verifyFieldType(c,b,"heatmap-statistics:invalid-parameters",q)))throw c;return a}const q=l.numericTypes;return async function(a){const {layerAdapter:b,...e}=await n(a);return b.heatmapStatistics(e)}});
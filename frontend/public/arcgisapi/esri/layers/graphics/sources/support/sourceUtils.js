// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../geometry/support/spatialReferenceUtils","../../../support/fieldUtils"],function(v,e,q,g){function m(a){return new w(a)}async function r(){return h?h:h=await new Promise(function(a,b){v(["../../../../geometry/geometryEngineJSON"],a,b)})}let x=function(){this.description=this.code=null},w=function(a){this.error=new x;this.objectId=this.globalId=null;this.success=!1;this.uniqueId=null;this.error.description=a},y=function(a){this.globalId=null;this.success=!0;
this.objectId=this.uniqueId=a};const n=new Set;let h;e.createFeatureEditErrorResult=m;e.createFeatureEditSuccessResult=function(a){return new y(a)};e.loadGeometryEngine=r;e.loadGeometryEngineForSimplify=async function(a,b){!q.isValid(a)||"esriGeometryPolygon"!==b&&"esriGeometryPolyline"!==b||await r()};e.mixAttributes=function(a,b,z,t,A=!1,u){n.clear();for(const k in t){const c=a.get(k);if(c){var l=t[k];{var d=c;var f=l;let p=f;"string"===typeof f&&g.isNumericField(d)?p=parseFloat(f):null!=f&&g.isStringField(d)&&
"string"!==typeof f&&(p=String(f));d=g.sanitizeNullFieldValue(p)}d!==l&&u&&u.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:c,originalValue:l,sanitizedValue:d}});n.add(c.name);if(c&&(A||c.editable)){if(l=g.validateFieldValue(c,d))return m(g.validationErrorToString(l,c,d));z[c.name]=d}}}for(const k of b)if(!n.has(k.name))return m(`missing required field "${k.name}"`);return null};e.simplify=function(a,b){if(!a||!q.isValid(b))return a;
if("rings"in a||"paths"in a){if(!h)throw new TypeError("geometry engine not loaded");return h.simplify(b,a)}return a};Object.defineProperty(e,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
require({cache:{"esri/request":function(){define("require ./core/global ./core/has ./core/lang ./config ./core/maybe ./core/Error ./core/urlUtils ./core/promiseUtils ./kernel ./support/requestUtils".split(" "),function(p,n,fa,K,r,D,m,x,u,C,ha){async function N(A,I){var G=x.isDataProtocol(A);const L=x.isBlobProtocol(A);L||G||(A=x.normalize(A));const ia={url:A,requestOptions:{...D.unwrap(I)}};let pa=x.getInterceptor(A);if(pa){A=await W(pa,ia);if(null!=A)return{data:A,getHeader:E,requestOptions:ia.requestOptions,
url:ia.url};pa.after||pa.error||(pa=null)}A=ia.url;I=ia.requestOptions;if("image"===I.responseType){if(fa("host-webworker")||fa("host-node"))throw l("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),ia);}else if(G)throw l("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+I.responseType),ia);if("head"===I.method){if(I.body)throw l("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
ia);if(G||L)throw l("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),ia);}await d();if(Z)return Z.execute(A,I);const wa=u.createAbortController();u.onAbort(I,()=>wa.abort());G=await oa({controller:wa,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:pa,params:ia,redoRequest:!1,useIdentity:ka.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});pa&&pa.after&&pa.after(G);return G}function k(A){x.isBlobProtocol(A)||x.isDataProtocol(A)||
(A=x.getOrigin(A))&&-1===N._corsServers.indexOf(A)&&N._corsServers.push(A)}function v(A){A=x.getOrigin(A);return!A||A.endsWith(".arcgis.com")||-1!==N._corsServers.indexOf(A)||x.isTrustedServer(A)}function l(A,I,G,L){let ia="Error";const pa={url:G.url,requestOptions:G.requestOptions,getHeader:E,ssl:!1};if(I instanceof m)return I.details?(I.details=K.clone(I.details),I.details.url=G.url,I.details.requestOptions=G.requestOptions):I.details=pa,I;if(I){G=L&&(P=>L.headers.get(P));const wa=L&&L.status,za=
I.message;za&&(ia=za);G&&(pa.getHeader=G);pa.httpStatus=(null!=I.httpCode?I.httpCode:I.code)||wa||0;pa.subCode=I.subcode;pa.messageCode=I.messageCode;pa.messages="string"===typeof I.details?[I.details]:I.details}return u.isAbortError(I)?u.createAbortError():new m(A,ia,pa)}async function d(){fa("host-webworker")?Z||(Z=await new Promise(function(A,I){p(["./core/workers/request"],A,I)})):N._abortableFetch||(N._abortableFetch=n.fetch.bind(n))}async function e(){C.id||await new Promise(function(A,I){p(["./identity/IdentityManager"],
function(G){A(Object.freeze({__proto__:null,"default":G}))},I)})}async function z(A){const I=A.params.url,G=A.params.requestOptions,L=A.controller.signal;var ia=G.body;let pa=null,wa=null,za=null;S&&"HTMLFormElement"in n&&(ia instanceof FormData?pa=ia:ia instanceof HTMLFormElement&&(wa=ia,pa=new FormData(wa)));"string"===typeof ia&&(za=ia);A.fetchOptions={cache:G.cacheBust&&!N._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:G.headers||{},method:"head"===G.method?"HEAD":
"GET",mode:"cors",redirect:"follow",signal:L};if(pa||za)A.fetchOptions.body=pa||za;"anonymous"===G.authMode&&(A.useIdentity=!1);A.hasToken=!!(/token=/i.test(I)||G.query&&G.query.token||pa&&pa.get&&pa.get("token")||wa&&wa.elements.token);(ia=x.getOrigin(I,!0))&&!A.hasToken&&r.apiKey&&ia.endsWith(".arcgis.com")&&"elevation3d.arcgis.com"!==ia&&"js.arcgis.com"!==ia&&"jsdev.arcgis.com"!==ia&&"jsqa.arcgis.com"!==ia&&(G.query||(G.query={}),G.query.token=r.apiKey,A.hasToken=!0);if(A.useIdentity&&!A.hasToken&&
!A.credentialToken&&!J(I)&&!u.isAborted(L)){let P;"immediate"===G.authMode?(await e(),P=await C.id.getCredential(I,{signal:L}),A.credential=P):"no-prompt"===G.authMode?(await e(),P=await C.id.getCredential(I,{prompt:!1,signal:L}).catch(()=>{}),A.credential=P):C.id&&(P=C.id.findCredential(I));P&&(A.credentialToken=P.token,A.useSSL=!!P.ssl)}}function J(A){return q.some(I=>I.test(A))}async function Q(A){let I=A.params.url;const G=A.params.requestOptions,L=A.fetchOptions,ia=x.isBlobProtocol(I)||x.isDataProtocol(I),
pa=G.responseType||"json",wa=ia?0:null!=G.timeout?G.timeout:ka.timeout;var za=!1;if(!ia){A.useSSL&&(I=x.toHTTPS(I));G.cacheBust&&"default"===L.cache&&(I=x.addQueryParameter(I,"request.preventCache",Date.now()));var P={...G.query};A.credentialToken&&(P.token=A.credentialToken);za=x.objectToQuery(P);fa("esri-url-encodes-apostrophe")&&(za=za.replace(/'/g,"%27"));const b=I.length+1+za.length;za="post"===G.method||!!G.body||b>ka.maxUrlLength;const g=G.useProxy||!!x.getProxyRule(I);if(g){const O=x.getProxyUrl(I);
var ca=O.path;!za&&ca.length+1+b>ka.maxUrlLength&&(za=!0);O.query&&(P={...O.query,...P})}if("HEAD"===L.method&&(za||g)){if(za){if(b>ka.maxUrlLength)throw l("request:invalid-parameters",Error("URL exceeds maximum length"),A.params);throw l("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),A.params);}if(g)throw l("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),A.params);}za?(L.method="POST",G.body?I=x.addQueryParameters(I,P):(L.body=x.objectToQuery(P),
L.headers["Content-Type"]="application/x-www-form-urlencoded")):I=x.addQueryParameters(I,P);g&&(A.useProxy=!0,I=`${ca}?${I}`);P.token&&S&&L.body instanceof FormData&&(ca=L.body,ca.set?ca.set("token",P.token):ca.append("token",P.token));G.hasOwnProperty("withCredentials")?A.withCredentials=G.withCredentials:x.isTrustedServer(I)?A.withCredentials=!0:C.id&&(P=C.id.findServerInfo(I))&&P.webTierAuth&&(A.withCredentials=!0);A.withCredentials&&(L.credentials="include")}P=0;let qa=!1;0<wa&&(P=setTimeout(()=>
{qa=!0;A.controller.abort()},wa));let ya,xa;try{if("image"!==G.responseType||"default"!==L.cache||"GET"!==L.method||za||X(G.headers)||!ia&&!A.useProxy&&ka.proxyUrl&&!v(I)){if(ya=await N._abortableFetch(I,L),A.useProxy||k(I),ya.ok&&"HEAD"!==L.method){switch(pa){case "array-buffer":xa=await ya.arrayBuffer();break;case "blob":case "image":xa=await ya.blob();break;default:xa=await ya.text()}P&&(clearTimeout(P),P=0);if("json"===pa||"xml"===pa||"document"===pa)if(xa)switch(pa){case "json":xa=JSON.parse(xa);
break;case "xml":xa=ea(xa,"application/xml");break;case "document":xa=ea(xa,"text/html")}else xa=null;if(xa){if("array-buffer"===pa||"blob"===pa){const b=ya.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(b)&&750>=xa["blob"===pa?"size":"byteLength"])try{const g=await (new Response(xa)).json();g.error&&(xa=g)}catch{}}"image"===pa&&xa instanceof Blob&&(xa=await M(URL.createObjectURL(xa),A,!0))}}}else xa=await M(I,A)}catch(b){if("AbortError"===b.name){if(qa)throw Error("Timeout exceeded");
throw u.createAbortError("Request canceled");}if(!ya&&b instanceof TypeError&&ka.proxyUrl&&!G.body&&"post"!==G.method&&"head"!==G.method&&!A.useProxy)A.redoRequest=!0,x.addProxyRule({proxyUrl:ka.proxyUrl,urlPrefix:x.removeFile(x.urlToObject(I).path)});else throw b;}finally{P&&clearTimeout(P)}return[ya,xa]}async function W(A,I){if(null!=A.responseData)return A.responseData;A.headers&&(I.requestOptions.headers={...I.requestOptions.headers,...A.headers});A.query&&(I.requestOptions.query={...I.requestOptions.query,
...A.query});if(A.before){let G,L;try{L=await A.before(I)}catch(ia){G=l("request:interceptor",ia,I)}if(L instanceof Error||L instanceof m)G=l("request:interceptor",L,I);if(G)throw A.error&&A.error(G),G;return L}}function X(A){if(A)for(const I of Object.getOwnPropertyNames(A))if(A[I])return!0;return!1}function ea(A,I){let G;try{G=(new DOMParser).parseFromString(A,I)}catch{}if(!G||G.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return G}async function oa(A){await z(A);
let I;try{do[I,G]=await Q(A);while(!await da(A,I,G))}catch(pa){var G=l("request:server",pa,A.params,I);G.details.ssl=A.useSSL;A.interceptor&&A.interceptor.error&&A.interceptor.error(G);throw G;}var L=A.params.url;/\/sharing\/rest\/(accounts|portals)\/self/i.test(L)&&!A.hasToken&&!A.credentialToken&&G&&G.user&&G.user.username&&!x.isTrustedServer(L)&&(L=x.getOrigin(L,!0))&&ka.trustedServers.push(L);if((L=A.credential)&&C.id){var ia=C.id.findServerInfo(L.server);if(ia=ia&&ia.owningSystemUrl)ia=ia.replace(/\/?$/,
"/sharing"),(L=C.id.findCredential(ia,L.userId))&&-1===C.id._getIdenticalSvcIdx(ia,L)&&L.resources.unshift(ia)}return{data:G,getHeader:I?pa=>I.headers.get(pa):E,requestOptions:A.params.requestOptions,ssl:A.useSSL,url:A.params.url}}async function da(A,I,G){var L;if(A.redoRequest)return A.redoRequest=!1;if(!I)return!0;if(!I.ok)throw Error(`Unable to load ${I.url} status: ${I.status}`);let ia;G&&G.error&&(ia=K.mixin(Error(),G.error));let pa,wa,za;ia&&(pa=Number(ia.code),wa=ia.hasOwnProperty("subcode")?
Number(ia.subcode):null,za=(za=ia.messageCode)&&za.toUpperCase());I=A.params.requestOptions.authMode;G=String(null==(L=A.params.requestOptions.query)?void 0:L.token);if(403===pa&&(4===wa||ia.message&&-1<ia.message.toLowerCase().indexOf("ssl")&&-1===ia.message.toLowerCase().indexOf("permission"))){if(!A.useSSL)return A.useSSL=!0,!1}else if(A.useIdentity&&("no-prompt"!==I||498===pa)&&-1!==U.indexOf(pa)&&!J(A.params.url)&&!G.startsWith("AAPK")&&(403!==pa||-1===B.indexOf(za)&&(null==wa||2===wa&&A.credentialToken))){await e();
try{const P=await C.id.getCredential(A.params.url,{error:l("request:server",ia,A.params),prompt:"no-prompt"!==I,signal:A.controller.signal,token:A.credentialToken});A.credential=P;A.credentialToken=P.token;A.useSSL=A.useSSL||P.ssl;return!1}catch(P){if("no-prompt"===I)return A.credential=null,A.credentialToken=null,!1;ia=P}}if(ia)throw ia;return!0}function M(A,I,G=!1){const L=I.controller.signal,ia=new Image;ia.crossOrigin=I.withCredentials?"use-credentials":"anonymous";ia.alt="";ia.src=A;return ha.loadImageAsync(ia,
A,G,L)}let Z;const ka=r.request,S="FormData"in n,U=[499,498,403,401],B=["COM_0056","COM_0057","SB_0008"],q=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=()=>null;N._abortableFetch=null;N._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return N})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(p,n,fa,K){function r(){try{return new DOMException("Aborted","AbortError")}catch{const D=
Error();D.name="AbortError";return D}}p.loadImageAsync=function(D,m,x=!1,u){return K.create((C,ha)=>{if(K.isAborted(u))ha(r());else{var N=()=>{l();ha(Error(`Unable to load ${m}`))},k=()=>{const d=D;l();C(d)},v=()=>{if(D){var d=D;l();d.src="";ha(r())}},l=()=>{n("esri-image-decode")||(D.removeEventListener("error",N),D.removeEventListener("load",k));D=k=N=null;fa.isSome(u)&&u.removeEventListener("abort",v);v=null;x&&URL.revokeObjectURL(m)};fa.isSome(u)&&u.addEventListener("abort",v);n("esri-image-decode")?
D.decode().then(k,N):(D.addEventListener("error",N),D.addEventListener("load",k))}})};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/maybe ../core/Error ../core/promiseUtils ./support/spatialReferenceUtils ./support/Ellipsoid ./Point ./Extent ./Multipoint ./Polygon ./Polyline ../core/mathUtils ../chunks/vec3f64 ../chunks/vec3 ./projectionEllipsoid ../core/unitUtils ../chunks/mat4 ../chunks/pe ./support/aaBoundingRect ./support/geodesicConstants ./support/GeographicTransformation".split(" "),
function(p,n,fa,K,r,D,m,x,u,C,ha,N,k,v,l,d,e,z,J,Q,W,X,ea){function oa(){return!!Ga&&Q.isLoaded()}function da(R){K.isNone(Ka)&&(Ka=D.all([Q.load(),(new Promise(function(aa,ba){p(["../chunks/geometryEngineBase"],aa,ba)})).then(function(aa){return aa.geometryEngineBase}),new Promise(function(aa,ba){p(["./geometryAdapters/hydrated"],aa,ba)})]));return Ka.then(([,aa,{hydratedAdapter:ba}])=>{D.throwIfAborted(R);Ha=ba;Ga=aa.default;Ga._enableProjection(Q.pe)})}function M(R,aa,ba,na,Aa=null){if(K.isNone(ba)||
K.isNone(na))return aa;if(ka(ba,na,Aa))return aa.map(Ea=>S(Ea,ba,na));if(K.isNone(Aa)){const Ea=ea.cacheKey(ba,na);void 0!==Ia[Ea]?Aa=Ia[Ea]:(Aa=Z(ba,na,null),K.isNone(Aa)&&(Aa=new ea),Ia[Ea]=Aa)}if(K.isNone(Ga))throw new Ja;return Ga._project(R,aa,ba,na,Aa)}function Z(R,aa,ba=null){if(K.isNone(Ga))throw new Ja;if(K.isNone(R)||K.isNone(aa))return null;R=Ga._getTransformation(Ha,R,aa,ba,null==ba?void 0:ba.spatialReference);return null!==R?ea.fromGE(R):null}function ka(R,aa,ba){return ba?!1:m.equals(R,
aa)?!0:m.isValid(R)&&m.isValid(aa)&&!!Ba(R,aa,eb)}function S(R,aa,ba){if(!R)return R;if("x"in R){var na=new u;return U(R,aa,na,ba)?na:null}return"xmin"in R?(na=new C,A(R,aa,na,ba)?na:null):"rings"in R?(na=new N,E(R,aa,na,ba)?na:null):"paths"in R?(na=new k,q(R,aa,na,ba)?na:null):"points"in R?(na=new ha,B(R,aa,na,ba)?na:null):null}function U(R,aa,ba,na,Aa=0){Ra[0]=R.x;Ra[1]=R.y;const Ea=R.z;Ra[2]=void 0!==Ea?Ea:Aa;if(!ia(Ra,aa,0,Ra,na,0,1))return!1;ba.x=Ra[0];ba.y=Ra[1];ba.spatialReference=na;void 0===
Ea?(ba.z=void 0,ba.hasZ=!1):(ba.z=Ra[2],ba.hasZ=!0);void 0===R.m?(ba.m=void 0,ba.hasM=!1):(ba.m=R.m,ba.hasM=!0);return!0}function B(R,aa,ba,na,Aa=0){const {points:Ea,hasZ:Na,hasM:Pa}=R;R=[];const Za=Ea.length,Ya=[];for(var Va of Ea)Ya.push(Va[0],Va[1],Na?Va[2]:Aa);if(!ia(Ya,aa,0,Ya,na,0,Za))return!1;for(aa=0;aa<Za;++aa){Aa=3*aa;Va=Ya[Aa];const gb=Ya[Aa+1];Na&&Pa?R.push([Va,gb,Ya[Aa+2],Ea[aa][3]]):Na?R.push([Va,gb,Ya[Aa+2]]):Pa?R.push([Va,gb,Ea[aa][2]]):R.push([Va,gb])}ba.points=R;ba.spatialReference=
na;ba.hasZ=Na;ba.hasM=Pa;return!0}function q(R,aa,ba,na,Aa=0){const {paths:Ea,hasZ:Na,hasM:Pa}=R;R=[];if(!pa(Ea,Na,Pa,aa,R,na,Aa))return!1;ba.paths=R;ba.spatialReference=na;ba.hasZ=Na;ba.hasM=Pa;return!0}function E(R,aa,ba,na,Aa=0){const {rings:Ea,hasZ:Na,hasM:Pa}=R;R=[];if(!pa(Ea,Na,Pa,aa,R,na,Aa))return!1;ba.rings=R;ba.spatialReference=na;ba.hasZ=Na;ba.hasM=Pa;return!0}function A(R,aa,ba,na,Aa=0){const {xmin:Ea,ymin:Na,xmax:Pa,ymax:Za,hasZ:Ya,hasM:Va}=R;if(!I(Ea,Na,Ya?R.zmin:Aa,aa,Ra,na))return!1;
ba.xmin=Ra[0];ba.ymin=Ra[1];Ya&&(ba.zmin=Ra[2]);if(!I(Pa,Za,Ya?R.zmax:Aa,aa,Ra,na))return!1;ba.xmax=Ra[0];ba.ymax=Ra[1];Ya&&(ba.zmax=Ra[2]);Va&&(ba.mmin=R.mmin,ba.mmax=R.mmax);ba.spatialReference=na;return!0}function I(R,aa,ba,na,Aa,Ea){Ma[0]=R;Ma[1]=aa;Ma[2]=ba;return ia(Ma,na,0,Aa,Ea,0,1)}function G(R,aa,ba,na){if(K.isNone(aa)||K.isNone(na)||2>R.length)return!1;2===R.length&&(Ma[0]=R[0],Ma[1]=R[1],Ma[2]=0,R=Ma);return ia(R,aa,0,ba,na,0,1)}function L(R,aa,ba){K.isNone(aa)?R=!1:(aa=za(aa,ra),aa=Sa[aa][6],
K.isNone(aa)?R=!1:(aa(R,0,Ma,0),ba!==Ma&&(ba[0]=Ma[0],ba[1]=Ma[1],2<ba.length&&(ba[2]=Ma[2])),R=!0));return R}function ia(R,aa,ba,na,Aa,Ea,Na=1){aa=Ba(aa,Aa,eb);if(K.isNone(aa))return!1;if(aa===P){if(R===na&&ba===Ea)return!0;Na=ba+3*Na;for(let Pa=ba,Za=Ea;Pa<Na;Pa++,Za++)na[Za]=R[Pa];return!0}Na=ba+3*Na;for(let Pa=ba,Za=Ea;Pa<Na;Pa+=3,Za+=3)aa(R,Pa,na,Za);return!0}function pa(R,aa,ba,na,Aa,Ea,Na=0){const Pa=[];for(const Za of R)for(const Ya of Za)Pa.push(Ya[0],Ya[1],aa?Ya[2]:Na);if(!ia(Pa,na,0,Pa,
Ea,0,Pa.length/3))return!1;na=0;Aa.length=0;for(const Za of R){R=[];for(const Ya of Za)aa&&ba?R.push([Pa[na++],Pa[na++],Pa[na++],Ya[3]]):aa?R.push([Pa[na++],Pa[na++],Pa[na++]]):(ba?R.push([Pa[na++],Pa[na++],Ya[2]]):R.push([Pa[na++],Pa[na++]]),na++);Aa.push(R)}return!0}function wa(R,aa,ba){const na=Math.sin(aa);aa=Math.cos(aa);const Aa=Math.sin(R);R=Math.cos(R);ba[0]=-na;ba[4]=-Aa*aa;ba[8]=R*aa;ba[12]=0;ba[1]=aa;ba[5]=-Aa*na;ba[9]=R*na;ba[13]=0;ba[2]=0;ba[6]=R;ba[10]=Aa;ba[14]=0;ba[3]=0;ba[7]=0;ba[11]=
0;ba[15]=1;return ba}function za(R,aa){if(aa.spatialReference===R)return aa.spatialReferenceId;aa.spatialReference=R;"metersPerUnit"in aa&&(aa.metersPerUnit=z.getMetersPerUnitForSR(R,1));return R.wkt===e.SphericalECEFSpatialReference.wkt?aa.spatialReferenceId=1:m.isWGS84(R)?aa.spatialReferenceId=2:m.isWebMercator(R)?aa.spatialReferenceId=3:R.wkt===e.WGS84ECEFSpatialReference.wkt?aa.spatialReferenceId=4:4490===R.wkid?aa.spatialReferenceId=5:R.wkt===e.SphericalPCPFMars.wkt?aa.spatialReferenceId=7:R.wkt===
e.SphericalPCPFMoon.wkt?aa.spatialReferenceId=9:m.isMars(R)?aa.spatialReferenceId=8:m.isMoon(R)?aa.spatialReferenceId=10:aa.spatialReferenceId=0}function P(R,aa,ba,na){R!==ba&&(ba[na++]=R[aa++],ba[na++]=R[aa++],ba[na]=R[aa])}function ca(R,aa,ba,na){ba[na++]=ab*(R[aa++]/x.earth.radius);ba[na++]=ab*(Math.PI/2-2*Math.atan(Math.exp(-1*R[aa++]/x.earth.radius)));ba[na]=R[aa]}function qa(R,aa,ba,na){ca(R,aa,ba,na);f(ba,na,ba,na)}function ya(R,aa,ba,na){ca(R,aa,ba,na);la(ba,na,ba,na)}function xa(R,aa,ba,
na){var Aa=.4999999*Math.PI;Aa=v.clamp(a*R[aa+1],-Aa,Aa);Aa=Math.sin(Aa);ba[na++]=a*R[aa]*x.earth.radius;ba[na++]=x.earth.halfSemiMajorAxis*Math.log((1+Aa)/(1-Aa));ba[na]=R[aa+2]}function b(R,aa,ba,na,Aa){Aa+=R[aa+2];const Ea=a*R[aa+1];R=a*R[aa];aa=Math.cos(Ea);ba[na++]=Math.cos(R)*aa*Aa;ba[na++]=Math.sin(R)*aa*Aa;ba[na]=Math.sin(Ea)*Aa}function g(R,aa,ba,na){b(R,aa,ba,na,x.moon.radius)}function O(R,aa,ba,na){b(R,aa,ba,na,x.mars.radius)}function f(R,aa,ba,na){b(R,aa,ba,na,x.earth.radius)}function t(R,
aa,ba,na,Aa){var Ea=R[aa];const Na=R[aa+1];aa=R[aa+2];R=Math.sqrt(Ea*Ea+Na*Na+aa*aa);aa=v.asinClamped(aa/(0===R?1:R));Ea=Math.atan2(Na,Ea);ba[na++]=ab*Ea;ba[na++]=ab*aa;ba[na]=R-Aa}function F(R,aa,ba,na){t(R,aa,ba,na,x.moon.radius)}function H(R,aa,ba,na){t(R,aa,ba,na,x.mars.radius)}function Y(R,aa,ba,na){t(R,aa,ba,na,x.earth.radius)}function V(R,aa,ba,na){Y(R,aa,ba,na);xa(ba,na,ba,na)}function ja(R,aa,ba,na){Y(R,aa,ba,na);la(ba,na,ba,na)}function la(R,aa,ba,na){{var Aa=x.earth;const Na=a*R[aa];var Ea=
a*R[aa+1];R=R[aa+2];aa=Math.sin(Ea);Ea=Math.cos(Ea);const Pa=Aa.radius/Math.sqrt(1-Aa.eccentricitySquared*aa*aa);ba[na++]=(Pa+R)*Ea*Math.cos(Na);ba[na++]=(Pa+R)*Ea*Math.sin(Na);ba[na++]=(Pa*(1-Aa.eccentricitySquared)+R)*aa}}function ma(R,aa,ba,na){var Aa=X.earthEllipsoidConstants,Ea=R[aa],Na=R[aa+1];R=R[aa+2];let Pa;aa=Math.abs(R);var Za=Ea*Ea+Na*Na;var Ya=Math.sqrt(Za);var Va=Za+R*R;var gb=Math.sqrt(Va);Ea=Math.atan2(Na,Ea);var jb=R*R/Va;Va=Za/Va;Na=Aa.a2/gb;Za=Aa.a3-Aa.a4/gb;.3<Va?(jb=aa/gb*(1+
Va*(Aa.a1+Na+jb*Za)/gb),gb=Math.asin(jb),Na=jb*jb,Va=Math.sqrt(1-Na)):(Va=Ya/gb*(1-jb*(Aa.a5-Na-Va*Za)/gb),gb=Math.acos(Va),Na=1-Va*Va,jb=Math.sqrt(Na));Pa=1-x.earth.eccentricitySquared*Na;Na=x.earth.radius/Math.sqrt(Pa);Aa=Aa.a6*Na;Na=Ya-Na*Va;Za=aa-Aa*jb;aa=Va*Na+jb*Za;Ya=Va*Za-jb*Na;Aa=Ya/(Aa/Pa+aa);gb+=Aa;0>R&&(gb=-gb);ba[na++]=ab*Ea;ba[na++]=ab*gb;ba[na]=aa+Ya*Aa/2}function va(R,aa,ba,na){ma(R,aa,ba,na);f(ba,na,ba,na)}function ta(R,aa,ba,na){ma(R,aa,ba,na);xa(ba,na,ba,na)}function Ba(R,aa,ba=
Da()){return K.isNone(R)||K.isNone(aa)?null:Ca(R,aa,ba).projector}function Ca(R,aa,ba){if(K.isNone(R)||K.isNone(aa)||ba.source.spatialReference===R&&ba.dest.spatialReference===aa)return ba;const na=za(R,ba.source),Aa=za(aa,ba.dest);0===na&&0===Aa?m.equals(R,aa)?ba.projector=P:ba.projector=null:ba.projector=Sa[na][Aa];return ba}function Da(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:P}}let Ga=
null,Ha=null,Ka=null,Ia={},Ja=function(R){function aa(){return R.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}fa._inheritsLoose(aa,R);return aa}(r);(function(R){R.x2lon=function(aa){return aa/x.earth.radius};R.y2lat=function(aa){return Math.PI/2-2*Math.atan(Math.exp(-1*aa/x.earth.radius))};R.lon2x=function(aa){return aa*x.earth.radius};R.lat2y=function(aa){aa=Math.sin(aa);return x.earth.radius/2*Math.log((1+aa)/(1-aa))}})(n.webMercator||(n.webMercator=
{}));const Sa={[2]:{[5]:null,[8]:null,[10]:null,[6]:P,[1]:f,[7]:null,[9]:null,[0]:null,[3]:xa,[2]:P,[4]:la},[5]:{[5]:P,[8]:null,[10]:null,[6]:P,[1]:f,[7]:null,[9]:null,[0]:null,[3]:null,[2]:null,[4]:la},[8]:{[5]:null,[8]:P,[10]:null,[6]:null,[1]:null,[7]:O,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:P,[6]:null,[1]:null,[7]:null,[9]:g,[0]:null,[3]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[6]:ca,[1]:qa,[7]:null,[9]:null,[0]:null,[3]:P,[2]:ca,[4]:ya},[4]:{[5]:ma,
[8]:null,[10]:null,[6]:ma,[1]:va,[7]:null,[9]:null,[0]:null,[3]:ta,[2]:ma,[4]:P},[1]:{[5]:Y,[8]:null,[10]:null,[6]:Y,[1]:P,[7]:null,[9]:null,[0]:null,[3]:V,[2]:Y,[4]:ja},[7]:{[5]:null,[8]:H,[10]:null,[6]:null,[1]:null,[7]:P,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,[10]:F,[6]:null,[1]:null,[7]:null,[9]:P,[0]:null,[3]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[6]:null,[1]:null,[7]:null,[9]:null,[0]:P,[3]:null,[2]:null,[4]:null},[6]:{[5]:null,[8]:null,[10]:null,
[6]:P,[1]:f,[7]:null,[9]:null,[0]:null,[3]:null,[2]:P,[4]:la}},ra={spatialReference:null,spatialReferenceId:0},fb={spatialReference:null,spatialReferenceId:0},eb=Da(),db=Da(),a=v.deg2rad(1),ab=v.rad2deg(1),Ma=l.create(),ib=l.create(),lb=l.create(),Ra=l.create(),wb=l.create();n.canProjectToWGS84ComparableLonLat=function(R){if(K.isNone(R))return!1;R=za(R,ra);return!!Sa[R][6]};n.canProjectWithoutEngine=ka;n.computeLatLonToENURotation=wa;n.computeLinearTransformation=function(R,aa,ba,na){if(K.isNone(R)||
K.isNone(na))return!1;var Aa=za(R,ra),Ea=za(na,fb);if(Aa===Ea&&1!==Ea&&(0!==Aa||m.equals(R,na)))return J.identity(ba),J.translate(ba,ba,aa),!0;if(1===Ea||7===Ea||9===Ea){na=R=0;if(1===Ea){Aa=Sa[Aa][6];Ea=Sa[6][Ea];if(K.isNone(Aa)||K.isNone(Ea))return!1;Aa(aa,0,ib,0);Ea(ib,0,lb,0);R=a*ib[0];na=a*ib[1]}else if(7===Ea||9===Ea){Ea=Sa[Aa][Ea];if(K.isNone(Ea))return!1;Ea(aa,0,lb,0);R=a*aa[0];na=a*aa[1]}wa(na,R,ba);ba[12]=lb[0];ba[13]=lb[1];ba[14]=lb[2];return!0}if(3===Ea&&(2===Aa||1===Aa)){Ea=Sa[Aa][6];
if(K.isNone(Ea))return!1;Ea(aa,0,ib,0);aa=a*ib[1];xa(ib,0,lb,0);J.identity(ba);J.translate(ba,ba,lb);aa=1/Math.cos(aa);J.scale(ba,ba,[aa,aa,1]);return!0}return!1};n.getProjectorName=function(R,aa){switch(Ba(R,aa,eb)){case P:return"copy3";case f:return"wgs84ToSphericalECEF";case xa:return"wgs84ToWebMercator";case la:return"wgs84ToWGS84ECEF";case ca:return"webMercatorToWGS84";case qa:return"webMercatorToSphericalECEF";case ya:return"webMercatorToWGS84ECEF";case ma:return"wgs84ECEFToWGS84";case va:return"wgs84ECEFToSphericalECEF";
case ta:return"wgs84ECEFToWebMercator";case Y:return"sphericalECEFToWGS84";case V:return"sphericalECEFToWebMercator";case H:return"sphericalECEFToMars2000";case F:return"sphericalECEFToMoon2000";case ja:return"sphericalECEFToWGS84ECEF";case O:return"mars2000ToSphericalPCPF";case g:return"moon2000ToSphericalPCPF";default:return null}};n.getTransformation=Z;n.getTransformations=function(R,aa,ba=null){if(K.isNone(Ga))throw new Ja;R=Ga._getTransformationBySuitability(Ha,R,aa,ba,null==ba?void 0:ba.spatialReference);
if(null!==R){aa=[];for(const na of R)aa.push(ea.fromGE(na));return aa}return[]};n.initializeProjection=async function(R,aa){if(!oa())for(const {source:ba,dest:na,geographicTransformation:Aa}of R)if(!ka(ba,na,Aa))return da(aa)};n.isLoaded=oa;n.isSupported=function(){return!0};n.load=da;n.localLinearScaleFactors=function(R,aa,ba,na){if(K.isNone(aa)||K.isNone(na))return!1;const Aa=za(aa,ra);var Ea=za(na,fb);if(Aa===Ea&&0!==Aa||m.equals(aa,na))return ba[0]=1,ba[1]=1,ba[2]=1,!0;if(1===Aa){aa=d.length(R);
R=aa/Math.sqrt(R[0]*R[0]+R[1]*R[1]);aa/=x.earth.radius;if(3===Ea)return ba[0]=R*aa,ba[1]=R*aa,ba[2]=1,!0;if(2===Ea||5===Ea)return Ea=180/(x.earth.radius*Math.PI),ba[0]=Ea*R*aa,ba[1]=Ea*aa,ba[2]=1,!0}return!1};n.lonLatToSphericalPCPF=function(R,aa,ba,na,Aa=0){na+=Aa;Aa=Math.cos(ba);R[0]=Math.cos(aa)*Aa*na;R[1]=Math.sin(aa)*Aa*na;R[2]=Math.sin(ba)*na};n.project=function(R,aa,ba=null){return Array.isArray(R)?0===R.length?[]:M(Ha,R,R[0].spatialReference,aa,ba):M(Ha,[R],R.spatialReference,aa,ba)[0]};n.projectBoundingRect=
function(R,aa,ba,na){if(null==R)return!1;if(m.equals(aa,na))return W.set(ba,R),!0;Ma[0]=R[0];Ma[1]=R[1];Ma[2]=0;if(!ia(Ma,aa,0,Ma,na,0,1))return!1;ba[0]=Ma[0];ba[1]=Ma[1];Ma[0]=R[2];Ma[1]=R[3];Ma[2]=0;if(!ia(Ma,aa,0,Ma,na,0,1))return!1;ba[2]=Ma[0];ba[3]=Ma[1];return!0};n.projectBoundingSphere=function(R,aa,ba,na){if(K.isNone(aa)||K.isNone(na))return!1;aa=Ca(aa,na,db);if(aa.projector===P)return ba[0]=R[0],ba[1]=R[1],ba[2]=R[2],ba[3]=R[3],!0;if(K.isNone(aa.projector))return!1;const {source:Aa,dest:Ea}=
aa;if(3===Ea.spatialReferenceId){aa=Sa[Aa.spatialReferenceId][2];if(K.isNone(aa))return!1;aa(R,0,ib,0);aa=Math.abs(a*ib[1])+Math.asin(R[3]/(x.earth.radius+R[2]));xa(ib,0,ba,0);ba[3]=aa>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(aa)*R[3];return!0}aa.projector(R,0,ba,0);ba[3]=R[3]*Aa.metersPerUnit/Ea.metersPerUnit;return!0};n.projectBuffer=ia;n.projectDirection=function(R,aa,ba,na,Aa){d.copy(Ra,R);d.add(wb,R,aa);G(Ra,ba,Ra,Aa);G(wb,ba,wb,Aa);d.subtract(na,wb,Ra);d.normalize(na,na)};n.projectExtent=function(R,
aa,ba=aa.spatialReference,na=0){return K.isNone(ba)?!1:A(R,R.spatialReference,aa,ba,na)};n.projectMany=M;n.projectMultipoint=function(R,aa,ba=aa.spatialReference,na=0){return K.isNone(ba)?!1:B(R,R.spatialReference,aa,ba,na)};n.projectPoint=function(R,aa,ba=aa.spatialReference,na=0){return K.isNone(ba)?!1:U(R,R.spatialReference,aa,ba,na)};n.projectPointToVector=function(R,aa,ba,na=0){Ra[0]=R.x;Ra[1]=R.y;const Aa=R.z;Ra[2]=void 0!==Aa?Aa:na;return ia(Ra,R.spatialReference,0,aa,ba,0,1)};n.projectPointToWGS84ComparableLonLat=
function(R,aa){Ra[0]=R.x;Ra[1]=R.y;const ba=R.z;Ra[2]=void 0!==ba?ba:0;return L(Ra,R.spatialReference,aa)};n.projectPolygon=function(R,aa,ba=aa.spatialReference,na=0){return K.isNone(ba)?!1:E(R,R.spatialReference,aa,ba,na)};n.projectPolyline=function(R,aa,ba=aa.spatialReference,na=0){return K.isNone(ba)?!1:q(R,R.spatialReference,aa,ba,na)};n.projectVectorToDehydratedPoint=function(R,aa,ba,na){K.isNone(na)&&(na=ba.spatialReference);return ia(R,aa,0,Ra,na,0,1)?(ba.x=Ra[0],ba.y=Ra[1],ba.z=Ra[2],ba.spatialReference=
na,ba):null};n.projectVectorToPoint=function(R,aa,ba,na){if(K.isNone(aa)||K.isNone(ba))return null;na=K.isSome(na)?na:new u({spatialReference:ba});return ia(R,aa,0,Ra,ba,0,1)?(na.x=Ra[0],na.y=Ra[1],na.z=Ra[2],na.spatialReference=ba,na):null};n.projectVectorToVector=G;n.projectVectorToWGS84ComparableLonLat=L;n.projectXYZToVector=I;n.sphericalECEFToSphericalPCPF=t;n.unload=function(){Ka=Ha=Ga=null;Ia={}};Object.defineProperty(n,"__esModule",{value:!0})})},"esri/chunks/vec3f64":function(){define(["exports"],
function(p){function n(){return[0,0,0]}function fa(z){return[z[0],z[1],z[2]]}function K(z,J,Q){return[z,J,Q]}function r(z){const J=n(),Q=Math.min(3,z.length);for(let W=0;W<Q;++W)J[W]=z[W];return J}function D(z,J){return new Float64Array(z,J,3)}function m(){return n()}function x(){return[1,1,1]}function u(){return[1,0,0]}function C(){return[0,1,0]}function ha(){return[0,0,1]}const N=n(),k=x(),v=u(),l=C(),d=ha();var e=Object.freeze({__proto__:null,create:n,clone:fa,fromValues:K,fromArray:r,createView:D,
zeros:m,ones:x,unitX:u,unitY:C,unitZ:ha,ZEROS:N,ONES:k,UNIT_X:v,UNIT_Y:l,UNIT_Z:d});p.ONES=k;p.UNIT_X=v;p.UNIT_Y=l;p.UNIT_Z=d;p.ZEROS=N;p.clone=fa;p.create=n;p.createView=D;p.fromArray=r;p.fromValues=K;p.ones=x;p.unitX=u;p.unitY=C;p.unitZ=ha;p.vec3f64=e;p.zeros=m})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(p,n,fa){function K(P){const ca=P[0],qa=P[1];P=P[2];return Math.sqrt(ca*ca+qa*qa+P*P)}function r(P,ca){P[0]=ca[0];P[1]=ca[1];P[2]=ca[2];return P}function D(P,
ca,qa,ya){P[0]=ca;P[1]=qa;P[2]=ya;return P}function m(P,ca,qa){P[0]=ca[0]+qa[0];P[1]=ca[1]+qa[1];P[2]=ca[2]+qa[2];return P}function x(P,ca,qa){P[0]=ca[0]-qa[0];P[1]=ca[1]-qa[1];P[2]=ca[2]-qa[2];return P}function u(P,ca,qa){P[0]=ca[0]*qa[0];P[1]=ca[1]*qa[1];P[2]=ca[2]*qa[2];return P}function C(P,ca,qa){P[0]=ca[0]/qa[0];P[1]=ca[1]/qa[1];P[2]=ca[2]/qa[2];return P}function ha(P,ca){P[0]=Math.ceil(ca[0]);P[1]=Math.ceil(ca[1]);P[2]=Math.ceil(ca[2]);return P}function N(P,ca){P[0]=Math.floor(ca[0]);P[1]=
Math.floor(ca[1]);P[2]=Math.floor(ca[2]);return P}function k(P,ca,qa){P[0]=Math.min(ca[0],qa[0]);P[1]=Math.min(ca[1],qa[1]);P[2]=Math.min(ca[2],qa[2]);return P}function v(P,ca,qa){P[0]=Math.max(ca[0],qa[0]);P[1]=Math.max(ca[1],qa[1]);P[2]=Math.max(ca[2],qa[2]);return P}function l(P,ca){P[0]=Math.round(ca[0]);P[1]=Math.round(ca[1]);P[2]=Math.round(ca[2]);return P}function d(P,ca,qa){P[0]=ca[0]*qa;P[1]=ca[1]*qa;P[2]=ca[2]*qa;return P}function e(P,ca,qa,ya){P[0]=ca[0]+qa[0]*ya;P[1]=ca[1]+qa[1]*ya;P[2]=
ca[2]+qa[2]*ya;return P}function z(P,ca){const qa=ca[0]-P[0],ya=ca[1]-P[1];P=ca[2]-P[2];return Math.sqrt(qa*qa+ya*ya+P*P)}function J(P,ca){const qa=ca[0]-P[0],ya=ca[1]-P[1];P=ca[2]-P[2];return qa*qa+ya*ya+P*P}function Q(P){const ca=P[0],qa=P[1];P=P[2];return ca*ca+qa*qa+P*P}function W(P,ca){P[0]=-ca[0];P[1]=-ca[1];P[2]=-ca[2];return P}function X(P,ca){P[0]=1/ca[0];P[1]=1/ca[1];P[2]=1/ca[2];return P}function ea(P,ca){var qa=ca[0];const ya=ca[1],xa=ca[2];qa=qa*qa+ya*ya+xa*xa;0<qa&&(qa=1/Math.sqrt(qa),
P[0]=ca[0]*qa,P[1]=ca[1]*qa,P[2]=ca[2]*qa);return P}function oa(P,ca){return P[0]*ca[0]+P[1]*ca[1]+P[2]*ca[2]}function da(P,ca,qa){const ya=ca[0],xa=ca[1];ca=ca[2];const b=qa[0],g=qa[1];qa=qa[2];P[0]=xa*qa-ca*g;P[1]=ca*b-ya*qa;P[2]=ya*g-xa*b;return P}function M(P,ca,qa,ya){const xa=ca[0],b=ca[1];ca=ca[2];P[0]=xa+ya*(qa[0]-xa);P[1]=b+ya*(qa[1]-b);P[2]=ca+ya*(qa[2]-ca);return P}function Z(P,ca,qa,ya,xa,b){const g=b*b,O=g*(2*b-3)+1,f=g*(b-2)+b,t=g*(b-1);b=g*(3-2*b);P[0]=ca[0]*O+qa[0]*f+ya[0]*t+xa[0]*
b;P[1]=ca[1]*O+qa[1]*f+ya[1]*t+xa[1]*b;P[2]=ca[2]*O+qa[2]*f+ya[2]*t+xa[2]*b;return P}function ka(P,ca,qa,ya,xa,b){var g=1-b,O=g*g;const f=b*b,t=O*g;O*=3*b;g*=3*f;b*=f;P[0]=ca[0]*t+qa[0]*O+ya[0]*g+xa[0]*b;P[1]=ca[1]*t+qa[1]*O+ya[1]*g+xa[1]*b;P[2]=ca[2]*t+qa[2]*O+ya[2]*g+xa[2]*b;return P}function S(P,ca){ca=ca||1;const qa=2*fa.RANDOM()*Math.PI,ya=2*fa.RANDOM()-1,xa=Math.sqrt(1-ya*ya)*ca;P[0]=Math.cos(qa)*xa;P[1]=Math.sin(qa)*xa;P[2]=ya*ca;return P}function U(P,ca,qa){const ya=ca[0],xa=ca[1];ca=ca[2];
P[0]=qa[0]*ya+qa[4]*xa+qa[8]*ca+qa[12];P[1]=qa[1]*ya+qa[5]*xa+qa[9]*ca+qa[13];P[2]=qa[2]*ya+qa[6]*xa+qa[10]*ca+qa[14];return P}function B(P,ca,qa){const ya=ca[0],xa=ca[1];ca=ca[2];P[0]=ya*qa[0]+xa*qa[3]+ca*qa[6];P[1]=ya*qa[1]+xa*qa[4]+ca*qa[7];P[2]=ya*qa[2]+xa*qa[5]+ca*qa[8];return P}function q(P,ca,qa){const ya=qa[0],xa=qa[1],b=qa[2],g=ca[0],O=ca[1];ca=ca[2];let f=xa*ca-b*O,t=b*g-ya*ca,F=ya*O-xa*g;qa=2*qa[3];P[0]=g+f*qa+2*(xa*F-b*t);P[1]=O+t*qa+2*(b*f-ya*F);P[2]=ca+F*qa+2*(ya*t-xa*f);return P}function E(P,
ca,qa,ya){const xa=[],b=[];xa[0]=ca[0]-qa[0];xa[1]=ca[1]-qa[1];xa[2]=ca[2]-qa[2];b[0]=xa[0];b[1]=xa[1]*Math.cos(ya)-xa[2]*Math.sin(ya);b[2]=xa[1]*Math.sin(ya)+xa[2]*Math.cos(ya);P[0]=b[0]+qa[0];P[1]=b[1]+qa[1];P[2]=b[2]+qa[2];return P}function A(P,ca,qa,ya){const xa=[],b=[];xa[0]=ca[0]-qa[0];xa[1]=ca[1]-qa[1];xa[2]=ca[2]-qa[2];b[0]=xa[2]*Math.sin(ya)+xa[0]*Math.cos(ya);b[1]=xa[1];b[2]=xa[2]*Math.cos(ya)-xa[0]*Math.sin(ya);P[0]=b[0]+qa[0];P[1]=b[1]+qa[1];P[2]=b[2]+qa[2];return P}function I(P,ca,qa,
ya){const xa=[],b=[];xa[0]=ca[0]-qa[0];xa[1]=ca[1]-qa[1];xa[2]=ca[2]-qa[2];b[0]=xa[0]*Math.cos(ya)-xa[1]*Math.sin(ya);b[1]=xa[0]*Math.sin(ya)+xa[1]*Math.cos(ya);b[2]=xa[2];P[0]=b[0]+qa[0];P[1]=b[1]+qa[1];P[2]=b[2]+qa[2];return P}function G(P,ca){r(wa,P);r(za,ca);ea(wa,wa);ea(za,za);P=oa(wa,za);return 1<P?0:-1>P?Math.PI:Math.acos(P)}function L(P){return"vec3("+P[0]+", "+P[1]+", "+P[2]+")"}function ia(P,ca){return P[0]===ca[0]&&P[1]===ca[1]&&P[2]===ca[2]}function pa(P,ca){const qa=P[0],ya=P[1];P=P[2];
const xa=ca[0],b=ca[1];ca=ca[2];return Math.abs(qa-xa)<=fa.EPSILON*Math.max(1,Math.abs(qa),Math.abs(xa))&&Math.abs(ya-b)<=fa.EPSILON*Math.max(1,Math.abs(ya),Math.abs(b))&&Math.abs(P-ca)<=fa.EPSILON*Math.max(1,Math.abs(P),Math.abs(ca))}const wa=n.create(),za=n.create();n=Object.freeze({__proto__:null,length:K,copy:r,set:D,add:m,subtract:x,multiply:u,divide:C,ceil:ha,floor:N,min:k,max:v,round:l,scale:d,scaleAndAdd:e,distance:z,squaredDistance:J,squaredLength:Q,negate:W,inverse:X,normalize:ea,dot:oa,
cross:da,lerp:M,hermite:Z,bezier:ka,random:S,transformMat4:U,transformMat3:B,transformQuat:q,rotateX:E,rotateY:A,rotateZ:I,angle:G,str:L,exactEquals:ia,equals:pa,sub:x,mul:u,div:C,dist:z,sqrDist:J,len:K,sqrLen:Q});p.add=m;p.angle=G;p.bezier=ka;p.ceil=ha;p.copy=r;p.cross=da;p.dist=z;p.distance=z;p.div=C;p.divide=C;p.dot=oa;p.equals=pa;p.exactEquals=ia;p.floor=N;p.hermite=Z;p.inverse=X;p.len=K;p.length=K;p.lerp=M;p.max=v;p.min=k;p.mul=u;p.multiply=u;p.negate=W;p.normalize=ea;p.random=S;p.rotateX=E;
p.rotateY=A;p.rotateZ=I;p.round=l;p.scale=d;p.scaleAndAdd=e;p.set=D;p.sqrDist=J;p.sqrLen=Q;p.squaredDistance=J;p.squaredLength=Q;p.str=L;p.sub=x;p.subtract=x;p.transformMat3=B;p.transformMat4=U;p.transformQuat=q;p.vec3=n})},"esri/chunks/common":function(){define(["exports"],function(p){function n(u){return u*D}function fa(u){return u*m}function K(u,C){return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))}const r=Math.random,D=Math.PI/180,m=180/Math.PI;var x=Object.freeze({__proto__:null,
EPSILON:1E-6,RANDOM:r,toRadian:n,toDegree:fa,equals:K});p.EPSILON=1E-6;p.RANDOM=r;p.common=x;p.equals=K;p.toDegree=fa;p.toRadian=n})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./support/spatialReferenceUtils","./SpatialReference","./support/Ellipsoid"],function(p,n,fa,K){function r(C){return new fa({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${C.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const D=r(K.earth),m=r(K.mars),x=r(K.moon),u=new fa({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${K.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});p.SphericalECEFSpatialReference=D;p.SphericalPCPFMars=m;p.SphericalPCPFMoon=x;p.WGS84ECEFSpatialReference=u;p.createSphericalPCPF=r;p.getReferenceEllipsoid=function(C){return C&&(n.isMars(C)||C===m)?K.mars:C&&(n.isMoon(C)||C===x)?K.moon:K.earth};p.getReferenceEllipsoidFromWKID=function(C){return n.isWKIDFromMars(C)?K.mars:n.isWKIDFromMoon(C)?K.moon:K.earth};p.getSphericalPCPF=function(C){return C&&(n.isMars(C)||C===m)?m:C&&(n.isMoon(C)||C===x)?x:D};p.getSphericalPCPFForEllipsoid=function(C){return C&&
C===K.mars?m:C&&C===K.moon?x:D};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/support/WKIDUnitConversion ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/projectionEllipsoid".split(" "),function(p,n,fa,K,r,D,m,x){function u(S){if(S=ka[S])return S;throw Error("unknown measure");}function C(S){return Z[S].baseUnit}function ha(S,U=null){U=U||u(S);return Z[U].baseUnit===
S}function N(S,U,B){if(U===B)return S;const q=u(U);if(q!==u(B))throw Error("incompatible units");S=ha(U,q)?S:S*Z[q].units[U].inBaseUnits;return ha(B,q)?S:S/Z[q].units[B].inBaseUnits}function k(S,U){return 3E3>N(S,U,"meters")?"meters":"kilometers"}function v(S,U){return 1E5>N(S,U,"meters")?"meters":"kilometers"}function l(S,U){return 1E3>N(S,U,"feet")?"feet":"miles"}function d(S,U){return 1E5>N(S,U,"feet")?"feet":"miles"}function e(S){return M.fromJSON(S.toLowerCase())||null}function z(S,U=m.earth.metersPerDegree){return J(S,
!0)||U}function J(S,U=!1){let B,q,E=null;null!=S&&("object"===typeof S?(B=S.wkid,q=S.wkt):"number"===typeof S?B=S:"string"===typeof S&&(q=S));if(B){if(r.isWKIDFromMars(B))return m.mars.metersPerDegree;if(r.isWKIDFromMoon(B))return m.moon.metersPerDegree;E=ea.values[ea[B]];!E&&U&&da.has(B)&&(E=W)}else q&&(-1!==q.search(/^PROJCS/i)?(S=X.exec(q))&&S[1]&&(E=parseFloat(S[1].split(",")[1])):-1!==q.search(/^GEOCCS/i)&&(S=oa.exec(q))&&S[1]&&(E=parseFloat(S[1].split(",")[1])));return E}function Q(S){let U,
B,q=null;null!=S&&("object"===typeof S?(U=S.wkid,B=S.wkt):"number"===typeof S?U=S:"string"===typeof S&&(B=S));U?q=ea.units[ea[U]]:B&&-1!==B.search(/^PROJCS/i)&&(S=X.exec(B))&&S[1]&&(q=(S=/[\\"\\']{1}([^\\"\\']+)/.exec(S[1]))&&S[1]);return q?e(q):null}const W=m.earth.radius*Math.PI/200,X=/UNIT\[([^\]]+)\]\]$/i,ea=K,oa=/UNIT\[([^\]]+)\]/i,da=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),M=fa.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",
yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});n={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},
kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};fa={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},
"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(S=>S*S)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const Z={length:{baseUnit:"meters",units:n},area:{baseUnit:"square-meters",units:fa},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},
"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},ka=function(){const S={};for(const U in Z)for(const B in Z[U].units)S[B]=U;return S}();p.baseUnitForMeasure=C;p.baseUnitForUnit=function(S){return C(u(S))};p.convertUnit=N;p.getDefaultUnitSystem=function(S){if(!S)return null;switch(Q(S)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};p.getMetersPerUnit=J;p.getMetersPerUnitForSR=z;p.getMetersPerVerticalUnitForSR=function(S){if(S&&"object"===typeof S&&!r.isEarth(S))return 1;S=z(S);return 1E5<S?1:S};p.getUnitString=Q;p.getVerticalUnitStringForSR=function(S){const U=z(S),B=S instanceof D?x.getReferenceEllipsoid(S).metersPerDegree:1E5;return U>=B?"meters":Q(S)};p.inchesPerMeter=39.37;p.isBaseUnit=ha;p.isMeasurementSystem=function(S){return"imperial"===
S||"metric"===S};p.lengthToDegrees=function(S,U,B){return N(S,U,"meters")/(B*Math.PI/180)};p.measureForUnit=u;p.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");p.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");p.preferredImperialAreaUnit=function(S,U){return 1E6>N(S,U,"square-feet")?"square-feet":"square-miles"};
p.preferredImperialLengthUnit=l;p.preferredImperialVerticalLengthUnit=d;p.preferredLengthUnit=function(S,U,B){switch(B){case "metric":return k(S,U);case "imperial":return l(S,U);default:return B}};p.preferredMetricAreaUnit=function(S,U){return 3E6>N(S,U,"square-meters")?"square-meters":"square-kilometers"};p.preferredMetricLengthUnit=k;p.preferredMetricVerticalLengthUnit=v;p.preferredVerticalLengthUnit=function(S,U,B){switch(B){case "metric":return v(S,U);case "imperial":return d(S,U);default:return B}};
p.unitFromRESTJSON=e;p.unitToRESTJSON=function(S){return M.toJSON(S)||null};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(p,n,fa){function K(b,g){b[0]=g[0];b[1]=g[1];b[2]=g[2];b[3]=g[3];b[4]=g[4];b[5]=g[5];b[6]=g[6];b[7]=g[7];b[8]=g[8];b[9]=g[9];b[10]=g[10];b[11]=g[11];b[12]=g[12];b[13]=g[13];b[14]=g[14];b[15]=g[15];return b}function r(b,g,O,f,t,F,H,Y,V,ja,la,ma,va,ta,Ba,Ca,Da){b[0]=g;b[1]=O;b[2]=f;b[3]=t;b[4]=
F;b[5]=H;b[6]=Y;b[7]=V;b[8]=ja;b[9]=la;b[10]=ma;b[11]=va;b[12]=ta;b[13]=Ba;b[14]=Ca;b[15]=Da;return b}function D(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function m(b,g){if(b===g){const O=g[1],f=g[2],t=g[3],F=g[6],H=g[7],Y=g[11];b[1]=g[4];b[2]=g[8];b[3]=g[12];b[4]=O;b[6]=g[9];b[7]=g[13];b[8]=f;b[9]=F;b[11]=g[14];b[12]=t;b[13]=H;b[14]=Y}else b[0]=g[0],b[1]=g[4],b[2]=g[8],b[3]=g[12],b[4]=g[1],b[5]=g[5],b[6]=g[9],
b[7]=g[13],b[8]=g[2],b[9]=g[6],b[10]=g[10],b[11]=g[14],b[12]=g[3],b[13]=g[7],b[14]=g[11],b[15]=g[15];return b}function x(b,g){const O=g[0],f=g[1],t=g[2],F=g[3],H=g[4],Y=g[5],V=g[6],ja=g[7],la=g[8],ma=g[9],va=g[10],ta=g[11],Ba=g[12],Ca=g[13],Da=g[14];g=g[15];const Ga=O*Y-f*H,Ha=O*V-t*H,Ka=O*ja-F*H,Ia=f*V-t*Y,Ja=f*ja-F*Y,Sa=t*ja-F*V,ra=la*Ca-ma*Ba,fb=la*Da-va*Ba,eb=la*g-ta*Ba,db=ma*Da-va*Ca,a=ma*g-ta*Ca,ab=va*g-ta*Da;let Ma=Ga*ab-Ha*a+Ka*db+Ia*eb-Ja*fb+Sa*ra;if(!Ma)return null;Ma=1/Ma;b[0]=(Y*ab-V*
a+ja*db)*Ma;b[1]=(t*a-f*ab-F*db)*Ma;b[2]=(Ca*Sa-Da*Ja+g*Ia)*Ma;b[3]=(va*Ja-ma*Sa-ta*Ia)*Ma;b[4]=(V*eb-H*ab-ja*fb)*Ma;b[5]=(O*ab-t*eb+F*fb)*Ma;b[6]=(Da*Ka-Ba*Sa-g*Ha)*Ma;b[7]=(la*Sa-va*Ka+ta*Ha)*Ma;b[8]=(H*a-Y*eb+ja*ra)*Ma;b[9]=(f*eb-O*a-F*ra)*Ma;b[10]=(Ba*Ja-Ca*Ka+g*Ga)*Ma;b[11]=(ma*Ka-la*Ja-ta*Ga)*Ma;b[12]=(Y*fb-H*db-V*ra)*Ma;b[13]=(O*db-f*fb+t*ra)*Ma;b[14]=(Ca*Ha-Ba*Ia-Da*Ga)*Ma;b[15]=(la*Ia-ma*Ha+va*Ga)*Ma;return b}function u(b,g){const O=g[0],f=g[1],t=g[2],F=g[3],H=g[4],Y=g[5],V=g[6],ja=g[7],
la=g[8],ma=g[9],va=g[10],ta=g[11],Ba=g[12],Ca=g[13],Da=g[14];g=g[15];b[0]=Y*(va*g-ta*Da)-ma*(V*g-ja*Da)+Ca*(V*ta-ja*va);b[1]=-(f*(va*g-ta*Da)-ma*(t*g-F*Da)+Ca*(t*ta-F*va));b[2]=f*(V*g-ja*Da)-Y*(t*g-F*Da)+Ca*(t*ja-F*V);b[3]=-(f*(V*ta-ja*va)-Y*(t*ta-F*va)+ma*(t*ja-F*V));b[4]=-(H*(va*g-ta*Da)-la*(V*g-ja*Da)+Ba*(V*ta-ja*va));b[5]=O*(va*g-ta*Da)-la*(t*g-F*Da)+Ba*(t*ta-F*va);b[6]=-(O*(V*g-ja*Da)-H*(t*g-F*Da)+Ba*(t*ja-F*V));b[7]=O*(V*ta-ja*va)-H*(t*ta-F*va)+la*(t*ja-F*V);b[8]=H*(ma*g-ta*Ca)-la*(Y*g-ja*Ca)+
Ba*(Y*ta-ja*ma);b[9]=-(O*(ma*g-ta*Ca)-la*(f*g-F*Ca)+Ba*(f*ta-F*ma));b[10]=O*(Y*g-ja*Ca)-H*(f*g-F*Ca)+Ba*(f*ja-F*Y);b[11]=-(O*(Y*ta-ja*ma)-H*(f*ta-F*ma)+la*(f*ja-F*Y));b[12]=-(H*(ma*Da-va*Ca)-la*(Y*Da-V*Ca)+Ba*(Y*va-V*ma));b[13]=O*(ma*Da-va*Ca)-la*(f*Da-t*Ca)+Ba*(f*va-t*ma);b[14]=-(O*(Y*Da-V*Ca)-H*(f*Da-t*Ca)+Ba*(f*V-t*Y));b[15]=O*(Y*va-V*ma)-H*(f*va-t*ma)+la*(f*V-t*Y);return b}function C(b){const g=b[0],O=b[1],f=b[2],t=b[3],F=b[4],H=b[5],Y=b[6],V=b[7],ja=b[8],la=b[9],ma=b[10],va=b[11],ta=b[12],Ba=
b[13],Ca=b[14];b=b[15];return(g*H-O*F)*(ma*b-va*Ca)-(g*Y-f*F)*(la*b-va*Ba)+(g*V-t*F)*(la*Ca-ma*Ba)+(O*Y-f*H)*(ja*b-va*ta)-(O*V-t*H)*(ja*Ca-ma*ta)+(f*V-t*Y)*(ja*Ba-la*ta)}function ha(b,g,O){const f=g[0],t=g[1],F=g[2],H=g[3],Y=g[4],V=g[5],ja=g[6],la=g[7],ma=g[8],va=g[9],ta=g[10],Ba=g[11],Ca=g[12],Da=g[13],Ga=g[14];g=g[15];let Ha=O[0],Ka=O[1],Ia=O[2],Ja=O[3];b[0]=Ha*f+Ka*Y+Ia*ma+Ja*Ca;b[1]=Ha*t+Ka*V+Ia*va+Ja*Da;b[2]=Ha*F+Ka*ja+Ia*ta+Ja*Ga;b[3]=Ha*H+Ka*la+Ia*Ba+Ja*g;Ha=O[4];Ka=O[5];Ia=O[6];Ja=O[7];b[4]=
Ha*f+Ka*Y+Ia*ma+Ja*Ca;b[5]=Ha*t+Ka*V+Ia*va+Ja*Da;b[6]=Ha*F+Ka*ja+Ia*ta+Ja*Ga;b[7]=Ha*H+Ka*la+Ia*Ba+Ja*g;Ha=O[8];Ka=O[9];Ia=O[10];Ja=O[11];b[8]=Ha*f+Ka*Y+Ia*ma+Ja*Ca;b[9]=Ha*t+Ka*V+Ia*va+Ja*Da;b[10]=Ha*F+Ka*ja+Ia*ta+Ja*Ga;b[11]=Ha*H+Ka*la+Ia*Ba+Ja*g;Ha=O[12];Ka=O[13];Ia=O[14];Ja=O[15];b[12]=Ha*f+Ka*Y+Ia*ma+Ja*Ca;b[13]=Ha*t+Ka*V+Ia*va+Ja*Da;b[14]=Ha*F+Ka*ja+Ia*ta+Ja*Ga;b[15]=Ha*H+Ka*la+Ia*Ba+Ja*g;return b}function N(b,g,O){const f=O[0],t=O[1];O=O[2];let F=void 0,H=void 0,Y=void 0,V=void 0,ja=void 0,
la=void 0,ma=void 0,va=void 0,ta=void 0,Ba=void 0,Ca=void 0,Da=void 0;g===b?(b[12]=g[0]*f+g[4]*t+g[8]*O+g[12],b[13]=g[1]*f+g[5]*t+g[9]*O+g[13],b[14]=g[2]*f+g[6]*t+g[10]*O+g[14],b[15]=g[3]*f+g[7]*t+g[11]*O+g[15]):(F=g[0],H=g[1],Y=g[2],V=g[3],ja=g[4],la=g[5],ma=g[6],va=g[7],ta=g[8],Ba=g[9],Ca=g[10],Da=g[11],b[0]=F,b[1]=H,b[2]=Y,b[3]=V,b[4]=ja,b[5]=la,b[6]=ma,b[7]=va,b[8]=ta,b[9]=Ba,b[10]=Ca,b[11]=Da,b[12]=F*f+ja*t+ta*O+g[12],b[13]=H*f+la*t+Ba*O+g[13],b[14]=Y*f+ma*t+Ca*O+g[14],b[15]=V*f+va*t+Da*O+g[15]);
return b}function k(b,g,O){const f=O[0],t=O[1];O=O[2];b[0]=g[0]*f;b[1]=g[1]*f;b[2]=g[2]*f;b[3]=g[3]*f;b[4]=g[4]*t;b[5]=g[5]*t;b[6]=g[6]*t;b[7]=g[7]*t;b[8]=g[8]*O;b[9]=g[9]*O;b[10]=g[10]*O;b[11]=g[11]*O;b[12]=g[12];b[13]=g[13];b[14]=g[14];b[15]=g[15];return b}function v(b,g,O,f){let t=f[0],F=f[1];f=f[2];let H=Math.sqrt(t*t+F*F+f*f);var Y=void 0,V=void 0;let ja=void 0,la=void 0,ma=void 0,va=void 0,ta=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ga=void 0,Ha=void 0,Ka=void 0,Ia=void 0,Ja=void 0,Sa=void 0,ra=
void 0,fb=void 0,eb=void 0,db=void 0,a=void 0,ab=void 0;V=Y=void 0;if(H<fa.EPSILON)return null;H=1/H;t*=H;F*=H;f*=H;Y=Math.sin(O);V=Math.cos(O);ja=1-V;la=g[0];ma=g[1];va=g[2];ta=g[3];Ba=g[4];Ca=g[5];Da=g[6];Ga=g[7];Ha=g[8];Ka=g[9];Ia=g[10];Ja=g[11];Sa=t*t*ja+V;ra=F*t*ja+f*Y;fb=f*t*ja-F*Y;eb=t*F*ja-f*Y;db=F*F*ja+V;a=f*F*ja+t*Y;ab=t*f*ja+F*Y;Y=F*f*ja-t*Y;V=f*f*ja+V;b[0]=la*Sa+Ba*ra+Ha*fb;b[1]=ma*Sa+Ca*ra+Ka*fb;b[2]=va*Sa+Da*ra+Ia*fb;b[3]=ta*Sa+Ga*ra+Ja*fb;b[4]=la*eb+Ba*db+Ha*a;b[5]=ma*eb+Ca*db+Ka*a;
b[6]=va*eb+Da*db+Ia*a;b[7]=ta*eb+Ga*db+Ja*a;b[8]=la*ab+Ba*Y+Ha*V;b[9]=ma*ab+Ca*Y+Ka*V;b[10]=va*ab+Da*Y+Ia*V;b[11]=ta*ab+Ga*Y+Ja*V;g!==b&&(b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);return b}function l(b,g,O){const f=Math.sin(O);O=Math.cos(O);const t=g[4],F=g[5],H=g[6],Y=g[7],V=g[8],ja=g[9],la=g[10],ma=g[11];g!==b&&(b[0]=g[0],b[1]=g[1],b[2]=g[2],b[3]=g[3],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[4]=t*O+V*f;b[5]=F*O+ja*f;b[6]=H*O+la*f;b[7]=Y*O+ma*f;b[8]=V*O-t*f;b[9]=ja*O-F*f;b[10]=la*
O-H*f;b[11]=ma*O-Y*f;return b}function d(b,g,O){const f=Math.sin(O);O=Math.cos(O);const t=g[0],F=g[1],H=g[2],Y=g[3],V=g[8],ja=g[9],la=g[10],ma=g[11];g!==b&&(b[4]=g[4],b[5]=g[5],b[6]=g[6],b[7]=g[7],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[0]=t*O-V*f;b[1]=F*O-ja*f;b[2]=H*O-la*f;b[3]=Y*O-ma*f;b[8]=t*f+V*O;b[9]=F*f+ja*O;b[10]=H*f+la*O;b[11]=Y*f+ma*O;return b}function e(b,g,O){const f=Math.sin(O);O=Math.cos(O);const t=g[0],F=g[1],H=g[2],Y=g[3],V=g[4],ja=g[5],la=g[6],ma=g[7];g!==b&&(b[8]=g[8],
b[9]=g[9],b[10]=g[10],b[11]=g[11],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[0]=t*O+V*f;b[1]=F*O+ja*f;b[2]=H*O+la*f;b[3]=Y*O+ma*f;b[4]=V*O-t*f;b[5]=ja*O-F*f;b[6]=la*O-H*f;b[7]=ma*O-Y*f;return b}function z(b,g){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=g[0];b[13]=g[1];b[14]=g[2];b[15]=1;return b}function J(b,g){b[0]=g[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=g[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function Q(b,g,O){let f=O[0],t=O[1];O=O[2];let F=Math.sqrt(f*f+t*t+O*O),H=void 0,Y=void 0,V=void 0;if(F<fa.EPSILON)return null;F=1/F;f*=F;t*=F;O*=F;H=Math.sin(g);Y=Math.cos(g);V=1-Y;b[0]=f*f*V+Y;b[1]=t*f*V+O*H;b[2]=O*f*V-t*H;b[3]=0;b[4]=f*t*V-O*H;b[5]=t*t*V+Y;b[6]=O*t*V+f*H;b[7]=0;b[8]=f*O*V+t*H;b[9]=t*O*V-f*H;b[10]=O*O*V+Y;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function W(b,g){const O=Math.sin(g);g=Math.cos(g);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=O;b[7]=0;b[8]=0;b[9]=-O;b[10]=
g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function X(b,g){const O=Math.sin(g);g=Math.cos(g);b[0]=g;b[1]=0;b[2]=-O;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=O;b[9]=0;b[10]=g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function ea(b,g){const O=Math.sin(g);g=Math.cos(g);b[0]=g;b[1]=O;b[2]=0;b[3]=0;b[4]=-O;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function oa(b,g,O){var f=g[0],t=g[1],F=g[2],H=g[3],Y=f+f,V=t+t;const ja=F+F;g=f*Y;const la=f*
V;f*=ja;const ma=t*V;t*=ja;F*=ja;Y*=H;V*=H;H*=ja;b[0]=1-(ma+F);b[1]=la+H;b[2]=f-V;b[3]=0;b[4]=la-H;b[5]=1-(g+F);b[6]=t+Y;b[7]=0;b[8]=f+V;b[9]=t-Y;b[10]=1-(g+ma);b[11]=0;b[12]=O[0];b[13]=O[1];b[14]=O[2];b[15]=1;return b}function da(b,g){const O=xa,f=-g[0],t=-g[1],F=-g[2],H=g[3],Y=g[4],V=g[5],ja=g[6],la=g[7],ma=f*f+t*t+F*F+H*H;0<ma?(O[0]=2*(Y*H+la*f+V*F-ja*t)/ma,O[1]=2*(V*H+la*t+ja*f-Y*F)/ma,O[2]=2*(ja*H+la*F+Y*t-V*f)/ma):(O[0]=2*(Y*H+la*f+V*F-ja*t),O[1]=2*(V*H+la*t+ja*f-Y*F),O[2]=2*(ja*H+la*F+Y*t-
V*f));oa(b,g,O);return b}function M(b,g){b[0]=g[12];b[1]=g[13];b[2]=g[14];return b}function Z(b,g){const O=g[0],f=g[1],t=g[2],F=g[4],H=g[5],Y=g[6],V=g[8],ja=g[9];g=g[10];b[0]=Math.sqrt(O*O+f*f+t*t);b[1]=Math.sqrt(F*F+H*H+Y*Y);b[2]=Math.sqrt(V*V+ja*ja+g*g);return b}function ka(b,g){const O=g[0]+g[5]+g[10];let f=0;0<O?(f=2*Math.sqrt(O+1),b[3]=.25*f,b[0]=(g[6]-g[9])/f,b[1]=(g[8]-g[2])/f,b[2]=(g[1]-g[4])/f):g[0]>g[5]&&g[0]>g[10]?(f=2*Math.sqrt(1+g[0]-g[5]-g[10]),b[3]=(g[6]-g[9])/f,b[0]=.25*f,b[1]=(g[1]+
g[4])/f,b[2]=(g[8]+g[2])/f):g[5]>g[10]?(f=2*Math.sqrt(1+g[5]-g[0]-g[10]),b[3]=(g[8]-g[2])/f,b[0]=(g[1]+g[4])/f,b[1]=.25*f,b[2]=(g[6]+g[9])/f):(f=2*Math.sqrt(1+g[10]-g[0]-g[5]),b[3]=(g[1]-g[4])/f,b[0]=(g[8]+g[2])/f,b[1]=(g[6]+g[9])/f,b[2]=.25*f);return b}function S(b,g,O,f){var t=g[0],F=g[1],H=g[2],Y=g[3],V=t+t,ja=F+F,la=H+H;g=t*V;const ma=t*ja;t*=la;const va=F*ja;F*=la;H*=la;V*=Y;ja*=Y;Y*=la;la=f[0];const ta=f[1];f=f[2];b[0]=(1-(va+H))*la;b[1]=(ma+Y)*la;b[2]=(t-ja)*la;b[3]=0;b[4]=(ma-Y)*ta;b[5]=(1-
(g+H))*ta;b[6]=(F+V)*ta;b[7]=0;b[8]=(t+ja)*f;b[9]=(F-V)*f;b[10]=(1-(g+va))*f;b[11]=0;b[12]=O[0];b[13]=O[1];b[14]=O[2];b[15]=1;return b}function U(b,g,O,f,t){var F=g[0],H=g[1],Y=g[2],V=g[3],ja=F+F,la=H+H,ma=Y+Y;g=F*ja;var va=F*la,ta=F*ma;F=H*la;H*=ma;var Ba=Y*ma;Y=V*ja;la*=V;const Ca=V*ma;var Da=f[0],Ga=f[1];ma=f[2];f=t[0];V=t[1];t=t[2];ja=(1-(F+Ba))*Da;const Ha=(va+Ca)*Da;Da*=ta-la;va=(va-Ca)*Ga;Ba=(1-(g+Ba))*Ga;Ga*=H+Y;ta=(ta+la)*ma;H=(H-Y)*ma;g=(1-(g+F))*ma;b[0]=ja;b[1]=Ha;b[2]=Da;b[3]=0;b[4]=va;
b[5]=Ba;b[6]=Ga;b[7]=0;b[8]=ta;b[9]=H;b[10]=g;b[11]=0;b[12]=O[0]+f-(ja*f+va*V+ta*t);b[13]=O[1]+V-(Ha*f+Ba*V+H*t);b[14]=O[2]+t-(Da*f+Ga*V+g*t);b[15]=1;return b}function B(b,g){var O=g[0],f=g[1],t=g[2];g=g[3];var F=O+O,H=f+f;const Y=t+t;O*=F;const V=f*F;f*=H;const ja=t*F,la=t*H;t*=Y;F*=g;H*=g;g*=Y;b[0]=1-f-t;b[1]=V+g;b[2]=ja-H;b[3]=0;b[4]=V-g;b[5]=1-O-t;b[6]=la+F;b[7]=0;b[8]=ja+H;b[9]=la-F;b[10]=1-O-f;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function q(b,g,O,f,t,F,H){const Y=1/(O-g),V=1/(t-
f),ja=1/(F-H);b[0]=2*F*Y;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2*F*V;b[6]=0;b[7]=0;b[8]=(O+g)*Y;b[9]=(t+f)*V;b[10]=(H+F)*ja;b[11]=-1;b[12]=0;b[13]=0;b[14]=H*F*2*ja;b[15]=0;return b}function E(b,g,O,f,t){g=1/Math.tan(g/2);let F=void 0;b[0]=g/O;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[11]=-1;b[12]=0;b[13]=0;b[15]=0;null!=t&&Infinity!==t?(F=1/(f-t),b[10]=(t+f)*F,b[14]=2*t*f*F):(b[10]=-1,b[14]=-2*f);return b}function A(b,g,O,f){const t=Math.tan(g.upDegrees*Math.PI/180),F=Math.tan(g.downDegrees*
Math.PI/180),H=Math.tan(g.leftDegrees*Math.PI/180);g=Math.tan(g.rightDegrees*Math.PI/180);const Y=2/(H+g),V=2/(t+F);b[0]=Y;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=V;b[6]=0;b[7]=0;b[8]=-((H-g)*Y*.5);b[9]=(t-F)*V*.5;b[10]=f/(O-f);b[11]=-1;b[12]=0;b[13]=0;b[14]=f*O/(O-f);b[15]=0;return b}function I(b,g,O,f,t,F,H){const Y=1/(g-O),V=1/(f-t),ja=1/(F-H);b[0]=-2*Y;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=-2*V;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=2*ja;b[11]=0;b[12]=(g+O)*Y;b[13]=(t+f)*V;b[14]=(H+F)*ja;b[15]=1;return b}function G(b,
g,O,f){let t=void 0,F=void 0;var H=void 0,Y=void 0;let V=void 0,ja=void 0;var la=void 0,ma=void 0;let va=void 0,ta=void 0;const Ba=g[0],Ca=g[1];g=g[2];H=f[0];Y=f[1];f=f[2];la=O[0];ma=O[1];O=O[2];if(Math.abs(Ba-la)<fa.EPSILON&&Math.abs(Ca-ma)<fa.EPSILON&&Math.abs(g-O)<fa.EPSILON)return D(b);la=Ba-la;ma=Ca-ma;va=g-O;ta=1/Math.sqrt(la*la+ma*ma+va*va);la*=ta;ma*=ta;va*=ta;t=Y*va-f*ma;F=f*la-H*va;H=H*ma-Y*la;(ta=Math.sqrt(t*t+F*F+H*H))?(ta=1/ta,t*=ta,F*=ta,H*=ta):H=F=t=0;Y=ma*H-va*F;V=va*t-la*H;ja=la*
F-ma*t;(ta=Math.sqrt(Y*Y+V*V+ja*ja))?(ta=1/ta,Y*=ta,V*=ta,ja*=ta):ja=V=Y=0;b[0]=t;b[1]=Y;b[2]=la;b[3]=0;b[4]=F;b[5]=V;b[6]=ma;b[7]=0;b[8]=H;b[9]=ja;b[10]=va;b[11]=0;b[12]=-(t*Ba+F*Ca+H*g);b[13]=-(Y*Ba+V*Ca+ja*g);b[14]=-(la*Ba+ma*Ca+va*g);b[15]=1;return b}function L(b,g,O,f){const t=g[0],F=g[1];g=g[2];var H=f[0];const Y=f[1];var V=f[2];f=t-O[0];let ja=F-O[1];O=g-O[2];let la=f*f+ja*ja+O*O;0<la&&(la=1/Math.sqrt(la),f*=la,ja*=la,O*=la);let ma=Y*O-V*ja;V=V*f-H*O;H=H*ja-Y*f;la=ma*ma+V*V+H*H;0<la&&(la=1/
Math.sqrt(la),ma*=la,V*=la,H*=la);b[0]=ma;b[1]=V;b[2]=H;b[3]=0;b[4]=ja*H-O*V;b[5]=O*ma-f*H;b[6]=f*V-ja*ma;b[7]=0;b[8]=f;b[9]=ja;b[10]=O;b[11]=0;b[12]=t;b[13]=F;b[14]=g;b[15]=1;return b}function ia(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"}function pa(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],
2)+Math.pow(b[6],2)+Math.pow(b[7],2)+Math.pow(b[8],2)+Math.pow(b[9],2)+Math.pow(b[10],2)+Math.pow(b[11],2)+Math.pow(b[12],2)+Math.pow(b[13],2)+Math.pow(b[14],2)+Math.pow(b[15],2))}function wa(b,g,O){b[0]=g[0]+O[0];b[1]=g[1]+O[1];b[2]=g[2]+O[2];b[3]=g[3]+O[3];b[4]=g[4]+O[4];b[5]=g[5]+O[5];b[6]=g[6]+O[6];b[7]=g[7]+O[7];b[8]=g[8]+O[8];b[9]=g[9]+O[9];b[10]=g[10]+O[10];b[11]=g[11]+O[11];b[12]=g[12]+O[12];b[13]=g[13]+O[13];b[14]=g[14]+O[14];b[15]=g[15]+O[15];return b}function za(b,g,O){b[0]=g[0]-O[0];b[1]=
g[1]-O[1];b[2]=g[2]-O[2];b[3]=g[3]-O[3];b[4]=g[4]-O[4];b[5]=g[5]-O[5];b[6]=g[6]-O[6];b[7]=g[7]-O[7];b[8]=g[8]-O[8];b[9]=g[9]-O[9];b[10]=g[10]-O[10];b[11]=g[11]-O[11];b[12]=g[12]-O[12];b[13]=g[13]-O[13];b[14]=g[14]-O[14];b[15]=g[15]-O[15];return b}function P(b,g,O){b[0]=g[0]*O;b[1]=g[1]*O;b[2]=g[2]*O;b[3]=g[3]*O;b[4]=g[4]*O;b[5]=g[5]*O;b[6]=g[6]*O;b[7]=g[7]*O;b[8]=g[8]*O;b[9]=g[9]*O;b[10]=g[10]*O;b[11]=g[11]*O;b[12]=g[12]*O;b[13]=g[13]*O;b[14]=g[14]*O;b[15]=g[15]*O;return b}function ca(b,g,O,f){b[0]=
g[0]+O[0]*f;b[1]=g[1]+O[1]*f;b[2]=g[2]+O[2]*f;b[3]=g[3]+O[3]*f;b[4]=g[4]+O[4]*f;b[5]=g[5]+O[5]*f;b[6]=g[6]+O[6]*f;b[7]=g[7]+O[7]*f;b[8]=g[8]+O[8]*f;b[9]=g[9]+O[9]*f;b[10]=g[10]+O[10]*f;b[11]=g[11]+O[11]*f;b[12]=g[12]+O[12]*f;b[13]=g[13]+O[13]*f;b[14]=g[14]+O[14]*f;b[15]=g[15]+O[15]*f;return b}function qa(b,g){return b[0]===g[0]&&b[1]===g[1]&&b[2]===g[2]&&b[3]===g[3]&&b[4]===g[4]&&b[5]===g[5]&&b[6]===g[6]&&b[7]===g[7]&&b[8]===g[8]&&b[9]===g[9]&&b[10]===g[10]&&b[11]===g[11]&&b[12]===g[12]&&b[13]===
g[13]&&b[14]===g[14]&&b[15]===g[15]}function ya(b,g){const O=b[0],f=b[1],t=b[2],F=b[3],H=b[4],Y=b[5],V=b[6],ja=b[7],la=b[8],ma=b[9],va=b[10],ta=b[11],Ba=b[12],Ca=b[13],Da=b[14];b=b[15];const Ga=g[0],Ha=g[1],Ka=g[2],Ia=g[3],Ja=g[4],Sa=g[5],ra=g[6],fb=g[7],eb=g[8],db=g[9],a=g[10],ab=g[11],Ma=g[12],ib=g[13],lb=g[14];g=g[15];return Math.abs(O-Ga)<=fa.EPSILON*Math.max(1,Math.abs(O),Math.abs(Ga))&&Math.abs(f-Ha)<=fa.EPSILON*Math.max(1,Math.abs(f),Math.abs(Ha))&&Math.abs(t-Ka)<=fa.EPSILON*Math.max(1,Math.abs(t),
Math.abs(Ka))&&Math.abs(F-Ia)<=fa.EPSILON*Math.max(1,Math.abs(F),Math.abs(Ia))&&Math.abs(H-Ja)<=fa.EPSILON*Math.max(1,Math.abs(H),Math.abs(Ja))&&Math.abs(Y-Sa)<=fa.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Sa))&&Math.abs(V-ra)<=fa.EPSILON*Math.max(1,Math.abs(V),Math.abs(ra))&&Math.abs(ja-fb)<=fa.EPSILON*Math.max(1,Math.abs(ja),Math.abs(fb))&&Math.abs(la-eb)<=fa.EPSILON*Math.max(1,Math.abs(la),Math.abs(eb))&&Math.abs(ma-db)<=fa.EPSILON*Math.max(1,Math.abs(ma),Math.abs(db))&&Math.abs(va-a)<=fa.EPSILON*
Math.max(1,Math.abs(va),Math.abs(a))&&Math.abs(ta-ab)<=fa.EPSILON*Math.max(1,Math.abs(ta),Math.abs(ab))&&Math.abs(Ba-Ma)<=fa.EPSILON*Math.max(1,Math.abs(Ba),Math.abs(Ma))&&Math.abs(Ca-ib)<=fa.EPSILON*Math.max(1,Math.abs(Ca),Math.abs(ib))&&Math.abs(Da-lb)<=fa.EPSILON*Math.max(1,Math.abs(Da),Math.abs(lb))&&Math.abs(b-g)<=fa.EPSILON*Math.max(1,Math.abs(b),Math.abs(g))}const xa=n.create();n=Object.freeze({__proto__:null,copy:K,set:r,identity:D,transpose:m,invert:x,adjoint:u,determinant:C,multiply:ha,
translate:N,scale:k,rotate:v,rotateX:l,rotateY:d,rotateZ:e,fromTranslation:z,fromScaling:J,fromRotation:Q,fromXRotation:W,fromYRotation:X,fromZRotation:ea,fromRotationTranslation:oa,fromQuat2:da,getTranslation:M,getScaling:Z,getRotation:ka,fromRotationTranslationScale:S,fromRotationTranslationScaleOrigin:U,fromQuat:B,frustum:q,perspective:E,perspectiveFromFieldOfView:A,ortho:I,lookAt:G,targetTo:L,str:ia,frob:pa,add:wa,subtract:za,multiplyScalar:P,multiplyScalarAndAdd:ca,exactEquals:qa,equals:ya,mul:ha,
sub:za});p.add=wa;p.adjoint=u;p.copy=K;p.determinant=C;p.equals=ya;p.exactEquals=qa;p.frob=pa;p.fromQuat=B;p.fromQuat2=da;p.fromRotation=Q;p.fromRotationTranslation=oa;p.fromRotationTranslationScale=S;p.fromRotationTranslationScaleOrigin=U;p.fromScaling=J;p.fromTranslation=z;p.fromXRotation=W;p.fromYRotation=X;p.fromZRotation=ea;p.frustum=q;p.getRotation=ka;p.getScaling=Z;p.getTranslation=M;p.identity=D;p.invert=x;p.lookAt=G;p.mat4=n;p.mul=ha;p.multiply=ha;p.multiplyScalar=P;p.multiplyScalarAndAdd=
ca;p.ortho=I;p.perspective=E;p.perspectiveFromFieldOfView=A;p.rotate=v;p.rotateX=l;p.rotateY=d;p.rotateZ=e;p.scale=k;p.set=r;p.str=ia;p.sub=za;p.subtract=za;p.targetTo=L;p.translate=N;p.transpose=m})},"esri/chunks/pe":function(){define("require exports ./_rollupPluginBabelHelpers ../core/has ../core/promiseUtils ../assets".split(" "),function(p,n,fa,K,r,D){function m(){return!!n._pe}function x(){return!!K("esri-wasm")}function u(){return l?l:l=r.create((e,z)=>{(new Promise(function(J,Q){p(["./pe-wasm"],
J,Q)})).then(function(J){return J.peWasm}).then(({default:J})=>{J({locateFile:Q=>D.getAssetUrl(`esri/geometry/support/${Q}`),onAbort:Q=>{z(Error(Q))}}).then(Q=>{C(Q);e()})})})}function C(e){function z(W,X,ea){W[X]=ea(W[X])}n._pe=e;n.PeDefs.init();n.PeGTlistExtended.init();n.PeNotationMgrs.init();n.PeNotationUtm.init();n.PePCSInfo.init();n.PeGCSExtent=function(W){function X(){return W.apply(this,arguments)||this}fa._inheritsLoose(X,W);X.prototype.destroy=function(){n._pe.destroy(this)};return X}(n._pe.PeGCSExtent);
e=[n._pe.PeDatum,n._pe.PeGeogcs,n._pe.PeGeogtran,n._pe.PeObject,n._pe.PeParameter,n._pe.PePrimem,n._pe.PeProjcs,n._pe.PeSpheroid,n._pe.PeUnit];for(var J of e)z(J.prototype,"getName",W=>function(){return W.call(this,Array(n.PeDefs.PE_NAME_MAX))});for(const W of[n._pe.PeGeogtran,n._pe.PeProjcs])z(W.prototype,"getParameters",X=>function(){const ea=Array(n.PeDefs.PE_PARM_MAX);let oa=X.call(this);for(let da=0;da<ea.length;da++){const M=n._pe.getValue(oa,"*");ea[da]=M?n._pe.wrapPointer(M,n._pe.PeParameter):
null;oa+=Int32Array.BYTES_PER_ELEMENT}return ea});z(n._pe.PeHorizon.prototype,"getCoord",W=>function(){const X=this.getSize();if(!X)return null;const ea=[],oa=W.call(this);v(ea,X,oa);return ea});z(n._pe.PeGTlistExtendedEntry.prototype,"getEntries",W=>{const X=n._pe._pe_getPeGTlistExtendedGTsSize();return function(){let ea=null;var oa=W.call(this);if(!n._pe.compare(oa,n._pe.NULL)){ea=[oa];const da=this.getSteps();if(1<da){oa=n._pe.getPointer(oa);for(let M=1;M<da;M++)ea.push(n._pe.wrapPointer(oa+X*
M,n._pe.PeGTlistExtendedGTs))}}return ea}});const Q=n._pe._pe_getPeHorizonSize();J=W=>function(){let X=this._cache;X||(this._cache=X=new Map);if(X.has(W))return X.get(W);let ea=null;var oa=W.call(this);if(!n._pe.compare(oa,n._pe.NULL)){ea=[oa];const da=oa.getNump();if(1<da){oa=n._pe.getPointer(oa);for(let M=1;M<da;M++)ea.push(n._pe.wrapPointer(oa+Q*M,n._pe.PeHorizon))}}X.set(W,ea);return ea};z(n._pe.PeProjcs.prototype,"horizonGcsGenerate",J);z(n._pe.PeProjcs.prototype,"horizonPcsGenerate",J);n._pe.PeObject.prototype.toString=
function(W=n.PeDefs.PE_STR_OPTS_NONE){n._pe.ensureCache.prepare();const X=n._pe.getPointer(this),ea=n._pe.ensureInt8(Array(n.PeDefs.PE_BUFFER_MAX));return n._pe.UTF8ToString(n._pe._pe_object_to_string_ext(X,W,ea))}}function ha(e){if(e){var z=n._pe.getClass(e);z&&(z=n._pe.getCache(z))&&(e=n._pe.getPointer(e))&&delete z[e]}}function N(e,z){const J=[];z=Array(z);for(let Q=0;Q<e;Q++)J.push(n._pe.ensureInt8(z));return J}function k(e){let z;Array.isArray(e[0])?(z=[],e.forEach(J=>{z.push(J[0],J[1])})):z=
e;return z}function v(e,z,J,Q=!1){if(Q)for(Q=0;Q<2*z;Q++)e[Q]=n._pe.getValue(J+Q*Float64Array.BYTES_PER_ELEMENT,"double");else{Q=0===e.length;for(let W=0;W<z;W++)Q&&(e[W]=Array(2)),e[W][0]=n._pe.getValue(J,"double"),e[W][1]=n._pe.getValue(J+Float64Array.BYTES_PER_ELEMENT,"double"),J+=2*Float64Array.BYTES_PER_ELEMENT}}let l;n._pe=null;(function(e){function z(W,X,ea){n._pe.ensureCache.prepare();var oa=k(ea);const da=ea===oa;oa=n._pe.ensureFloat64(oa);(W=n._pe._pe_geog_to_proj(n._pe.getPointer(W),X,
oa))&&v(ea,X,oa,da);return W}function J(W,X,ea){return Q(W,X,ea,0)}function Q(W,X,ea,oa){n._pe.ensureCache.prepare();var da=k(ea);const M=ea===da;da=n._pe.ensureFloat64(da);(W=n._pe._pe_proj_to_geog_center(n._pe.getPointer(W),X,da,oa))&&v(ea,X,da,M);return W}e.geogToProj=z;e.projGeog=function(W,X,ea,oa){switch(oa){case n.PeDefs.PE_TRANSFORM_P_TO_G:return J(W,X,ea);case n.PeDefs.PE_TRANSFORM_G_TO_P:return z(W,X,ea)}return 0};e.projToGeog=J;e.projToGeogCenter=Q})(n.PeCSTransformations||(n.PeCSTransformations=
{}));(function(e){e.init=function(){e.PE_BUFFER_MAX=n._pe.PeDefs.prototype.PE_BUFFER_MAX;e.PE_NAME_MAX=n._pe.PeDefs.prototype.PE_NAME_MAX;e.PE_MGRS_MAX=n._pe.PeDefs.prototype.PE_MGRS_MAX;e.PE_USNG_MAX=n._pe.PeDefs.prototype.PE_USNG_MAX;e.PE_DD_MAX=n._pe.PeDefs.prototype.PE_DD_MAX;e.PE_DDM_MAX=n._pe.PeDefs.prototype.PE_DDM_MAX;e.PE_DMS_MAX=n._pe.PeDefs.prototype.PE_DMS_MAX;e.PE_UTM_MAX=n._pe.PeDefs.prototype.PE_UTM_MAX;e.PE_PARM_MAX=n._pe.PeDefs.prototype.PE_PARM_MAX;e.PE_TYPE_NONE=n._pe.PeDefs.prototype.PE_TYPE_NONE;
e.PE_TYPE_GEOGCS=n._pe.PeDefs.prototype.PE_TYPE_GEOGCS;e.PE_TYPE_PROJCS=n._pe.PeDefs.prototype.PE_TYPE_PROJCS;e.PE_TYPE_GEOGTRAN=n._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;e.PE_TYPE_COORDSYS=n._pe.PeDefs.prototype.PE_TYPE_COORDSYS;e.PE_TYPE_UNIT=n._pe.PeDefs.prototype.PE_TYPE_UNIT;e.PE_STR_OPTS_NONE=n._pe.PeDefs.prototype.PE_STR_OPTS_NONE;e.PE_STR_AUTH_NONE=n._pe.PeDefs.prototype.PE_STR_AUTH_NONE;e.PE_STR_AUTH_TOP=n._pe.PeDefs.prototype.PE_STR_AUTH_TOP;e.PE_STR_NAME_CANON=n._pe.PeDefs.prototype.PE_STR_NAME_CANON;
e.PE_PARM_X0=n._pe.PeDefs.prototype.PE_PARM_X0;e.PE_PARM_ND=n._pe.PeDefs.prototype.PE_PARM_ND;e.PE_TRANSFORM_1_TO_2=n._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;e.PE_TRANSFORM_2_TO_1=n._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;e.PE_TRANSFORM_P_TO_G=n._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;e.PE_TRANSFORM_G_TO_P=n._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;e.PE_HORIZON_RECT=n._pe.PeDefs.prototype.PE_HORIZON_RECT;e.PE_HORIZON_POLY=n._pe.PeDefs.prototype.PE_HORIZON_POLY;e.PE_HORIZON_LINE=n._pe.PeDefs.prototype.PE_HORIZON_LINE;
e.PE_HORIZON_DELTA=n._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(n.PeDefs||(n.PeDefs={}));(function(e){function z(X,ea){let oa=null,da=Q[X];da||(da={},Q[X]=da);da.hasOwnProperty(String(ea))?oa=da[ea]:(X=n._pe.PeFactory.prototype.factoryByType(X,ea),n._pe.compare(X,n._pe.NULL)||(oa=X,da[ea]=oa));return oa=J(oa)}function J(X){if(X){const ea=X.getType();switch(ea){case n.PeDefs.PE_TYPE_GEOGCS:X=n._pe.castObject(X,n._pe.PeGeogcs);break;case n.PeDefs.PE_TYPE_PROJCS:X=n._pe.castObject(X,n._pe.PeProjcs);break;
case n.PeDefs.PE_TYPE_GEOGTRAN:X=n._pe.castObject(X,n._pe.PeGeogtran);break;default:ea&n.PeDefs.PE_TYPE_UNIT&&(X=n._pe.castObject(X,n._pe.PeUnit))}}return X}const Q={},W={};e.initialize=function(){n._pe.PeFactory.prototype.initialize(null)};e.coordsys=function(X){return z(n.PeDefs.PE_TYPE_COORDSYS,X)};e.factoryByType=z;e.fromString=function(X,ea){let oa=null,da=W[X];da||(da={},W[X]=da);da.hasOwnProperty(ea)?oa=da[ea]:(X=n._pe.PeFactory.prototype.fromString(X,ea),n._pe.compare(X,n._pe.NULL)||(oa=X,
da[ea]=oa));return oa=J(oa)};e.geogcs=function(X){return z(n.PeDefs.PE_TYPE_GEOGCS,X)};e.geogtran=function(X){return z(n.PeDefs.PE_TYPE_GEOGTRAN,X)};e.getCode=function(X){return n._pe.PeFactory.prototype.getCode(X)};e.projcs=function(X){return z(n.PeDefs.PE_TYPE_PROJCS,X)};e.unit=function(X){return z(n.PeDefs.PE_TYPE_UNIT,X)}})(n.PeFactory||(n.PeFactory={}));n.PeGCSExtent=null;(function(e){let z;e.init=function(){e.PE_GTLIST_OPTS_COMMON=n._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;z=n._pe._pe_getPeGTlistExtendedEntrySize()};
e.getGTlist=function(J,Q,W,X,ea,oa){let da=null;const M=new n._pe.PeInteger(oa);try{const Z=n._pe.PeGTlistExtended.prototype.getGTlist(J,Q,W,X,ea,M);if(oa=M.val)if(da=[Z],1<oa){const ka=n._pe.getPointer(Z);for(J=1;J<oa;J++)da.push(n._pe.wrapPointer(ka+z*J,n._pe.PeGTlistExtendedEntry))}}finally{n._pe.destroy(M)}return da}})(n.PeGTlistExtended||(n.PeGTlistExtended={}));(function(e){e.destroy=function(z){if(z&&z.length){for(const J of z)ha(J),J.getEntries().forEach(Q=>{ha(Q);Q=Q.getGeogtran();ha(Q);
Q.getParameters().forEach(ha);[Q.getGeogcs1(),Q.getGeogcs2()].forEach(W=>{ha(W);const X=W.getDatum();ha(X);ha(X.getSpheroid());ha(W.getPrimem());ha(W.getUnit())})});n._pe.PeGTlistExtendedEntry.prototype.Delete(z[0])}}})(n.PeGTlistExtendedEntry||(n.PeGTlistExtendedEntry={}));(function(e){e.geogToGeog=function(z,J,Q,W,X){n._pe.ensureCache.prepare();var ea=k(Q);const oa=Q===ea;ea=n._pe.ensureFloat64(ea);let da=0;W&&(da=n._pe.ensureFloat64(W));(z=n._pe._pe_geog_to_geog(n._pe.getPointer(z),J,ea,da,X))&&
v(Q,J,ea,oa);return z}})(n.PeGTTransformations||(n.PeGTTransformations={}));(function(e){function z(Q,W,X,ea,oa,da){n._pe.ensureCache.prepare();switch(Q){case "dd":var M=n._pe._pe_geog_to_dd;var Z=n.PeDefs.PE_DD_MAX;break;case "ddm":M=n._pe._pe_geog_to_ddm;Z=n.PeDefs.PE_DDM_MAX;break;case "dms":M=n._pe._pe_geog_to_dms,Z=n.PeDefs.PE_DMS_MAX}Q=0;W&&(Q=n._pe.getPointer(W));W=k(ea);W=n._pe.ensureFloat64(W);Z=N(X,Z);ea=n._pe.ensureInt32(Z);if(oa=M(Q,X,W,oa,ea))for(M=0;M<X;M++)da[M]=n._pe.UTF8ToString(Z[M]);
return oa}function J(Q,W,X,ea,oa){n._pe.ensureCache.prepare();switch(Q){case "dd":var da=n._pe._pe_dd_to_geog;break;case "ddm":da=n._pe._pe_ddm_to_geog;break;case "dms":da=n._pe._pe_dms_to_geog}Q=0;W&&(Q=n._pe.getPointer(W));W=ea.map(M=>n._pe.ensureString(M));ea=n._pe.ensureInt32(W);W=n._pe.ensureFloat64(Array(2*X));(da=da(Q,X,ea,W))&&v(oa,X,W);return da}e.geog_to_dms=function(Q,W,X,ea,oa){return z("dms",Q,W,X,ea,oa)};e.dms_to_geog=function(Q,W,X,ea){return J("dms",Q,W,X,ea)};e.geog_to_ddm=function(Q,
W,X,ea,oa){return z("ddm",Q,W,X,ea,oa)};e.ddm_to_geog=function(Q,W,X,ea){return J("ddm",Q,W,X,ea)};e.geog_to_dd=function(Q,W,X,ea,oa){return z("dd",Q,W,X,ea,oa)};e.dd_to_geog=function(Q,W,X,ea){return J("dd",Q,W,X,ea)}})(n.PeNotationDms||(n.PeNotationDms={}));(function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=n._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;e.PE_MGRS_STYLE_OLD=n._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;e.PE_MGRS_STYLE_AUTO=n._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;e.PE_MGRS_180_ZONE_1_PLUS=
n._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;e.PE_MGRS_ADD_SPACES=n._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};e.geog_to_mgrs_extended=function(z,J,Q,W,X,ea,oa){n._pe.ensureCache.prepare();let da=0;z&&(da=n._pe.getPointer(z));z=k(Q);Q=n._pe.ensureFloat64(z);z=N(J,n.PeDefs.PE_MGRS_MAX);const M=n._pe.ensureInt32(z);if(W=n._pe._pe_geog_to_mgrs_extended(da,J,Q,W,X,ea,M))for(X=0;X<J;X++)oa[X]=n._pe.UTF8ToString(z[X]);return W};e.mgrs_to_geog_extended=function(z,J,Q,W,X){n._pe.ensureCache.prepare();
let ea=0;z&&(ea=n._pe.getPointer(z));z=Q.map(oa=>n._pe.ensureString(oa));Q=n._pe.ensureInt32(z);z=n._pe.ensureFloat64(Array(2*J));(W=n._pe._pe_mgrs_to_geog_extended(ea,J,Q,W,z))&&v(X,J,z);return W}})(n.PeNotationMgrs||(n.PeNotationMgrs={}));(function(e){e.geog_to_usng=function(z,J,Q,W,X,ea,oa){n._pe.ensureCache.prepare();let da=0;z&&(da=n._pe.getPointer(z));z=k(Q);Q=n._pe.ensureFloat64(z);z=N(J,n.PeDefs.PE_MGRS_MAX);const M=n._pe.ensureInt32(z);if(W=n._pe._pe_geog_to_usng(da,J,Q,W,X,ea,M))for(X=0;X<
J;X++)oa[X]=n._pe.UTF8ToString(z[X]);return W};e.usng_to_geog=function(z,J,Q,W){n._pe.ensureCache.prepare();var X=0;z&&(X=n._pe.getPointer(z));z=Q.map(ea=>n._pe.ensureString(ea));Q=n._pe.ensureInt32(z);z=n._pe.ensureFloat64(Array(2*J));(X=n._pe._pe_usng_to_geog(X,J,Q,z))&&v(W,J,z);return X}})(n.PeNotationUsng||(n.PeNotationUsng={}));(function(e){e.init=function(){e.PE_UTM_OPTS_NONE=n._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;e.PE_UTM_OPTS_ADD_SPACES=n._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;
e.PE_UTM_OPTS_NS=n._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};e.geog_to_utm=function(z,J,Q,W,X){n._pe.ensureCache.prepare();var ea=0;z&&(ea=n._pe.getPointer(z));z=k(Q);Q=n._pe.ensureFloat64(z);z=N(J,n.PeDefs.PE_UTM_MAX);const oa=n._pe.ensureInt32(z);if(W=n._pe._pe_geog_to_utm(ea,J,Q,W,oa))for(ea=0;ea<J;ea++)X[ea]=n._pe.UTF8ToString(z[ea]);return W};e.utm_to_geog=function(z,J,Q,W,X){n._pe.ensureCache.prepare();let ea=0;z&&(ea=n._pe.getPointer(z));z=Q.map(oa=>n._pe.ensureString(oa));Q=n._pe.ensureInt32(z);
z=n._pe.ensureFloat64(Array(2*J));(W=n._pe._pe_utm_to_geog(ea,J,Q,W,z))&&v(X,J,z);return W}})(n.PeNotationUtm||(n.PeNotationUtm={}));(function(e){const z=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=n._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;e.PE_PCSINFO_OPTION_DOMAIN=n._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;e.PE_POLE_OUTSIDE_BOUNDARY=n._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;e.PE_POLE_POINT=n._pe.PePCSInfo.prototype.PE_POLE_POINT};e.generate=function(J,Q=e.PE_PCSINFO_OPTION_DOMAIN){let W,
X;z.has(J)&&(X=z.get(J),X[Q]&&(W=X[Q]));W||(W=n._pe.PePCSInfo.prototype.generate(J,Q),X||(X=[],z.set(J,X)),X[Q]=W);return W}})(n.PePCSInfo||(n.PePCSInfo={}));(function(e){e.version_string=function(){return n._pe.PeVersion.prototype.version_string()}})(n.PeVersion||(n.PeVersion={}));var d=Object.freeze({__proto__:null,get _pe(){return n._pe},isLoaded:m,isSupported:x,load:u,get PeCSTransformations(){return n.PeCSTransformations},get PeDefs(){return n.PeDefs},get PeFactory(){return n.PeFactory},get PeGCSExtent(){return n.PeGCSExtent},
get PeGTlistExtended(){return n.PeGTlistExtended},get PeGTlistExtendedEntry(){return n.PeGTlistExtendedEntry},get PeGTTransformations(){return n.PeGTTransformations},get PeNotationDms(){return n.PeNotationDms},get PeNotationMgrs(){return n.PeNotationMgrs},get PeNotationUsng(){return n.PeNotationUsng},get PeNotationUtm(){return n.PeNotationUtm},get PePCSInfo(){return n.PePCSInfo},get PeVersion(){return n.PeVersion},_init:C});n._init=C;n.isLoaded=m;n.isSupported=x;n.load=u;n.pe=d})},"esri/assets":function(){define(["exports",
"./config","./core/urlUtils","./request"],function(p,n,fa,K){function r(D){return fa.join(n.assetsPath,D)}p.fetchAsset=function(D,m){return K(r(D),m)};p.getAssetUrl=r;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../Extent"],function(p,n,fa){function K(k=N){return[k[0],k[1],k[2],k[3]]}function r(k){return k[0]>=k[2]?0:k[2]-k[0]}function D(k){return k[1]>=k[3]?0:k[3]-k[1]}function m(k,v,l){return v>=k[0]&&l>=
k[1]&&v<=k[2]&&l<=k[3]}function x(k,v){k[0]=v[0];k[1]=v[1];k[2]=v[2];k[3]=v[3];return k}function u(k){return 4===k.length}function C(k,v,l){return k<v?v:k>l?l:k}const ha=[Infinity,Infinity,-Infinity,-Infinity],N=[0,0,0,0];p.NEGATIVE_INFINITY=ha;p.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];p.UNIT=[0,0,1,1];p.ZERO=N;p.allFinite=function(k){for(let v=0;4>v;v++)if(!isFinite(k[v]))return!1;return!0};p.area=function(k){return r(k)*D(k)};p.center=function(k,v=[0,0]){v[0]=(k[0]+k[2])/2;v[1]=
(k[1]+k[3])/2;return v};p.clone=function(k){return[k[0],k[1],k[2],k[3]]};p.contains=function(k,v){return v[0]>=k[0]&&v[2]<=k[2]&&v[1]>=k[1]&&v[3]<=k[3]};p.containsPoint=function(k,v){return m(k,v[0],v[1])};p.containsPointObject=function(k,v){return m(k,v.x,v.y)};p.containsPointWithMargin=function(k,v,l){return v[0]>=k[0]-l&&v[1]>=k[1]-l&&v[0]<=k[2]+l&&v[1]<=k[3]+l};p.containsXY=m;p.create=K;p.diameter=function(k){const v=r(k);k=D(k);return Math.sqrt(v*v+k*k)};p.distance=function(k,v){const l=(k[1]+
k[3])/2,d=Math.max(Math.abs(v[0]-(k[0]+k[2])/2)-r(k)/2,0);k=Math.max(Math.abs(v[1]-l)-D(k)/2,0);return Math.sqrt(d*d+k*k)};p.empty=function(k){return k?x(k,ha):K(ha)};p.equals=function(k,v,l){if(null==k||null==v)return k===v;if(!u(k)||!u(v))return!1;if(l)for(let d=0;d<k.length;d++){if(!l(k[d],v[d]))return!1}else for(l=0;l<k.length;l++)if(k[l]!==v[l])return!1;return!0};p.expand=function(k,v,l=k){if("length"in v)if(u(v))l[0]=Math.min(k[0],v[0]),l[1]=Math.min(k[1],v[1]),l[2]=Math.max(k[2],v[2]),l[3]=
Math.max(k[3],v[3]);else{if(2===v.length||3===v.length)l[0]=Math.min(k[0],v[0]),l[1]=Math.min(k[1],v[1]),l[2]=Math.max(k[2],v[0]),l[3]=Math.max(k[3],v[1])}else switch(v.type){case "extent":l[0]=Math.min(k[0],v.xmin);l[1]=Math.min(k[1],v.ymin);l[2]=Math.max(k[2],v.xmax);l[3]=Math.max(k[3],v.ymax);break;case "point":l[0]=Math.min(k[0],v.x),l[1]=Math.min(k[1],v.y),l[2]=Math.max(k[2],v.x),l[3]=Math.max(k[3],v.y)}return l};p.expandPointInPlace=function(k,v){v[0]<k[0]&&(k[0]=v[0]);v[0]>k[2]&&(k[2]=v[0]);
v[1]<k[1]&&(k[1]=v[1]);v[1]>k[3]&&(k[3]=v[1])};p.expandWithNestedArray=function(k,v,l=k){const d=v.length;let e=k[0],z=k[1],J=k[2];k=k[3];for(let Q=0;Q<d;Q++){const W=v[Q];e=Math.min(e,W[0]);z=Math.min(z,W[1]);J=Math.max(J,W[0]);k=Math.max(k,W[1])}l[0]=e;l[1]=z;l[2]=J;l[3]=k;return l};p.fromExtent=function(k,v=K()){v[0]=k.xmin;v[1]=k.ymin;v[2]=k.xmax;v[3]=k.ymax;return v};p.fromValues=function(k,v,l,d,e=K()){e[0]=k;e[1]=v;e[2]=l;e[3]=d;return e};p.height=D;p.intersection=function(k,v,l=k){const d=
v[0],e=v[1],z=v[2];v=v[3];l[0]=C(k[0],d,z);l[1]=C(k[1],e,v);l[2]=C(k[2],d,z);l[3]=C(k[3],e,v);return l};p.intersects=function(k,v){return Math.max(v[0],k[0])<=Math.min(v[2],k[2])&&Math.max(v[1],k[1])<=Math.min(v[3],k[3])};p.is=u;p.isPoint=function(k){return(0===r(k)||!isFinite(k[0]))&&(0===D(k)||!isFinite(k[1]))};p.offset=function(k,v,l,d=k){d[0]=k[0]+v;d[1]=k[1]+l;d[2]=k[2]+v;d[3]=k[3]+l;return d};p.pad=function(k,v,l=k){l[0]=k[0]-v;l[1]=k[1]-v;l[2]=k[2]+v;l[3]=k[3]+v;return l};p.set=x;p.setMax=
function(k,v,l=k){l[2]=v[0];l[3]=v[1];l!==k&&(l[0]=k[0],l[1]=k[1]);return k};p.setMin=function(k,v,l=k){l[0]=v[0];l[1]=v[1];l!==k&&(l[2]=k[2],l[3]=k[3]);return l};p.size=function(k,v){v[0]=k[2]-k[0];v[1]=k[3]-k[1]};p.toExtent=function(k,v){return new fa({xmin:k[0],ymin:k[1],xmax:k[2],ymax:k[3],spatialReference:v})};p.width=r;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(p,n){const fa=Math.PI/180;var K=
n.earth.radius;const r=n.earth.eccentricitySquared;K={a1:K*r,a2:K*r*K*r,a3:K*r*r/2,a4:K*r*K*r*2.5,a5:K*r+K*r*r/2,a6:1-r};n={4326:{a:n.earth.radius,f:n.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:n.moon.radius,f:n.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:n.mars.radius,f:n.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,
f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},
104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,
f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:n.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};p.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;p.earthEllipsoidConstants=K;p.spheroids=n;p.toRadians=fa;Object.defineProperty(p,
"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(p){return function(){function n(K){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(K&&K.steps)for(const r of K.steps)r instanceof p?this.steps.push(r):this.steps.push(new p({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}n.cacheKey=function(K,r){return[void 0!==K.wkid&&null!==K.wkid?K.wkid.toString():"-1",void 0!==K.wkt&&null!==
K.wkt?K.wkt.toString():"",void 0!==r.wkid&&null!==r.wkid?r.wkid.toString():"-1",void 0!==r.wkt&&null!==r.wkt?r.wkt.toString():""].join()};n.fromGE=function(K){const r=new n;let D="";for(const m of K.steps)K=p.fromGE(m),r.steps.push(K),D+=K.uid.toString()+",";r._cached_projection={};r._gtlistentry=null;r._chain=D;return r};var fa=n.prototype;fa.getInverse=function(){const K=new n;K.steps=[];for(let r=this.steps.length-1;0<=r;r--)K.steps.push(this.steps[r].getInverse());return K};fa.getGTListEntry=
function(){let K="";for(const r of this.steps)K+=r.uid.toString()+",";K!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=K);return this._gtlistentry};fa.assignCachedGe=function(K,r,D){this._cached_projection[n.cacheKey(K,r)]=D};fa.getCachedGeTransformation=function(K,r){let D="";for(const m of this.steps)D+=m.uid.toString()+",";D!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=D);K=this._cached_projection[n.cacheKey(K,r)];return void 0===
K?null:K};return n}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){let n=0;return function(){function fa(K=null){this.uid=n++;K?(this._wkt=void 0!==K.wkt?K.wkt:null,this._wkid=void 0!==K.wkid?K.wkid:-1,this._isInverse=void 0!==K.isInverse?!0===K.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}fa.fromGE=function(K){const r=new fa;r._wkt=K.wkt;r._wkid=K.wkid;r._isInverse=K.isInverse;return r};fa.prototype.getInverse=
function(){const K=new fa;K._wkt=this.wkt;K._wkid=this._wkid;K._isInverse=!this.isInverse;return K};p._createClass(fa,[{key:"wkt",get:function(){return this._wkt},set:function(K){this._wkt=K;this.uid=n++}},{key:"wkid",get:function(){return this._wkid},set:function(K){this._wkid=K;this.uid=n++}},{key:"isInverse",get:function(){return this._isInverse},set:function(K){this._isInverse=K;this.uid=n++}}]);return fa}()})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(p,
n,fa){function K(N){N||(N=fa.getLocale());let k=N in u;if(!k){const e=N.split("-");1<e.length&&e[0]in u&&(N=e[0],k=!0);k||(N="en")}const [v,l,d="#,##0.###"]=u[N];return{decimal:v,group:l,pattern:d}}function r(N,k,v){v=v||{};!0===v.places&&(v.places=0);Infinity===v.places&&(v.places=6);k=k.split(".");var l="string"===typeof v.places&&v.places.indexOf(","),d=v.places;l?d=v.places.substring(l+1):0<=d||(d=(k[1]||[]).length);0>v.round||(N=Number(N.toFixed(Number(d))));N=String(Math.abs(N)).split(".");
const e=N[1]||"";k[1]||v.places?(l&&(v.places=v.places.substring(0,l)),l=void 0!==v.places?v.places:k[1]&&k[1].lastIndexOf("0")+1,l>e.length&&(N[1]=e.padEnd(Number(l),"0")),d<e.length&&(N[1]=e.substr(0,Number(d)))):N[1]&&N.pop();d=k[0].replace(",","");l=d.indexOf("0");-1!==l&&(l=d.length-l,l>N[0].length&&(N[0]=N[0].padStart(l,"0")),-1===d.indexOf("#")&&(N[0]=N[0].substr(N[0].length-l)));d=k[0].lastIndexOf(",");let z,J;-1!==d&&(z=k[0].length-d-1,k=k[0].substr(0,d),d=k.lastIndexOf(","),-1!==d&&(J=k.length-
d-1));k=[];for(d=N[0];d;)l=d.length-z,k.push(0<l?d.substr(l):d),d=0<l?d.slice(0,l):"",J&&(z=J,J=void 0);N[0]=k.reverse().join(v.group||",");return N.join(v.decimal||".")}function D(N){N=N||{};var k=K(N.locale);const v=N.pattern||k.pattern,l=k.group,d=k.decimal;let e=1;if(-1!==v.indexOf("%"))e/=100;else if(-1!==v.indexOf("\u2030"))e/=1E3;else if(-1!==v.indexOf("\u00a4"))throw Error("currency notation not supported");k=v.split(";");1===k.length&&k.push("-"+k[0]);return{regexp:ha(k,function(z){z="(?:"+
n.escapeRegExpString(z,".")+")";return z.replace(C,function(J){const Q={signed:!1,separator:N.strict?l:[l,""],fractional:N.fractional,decimal:d,exponent:!1};J=J.split(".");let W=N.places;1===J.length&&1!==e&&(J[1]="###");1===J.length||0===W?Q.fractional=!1:(void 0===W&&(W=N.pattern?J[1].lastIndexOf("0")+1:Infinity),W&&null==N.fractional&&(Q.fractional=!0),!N.places&&W<J[1].length&&(W+=","+J[1].length),Q.places=W);J=J[0].split(",");1<J.length&&(Q.groupSize=J.pop().length,1<J.length&&(Q.groupSize2=
J.pop().length));return"("+m(Q)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:d,factor:e}}function m(N){N=N||{};"places"in N||(N.places=Infinity);"string"!==typeof N.decimal&&(N.decimal=".");"fractional"in N&&!/^0/.test(String(N.places))||(N.fractional=[!0,!1]);"exponent"in N||(N.exponent=[!0,!1]);"eSigned"in N||(N.eSigned=[!0,!1]);var k=x(N);const v=ha(N.fractional,function(d){let e="";d&&0!==N.places&&(e="\\"+N.decimal,e=Infinity===N.places?"(?:"+e+"\\d+)?":e+("\\d{"+N.places+"}"));
return e},!0),l=ha(N.exponent,function(d){return d?"([eE]"+x({signed:N.eSigned})+")":""});k+=v;v&&(k="(?:(?:"+k+")|(?:"+v+"))");return k+l}function x(N){N=N||{};"signed"in N||(N.signed=[!0,!1]);"separator"in N?"groupSize"in N||(N.groupSize=3):N.separator="";const k=ha(N.signed,function(l){return l?"[-+]":""},!0),v=ha(N.separator,function(l){if(!l)return"(?:\\d+)";l=n.escapeRegExpString(l);" "===l?l="\\s":"\u00a0"===l&&(l="\\s\\xa0");const d=N.groupSize,e=N.groupSize2;return e?(l="(?:0|[1-9]\\d{0,"+
(e-1)+"}(?:["+l+"]\\d{"+e+"})*["+l+"]\\d{"+d+"})",0<d-e?"(?:"+l+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":l):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+l+"]\\d{"+d+"})*)"},!0);return k+v}const u={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],
id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},C=/[#0,]*[#0](?:\.0*#*)?/,ha=function(N,k,v){if(!(N instanceof Array))return k(N);const l=[];for(let d=0;d<N.length;d++)l.push(k(N[d]));
N=l.join("|");return"("+(v?"?:":"")+N+")"};p._parseInfo=D;p.format=function(N,k){k={...k};var v=K(k.locale);k.customs=v;var l=k.pattern||v.pattern;if(isNaN(N)||Infinity===Math.abs(N))return null;{k=k||{};v=k.customs.group;const e=k.customs.decimal;l=l.split(";");var d=l[0];l=l[0>N?1:0]||"-"+d;if(-1!==l.indexOf("%"))N*=100;else if(-1!==l.indexOf("\u2030"))N*=1E3;else{if(-1!==l.indexOf("\u00a4"))throw Error("currency notation not supported");if(-1!==l.indexOf("E"))throw Error("exponential notation not supported");
}const z=C;d=d.match(z);if(!d)throw Error("unable to find a number expression in pattern: "+l);!1===k.fractional&&(k.places=0);N=l.replace(z,r(N,d[0],{decimal:e,group:v,places:k.places,round:k.round}))}return N};p.getCustoms=K;p.parse=function(N,k){k=D(k);N=(new RegExp("^"+k.regexp+"$")).exec(N);if(!N)return NaN;let v=N[1];if(!N[1]){if(!N[2])return NaN;v=N[2];k.factor*=-1}v=v.replace(new RegExp("["+k.group+"\\s\\xa0]","g"),"").replace(k.decimal,".");return Number(v)*k.factor};p.regexp=function(N){return D(N).regexp};
Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/locale":function(){define(["exports","../core/global"],function(p,n){function fa(){var l,d;return null!=(l=null!=ha?ha:null==(d=n.navigator)?void 0:d.language)?l:"en"}function K(){void 0===C&&(C=fa());return C}function r(){var l;const d=null!=(l=u)?l:fa();C!==d&&(C=d,[...v].forEach(e=>{e.call(null,d)}),[...k].forEach(e=>{e.call(null,d)}))}var D,m,x;let u=void 0,C=void 0;const ha=null!=(D=null==(m=n.esriConfig)?void 0:m.locale)?D:null==
(x=n.dojoConfig)?void 0:x.locale,N={he:!0,ar:!0},k=[],v=[];null==n.addEventListener?void 0:n.addEventListener("languagechange",r);p.beforeLocaleChange=function(l){v.push(l);return{remove(){k.splice(v.indexOf(l),1)}}};p.getDefaultLocale=fa;p.getLocale=K;p.onLocaleChange=function(l){k.push(l);return{remove(){k.splice(k.indexOf(l),1)}}};p.prefersRTL=function(l=K()){l=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(l);l=null==l?void 0:l[1].toLowerCase();return void 0!==l&&(N[l]||!1)};p.setLocale=function(l){u=
l?l:void 0;r()};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){return function(){function n(fa=null,K={},r,D){this.displayId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=fa;K&&(this.attributes=K);r&&(this.centroid=r);null!=D&&(this.objectId=D)}n.prototype.weakClone=function(){const fa=new n(this.geometry,this.attributes,this.centroid,this.objectId);fa.displayId=
this.displayId;fa.geohashIndexed=this.geohashIndexed;fa.geohashX=this.geohashX;fa.geohashY=this.geohashY;return fa};p._createClass(n,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);return n}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){return function(){function n(K=[],r=[],D=!1){this.lengths=null!=K?K:[];this.coords=null!=r?r:[];this.hasIndeterminateRingOrder=
D}var fa=n.prototype;fa.forEachVertex=function(K){let r=0;this.lengths.length||K(this.coords[0],this.coords[1]);for(let D=0;D<this.lengths.length;D++){const m=this.lengths[D];for(let x=0;x<m;x++)K(this.coords[2*(x+r)],this.coords[2*(x+r)+1]);r+=m}};fa.clone=function(){return new n(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};p._createClass(n,[{key:"isPoint",get:function(){return 0===this.lengths.length}}]);return n}()})},"esri/layers/support/FieldsIndex":function(){define(function(){return function(){function p(fa){this.fields=
fa;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(fa){var K=[];for(const r of fa)if(fa=r&&r.name){const D=fa.toLowerCase().trim();this._fieldsMap.set(fa,r);this._fieldsMap.set(D,r);K.push(D);if("date"===r.type||"esriFieldTypeDate"===r.type)this.dateFields.push(r),this._dateFieldsSet.add(r)}K.sort();this.uid=K.join(",")}}var n=p.prototype;n.destroy=function(){this._fieldsMap.clear()};n.has=function(fa){return null!=this.get(fa)};n.get=function(fa){return null!=fa?this._fieldsMap.get(fa)||
this._fieldsMap.get(fa.toLowerCase().trim()):void 0};n.isDateField=function(fa){return this._dateFieldsSet.has(this.get(fa))};n.normalizeFieldName=function(fa){if(fa=this.get(fa))return fa.name};return p}()})},"esri/geometry/geometryAdapters/json":function(){define(["exports"],function(p){let n=function(m,x,u){this.x=m;this.y=x;this.spatialReference=u;this.m=this.z=void 0},fa=function(m,x,u,C){this.rings=m;this.spatialReference=x;this.hasM=this.hasZ=void 0;u&&(this.hasZ=u);C&&(this.hasM=C)},K=function(m,
x,u,C){this.paths=m;this.spatialReference=x;this.hasM=this.hasZ=void 0;u&&(this.hasZ=u);C&&(this.hasM=C)},r=function(m,x,u,C){this.points=m;this.spatialReference=x;this.hasM=this.hasZ=void 0;u&&(this.hasZ=u);C&&(this.hasM=C)},D=function(m,x,u,C,ha){this.xmin=m;this.ymin=x;this.xmax=u;this.ymax=C;this.spatialReference=ha;this.mmax=this.mmin=this.zmax=this.zmin=void 0};p.jsonAdapter={convertToGEGeometry:function(m,x){return null==x?null:m.convertJSONToGeometry(x)},exportPoint:function(m,x,u){u=new n(m.getPointX(x),
m.getPointY(x),u);const C=m.hasZ(x),ha=m.hasM(x);C&&(u.z=m.getPointZ(x));ha&&(u.m=m.getPointM(x));return u},exportPolygon:function(m,x,u){return new fa(m.exportPaths(x),u,m.hasZ(x),m.hasM(x))},exportPolyline:function(m,x,u){return new K(m.exportPaths(x),u,m.hasZ(x),m.hasM(x))},exportMultipoint:function(m,x,u){return new r(m.exportPoints(x),u,m.hasZ(x),m.hasM(x))},exportExtent:function(m,x,u){var C=m.hasZ(x);const ha=m.hasM(x);u=new D(m.getXMin(x),m.getYMin(x),m.getXMax(x),m.getYMax(x),u);C&&(C=m.getZExtent(x),
u.zmin=C.vmin,u.zmax=C.vmax);ha&&(m=m.getMExtent(x),u.mmin=m.vmin,u.mmax=m.vmax);return u}};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../core/promiseUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils ../../../geometry/projection ../../../geometry/geometryAdapters/json".split(" "),function(p,n,fa,K,r,D){function m(v,l){if(!l)return null;if("x"in l){var d={x:0,y:0};
[d.x,d.y]=v(l.x,l.y,C);null!=l.z&&(d.z=l.z);null!=l.m&&(d.m=l.m);return d}if("xmin"in l)return d={xmin:0,ymin:0,xmax:0,ymax:0},[d.xmin,d.ymin]=v(l.xmin,l.ymin,C),[d.xmax,d.ymax]=v(l.xmax,l.ymax,C),l.hasZ&&(d.zmin=l.zmin,d.zmax=l.zmax,d.hasZ=!0),l.hasM&&(d.mmin=l.mmin,d.mmax=l.mmax,d.hasM=!0),d;if("rings"in l)return{rings:x(l.rings,v),hasM:l.hasM,hasZ:l.hasZ};if("paths"in l)return{paths:x(l.paths,v),hasM:l.hasM,hasZ:l.hasZ};if("points"in l)return{points:u(l.points,v),hasM:l.hasM,hasZ:l.hasZ}}function x(v,
l){const d=[];for(const e of v)d.push(u(e,l));return d}function u(v,l){const d=[];for(const e of v)v=l(e[0],e[1],[0,0]),d.push(v),2<e.length&&v.push(e[2]),3<e.length&&v.push(e[3]);return d}const C=[0,0],ha=m.bind(null,K.lngLatToXY),N=m.bind(null,K.xyToLngLat),k=new (function(){function v(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var l=v.prototype;l.push=async function(d,e,z){d&&d.length&&e&&z&&fa.equals(e,z);const J={geometries:d,inSpatialReference:e,outSpatialReference:z,
resolve:null};this._jobs.push(J);return n.create(Q=>{J.resolve=Q;null===this._timer&&(this._timer=setTimeout(this._process,10))})};l._process=function(){this._timer=null;const d=this._jobs.shift();if(d){var {geometries:e,inSpatialReference:z,outSpatialReference:J,resolve:Q}=d;K.canProject(z,J)?fa.isWebMercator(J)?Q(e.map(ha)):Q(e.map(N)):Q(r.projectMany(D.jsonAdapter,e,z,J,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return v}());p.checkProjectionSupport=async function(v,
l){l&&(v=Array.isArray(v)?v.map(d=>{var e;return null==(e=d.geometry)?void 0:e.spatialReference}):[v],await r.initializeProjection(v.map(d=>({source:d,dest:l}))))};p.project=function(v,l,d){if(!v)return v;d||(d=l,l=v.spatialReference);return fa.isValid(l)&&fa.isValid(d)&&!fa.equals(l,d)?K.canProject(l,d)?fa.isWebMercator(d)?ha(v):N(v):r.projectMany(D.jsonAdapter,[v],l,d,null)[0]:v};p.projectMany=async function(v,l,d){return k.push(v,l,d)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports",
"../../../../core/has","../../../../core/lang","../../../../symbols/support/defaultsJSON"],function(p,n,fa,K){p.createDefaultAttributesFunction=function(r,D){if(n("csp-restrictions"))return()=>({[D]:null,...r});try{let m=`this.${D} = null;`;for(const u in r){const C=u.indexOf(".")?`["${u}"]`:`.${u}`;m+=`this${C} = ${JSON.stringify(r[u])};`}const x=new Function(m);return()=>new x}catch(m){return()=>({[D]:null,...r})}};p.createDefaultTemplate=function(r={}){return[{name:"New Feature",description:"",
prototype:{attributes:fa.clone(r)}}]};p.createDrawingInfo=function(r){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===r||"esriGeometryMultipoint"===r?K.defaultPointSymbolJSON:"esriGeometryPolyline"===r?K.defaultPolylineSymbolJSON:K.defaultPolygonSymbolJSON}}};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(p){const n=[252,146,31,255],fa={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",
style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},K={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n};p.defaultColor=n;p.defaultOutlineColor=[153,153,153,255];p.defaultPointSymbolJSON=fa;p.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};p.defaultPolylineSymbolJSON=K;p.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,
weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};p.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};p.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};p.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/FeatureStore":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/Logger ../../../core/Error ../../../core/Evented ../../../geometry/support/aaBoundingRect ../featureConversionUtils ../../../geometry/support/aaBoundingBox ./BoundsStore ./optimizedFeatureQueryEngineAdapter".split(" "),
function(p,n,fa,K,r,D,m,x,u,C){return function(){function ha(k){this.geometryInfo=k;this._boundsStore=new u.BoundsStore;this._featuresById=new Map;this._markedIds=new Set;this.events=new r;this.featureAdapter=C.optimizedFeatureQueryEngineAdapter}var N=ha.prototype;N.add=function(k){this._add(k);this._emitChanged()};N.addMany=function(k){for(const v of k)this._add(v);this._emitChanged()};N.clear=function(){this._featuresById.clear();this._boundsStore.clear();this._emitChanged()};N.removeById=function(k){k=
this._featuresById.get(k);if(!k)return null;this._remove(k);this._emitChanged();return k};N.removeManyById=function(k){this._boundsStore.invalidateIndex();for(const v of k)(k=this._featuresById.get(v))&&this._remove(k);this._emitChanged()};N.forEachBounds=function(k,v,l){for(const d of k)(k=this._boundsStore.get(d.objectId))&&v(x.fromRect(l,k))};N.getFeature=function(k){return this._featuresById.get(k)};N.has=function(k){return this._featuresById.has(k)};N.forEach=function(k){this._featuresById.forEach(v=>
k(v))};N.forEachInBounds=function(k,v){this._boundsStore.forEachInBounds(k,l=>{v(this._featuresById.get(l))})};N.startMarkingUsedFeatures=function(){this._boundsStore.invalidateIndex();this._markedIds.clear()};N.sweep=function(){let k=!1;this._featuresById.forEach((v,l)=>{this._markedIds.has(l)||(k=!0,this._remove(v))});this._markedIds.clear();k&&this._emitChanged()};N._emitChanged=function(){this.events.emit("changed",void 0)};N._add=function(k){if(k){var v=k.objectId;if(null==v)fa.getLogger("esri.layers.graphics.data.FeatureStore").error(new K("featurestore:invalid-feature",
"feature id is missing",{feature:k}));else{var l=this._featuresById.get(v);this._markedIds.add(v);if(l){k.displayId=l.displayId;var d=this._boundsStore.get(v);this._boundsStore.delete(v)}else if(n.isSome(this.onFeatureAdd))this.onFeatureAdd(k);k.geometry&&k.geometry.coords&&k.geometry.coords.length?(d=m.getBoundsOptimizedGeometry(d||D.create(),k.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(v,d)):this._boundsStore.set(v,null);this._featuresById.set(v,k)}}};N._remove=
function(k){if(n.isSome(this.onFeatureRemove))this.onFeatureRemove(k);this._markedIds.delete(k.objectId);this._boundsStore.delete(k.objectId);this._featuresById.delete(k.objectId);return k};p._createClass(ha,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){if(!this.numFeatures)return null;
const k=D.create(D.NEGATIVE_INFINITY);this._featuresById.forEach(v=>{if(v=this._boundsStore.get(v.objectId))k[0]=Math.min(v[0],k[0]),k[1]=Math.min(v[1],k[1]),k[2]=Math.max(v[2],k[2]),k[3]=Math.max(v[3],k[3])});return k}},{key:"storeStatistics",get:function(){let k=0;this._featuresById.forEach(v=>{v.geometry&&v.geometry.coords&&(k+=v.geometry.coords.length)});return{featureCount:this._featuresById.size,vertexCount:k/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}}]);return ha}()})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers",
"../chunks/tslib.es6","./handleUtils","./accessorSupport/decorators/subclass","./Accessor"],function(p,n,fa,K,r){let D=function(){function m(){this._emitter=new m.EventEmitter(this)}var x=m.prototype;x.emit=function(u,C){return this._emitter.emit(u,C)};x.on=function(u,C){return this._emitter.on(u,C)};x.once=function(u,C){return this._emitter.once(u,C)};x.hasEventListener=function(u){return this._emitter.hasEventListener(u)};return m}();(function(m){let x=function(){function C(N=null){this.target=
N;this._listenersMap=null}var ha=C.prototype;ha.clear=function(){this._listenersMap&&this._listenersMap.clear()};ha.emit=function(N,k){N=this._listenersMap&&this._listenersMap.get(N);if(!N)return!1;const v=this.target||this;[...N].forEach(l=>{l.call(v,k)});return 0<N.length};ha.on=function(N,k){if(Array.isArray(N)){var v=N.map(l=>this.on(l,k));return fa.handlesGroup(v)}if(-1<N.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||
(this._listenersMap=new Map);v=this._listenersMap.get(N)||[];v.push(k);this._listenersMap.set(N,v);return{remove:()=>{const l=this._listenersMap&&this._listenersMap.get(N)||[],d=l.indexOf(k);0<=d&&l.splice(d,1)}}};ha.once=function(N,k){let v;return v=this.on(N,l=>{v.remove();k.call(null,l)})};ha.hasEventListener=function(N){N=this._listenersMap&&this._listenersMap.get(N);return null!=N&&0<N.length};return C}();m.EventEmitter=x;m.EventedMixin=C=>{C=function(ha){function N(){var v=ha.apply(this,arguments)||
this;v._emitter=new x;return v}p._inheritsLoose(N,ha);var k=N.prototype;k.emit=function(v,l){return this._emitter.emit(v,l)};k.on=function(v,l){return this._emitter.on(v,l)};k.once=function(v,l){return this._emitter.once(v,l)};k.hasEventListener=function(v){return this._emitter.hasEventListener(v)};return N}(C);return C=n.__decorate([K.subclass("esri.core.Evented")],C)};let u=function(C){function ha(){var k=C.apply(this,arguments)||this;k._emitter=new D.EventEmitter(p._assertThisInitialized(k));return k}
p._inheritsLoose(ha,C);var N=ha.prototype;N.emit=function(k,v){return this._emitter.emit(k,v)};N.on=function(k,v){return this._emitter.on(k,v)};N.once=function(k,v){return this._emitter.once(k,v)};N.hasEventListener=function(k){return this._emitter.hasEventListener(k)};return ha}(r);u=n.__decorate([K.subclass("esri.core.Evented")],u);m.EventedAccessor=u})(D||(D={}));return D})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Logger ../../core/Error ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(p,n,fa,K,r,D,m){function x(f,t){return f?t?4:3:t?3:2}function u(f,t,F,H){if(f){if(F)return t&&H?b:ya;if(t&&H)return xa}else if(t&&H)return ya;return qa}function C({scale:f,translate:t},F){return Math.round((F-t[0])/f[0])}function ha({scale:f,translate:t},F){return Math.round((t[1]-F)/f[1])}function N({scale:f,translate:t},F){return F*f[0]+t[0]}function k({scale:f,translate:t},F){return t[1]-F*f[1]}function v(f){f=f.coords;return{x:f[0],y:f[1]}}function l(f,t){f.coords[0]=t.x;f.coords[1]=
t.y;return f}function d(f){f=f.coords;return{x:f[0],y:f[1],z:f[2]}}function e(f,t){f.coords[0]=t.x;f.coords[1]=t.y;f.coords[2]=t.z;return f}function z(f){f=f.coords;return{x:f[0],y:f[1],m:f[2]}}function J(f,t){f.coords[0]=t.x;f.coords[1]=t.y;f.coords[2]=t.m;return f}function Q(f){f=f.coords;return{x:f[0],y:f[1],z:f[2],m:f[3]}}function W(f,t){f.coords[0]=t.x;f.coords[1]=t.y;f.coords[2]=t.z;f.coords[3]=t.m;return f}function X(f,t){return f&&t?W:f?e:t?J:l}function ea(f,t,F,H,Y){F=X(F,H);for(const V of t){const {geometry:ja,
attributes:la}=V;let ma;ja&&(ma=F(new m,ja));f.push(new r(ma,la,null,la[Y]))}return f}function oa(f,t,F,H){for(const Y of t){const {geometry:V,attributes:ja}=Y;let la;V&&(la=da(V,F,H));f.push({attributes:ja,geometry:la})}return f}function da(f,t,F){if(!f)return null;const H=x(t,F),Y=[];for(let V=0;V<f.coords.length;V+=H){const ja=[];for(let la=0;la<H;la++)ja.push(f.coords[V+la]);Y.push(ja)}return t?F?{points:Y,hasZ:t,hasM:F}:{points:Y,hasZ:t}:F?{points:Y,hasM:F}:{points:Y}}function M(f,t,F,H,Y){F=
x(F,H);for(const V of t){t=V.geometry;H=V.attributes;let ja;t&&(ja=Z(new m,t,F));f.push(new r(ja,H,null,H[Y]))}return f}function Z(f,t,F=x(t.hasZ,t.hasM)){f.lengths[0]=t.points.length;const H=f.coords;let Y=0;for(const V of t.points)for(t=0;t<F;t++)H[Y++]=V[t];return f}function ka(f,t,F){if(!f)return null;const H=x(t,F),{coords:Y,lengths:V}=f;f=[];let ja=0;for(const la of V){const ma=[];for(let va=0;va<la;va++){const ta=[];for(let Ba=0;Ba<H;Ba++)ta.push(Y[ja++]);ma.push(ta)}f.push(ma)}return t?F?
{paths:f,hasZ:t,hasM:F}:{paths:f,hasZ:t}:F?{paths:f,hasM:F}:{paths:f}}function S(f,t,F,H,Y){F=x(F,H);for(const V of t){t=V.geometry;H=V.attributes;let ja;t&&(ja=U(new m,t,F));f.push(new r(ja,H,null,H[Y]))}return f}function U(f,t,F=x(t.hasZ,t.hasM)){const {lengths:H,coords:Y}=f;let V=0;for(const ja of t.paths){for(const la of ja)for(t=0;t<F;t++)Y[V++]=la[t];H.push(ja.length)}return f}function B(f,t,F){if(!f)return null;const H=x(t,F),{coords:Y,lengths:V}=f;f=[];let ja=0;for(const la of V){const ma=
[];for(let va=0;va<la;va++){const ta=[];for(let Ba=0;Ba<H;Ba++)ta.push(Y[ja++]);ma.push(ta)}f.push(ma)}return t?F?{rings:f,hasZ:t,hasM:F}:{rings:f,hasZ:t}:F?{rings:f,hasM:F}:{rings:f}}function q(f,t,F,H,Y){for(const V of t){t=V.geometry;const ja=V.centroid,la=V.attributes;let ma;t&&(ma=E(new m,t,F,H));ja?f.push(new r(ma,la,l(new m,ja),la[Y])):f.push(new r(ma,la,null,la[Y]))}return f}function E(f,t,F=t.hasZ,H=t.hasM){A(f,t.rings,F,H);return f}function A(f,t,F,H){F=x(F,H);const {lengths:Y,coords:V}=
f;H=0;Y.length=V.length=0;for(const ja of t){for(const la of ja)for(t=0;t<F;t++)V[H++]=la[t];Y.push(ja.length)}return f}function I(f,t,F,H,Y,V){f.length=0;if(!F){for(const ja of t)f.push(new r(null,ja.attributes,null,ja.attributes[V]));return f}switch(F){case "esriGeometryPoint":return ea(f,t,H,Y,V);case "esriGeometryMultipoint":return M(f,t,H,Y,V);case "esriGeometryPolyline":return S(f,t,H,Y,V);case "esriGeometryPolygon":return q(f,t,H,Y,V);default:P.error("convertToFeatureSet:unknown-geometry",
new fa(`Unable to parse unknown geometry type '${F}'`)),f.length=0}return f}function G(f,t,F,H){f=f&&("coords"in f?f:f.geometry);if(!f)return null;switch(t){case "esriGeometryPoint":return t=v,F&&H?t=Q:F?t=d:H&&(t=z),t(f);case "esriGeometryMultipoint":return da(f,F,H);case "esriGeometryPolyline":return ka(f,F,H);case "esriGeometryPolygon":return B(f,F,H);default:P.error("convertToGeometry:unknown-geometry",new fa(`Unable to parse unknown geometry type '${t}'`))}}function L(f,t,F,H,Y){f.length=0;switch(F){case "esriGeometryPoint":var V=
v;H&&Y?V=Q:H?V=d:Y&&(V=z);for(var ja of t){const {geometry:la,attributes:ma}=ja;H=la?V(la):null;f.push({attributes:ma,geometry:H})}break;case "esriGeometryMultipoint":return oa(f,t,H,Y);case "esriGeometryPolyline":for(const la of t){const {geometry:ma,attributes:va}=la;let ta;ma&&(ta=ka(ma,H,Y));f.push({attributes:va,geometry:ta})}break;case "esriGeometryPolygon":for(V of t){const {geometry:la,attributes:ma,centroid:va}=V;let ta;la&&(ta=B(la,H,Y));va?(ja=v(va),f.push({attributes:ma,centroid:ja,geometry:ta})):
f.push({attributes:ma,geometry:ta})}break;default:P.error("convertToFeatureSet:unknown-geometry",new fa(`Unable to parse unknown geometry type '${F}'`))}return f}function ia(f,t,F,H,Y,V,ja=F,la=H){f.lengths.length&&(f.lengths.length=0);f.coords.length&&(f.coords.length=0);if(!t||!t.coords.length)return null;Y=ca[Y];const {coords:ma,lengths:va}=t;t=x(F,H);const ta=x(F&&ja,H&&la);F=u(F,H,ja,la);if(!va.length)return F(f.coords,ma,0,0,C(V,ma[0]),ha(V,ma[1])),f.lengths.length&&(f.lengths.length=0),f.coords.length=
t,f;let Ba,Ca=0,Da,Ga=0;for(const Ha of va){if(Ha<Y)continue;let Ka=0;Da=Ga;la=H=C(V,ma[Ca]);Ba=ja=ha(V,ma[Ca+1]);F(f.coords,ma,Da,Ca,la,Ba);Ka++;Ca+=t;Da+=ta;for(let Ia=1;Ia<Ha;Ia++,Ca+=t)if(la=C(V,ma[Ca]),Ba=ha(V,ma[Ca+1]),la!==H||Ba!==ja)F(f.coords,ma,Da,Ca,la-H,Ba-ja),Da+=ta,Ka++,H=la,ja=Ba;Ka>=Y&&(f.lengths.push(Ka),Ga=Da)}f.coords.length=Ga;return f.coords.length?f:null}function pa(f,t,F,H,Y,V,ja){let la=H,ma=0;for(let ta=V+F;ta<ja;ta+=F){{var va=t[ta];const Ba=t[ta+1],Ca=t[ja],Da=t[ja+1];let Ga=
t[V],Ha=t[V+1],Ka=Ca-Ga,Ia=Da-Ha;if(0!==Ka||0!==Ia){const Ja=((va-Ga)*Ka+(Ba-Ha)*Ia)/(Ka*Ka+Ia*Ia);1<Ja?(Ga=Ca,Ha=Da):0<Ja&&(Ga+=Ka*Ja,Ha+=Ia*Ja)}Ka=va-Ga;Ia=Ba-Ha;va=Ka*Ka+Ia*Ia}va>la&&(ma=ta,la=va)}la>H&&(ma-V>F&&pa(f,t,F,H,Y,V,ma),Y(f,t,f.length,ma,t[ma],t[ma+1]),ja-ma>F&&pa(f,t,F,H,Y,ma,ja))}function wa(f,t,F,H,Y){const {coords:V,lengths:ja}=t,la=F?H?b:ya:H?ya:qa;F=x(F,H);if(!V.length)return f!==t&&(f.lengths.length=0,f.coords.length=0),f;if(!ja.length)return la(f.coords,V,0,0,N(Y,V[0]),k(Y,V[1])),
f!==t&&(f.lengths.length=0,f.coords.length=F),f;const [ma,va]=Y.scale;H=0;for(let ta=0;ta<ja.length;ta++){const Ba=ja[ta];f.lengths[ta]=Ba;let Ca=N(Y,V[H]),Da=k(Y,V[H+1]);la(f.coords,V,H,H,Ca,Da);H+=F;for(let Ga=1;Ga<Ba;Ga++,H+=F)Ca+=V[H]*ma,Da-=V[H+1]*va,la(f.coords,V,H,H,Ca,Da)}f!==t&&(f.lengths.length=ja.length,f.coords.length=V.length);return f}function za(f,t,F,H){let Y=0,V=f[H*t],ja=f[H*(t+1)];for(let la=1;la<F;la++){const ma=V+f[H*(t+la)],va=ja+f[H*(t+la)+1],ta=(ma-V)*(va+ja);V=ma;ja=va;Y+=
ta}return.5*Y}const P=n.getLogger("esri.tasks.support.optimizedFeatureSet"),ca={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},qa=(f,t,F,H,Y,V)=>{f[F]=Y;f[F+1]=V},ya=(f,t,F,H,Y,V)=>{f[F]=Y;f[F+1]=V;f[F+2]=t[H+2]},xa=(f,t,F,H,Y,V)=>{f[F]=Y;f[F+1]=V;f[F+2]=t[H+3]},b=(f,t,F,H,Y,V)=>{f[F]=Y;f[F+1]=V;f[F+2]=t[H+2];f[F+3]=t[H+3]},g=[],O=[];p.convertFromFeature=function(f,t,F,H,Y){g[0]=f;[f]=I(O,g,t,F,H,Y);g.length=O.length=0;return f};p.convertFromFeatureSet=
function(f,t){const F=new D,{hasM:H,hasZ:Y,features:V,objectIdFieldName:ja,spatialReference:la,geometryType:ma,exceededTransferLimit:va,transform:ta,fields:Ba}=f;Ba&&(F.fields=Ba);F.geometryType=ma;F.objectIdFieldName=ja||t;F.spatialReference=la;if(!F.objectIdFieldName)return P.error(new fa("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),F;V&&I(F.features,V,ma,Y,H,F.objectIdFieldName);va&&(F.exceededTransferLimit=va);H&&(F.hasM=H);Y&&(F.hasZ=Y);ta&&(F.transform=ta);
return F};p.convertFromFeatures=I;p.convertFromGeometry=function(f,t,F){if(!f)return null;const H=new m;"hasZ"in f&&null==t&&(t=f.hasZ);"hasM"in f&&null==F&&(F=f.hasM);if(K.isPoint(f))return X(null!=t?t:null!=f.z,null!=F?F:null!=f.m)(H,f);if(K.isPolygon(f))return E(H,f,t,F);if(K.isPolyline(f))return U(H,f,x(t,F));if(K.isMultipoint(f))return Z(H,f,x(t,F));P.error("convertFromGeometry:unknown-geometry",new fa(`Unable to parse unknown geometry type '${f}'`))};p.convertFromGraphics=function(f,t,F,H,Y,
V){const ja=f.length;switch(F){case "esriGeometryPoint":ea(f,t,H,Y,V);break;case "esriGeometryMultipoint":M(f,t,H,Y,V);break;case "esriGeometryPolyline":S(f,t,H,Y,V);break;case "esriGeometryPolygon":q(f,t,H,Y,V);break;default:P.error("convertToFeatureSet:unknown-geometry",new fa(`Unable to parse unknown geometry type '${F}'`))}for(H=0;H<t.length;H++)f[H+ja].geometryType=F,f[H+ja].insertAfter=t[H].insertAfter,f[H+ja].groupId=t[H].groupId;return f};p.convertFromMultipoint=Z;p.convertFromMultipointFeatures=
M;p.convertFromNestedArray=A;p.convertFromPoint=function(f,t,F=X(null!=t.z,null!=t.m)){return F(f,t)};p.convertFromPointFeatures=ea;p.convertFromPolygon=E;p.convertFromPolyline=U;p.convertFromPolylineFeatures=S;p.convertToFeature=function(f,t,F,H){O[0]=f;L(g,O,t,F,H);f=g[0];g.length=O.length=0;return f};p.convertToFeatureSet=function(f){const {objectIdFieldName:t,spatialReference:F,transform:H,fields:Y,hasM:V,hasZ:ja,features:la,geometryType:ma,exceededTransferLimit:va,uniqueIdField:ta,queryGeometry:Ba,
queryGeometryType:Ca}=f;f=L([],la,ma,ja,V);const Da=G(Ba,Ca,!1,!1);f={features:f,fields:Y,geometryType:ma,objectIdFieldName:t,spatialReference:F,uniqueIdField:ta,queryGeometry:Da};H&&(f.transform=H);va&&(f.exceededTransferLimit=va);V&&(f.hasM=V);ja&&(f.hasZ=ja);return f};p.convertToFeatures=L;p.convertToGeometry=G;p.convertToMultipoint=da;p.convertToMultipointFeatures=oa;p.convertToPoint=function(f,t,F){return f?t?F?Q(f):d(f):F?z(f):v(f):null};p.convertToPolygon=B;p.convertToPolyline=ka;p.deltaDecodeGeometry=
function(f,t){const F=f.clone(),H=f.coords;f=f.lengths;let Y=0;for(let la=0;la<f.length;la++){const ma=f[la];var V=H[t*Y],ja=H[t*Y+1];for(let va=1;va<ma;va++)V+=H[t*(Y+va)],ja+=H[t*(Y+va)+1],F.coords[t*(Y+va)]=V,F.coords[t*(Y+va)+1]=ja;Y+=ma}return F};p.deltaEncodeGeometry=function(f,t){const F=f.clone(),H=f.coords;f=f.lengths;let Y=0;for(let ja=0;ja<f.length;ja++){const la=f[ja];let ma=H[t*Y];var V=H[t*Y+1];for(let va=1;va<la;va++){const ta=H[t*(Y+va)],Ba=H[t*(Y+va)+1];V=Ba-V;F.coords[t*(Y+va)]=
ta-ma;F.coords[t*(Y+va)+1]=V;ma=ta;V=Ba}Y+=la}return F};p.generalizeOptimizedGeometry=function(f,t,F,H,Y,V,ja=F,la=H){f.lengths.length&&(f.lengths.length=0);f.coords.length&&(f.coords.length=0);if(!t||!t.coords.length)return null;Y=ca[Y];const {coords:ma,lengths:va}=t;t=x(F,H);const ta=x(F&&ja,H&&la);F=u(F,H,ja,la);if(!va.length)return F(f.coords,ma,0,0,ma[0],ma[1]),f.lengths.length&&(f.lengths.length=0),f.coords.length=t,f;H=0;V*=V;for(const Ba of va){if(Ba<Y){H+=Ba*t;continue}ja=f.coords.length/
ta;la=H;const Ca=H+(Ba-1)*t;F(f.coords,ma,f.coords.length,la,ma[la],ma[la+1]);pa(f.coords,ma,t,V,F,la,Ca);F(f.coords,ma,f.coords.length,Ca,ma[Ca],ma[Ca+1]);la=f.coords.length/ta-ja;la>=Y?f.lengths.push(la):f.coords.length=ja*ta;H+=Ba*t}return f.coords.length?f:null};p.getBoundsOptimizedGeometry=function(f,t,F,H){if(!t||!t.coords||!t.coords.length)return null;F=x(F,H);let Y=H=Number.POSITIVE_INFINITY,V=Number.NEGATIVE_INFINITY,ja=Number.NEGATIVE_INFINITY;if(t&&t.coords){t=t.coords;for(let la=0;la<
t.length;la+=F){const ma=t[la],va=t[la+1];H=Math.min(H,ma);V=Math.max(V,ma);Y=Math.min(Y,va);ja=Math.max(ja,va)}}f[0]=H;f[1]=Y;f[2]=V;f[3]=ja;return f};p.getQuantizedArea=function(f,t){const {coords:F,lengths:H}=f;let Y=f=0;for(let V=0;V<H.length;V++)Y+=za(F,f,H[V],t),f+=V;return Math.abs(Y)};p.getQuantizedBoundsOptimizedGeometry=function(f,t,F,H){F=x(F,H);const {lengths:Y,coords:V}=t;H=t=Number.POSITIVE_INFINITY;let ja=Number.NEGATIVE_INFINITY,la=Number.NEGATIVE_INFINITY,ma=0;for(const va of Y){let ta=
V[ma],Ba=V[ma+1];t=Math.min(ta,t);H=Math.min(Ba,H);ja=Math.max(ta,ja);la=Math.max(Ba,la);ma+=F;for(let Ca=1;Ca<va;Ca++,ma+=F){const Da=V[ma],Ga=V[ma+1];ta+=Da;Ba+=Ga;0>Da&&(t=Math.min(t,ta));0<Da&&(ja=Math.max(ja,ta));0>Ga?H=Math.min(H,Ba):0<Ga&&(la=Math.max(la,Ba))}}f[0]=t;f[1]=H;f[2]=ja;f[3]=la;return f};p.getSignedQuantizedRingArea=za;p.quantizeOptimizedFeatureSet=function(f,t){const {geometryType:F,features:H,hasM:Y,hasZ:V}=t;if(!f)return t;for(let ja=0;ja<H.length;ja++){const la=H[ja],ma=la.weakClone();
ma.geometry=new m;ia(ma.geometry,la.geometry,Y,V,F,f);la.centroid&&(ma.centroid=new m,ia(ma.centroid,la.centroid,Y,V,"esriGeometryPoint",f));H[ja]=ma}t.transform=f;return t};p.quantizeOptimizedGeometry=ia;p.quantizeX=C;p.quantizeY=ha;p.removeCollinearVectices=function(f,t,F,H,Y){if(!t||!t.coords||!t.coords.length)return null;F=ca[F];const {coords:V,lengths:ja}=t;t=u(H,Y,H,Y);H=x(H,Y);let la=Y=0,ma=0,va=0;for(const Ca of ja){la=va;t(f.coords,V,la,Y,V[Y],V[Y+1]);Y+=H;var ta=V[Y];let Da=V[Y+1],Ga=ta,
Ha=Da;var Ba=Da/ta;la+=H;t(f.coords,V,la,Y,Ga,Ha);Y+=H;for(let Ka=2;Ka<Ca;Ka++){ta=V[Y];Da=V[Y+1];const Ia=Da/ta,Ja=Ba===Ia||!isFinite(Ba)&&!isFinite(Ia);Ba=Ja&&isFinite(Ia)?0<=Ba&&0<=Ia||0>=Ba&&0>=Ia:0<=Ha&&0<=Da||0>=Ha&&0>=Da;Ja&&Ba?(Ga+=ta,Ha+=Da):(Ga=ta,Ha=Da,la+=H);t(f.coords,V,la,Y,Ga,Ha);Y+=H;Ba=Ia}la+=H;ta=(la-va)/H;ta>=F&&(f.lengths[ma]=ta,va=la,ma++)}f.coords.length>va&&(f.coords.length=va);f.lengths.length>ma&&(f.lengths.length=ma);return f.coords.length&&f.lengths.length?f:null};p.removeZMValues=
function(f,t,F,H,Y,V){const ja=x(F,H);F=u(F,H,Y,V);H=t.coords;f.coords.length=0;f.lengths.length=0;f.lengths.push(...t.lengths);for(t=0;t<H.length;t+=ja)F(f.coords,H,f.coords.length,t,H[t],H[t+1]);return f};p.unquantizeOptimizedFeatureSet=function(f){const {transform:t,features:F,hasM:H,hasZ:Y}=f;if(!t)return f;for(const V of F)V.geometry&&wa(V.geometry,V.geometry,H,Y,t),V.centroid&&wa(V.centroid,V.centroid,H,Y,t);f.transform=null;return f};p.unquantizeOptimizedGeometry=wa;p.unquantizeX=N;p.unquantizeY=
k;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function p(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}p.prototype.weakClone=function(){const n=
new p;n.objectIdFieldName=this.objectIdFieldName;n.globalIdFieldName=this.globalIdFieldName;n.geohashFieldName=this.geohashFieldName;n.geometryProperties=this.geometryProperties;n.geometryType=this.geometryType;n.spatialReference=this.spatialReference;n.hasZ=this.hasZ;n.hasM=this.hasM;n.features=this.features;n.fields=this.fields;n.transform=this.transform;n.exceededTransferLimit=this.exceededTransferLimit;n.uniqueIdField=this.uniqueIdField;n.queryGeometry=this.queryGeometry;n.queryGeometryType=this.queryGeometryType;
return n};return p}()})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(p,n,fa,K){function r(d=v){return[d[0],d[1],d[2],d[3],d[4],d[5]]}function D(d,e,z,J,Q,W,X=r()){X[0]=d;X[1]=e;X[2]=z;X[3]=J;X[4]=Q;X[5]=W;return X}function m(d){return d[0]>=d[3]?0:d[3]-d[0]}function x(d){return d[1]>=d[4]?0:d[4]-d[1]}function u(d){return d[2]>=d[5]?0:d[5]-d[2]}function C(d,e){return Math.max(e[0],d[0])<=Math.min(e[3],d[3])&&Math.max(e[1],
d[1])<=Math.min(e[4],d[4])&&Math.max(e[2],d[2])<=Math.min(e[5],d[5])}function ha(d,e){d[0]=e[0];d[1]=e[1];d[2]=e[2];d[3]=e[3];d[4]=e[4];d[5]=e[5];return d}function N(d){return 6===d.length}const k=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],v=[0,0,0,0,0,0],l=r();p.NEGATIVE_INFINITY=k;p.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];p.ZERO=v;p.allFinite=function(d){for(let e=0;6>e;e++)if(!isFinite(d[e]))return!1;return!0};p.center=function(d,e=[0,0,0]){e[0]=
d[0]+m(d)/2;e[1]=d[1]+x(d)/2;e[2]=d[2]+u(d)/2;return e};p.contains=function(d,e){return e[0]>=d[0]&&e[1]>=d[1]&&e[2]>=d[2]&&e[3]<=d[3]&&e[4]<=d[4]&&e[5]<=d[5]};p.containsPoint=function(d,e){return e[0]>=d[0]&&e[1]>=d[1]&&e[2]>=d[2]&&e[0]<=d[3]&&e[1]<=d[4]&&e[2]<=d[5]};p.containsPointWithMargin=function(d,e,z){return e[0]>=d[0]-z&&e[1]>=d[1]-z&&e[2]>=d[2]-z&&e[0]<=d[3]+z&&e[1]<=d[4]+z&&e[2]<=d[5]+z};p.create=r;p.depth=x;p.diameter=function(d){const e=m(d),z=u(d);d=x(d);return Math.sqrt(e*e+z*z+d*d)};
p.empty=function(d){return d?ha(d,k):r(k)};p.equals=function(d,e,z){if(n.isNone(d)||n.isNone(e))return d===e;if(!N(d)||!N(e))return!1;if(z)for(let J=0;J<d.length;J++){if(!z(d[J],e[J]))return!1}else for(z=0;z<d.length;z++)if(d[z]!==e[z])return!1;return!0};p.expandWithAABB=function(d,e){d[0]=Math.min(d[0],e[0]);d[1]=Math.min(d[1],e[1]);d[2]=Math.min(d[2],e[2]);d[3]=Math.max(d[3],e[3]);d[4]=Math.max(d[4],e[4]);d[5]=Math.max(d[5],e[5])};p.expandWithBuffer=function(d,e,z=0,J=e.length/3){let Q=d[0],W=d[1],
X=d[2],ea=d[3],oa=d[4],da=d[5];for(let M=0;M<J;M++)Q=Math.min(Q,e[z+3*M]),W=Math.min(W,e[z+3*M+1]),X=Math.min(X,e[z+3*M+2]),ea=Math.max(ea,e[z+3*M]),oa=Math.max(oa,e[z+3*M+1]),da=Math.max(da,e[z+3*M+2]);d[0]=Q;d[1]=W;d[2]=X;d[3]=ea;d[4]=oa;d[5]=da};p.expandWithNestedArray=function(d,e,z){const J=e.length;let Q=d[0],W=d[1],X=d[2],ea=d[3],oa=d[4],da=d[5];if(z)for(z=0;z<J;z++){var M=e[z];Q=Math.min(Q,M[0]);W=Math.min(W,M[1]);X=Math.min(X,M[2]);ea=Math.max(ea,M[0]);oa=Math.max(oa,M[1]);da=Math.max(da,
M[2])}else for(z=0;z<J;z++)M=e[z],Q=Math.min(Q,M[0]),W=Math.min(W,M[1]),ea=Math.max(ea,M[0]),oa=Math.max(oa,M[1]);d[0]=Q;d[1]=W;d[2]=X;d[3]=ea;d[4]=oa;d[5]=da};p.expandWithOffset=function(d,e,z,J){d[0]=Math.min(d[0],d[0]+e);d[3]=Math.max(d[3],d[3]+e);d[1]=Math.min(d[1],d[1]+z);d[4]=Math.max(d[4],d[4]+z);d[2]=Math.min(d[2],d[2]+J);d[5]=Math.max(d[5],d[5]+J)};p.expandWithRect=function(d,e){d[0]=Math.min(d[0],e[0]);d[1]=Math.min(d[1],e[1]);d[3]=Math.max(d[3],e[2]);d[4]=Math.max(d[4],e[3])};p.expandWithVec3=
function(d,e){d[0]=Math.min(d[0],e[0]);d[1]=Math.min(d[1],e[1]);d[2]=Math.min(d[2],e[2]);d[3]=Math.max(d[3],e[0]);d[4]=Math.max(d[4],e[1]);d[5]=Math.max(d[5],e[2])};p.fromExtent=function(d,e=r()){e[0]=d.xmin;e[1]=d.ymin;e[2]=d.zmin;e[3]=d.xmax;e[4]=d.ymax;e[5]=d.zmax;return e};p.fromMinMax=function(d,e,z=r()){z[0]=d[0];z[1]=d[1];z[2]=d[2];z[3]=e[0];z[4]=e[1];z[5]=e[2];return z};p.fromRect=function(d,e){d[0]=e[0];d[1]=e[1];d[2]=Number.NEGATIVE_INFINITY;d[3]=e[2];d[4]=e[3];d[5]=Number.POSITIVE_INFINITY;
return d};p.fromValues=D;p.getMax=function(d,e){e[0]=d[3];e[1]=d[4];e[2]=d[5];return e};p.getMin=function(d,e){e[0]=d[0];e[1]=d[1];e[2]=d[2];return e};p.height=u;p.intersects=C;p.intersectsClippingArea=function(d,e){return n.isNone(e)?!0:C(d,e)};p.is=N;p.isPoint=function(d){return 0===m(d)&&0===x(d)&&0===u(d)};p.maximumDimension=function(d){return Math.max(m(d),u(d),x(d))};p.offset=function(d,e,z,J,Q=d){Q[0]=d[0]+e;Q[1]=d[1]+z;Q[2]=d[2]+J;Q[3]=d[3]+e;Q[4]=d[4]+z;Q[5]=d[5]+J;return Q};p.scale=function(d,
e,z=d){const J=d[0]+m(d)/2,Q=d[1]+x(d)/2,W=d[2]+u(d)/2;z[0]=J+(d[0]-J)*e;z[1]=Q+(d[1]-Q)*e;z[2]=W+(d[2]-W)*e;z[3]=J+(d[3]-J)*e;z[4]=Q+(d[4]-Q)*e;z[5]=W+(d[5]-W)*e;return z};p.set=ha;p.setMax=function(d,e,z=d){z[3]=e[0];z[4]=e[1];z[5]=e[2];z!==d&&(z[0]=d[0],z[1]=d[1],z[2]=d[2]);return d};p.setMin=function(d,e,z=d){z[0]=e[0];z[1]=e[1];z[2]=e[2];z!==d&&(z[3]=d[3],z[4]=d[4],z[5]=d[5]);return z};p.size=function(d,e=[0,0,0]){e[0]=m(d);e[1]=x(d);e[2]=u(d);return e};p.toExtent=function(d,e){return isFinite(d[2])||
isFinite(d[5])?new fa({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],zmin:d[2],zmax:d[5],spatialReference:e}):new fa({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],spatialReference:e})};p.toRect=function(d,e){e||(e=K.create());e[0]=d[0];e[1]=d[1];e[2]=d[3];e[3]=d[4];return e};p.width=m;p.wrap=function(d,e,z,J,Q,W){return D(d,e,z,J,Q,W,l)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/BoundsStore":function(){define(["exports","../../../core/has","../../../chunks/rbush"],function(p,
n,fa){function K(m,x){r.minX=x[0];r.minY=x[1];r.maxX=x[2];r.maxY=x[3];return m.search(r)}const r={minX:0,minY:0,maxX:0,maxY:0};let D=function(){function m(){this._indexInvalid=!1;this._boundsToLoad=[];this._boundsById=new Map;this._idByBounds=new Map;this._index=fa.rbush(9,n("csp-restrictions")?u=>({minX:u[0],minY:u[1],maxX:u[2],maxY:u[3]}):["[0]","[1]","[2]","[3]"]);this._loadIndex=()=>{if(this._indexInvalid){const u=Array(this._idByBounds.size);let C=0;this._idByBounds.forEach((ha,N)=>{u[C++]=N});
this._indexInvalid=!1;this._index.clear();this._index.load(u)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(u=>this._idByBounds.has(u))),this._boundsToLoad.length=0)}}var x=m.prototype;x.clear=function(){this._indexInvalid=!1;this._boundsToLoad.length=0;this._boundsById.clear();this._idByBounds.clear();this._index.clear()};x.delete=function(u){const C=this._boundsById.get(u);this._boundsById.delete(u);C&&(this._idByBounds.delete(C),this._indexInvalid||this._index.remove(C))};
x.forEachInBounds=function(u,C){this._loadIndex();for(const ha of K(this._index,u))C(this._idByBounds.get(ha))};x.get=function(u){return this._boundsById.get(u)};x.has=function(u){return this._boundsById.has(u)};x.invalidateIndex=function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)};x.set=function(u,C){if(!this._indexInvalid){const ha=this._boundsById.get(u);ha&&(this._index.remove(ha),this._idByBounds.delete(ha))}this._boundsById.set(u,C);C&&(this._idByBounds.set(C,
u),this._indexInvalid||(this._boundsToLoad.push(C),5E4<this._boundsToLoad.length&&this._loadIndex()))};return m}();p.BoundsStore=D;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/chunks/rbush":function(){define(["exports","./quickselect"],function(p,n){function fa(l,d){if(!(this instanceof fa))return new fa(l,d);this._maxEntries=Math.max(4,l||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));d&&("function"===typeof d?this.toBBox=d:this._initFormat(d));this.clear()}function K(l,
d){r(l,0,l.children.length,d,l)}function r(l,d,e,z,J){J||(J=k(null));J.minX=Infinity;J.minY=Infinity;J.maxX=-Infinity;J.maxY=-Infinity;for(var Q;d<e;d++)Q=l.children[d],D(J,l.leaf?z(Q):Q);return J}function D(l,d){l.minX=Math.min(l.minX,d.minX);l.minY=Math.min(l.minY,d.minY);l.maxX=Math.max(l.maxX,d.maxX);l.maxY=Math.max(l.maxY,d.maxY);return l}function m(l,d){return l.minX-d.minX}function x(l,d){return l.minY-d.minY}function u(l){return(l.maxX-l.minX)*(l.maxY-l.minY)}function C(l){return l.maxX-l.minX+
(l.maxY-l.minY)}function ha(l,d){return l.minX<=d.minX&&l.minY<=d.minY&&d.maxX<=l.maxX&&d.maxY<=l.maxY}function N(l,d){return d.minX<=l.maxX&&d.minY<=l.maxY&&d.maxX>=l.minX&&d.maxY>=l.minY}function k(l){return{children:l,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function v(l,d,e,z,J){for(var Q=[d,e],W;Q.length;)e=Q.pop(),d=Q.pop(),e-d<=z||(W=d+Math.ceil((e-d)/z/2)*z,n.quickselect(l,W,d,e,J),Q.push(d,W,W,e))}fa.prototype={all:function(){return this._all(this.data,
[])},search:function(l){var d=this.data,e=[],z=this.toBBox;if(!N(l,d))return e;for(var J=[],Q,W,X,ea;d;){Q=0;for(W=d.children.length;Q<W;Q++)X=d.children[Q],ea=d.leaf?z(X):X,N(l,ea)&&(d.leaf?e.push(X):ha(l,ea)?this._all(X,e):J.push(X));d=J.pop()}return e},collides:function(l){var d=this.data,e=this.toBBox;if(!N(l,d))return!1;for(var z=[],J,Q,W,X;d;){J=0;for(Q=d.children.length;J<Q;J++)if(W=d.children[J],X=d.leaf?e(W):W,N(l,X)){if(d.leaf||ha(l,X))return!0;z.push(W)}d=z.pop()}return!1},load:function(l){if(!l||
!l.length)return this;if(l.length<this._minEntries){for(var d=0,e=l.length;d<e;d++)this.insert(l[d]);return this}l=this._build(l.slice(),0,l.length-1,0);this.data.children.length?this.data.height===l.height?this._splitRoot(this.data,l):(this.data.height<l.height&&(d=this.data,this.data=l,l=d),this._insert(l,this.data.height-l.height-1,!0)):this.data=l;return this},insert:function(l){l&&this._insert(l,this.data.height-1);return this},clear:function(){this.data=k([]);return this},remove:function(l,
d){if(!l)return this;for(var e=this.data,z=this.toBBox(l),J=[],Q=[],W,X,ea,oa;e||J.length;){e||(e=J.pop(),X=J[J.length-1],W=Q.pop(),oa=!0);if(e.leaf){a:{ea=l;var da=e.children,M=d;if(M){for(var Z=0;Z<da.length;Z++)if(M(ea,da[Z])){ea=Z;break a}ea=-1}else ea=da.indexOf(ea)}if(-1!==ea){e.children.splice(ea,1);J.push(e);this._condense(J);break}}oa||e.leaf||!ha(e,z)?X?(W++,e=X.children[W],oa=!1):e=null:(J.push(e),Q.push(W),W=0,X=e,e=e.children[0])}return this},toBBox:function(l){return l},compareMinX:m,
compareMinY:x,toJSON:function(){return this.data},fromJSON:function(l){this.data=l;return this},_all:function(l,d){for(var e=[];l;)l.leaf?d.push.apply(d,l.children):e.push.apply(e,l.children),l=e.pop();return d},_build:function(l,d,e,z){var J=e-d+1,Q=this._maxEntries;if(J<=Q){var W=k(l.slice(d,e+1));K(W,this.toBBox);return W}z||(z=Math.ceil(Math.log(J)/Math.log(Q)),Q=Math.ceil(J/Math.pow(Q,z-1)));W=k([]);W.leaf=!1;W.height=z;J=Math.ceil(J/Q);Q=J*Math.ceil(Math.sqrt(Q));var X;for(v(l,d,e,Q,this.compareMinX);d<=
e;d+=Q){var ea=Math.min(d+Q-1,e);v(l,d,ea,J,this.compareMinY);for(X=d;X<=ea;X+=J){var oa=Math.min(X+J-1,ea);W.children.push(this._build(l,X,oa,z-1))}}K(W,this.toBBox);return W},_chooseSubtree:function(l,d,e,z){for(var J,Q,W,X,ea,oa,da,M;;){z.push(d);if(d.leaf||z.length-1===e)break;da=M=Infinity;J=0;for(Q=d.children.length;J<Q;J++)W=d.children[J],ea=u(W),oa=(Math.max(W.maxX,l.maxX)-Math.min(W.minX,l.minX))*(Math.max(W.maxY,l.maxY)-Math.min(W.minY,l.minY))-ea,oa<M?(M=oa,da=ea<da?ea:da,X=W):oa===M&&
ea<da&&(da=ea,X=W);d=X||d.children[0]}return d},_insert:function(l,d,e){var z=this.toBBox;e=e?l:z(l);z=[];var J=this._chooseSubtree(e,this.data,d,z);J.children.push(l);for(D(J,e);0<=d;)if(z[d].children.length>this._maxEntries)this._split(z,d),d--;else break;this._adjustParentBBoxes(e,z,d)},_split:function(l,d){var e=l[d],z=e.children.length,J=this._minEntries;this._chooseSplitAxis(e,J,z);z=this._chooseSplitIndex(e,J,z);z=k(e.children.splice(z,e.children.length-z));z.height=e.height;z.leaf=e.leaf;
K(e,this.toBBox);K(z,this.toBBox);d?l[d-1].children.push(z):this._splitRoot(e,z)},_splitRoot:function(l,d){this.data=k([l,d]);this.data.height=l.height+1;this.data.leaf=!1;K(this.data,this.toBBox)},_chooseSplitIndex:function(l,d,e){var z,J;var Q=J=Infinity;for(z=d;z<=e-d;z++){var W=r(l,0,z,this.toBBox);var X=r(l,z,e,this.toBBox);var ea=Math.max(0,Math.min(W.maxX,X.maxX)-Math.max(W.minX,X.minX))*Math.max(0,Math.min(W.maxY,X.maxY)-Math.max(W.minY,X.minY));W=u(W)+u(X);if(ea<Q){Q=ea;var oa=z;J=W<J?W:
J}else ea===Q&&W<J&&(J=W,oa=z)}return oa},_chooseSplitAxis:function(l,d,e){var z=l.leaf?this.compareMinX:m,J=l.leaf?this.compareMinY:x,Q=this._allDistMargin(l,d,e,z);d=this._allDistMargin(l,d,e,J);Q<d&&l.children.sort(z)},_allDistMargin:function(l,d,e,z){l.children.sort(z);z=this.toBBox;var J=r(l,0,d,z),Q=r(l,e-d,e,z),W=C(J)+C(Q),X;for(X=d;X<e-d;X++){var ea=l.children[X];D(J,l.leaf?z(ea):ea);W+=C(J)}for(X=e-d-1;X>=d;X--)ea=l.children[X],D(Q,l.leaf?z(ea):ea),W+=C(Q);return W},_adjustParentBBoxes:function(l,
d,e){for(;0<=e;e--)D(d[e],l)},_condense:function(l){for(var d=l.length-1,e;0<=d;d--)0===l[d].children.length?0<d?(e=l[d-1].children,e.splice(e.indexOf(l[d]),1)):this.clear():K(l[d],this.toBBox)},_initFormat:function(l){var d=["return a"," - b",";"];this.compareMinX=new Function("a","b",d.join(l[0]));this.compareMinY=new Function("a","b",d.join(l[1]));this.toBBox=new Function("a","return {minX: a"+l[0]+", minY: a"+l[1]+", maxX: a"+l[2]+", maxY: a"+l[3]+"};")}};p.rbush=fa})},"esri/chunks/quickselect":function(){define(["exports",
"./_commonjsHelpers"],function(p,n){n=n.createCommonjsModule(function(fa){(function(K){K=K();void 0!==K&&(fa.exports=K)})(function(){function K(m,x,u,C,ha){for(;C>u;){if(600<C-u){var N=C-u+1,k=x-u+1,v=Math.log(N),l=.5*Math.exp(2*v/3);v=.5*Math.sqrt(v*l*(N-l)/N)*(0>k-N/2?-1:1);K(m,x,Math.max(u,Math.floor(x-k*l/N+v)),Math.min(C,Math.floor(x+(N-k)*l/N+v)),ha)}N=m[x];k=u;l=C;r(m,u,x);for(0<ha(m[C],N)&&r(m,u,C);k<l;){r(m,k,l);k++;for(l--;0>ha(m[k],N);)k++;for(;0<ha(m[l],N);)l--}0===ha(m[u],N)?r(m,u,l):
(l++,r(m,l,C));l<=x&&(u=l+1);x<=l&&(C=l-1)}}function r(m,x,u){var C=m[x];m[x]=m[u];m[u]=C}function D(m,x){return m<x?-1:m>x?1:0}return function(m,x,u,C,ha){K(m,x,u||0,C||m.length-1,ha||D)}})});p.quickselect=n})},"esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":function(){define(["exports","../OptimizedFeature","../OptimizedGeometry","../centroid"],function(p,n,fa,K){const r={getObjectId(D){return D.objectId},getAttributes(D){return D.attributes},getAttribute(D,m){return D.attributes[m]},
cloneWithGeometry(D,m){return new n(m,D.attributes,null,D.objectId)},getGeometry(D){return D.geometry},getCentroid(D,m){D.centroid||(D.centroid=K.getCentroidOptimizedGeometry(new fa,D.geometry,m.hasZ,m.hasM));return D.centroid}};p.default=r;p.optimizedFeatureQueryEngineAdapter=r;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports"],function(p){function n(K,r,D,m,x,u,C=1){u=x?u?4:3:u?3:2;let ha=D,N=D+u,k=0,v=0,l=D=0,d=0;for(let e=0,z=m-1;e<
z;e++,ha+=u,N+=u){m=r[ha];const J=r[ha+1],Q=r[ha+2],W=r[N],X=r[N+1],ea=r[N+2];let oa=m*X-W*J;l+=oa;k+=(m+W)*oa;v+=(J+X)*oa;x&&(oa=m*ea-W*Q,D+=(Q+ea)*oa,d+=oa);m<K[0]&&(K[0]=m);m>K[1]&&(K[1]=m);J<K[2]&&(K[2]=J);J>K[3]&&(K[3]=J);x&&(Q<K[4]&&(K[4]=Q),Q>K[5]&&(K[5]=Q))}0<l*C&&(l*=-1);0<d*C&&(d*=-1);if(!l)return null;K=[k,v,.5*l];x&&(K[3]=D,K[4]=.5*d);return K}function fa(K,r,D,m,x){x=m?x?4:3:x?3:2;let u=r,C=r+x,ha=0,N=0,k=0,v=0;for(let z=0,J=D-1;z<J;z++,u+=x,C+=x){var l=K[u];const Q=K[u+1],W=K[u+2],X=
K[C],ea=K[C+1],oa=K[C+2];if(m){{var d=X-l;var e=ea-Q;const da=oa-W;d=Math.sqrt(d*d+e*e+da*da)}}else d=X-l,e=ea-Q,d=Math.sqrt(d*d+e*e);d&&(ha+=d,m?(l=[l+.5*(X-l),Q+.5*(ea-Q),W+.5*(oa-W)],N+=d*l[0],k+=d*l[1],v+=d*l[2]):(l=[l+.5*(X-l),Q+.5*(ea-Q)],N+=d*l[0],k+=d*l[1]))}return 0<ha?m?[N/ha,k/ha,v/ha]:[N/ha,k/ha]:0<D?m?[K[r],K[r+1],K[r+2]]:[K[r],K[r+1]]:null}p.getCentroidOptimizedGeometry=function(K,r,D,m,x){if(!r||!r.lengths.length)return null;const u="upperLeft"===(null==x?void 0:x.originPosition)?-1:
1;K.lengths.length&&(K.lengths.length=0);K.coords.length&&(K.coords.length=0);x=K.coords;const C=[],ha=D?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:N,coords:k}=r,v=D?m?4:3:m?3:2;let l=0;for(var d of N){const e=n(ha,k,l,d,D,m,u);e&&C.push(e);l+=d*v}C.sort((e,z)=>{let J=u*e[2]-u*z[2];
0===J&&D&&(J=e[4]-z[4]);return J});C.length&&(d=6*C[0][2],x[0]=C[0][0]/d,x[1]=C[0][1]/d,D&&(d=6*C[0][4],x[2]=0!==d?C[0][3]/d:0),x[0]<ha[0]||x[0]>ha[1]||x[1]<ha[2]||x[1]>ha[3]||D&&(x[2]<ha[4]||x[2]>ha[5]))&&(x.length=0);if(!x.length)if(r=r.lengths[0]?fa(k,0,N[0],D,m):null)x[0]=r[0],x[1]=r[1],D&&2<r.length&&(x[2]=r[2]);else return null;return K};p.lineCentroid=fa;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngine":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/lang ../../../core/maybe ../../../core/Error ../../../core/promiseUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils ../../../core/unitUtils ../../../core/MemCache ../../../geometry/support/aaBoundingRect ../../support/PromiseQueue ../../support/FieldsIndex ./QueryEngineCapabilities ../../../geometry/support/aaBoundingBox ./projectionSupport ./attributeSupport ../../../chunks/spatialQuerySupport ./timeSupport ./QueryEngineResult".split(" "),
function(p,n,fa,K,r,D,m,x,u,C,ha,N,k,v,l,d,e,z,J,Q,W){function X(S){return S.every(U=>"exceedslimit"!==U.statisticType)}const ea=new Set,oa=new ha.MemCacheStorage(2E6);let da=0,M=function(){function S(B){this.capabilities={query:l.queryCapabilities};this.geometryType=B.geometryType;this.hasM=B.hasM;this.hasZ=B.hasZ;this.objectIdField=B.objectIdField;this.spatialReference=B.spatialReference;this.definitionExpression=B.definitionExpression;this.featureStore=B.featureStore;this.aggregateAdapter=B.aggregateAdapter;
this._changeHandle=this.featureStore.events.on("changed",()=>this.clearCache());this.timeInfo=B.timeInfo;B.cacheSpatialQueries&&(this._geometryQueryCache=new ha.MemCache(da++ +"$$",oa));this.fieldsIndex=new v(B.fields);B.scheduler&&B.task&&(this._frameQueue=new k,this._frameTask=B.scheduler.registerTask(B.task,q=>this._update(q),()=>0<this._frameQueue.length))}var U=S.prototype;U.destroy=function(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=
null);this.clearCache();this._geometryQueryCache&&this._geometryQueryCache.destroy();this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null);this.fieldsIndex.destroy()};U.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._timeExtent=this._allItems=null};U.executeQuery=async function(B={},q){let E=fa.clone(B),A;try{E=await this._schedule(()=>J.normalizeQuery(E,this.definitionExpression,this.spatialReference),q),E=await this._reschedule(()=>this._checkQuerySupport(E),
q),A=await this._reschedule(()=>this._executeGeometryQuery(E,q),q),A=await this._reschedule(()=>A.executeAggregateIdsQuery(E),q),A=await this._reschedule(()=>A.executeObjectIdsQuery(E),q),A=await this._reschedule(()=>A.executeTimeQuery(E),q),A=await this._reschedule(()=>A.executeAttributesQuery(E),q)}catch(I){if(I!==J.QUERY_ENGINE_EMPTY_RESULT)throw I;A=new W([],null,this)}return A.createQueryResponse(E)};U.executeQueryForCount=async function(B={},q){let E=fa.clone(B),A;E.returnGeometry=!1;E.returnCentroid=
!1;E.outSR=null;try{E=await this._schedule(()=>J.normalizeQuery(E,this.definitionExpression,this.spatialReference),q),E=await this._reschedule(()=>this._checkQuerySupport(E),q),A=await this._reschedule(()=>this._executeGeometryQuery(E,q),q),A=await this._reschedule(()=>A.executeAggregateIdsQuery(E),q),A=await this._reschedule(()=>A.executeObjectIdsQuery(E),q),A=await this._reschedule(()=>A.executeTimeQuery(E),q),A=await this._reschedule(()=>A.executeAttributesQuery(E),q)}catch(I){if(I!==J.QUERY_ENGINE_EMPTY_RESULT)throw I;
return 0}return A.createQueryResponseForCount(E)};U.executeQueryForExtent=async function(B={},q){let E=fa.clone(B),A;B=E.outSR;try{E=await this._schedule(()=>J.normalizeQuery(E,this.definitionExpression,this.spatialReference),q);E=await this._reschedule(()=>this._checkQuerySupport(E),q);E.returnGeometry=!0;E.returnCentroid=!1;E.outSR=null;A=await this._reschedule(()=>this._executeGeometryQuery(E,q),q);A=await this._reschedule(()=>A.executeAggregateIdsQuery(E),q);A=await this._reschedule(()=>A.executeObjectIdsQuery(E),
q);A=await this._reschedule(()=>A.executeTimeQuery(E),q);A=await this._reschedule(()=>A.executeAttributesQuery(E),q);const I=A.size;if(!I)return{count:I,extent:null};d.set(ka,d.NEGATIVE_INFINITY);this.featureStore.forEachBounds(A.items,ia=>d.expandWithAABB(ka,ia),Z);const G={xmin:ka[0],ymin:ka[1],xmax:ka[3],ymax:ka[4],spatialReference:J.cleanFromGeometryEngine(this.spatialReference)};this.hasZ&&isFinite(ka[2])&&isFinite(ka[5])&&(G.zmin=ka[2],G.zmax=ka[5]);const L=e.project(G,A.spatialReference,B);
L.spatialReference=J.cleanFromGeometryEngine(B||this.spatialReference);if(0===L.xmax-L.xmin){const ia=C.getMetersPerUnitForSR(L.spatialReference);L.xmin-=ia;L.xmax+=ia}if(0===L.ymax-L.ymin){const ia=C.getMetersPerUnitForSR(L.spatialReference);L.ymin-=ia;L.ymax+=ia}if(this.hasZ&&null!=L.zmin&&null!=L.zmax&&0===L.zmax-L.zmin){const ia=C.getMetersPerUnitForSR(L.spatialReference);L.zmin-=ia;L.zmax+=ia}return{count:I,extent:L}}catch(I){if(I===J.QUERY_ENGINE_EMPTY_RESULT)return{count:0,extent:null};throw I;
}};U.executeQueryForIds=async function(B={},q){return this.executeQueryForIdSet(B,q).then(E=>Array.from(E))};U.executeQueryForIdSet=async function(B={},q){let E=fa.clone(B),A;E.returnGeometry=!1;E.returnCentroid=!1;E.outSR=null;try{E=await this._schedule(()=>J.normalizeQuery(E,this.definitionExpression,this.spatialReference),q);E=await this._reschedule(()=>this._checkQuerySupport(E),q);A=await this._reschedule(()=>this._executeGeometryQuery(E,q),q);A=await this._reschedule(()=>A.executeAggregateIdsQuery(E),
q);A=await this._reschedule(()=>A.executeObjectIdsQuery(E),q);A=await this._reschedule(()=>A.executeTimeQuery(E),q);A=await this._reschedule(()=>A.executeAttributesQuery(E),q);const I=A.items,G=new Set;await this._reschedule(()=>{for(const L of I)G.add(A.featureAdapter.getObjectId(L))},q);return G}catch(I){if(I===J.QUERY_ENGINE_EMPTY_RESULT)return new Set;throw I;}};U.executeQueryForLatestObservations=async function(B={},q){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new r("feature-store:unsupported-query",
"Missing timeInfo or timeInfo.trackIdField",{query:B,timeInfo:this.timeInfo});let E=fa.clone(B),A;try{E=await this._schedule(()=>J.normalizeQuery(E,this.definitionExpression,this.spatialReference),q),E=await this._reschedule(()=>this._checkQuerySupport(E),q),A=await this._reschedule(()=>this._executeGeometryQuery(E,q),q),A=await this._reschedule(()=>A.executeAggregateIdsQuery(E),q),A=await this._reschedule(()=>A.executeObjectIdsQuery(E),q),A=await this._reschedule(()=>A.executeTimeQuery(E),q),A=await this._reschedule(()=>
A.executeAttributesQuery(E),q),A=await this._reschedule(()=>A.filterLatest(),q)}catch(I){if(I!==J.QUERY_ENGINE_EMPTY_RESULT)throw I;A=new W([],null,this)}return A.createQueryResponse(E)};U._schedule=async function(B,q){return this._frameQueue?this._frameQueue.push(B,q):B()};U._reschedule=async function(B,q){return this._frameQueue?this._frameQueue.unshift(B,q):B()};U._update=function(B){for(this._budget=B;!B.done&&this._frameQueue&&this._frameQueue.process();)B.madeProgress();this._budget=null};U._getAll=
function(){if(!this._allItems){const B=[];this.featureStore.forEach(q=>B.push(q));this._allItems=new W(B,null,this)}return this._allItems};U._executeGeometryQuery=async function(B,q){const {geometry:E,outSR:A,spatialRel:I}=B,G=m.isValid(A)&&!m.equals(this.spatialReference,A),L=this._geometryQueryCache?G?JSON.stringify({geometry:E,spatialRelationship:I,outSpatialReference:A}):JSON.stringify({geometry:E,spatialRelationship:I}):null;if(L){var ia=this._geometryQueryCache.get(L);if(!K.isUndefined(ia))return ia}ia=
async P=>{if(G&&(B.returnGeometry||B.returnCentroid))return P=await P.project(A),L&&this._geometryQueryCache.put(L,P,P.size||1),P;L&&this._geometryQueryCache.put(L,P,P.size||1);return P};if(!E)return ia(this._getAll());const pa=this.featureAdapter;if("esriSpatialRelDisjoint"===I){const P=this._searchFeatures(this._getQueryBBoxes(E));if(!P.length)return ia(this._getAll());let ca,qa;const ya=new Set;for(var wa of P)ya.add(pa.getObjectId(wa));await this._reschedule(()=>{let xa=0;ca=Array(ya.size);this.featureStore.forEach(b=>
ca[xa++]=b);qa=ya},q);wa=await this._reschedule(async()=>{const xa=await J.getSpatialQueryOperator(I,E,this.geometryType,this.hasZ,this.hasM);return new W(await this._runSpatialFilter(ca,b=>!qa.has(pa.getObjectId(b))||xa(pa.getGeometry(b)),q),E,this)},q);return ia(wa)}wa=this._searchFeatures(this._getQueryBBoxes(E));if(!wa.length)return ia=new W([],E,this),L&&this._geometryQueryCache.put(L,ia,ia.size||1),ia;if(this._canExecuteSoloPass(E,B))return ia(new W(wa,E,this));const za=await J.getSpatialQueryOperator(I,
E,this.geometryType,this.hasZ,this.hasM);wa=await this._runSpatialFilter(wa,P=>za(pa.getGeometry(P)),q);return ia(new W(wa,E,this))};U._runSpatialFilter=async function(B,q,E){if(!q)return B;if(!this._budget)return B.filter(L=>q(L));let A=0;const I=[],G=async()=>{for(;A<B.length;){const L=B[A];q(L)&&I.push(L);this._budget.done&&await this._reschedule(()=>G(),E);++A}};return this._reschedule(()=>G(),E).then(()=>I)};U._canExecuteSoloPass=function(B,q){const {geometryType:E}=this;({spatialRel:q}=q);return J.canQueryWithRBush(B)&&
("esriSpatialRelEnvelopeIntersects"===q||"esriGeometryPoint"===E&&("esriSpatialRelIntersects"===q||"esriSpatialRelContains"===q||"esriSpatialRelWithin"===q))};U._getQueryBBoxes=function(B){if(J.canQueryWithRBush(B)){if(u.isExtent(B))return[N.fromValues(B.xmin,B.ymin,B.xmax,B.ymax)];if(u.isPolygon(B))return B.rings.map(q=>N.fromValues(Math.min(q[0][0],q[2][0]),Math.min(q[0][1],q[2][1]),Math.max(q[0][0],q[2][0]),Math.max(q[0][1],q[2][1])))}return[x.getBoundsXY(N.create(),B)]};U._searchFeatures=function(B){for(const A of B)this.featureStore.forEachInBounds(A,
I=>{ea.add(I)});const q=Array(ea.size);let E=0;ea.forEach(A=>q[E++]=A);ea.clear();return q};U._checkQuerySupport=async function(B){if(0>B.distance||null!=B.geometryPrecision||B.multipatchOption||B.pixelSize||B.relationParam||B.text)throw new r("feature-store:unsupported-query","Unsupported query options",{query:B});return D.all([this._checkAttributesQuerySupport(B),this._checkStatisticsQuerySupport(B),J.checkSpatialQuerySupport(B,this.geometryType,this.spatialReference),e.checkProjectionSupport(this.spatialReference,
B.outSR)]).then(()=>B)};U._checkAttributesQuerySupport=function(B){const {outFields:q,orderByFields:E,returnDistinctValues:A,outStatistics:I}=B,G=I?I.map(L=>L.outStatisticFieldName&&L.outStatisticFieldName.toLowerCase()):[];if(E&&0<E.length){const L=E.map(ia=>{const pa=ia.toLowerCase();return-1<pa.indexOf(" asc")?pa.split(" asc")[0]:-1<pa.indexOf(" desc")?pa.split(" desc")[0]:ia}).filter(ia=>-1===G.indexOf(ia));z.validateFields(this.fieldsIndex,L,"orderByFields contains missing fields")}if(q&&0<q.length)z.validateFields(this.fieldsIndex,
q,"outFields contains missing fields");else if(A)throw new r("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:B});z.validateWhere(this.fieldsIndex,B.where)};U._checkStatisticsQuerySupport=async function(B){const {outStatistics:q,groupByFieldsForStatistics:E,having:A}=B;var I=E&&E.length,G=q&&q.length;if(A){if(!I||!G)throw new r("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",{query:B});
z.validateHaving(this.fieldsIndex,A,q)}if(G&&X(q)){G=q.map(L=>L.onStatisticField);z.validateFields(this.fieldsIndex,G,"onStatisticFields contains missing fields");I&&z.validateFields(this.fieldsIndex,E,"groupByFieldsForStatistics contains missing fields");for(const L of q){const {onStatisticField:ia,statisticType:pa}=L;if(("percentile_disc"===pa||"percentile_cont"===pa)&&"statisticParameters"in L){if({statisticParameters:I}=L,!I)throw new r("feature-store:unsupported-query","statisticParamters should be set for percentile type",
{definition:L,query:B});}else if("count"!==pa&&ia&&z.hasInvalidFieldType(ia,this.fieldsIndex))throw new r("feature-store:unsupported-query","outStatistics contains non-numeric fields",{definition:L,query:B});}}};n._createClass(S,[{key:"featureAdapter",get:function(){return this.featureStore.featureAdapter}},{key:"fullExtent",get:function(){const B=this.featureStore.fullBounds;return B?{xmin:B[0],ymin:B[1],xmax:B[2],ymax:B[3],spatialReference:J.cleanFromGeometryEngine(this.spatialReference)}:null}},
{key:"timeExtent",get:function(){return this.timeInfo?this._timeExtent?this._timeExtent:this._timeExtent=Q.getTimeExtent(this.timeInfo,this.featureStore):null}}]);return S}();const Z=d.create(),ka=d.create();p.Feature=function(S,U=null,B,q,E){this.attributes=S;this.geometry=B;this.centroid=q;this.filterFlags=E;this.groupId=-1;this.displayId=U};p.default=M;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./PooledArray"],
function(p,n,fa){let K=function(){function D(x,u,C){this._namespace=x;this._storage=u;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";C&&(this._storage.registerRemoveFunc(this._namespace,C),this._removeFunc=!0)}var m=D.prototype;m.resetHitRate=function(){this._hit=this._miss=0};m.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};m.put=function(x,
u,C,ha=0){this._storage.put(this._namespace+x,u,C,ha)};m.get=function(x){x=this._storage.get(this._namespace+x);void 0===x?++this._miss:++this._hit;return x};m.pop=function(x){x=this._storage.pop(this._namespace+x);void 0===x?++this._miss:++this._hit;return x};m.updateSize=function(x,u,C){this._storage.updateSize(this._namespace+x,u,C)};m.clear=function(){this._storage.clear(this._namespace)};m.clearAll=function(){this._storage.clearAll()};m.getStats=function(){return this._storage.getStats()};m.resetStats=
function(){this._storage.resetStats()};n._createClass(D,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return D}(),r=function(){function D(x=10485760){this._maxSize=x;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=[];this._users=new fa}var m=D.prototype;m.register=function(x){this._users.push(x)};
m.deregister=function(x){this._users.removeUnordered(x)};m.registerRemoveFunc=function(x,u){this._removeFuncs.push([x,u])};m.deregisterRemoveFunc=function(x){this._removeFuncs=this._removeFuncs.filter(u=>u[0]!==x)};m.put=function(x,u,C,ha){const N=this._db.get(x);N&&(this._size-=N.size,this._db.delete(x),N.entry!==u&&this._notifyRemoved(x,N.entry));C>this._maxSize?this._notifyRemoved(x,u):void 0===u?console.warn("Refusing to cache undefined entry "):!C||0>C?console.warn("Refusing to cache entry with invalid size "+
C):(ha=1+Math.max(ha,-3)- -3,this._db.set(x,{entry:u,size:C,lifetime:ha,lives:ha}),this._size+=C,this._checkSizeLimit())};m.updateSize=function(x,u,C){const ha=this._db.get(x);ha&&ha.entry===u&&(this._size-=ha.size,C>this._maxSize?this._notifyRemoved(x,u):(ha.size=C,this._size+=C,this._checkSizeLimit()))};m.pop=function(x){const u=this._db.get(x);if(u)return this._size-=u.size,this._db.delete(x),++this._hit,u.entry;++this._miss};m.get=function(x){const u=this._db.get(x);if(void 0===u)++this._miss;
else return this._db.delete(x),u.lives=u.lifetime,this._db.set(x,u),++this._hit,u.entry};m.getStats=function(){const x={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},u={},C=[];this._db.forEach((k,v)=>{const l=k.lifetime;C[l]=(C[l]||0)+k.size;this._users.forAll(d=>{d=d.namespace;v.startsWith(d)&&(u[d]=(u[d]||0)+k.size)})});const ha={};this._users.forAll(k=>{const v=k.namespace;!isNaN(k.hitRate)&&
0<k.hitRate?(u[v]=u[v]||0,ha[v]=Math.round(100*k.hitRate)+"%"):ha[v]="0%"});var N=Object.keys(u);N.forEach(k=>u[k]=u[k]/this._size*100);N.sort((k,v)=>u[v]-u[k]);N.forEach(k=>x[k]=Math.round(u[k])+"% / "+ha[k]);for(N=C.length-1;0<=N;--N){const k=C[N];k&&(x["Priority "+(N+-3-1)]=Math.round(k/this.size*100)+"%")}return x};m.resetStats=function(){this._hit=this._miss=0;this._users.forAll(x=>x.resetHitRate())};m.clear=function(x){this._db.forEach((u,C)=>{C.startsWith(x)&&(this._size-=u.size,this._db.delete(C),
this._notifyRemoved(C,u.entry))})};m.clearAll=function(){this._db.forEach((x,u)=>this._notifyRemoved(u,x.entry));this._size=0;this._db.clear()};m._getHitRate=function(){return this._hit/(this._hit+this._miss)};m._notifyRemoved=function(x,u){this._removeFuncs.forEach(C=>{if(x.startsWith(C[0]))C[1](u)})};m._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [x,u]of this._db)if(this._db.delete(x),1>=u.lives?(this._size-=u.size,this._notifyRemoved(x,u.entry)):(--u.lives,this._db.set(x,
u)),this._size<=.9*this.maxSize)break};n._createClass(D,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(x){this._maxSize=Math.max(x,0);this._checkSizeLimit()}}]);return D}();p.MIN_PRIORITY=-3;p.MemCache=K;p.MemCacheStorage=r;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(p){p.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,
maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/attributeSupport":function(){define(["exports","../../../core/Error","../../../core/sql/WhereClauseCache"],function(p,n,fa){function K(u,C){return u?m.get(u,C):null}function r(u,C,ha,N=!0){const k=[];for(const v of C)if("*"!==v&&!u.has(v))if(N){C=D(v);try{const l=K(C,u);if(!l)throw new n("feature-store:unsupported-query","invalid SQL expression",
{where:C});if(!l.isStandardized)throw new n("feature-store:unsupported-query","expression is not standard",{clause:l});r(u,l.fieldNames,"expression contains missing fields")}catch(l){if((C=l&&l.details)&&(C.clause||C.where))throw l;C&&C.missingFields?k.push(...C.missingFields):k.push(v)}}else k.push(v);if(k.length)throw new n("feature-store:unsupported-query",ha,{missingFields:k});}function D(u){return u.split(" as ")[0]}const m=new fa.WhereClauseCache(50,500),x=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));
p.getAliasFromFieldName=function(u){return u.split(" as ")[1]};p.getExpressionFromFieldName=D;p.getWhereClause=K;p.hasInvalidFieldType=function(u,C){return(u=C.get(u))?!x.has(u.type):!1};p.validateFields=r;p.validateHaving=function(u,C,ha){if(!C)return!0;const N=m.get(C,u);if(!N)throw new n("feature-store:unsupported-query","invalid SQL expression",{having:C});if(!N.isAggregate)throw new n("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:C});r(u,N.fieldNames,
"having contains missing fields");if(!N.getExpressions().every(k=>{const {aggregateType:v,field:l}=k,d=u.has(l)&&u.get(l).name;return ha.some(e=>{const {onStatisticField:z,statisticType:J}=e;return(u.has(z)&&u.get(z).name)===d&&J.toLowerCase().trim()===v})}))throw new n("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:C});return!0};p.validateWhere=function(u,C){if(!C)return!0;const ha=m.get(C,u);if(!ha)throw new n("feature-store:unsupported-query",
"invalid SQL expression",{where:C});if(!ha.isStandardized)throw new n("feature-store:unsupported-query","where clause is not standard",{where:C});r(u,ha.fieldNames,"where clause contains missing fields");return!0};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/WhereClauseCache":function(){define(["exports","../ItemCache","./WhereClause"],function(p,n,fa){let K=function(){function r(D,m){this._cache=new n(D);this._invalidCache=new n(m)}r.prototype.get=function(D,m){const x=`${m.uid}:${D}`,
u=this._cache.get(x);if(u)return u;if(void 0!==this._invalidCache.get(x))return null;try{const C=fa.WhereClause.create(D,m);this._cache.put(x,C);return C}catch{return this._invalidCache.put(x,null),null}};return r}();p.WhereClauseCache=K;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(p){return function(){function n(K,r){this._storage=new p.MemCacheStorage;this._storage.maxSize=K;r&&this._storage.registerRemoveFunc("",r)}var fa=n.prototype;
fa.put=function(K,r){this._storage.put(K,r,1,1)};fa.pop=function(K){return this._storage.pop(K)};fa.get=function(K){return this._storage.get(K)};fa.clear=function(){this._storage.clearAll()};fa.destroy=function(){this._storage.clearAll()};return n}()})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(p,n,fa,K,r,D){function m(U,B){U+="";return U.length>=B?U:Array(B-
U.length+1).join("0")+U}function x(U,B,q="0",E="0",A="0",I="0",G="",L="0",ia="0"){return"+"===G||"-"===G?(U=`${m(parseInt(U,10),4)}-${m(parseInt(B,10),2)}-${m(parseInt(q,10),2)}`,B="",10>parseFloat(I)&&(B="0"),E=`${m(parseInt(E,10),2)}:${m(parseInt(A,10),2)}:${B+parseFloat(I).toString()}`,G=`${G}${m(parseInt(L,10),2)}:${m(parseInt(ia,10),2)}`,new Date(U+"T"+E+G)):new Date(parseInt(U,10),parseInt(B,10)-1,parseInt(q,10),parseInt(E,10),parseInt(A,10),parseFloat(I))}function u(U){let B=ea.exec(U);if(null!==
B){const [,q,E,A,I,G,L]=B;return x(q,E,A,I,G,L)}B=oa.exec(U);if(null!==B){const [,q,E,A,I,G,L,ia,pa,wa]=B;return x(q,E,A,I,G,L,ia,pa,wa)}B=da.exec(U);if(null!==B){const [,q,E,A,I,G,L,ia,pa]=B;return x(q,E,A,I,G,"0",L,ia,pa)}B=M.exec(U);if(null!==B){const [,q,E,A,I,G]=B;return x(q,E,A,I,G)}B=X.exec(U);if(null!==B){const [,q,E,A]=B;return x(q,E,A)}throw Error("SQL Invalid Timestamp");}function C(U){U=X.exec(U);if(null===U)throw Error("SQL Invalid Date");const [,B,q,E]=U;return new Date(parseInt(B,10),
parseInt(q,10)-1,parseInt(E,10))}function ha(U){return Array.isArray(U)?U:[U]}function N(U){return null!==U?!0!==U:null}function k(U,B){return null!=U&&null!=B?!0===U&&!0===B:!1===U||!1===B?!1:null}function v(U,B){return null!=U&&null!=B?!0===U||!0===B:!0===U||!0===B?!0:null}function l(U,B){if(null==U)return null;let q=!1;for(const E of B)if(null==E)q=null;else if(U===E){q=!0;break}return q}function d(U,B,q){if(null==U)return null;let E="",A=0;for(let I=0;I<B.length;I++){const G=B.charAt(I);switch(A){case 0:G===
q?A=1:E=0<="-[]/{}()*+?.\\^$|".indexOf(G)?E+("\\"+G):"%"===G?E+".*":"_"===G?E+".":E+G;break;case 1:E=0<="-[]/{}()*+?.\\^$|".indexOf(G)?E+("\\"+G):E+G,A=0}}return(new RegExp("^"+E+"$")).test(U)}function e(U){return U instanceof Date?U.valueOf():U}function z(U,B,q){if(null==B||null==q)return null;B=e(B);q=e(q);switch(U){case "\x3c\x3e":return B!==q;case "\x3d":return B===q;case "\x3e":return B>q;case "\x3c":return B<q;case "\x3e\x3d":return B>=q;case "\x3c\x3d":return B<=q}}function J(U){const B=[],
q={};for(const E of U)U=E.toLowerCase(),void 0===q[U]&&(B.push(E),q[U]=1);return B}function Q(U,B,q){if(B instanceof r.SqlInterval)if(q instanceof Date)switch(U){case "+":return new Date(B.valueInMilliseconds()+q.getTime());case "-":return B.valueInMilliseconds()-q.getTime();case "*":return B.valueInMilliseconds()*q.getTime();case "/":return B.valueInMilliseconds()/q.getTime()}else if(q instanceof r.SqlInterval)switch(U){case "+":return r.SqlInterval.createFromMilliseconds(B.valueInMilliseconds()+
q.valueInMilliseconds());case "-":return r.SqlInterval.createFromMilliseconds(B.valueInMilliseconds()-q.valueInMilliseconds());case "*":return B.valueInMilliseconds()*q.valueInMilliseconds();case "/":return B.valueInMilliseconds()/q.valueInMilliseconds()}else B=B.valueInMilliseconds();else if(q instanceof r.SqlInterval)if(B instanceof Date)switch(U){case "+":return new Date(q.valueInMilliseconds()+B.getTime());case "-":return new Date(B.getTime()-q.valueInMilliseconds());case "*":return B.getTime()*
q.valueInMilliseconds();case "/":return B.getTime()/q.valueInMilliseconds()}else q=q.valueInMilliseconds();else if(B instanceof Date&&"number"===typeof q)switch(q*=864E5,B=B.getTime(),U){case "+":return new Date(B+q);case "-":return new Date(B-q);case "*":return new Date(B*q);case "/":return new Date(B/q)}else if(q instanceof Date&&"number"===typeof B)switch(B*=864E5,q=q.getTime(),U){case "+":return new Date(B+q);case "-":return new Date(B-q);case "*":return new Date(B*q);case "/":return new Date(B/
q)}switch(U){case "+":return B+q;case "-":return B-q;case "*":return B*q;case "/":return B/q}}function W(U,B,q,E){U=E.getAttribute(U,B);return null!=U&&1===q[B]?new Date(U):U}const X=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,ea=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,oa=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,da=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,M=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;
let Z=function(){function U(){}U.makeBool=function(B){return!0===B};U.featureValue=function(B,q,E,A){return W(B,q,E,A)};U.equalsNull=function(B){return null===B};U.applyLike=function(B,q,E){return d(B,q,E)};U.ensureArray=function(B){return ha(B)};U.applyIn=function(B,q){return l(B,q)};U.currentDate=function(){const B=new Date;B.setHours(0,0,0,0);return B};U.makeSqlInterval=function(B,q,E){return r.SqlInterval.createFromValueAndQualifer(B,q,E)};U.convertInterval=function(B){return B instanceof r.SqlInterval?
B.valueInMilliseconds():B};U.currentTimestamp=function(){return new Date};U.compare=function(B,q,E){return z(B,q,E)};U.calculate=function(B,q,E){return Q(B,q,E)};U.makeComparable=function(B){return e(B)};U.evaluateFunction=function(B,q){return r.evaluateFunction(B,q)};U.lookup=function(B,q){B=q[B];return void 0===B?null:B};U.between=function(B,q){return null==B||null==q[0]||null==q[1]?null:B>=q[0]&&B<=q[1]};U.notbetween=function(B,q){return null==B||null==q[0]||null==q[1]?null:B<q[0]||B>q[1]};U.ternaryNot=
function(B){return N(B)};U.ternaryAnd=function(B,q){return k(B,q)};U.ternaryOr=function(B,q){return v(B,q)};return U}(),ka=function(){function U(q,E){this.fieldsIndex=E;this.datefields={};this.parameters={};this.parseTree=D.WhereGrammar.parse(q);const {isStandardized:A,isAggregate:I,referencedFieldNames:G}=this.extractExpressionInfo(E);this.referencedFieldNames=G;this.isStandardized=A;this.isAggregate=I}U.create=function(q,E){return new U(q,E)};var B=U.prototype;B.testSet=function(q,E=S){const A=
{};for(const I of this.fieldNames)A[I]=q.map(G=>E.getAttribute(G,I));return!!this.evaluateNode(this.parseTree,{attributes:A},S)};B.calculateValue=function(q,E=S){q=this.evaluateNode(this.parseTree,q,E);return q instanceof r.SqlInterval?q.valueInMilliseconds()/864E5:q};B.calculateValueCompiled=function(q,E=S){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(q,this.parameters,E,this.datefields);if(fa("csp-restrictions"))return this.calculateValue(q,E);this.compileMe();
return this.parseTree._compiledVersion(q,this.parameters,E,this.datefields)};B.testFeature=function(q,E=S){return!!this.evaluateNode(this.parseTree,q,E)};B.testFeatureCompiled=function(q,E=S){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(q,this.parameters,E,this.datefields);if(fa("csp-restrictions"))return this.testFeature(q,E);this.compileMe();return!!this.parseTree._compiledVersion(q,this.parameters,E,this.datefields)};B.getFunctions=function(){const q=[];this.visitAll(this.parseTree,
E=>{"function"===E.type&&q.push(E.name.toLowerCase())});return J(q)};B.getExpressions=function(){const q=new Map;this.visitAll(this.parseTree,E=>{if("function"===E.type){const A=E.name.toLowerCase();E=E.args.value[0];if("column_ref"===E.type){E=E.column;const I=`${A}-${E}`;q.has(I)||q.set(I,{aggregateType:A,field:E})}}});return[...q.values()]};B.getVariables=function(){const q=[];this.visitAll(this.parseTree,E=>{"param"===E.type&&q.push(E.value.toLowerCase())});return J(q)};B.compileMe=function(){const q=
"return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",q)).bind(Z)};B.extractExpressionInfo=function(q){const E=[];let A=!0,I=!0;this.visitAll(this.parseTree,G=>{switch(G.type){case "column_ref":{const L=q.get(G.column),ia=L&&L.name;!L||"date"!==L.type&&"esriFieldTypeDate"!==L.type||(this.datefields[L.name]=1);void 0!==ia?(E.push(ia),G.column=ia):E.push(G.column);break}case "function":{const {name:L,
args:ia}=G;G=ia.value.length;A&&(A=r.isStandardized(L,G));I&&(I=K.isAggregate(L,G))}}});return{referencedFieldNames:J(E),isStandardized:A,isAggregate:I}};B.visitAll=function(q,E){if(null!=q)switch(E(q),q.type){case "when_clause":this.visitAll(q.operand,E);this.visitAll(q.value,E);break;case "case_expression":for(const A of q.clauses)this.visitAll(A,E);"simple"===q.format&&this.visitAll(q.operand,E);null!==q.else&&this.visitAll(q.else,E);break;case "expr_list":for(const A of q.value)this.visitAll(A,
E);break;case "unary_expr":this.visitAll(q.expr,E);break;case "binary_expr":this.visitAll(q.left,E);this.visitAll(q.right,E);break;case "function":this.visitAll(q.args,E)}};B.evaluateNodeToJavaScript=function(q){switch(q.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(q.value)+", "+JSON.stringify(q.qualifier)+","+JSON.stringify(q.op)+")";case "case_expression":var E="";if("simple"===q.format){var A="this.makeComparable("+this.evaluateNodeToJavaScript(q.operand)+")";
E="( ";for(let I=0;I<q.clauses.length;I++)E+=" ("+A+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(q.clauses[I].operand)+")) ? ("+this.evaluateNodeToJavaScript(q.clauses[I].value)+") : "}else for(E="( ",A=0;A<q.clauses.length;A++)E+=" this.makeBool("+this.evaluateNodeToJavaScript(q.clauses[A].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(q.clauses[A].value)+") : ";E=null!==q.else?E+this.evaluateNodeToJavaScript(q.else):E+"null";return E+=" )";case "param":return"this.lookup("+
JSON.stringify(q.value.toLowerCase())+",lookups)";case "expr_list":E="[";for(A of q.value)"["!==E&&(E+=","),E+=this.evaluateNodeToJavaScript(A);return E+="]";case "unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(q.expr)+")";case "binary_expr":switch(q.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+
" )";case "IS":if("null"!==q.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(q.left)+")";case "ISNOT":if("null"!==q.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(q.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(q.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(q.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(q.left)+
",this.ensureArray("+this.evaluateNodeToJavaScript(q.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+","+JSON.stringify(q.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+
this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+","+JSON.stringify(q.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(q.operator)+","+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+JSON.stringify(q.operator)+","+this.evaluateNodeToJavaScript(q.left)+","+this.evaluateNodeToJavaScript(q.right)+
")"}throw Error("Not Supported Operator "+q.operator);case "null":case "bool":case "string":case "number":return JSON.stringify(q.value);case "date":return"(new Date("+C(q.value).getTime().toString()+"))";case "timestamp":return"(new Date("+u(q.value).getTime().toString()+"))";case "current_time":return"date"===q.mode?"this.currentDate()":"this.currentTimestamp()";case "column_ref":return"this.featureValue(feature,"+JSON.stringify(q.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+
JSON.stringify(q.name)+","+this.evaluateNodeToJavaScript(q.args)+")"}throw Error("Unsupported sql syntax "+q.type);};B.evaluateNode=function(q,E,A){switch(q.type){case "interval":return E=this.evaluateNode(q.value,E,A),r.SqlInterval.createFromValueAndQualifer(E,q.qualifier,q.op);case "case_expression":if("simple"===q.format){var I=e(this.evaluateNode(q.operand,E,A));for(var G=0;G<q.clauses.length;G++)if(I===e(this.evaluateNode(q.clauses[G].operand,E,A)))return this.evaluateNode(q.clauses[G].value,
E,A)}else for(I=0;I<q.clauses.length;I++)if(!0===this.evaluateNode(q.clauses[I].operand,E,A))return this.evaluateNode(q.clauses[I].value,E,A);return null!==q.else?this.evaluateNode(q.else,E,A):null;case "param":return this.parameters[q.value.toLowerCase()];case "expr_list":I=[];for(G of q.value)I.push(this.evaluateNode(G,E,A));return I;case "unary_expr":return N(this.evaluateNode(q.expr,E,A));case "binary_expr":switch(q.operator){case "AND":return k(this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,
E,A));case "OR":return v(this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,E,A));case "IS":if("null"!==q.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(q.left,E,A);case "ISNOT":if("null"!==q.right.type)throw Error("Unsupported RHS for IS");return null!==this.evaluateNode(q.left,E,A);case "IN":return I=ha(this.evaluateNode(q.right,E,A)),l(this.evaluateNode(q.left,E,A),I);case "NOT IN":return I=ha(this.evaluateNode(q.right,E,A)),N(l(this.evaluateNode(q.left,E,
A),I));case "BETWEEN":return I=this.evaluateNode(q.left,E,A),q=this.evaluateNode(q.right,E,A),null==I||null==q[0]||null==q[1]?null:I>=e(q[0])&&I<=e(q[1]);case "NOTBETWEEN":return I=this.evaluateNode(q.left,E,A),q=this.evaluateNode(q.right,E,A),null==I||null==q[0]||null==q[1]?null:I<e(q[0])||I>e(q[1]);case "LIKE":return d(this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,E,A),q.escape);case "NOT LIKE":return N(d(this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,E,A),q.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return z(q.operator,
this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,E,A));case "-":case "+":case "*":case "/":return Q(q.operator,this.evaluateNode(q.left,E,A),this.evaluateNode(q.right,E,A))}case "null":case "bool":case "string":case "number":return q.value;case "date":return C(q.value);case "timestamp":return u(q.value);case "current_time":return E=new Date,"date"===q.mode&&E.setHours(0,0,0,0),E;case "column_ref":return W(E,q.column,this.datefields,A);case "function":return E=this.evaluateNode(q.args,E,A),
this.isAggregate?K.aggregateFunction(q.name,E):r.evaluateFunction(q.name,E)}throw Error("Unsupported sql syntax "+q.type);};n._createClass(U,[{key:"fieldNames",get:function(){return this.referencedFieldNames}}]);return U}();const S={getAttribute(U,B){return(U&&"object"===typeof U.attributes?U.attributes:U)[B]}};p.WhereClause=ka;p.defaultAttributeAdapter=S;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(p){function n(r){let D=
0;for(let m=0;m<r.length;m++)D+=r[m];return D/r.length}function fa(r){const D=n(r),m=r.length;let x=0;for(const u of r)x+=Math.pow(u-D,2);return 1<m?x/(m-1):0}const K={min:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.min.apply(Math,r[0])},max:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.max.apply(Math,r[0])},avg:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:n(r[0])},sum:{minParams:1,maxParams:1,evaluate:r=>{if(null==r[0])r=null;else{{r=r[0];let D=0;for(let m=0;m<r.length;m++)D+=
r[m];r=D}}return r}},stddev:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.sqrt(fa(r[0]))},count:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:r[0].length},var:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:fa(r[0])}};p.aggregateFunction=function(r,D){const m=K[r.toLowerCase()];if(null==m)throw Error("Function Not Recognised");if(D.length<m.minParams||D.length>m.maxParams)throw Error(`Invalid Parameter count for call to ${r.toUpperCase()}`);return m.evaluate(D)};p.isAggregate=
function(r,D){r=K[r.toLowerCase()];return null!=r&&D>=r.minParams&&D<=r.maxParams};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(p,n){let fa=function(){function r(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=0}r.fixDefaults=function(D){if(null!==D.precision||null!==D.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};r.createFromMilliseconds=
function(D){const m=new r;m.second=D/1E3;return m};r.createFromValueAndQualifer=function(D,m,x){let u=null;const C=new r;C.op="-"===x?"-":"+";if("interval-period"===m.type){r.fixDefaults(m);if("year"===m.period||"month"===m.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(D))C[m.period]=parseFloat(D);else throw Error("Illegal Interval");}else{r.fixDefaults(m.start);r.fixDefaults(m.end);if("year"===m.start.period||"month"===m.start.period)throw Error("Year-Month Intervals not supported");
if("year"===m.end.period||"month"===m.end.period)throw Error("Year-Month Intervals not supported");switch(m.start.period){case "day":switch(m.end.period){case "hour":u=/^[0-9]{1,} [0-9]{1,}$/;if(u.test(D))C[m.start.period]=parseFloat(D.split(" ")[0]),C[m.end.period]=parseFloat(D.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":u=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;if(u.test(D))C[m.start.period]=parseFloat(D.split(" ")[0]),D=D.split(" ")[1].split(":"),C.hour=parseFloat(D[0]),
C.minute=parseFloat(D[1]);else throw Error("Illegal Interval");break;case "second":u=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(u.test(D))C[m.start.period]=parseFloat(D.split(" ")[0]),D=D.split(" ")[1].split(":"),C.hour=parseFloat(D[0]),C.minute=parseFloat(D[1]),C.second=parseFloat(D[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "hour":switch(m.end.period){case "minute":u=/^[0-9]{1,}:[0-9]{1,}$/;if(u.test(D))C.hour=parseFloat(D.split(":")[0]),
C.minute=parseFloat(D.split(":")[1]);else throw Error("Illegal Interval");break;case "second":u=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(u.test(D))D=D.split(":"),C.hour=parseFloat(D[0]),C.minute=parseFloat(D[1]),C.second=parseFloat(D[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "minute":switch(m.end.period){case "second":u=/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(u.test(D))D=D.split(":"),C.minute=parseFloat(D[0]),C.second=parseFloat(D[1]);
else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;default:throw"Invalid Interval.";}}return C};r.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return r}();const K={extract:{minParams:2,maxParams:2,evaluate:([r,D])=>{if(null==D)return null;if(D instanceof Date)switch(r.toUpperCase()){case "SECOND":return D.getSeconds();case "MINUTE":return D.getMinutes();
case "HOUR":return D.getHours();case "DAY":return D.getDate();case "MONTH":return D.getMonth()+1;case "YEAR":return D.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:r=>{if(2===r.length){const [D,m]=r;return null==D||null==m?null:D.toString().substring(m-1)}if(3===r.length){const [D,m,x]=r;return null==D||null==m||null==x?null:0>=x?"":D.toString().substring(m-1,m+x-1)}}},position:{minParams:2,maxParams:2,evaluate:([r,D])=>null==r||
null==D?null:D.indexOf(r)+1},trim:{minParams:2,maxParams:3,evaluate:r=>{var D=3===r.length,m=D?r[1]:" ";D=D?r[2]:r[1];if(null==m||null==D)return null;m=`(${n.escapeRegExpString(m)})`;switch(r[0]){case "BOTH":return D.replace(new RegExp(`^${m}*|${m}*$`,"g"),"");case "LEADING":return D.replace(new RegExp(`^${m}*`,"g"),"");case "TRAILING":return D.replace(new RegExp(`${m}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.abs(r[0])},
ceiling:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.ceil(r[0])},floor:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.floor(r[0])},log:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.log(r[0])},log10:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.log(r[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.sin(r[0])},cos:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.cos(r[0])},tan:{minParams:1,maxParams:1,evaluate:r=>
null==r[0]?null:Math.tan(r[0])},asin:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.asin(r[0])},acos:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.acos(r[0])},atan:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:Math.atan(r[0])},sign:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:0<r[0]?1:0>r[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:r=>null==r[0]||null==r[1]?null:Math.pow(r[0],r[1])},mod:{minParams:2,maxParams:2,evaluate:r=>null==r[0]||null==r[1]?null:r[0]%
r[1]},round:{minParams:1,maxParams:2,evaluate:r=>{const D=r[0];r=2===r.length?Math.pow(10,r[1]):1;return null==D?null:Math.round(D*r)/r}},truncate:{minParams:1,maxParams:2,evaluate:r=>null==r[0]?null:1===r.length?parseInt(r[0].toFixed(0),10):parseFloat(r[0].toFixed(r[1]))},char_length:{minParams:1,maxParams:1,evaluate:r=>"string"===typeof r[0]||r[0]instanceof String?r[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:r=>{let D="";for(let m=0;m<r.length;m++){if(null==r[m])return null;D+=
r[m].toString()}return D}},lower:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:r[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:r=>null==r[0]?null:r[0].toString().toUpperCase()}};p.SqlInterval=fa;p.evaluateFunction=function(r,D){const m=K[r.toLowerCase()];if(null==m)throw Error("Function Not Recognised");if(D.length<m.minParams||D.length>m.maxParams)throw Error(`Invalid Parameter count for call to ${r.toUpperCase()}`);return m.evaluate(D)};p.isStandardized=function(r,
D){r=K[r.toLowerCase()];return null!=r&&D>=r.minParams&&D<=r.maxParams};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(p,n){var fa=n.createCommonjsModule(function(r){(function(D,m){r.exports&&(r.exports=m())})(n.commonjsGlobal,function(){function D(m,x,u,C){this.message=m;this.expected=x;this.found=u;this.location=C;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,
D)}(function(m,x){function u(){this.constructor=m}u.prototype=x.prototype;m.prototype=new u})(D,Error);D.buildMessage=function(m,x){function u(k){return k.charCodeAt(0).toString(16).toUpperCase()}function C(k){return k.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+u(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+u(v)})}function ha(k){return k.replace(/\\/g,
"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+u(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+u(v)})}var N={literal:function(k){return'"'+C(k.text)+'"'},"class":function(k){var v="",l;for(l=0;l<k.parts.length;l++)v+=k.parts[l]instanceof Array?ha(k.parts[l][0])+"-"+ha(k.parts[l][1]):ha(k.parts[l]);return"["+(k.inverted?"^":"")+v+
"]"},any:function(k){return"any character"},end:function(k){return"end of input"},other:function(k){return k.description}};return"Expected "+function(k){var v=Array(k.length),l;for(l=0;l<k.length;l++){var d=l;var e=k[l];e=N[e.type](e);v[d]=e}v.sort();if(0<v.length){for(k=l=1;l<v.length;l++)v[l-1]!==v[l]&&(v[k]=v[l],k++);v.length=k}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}(m)+" but "+(x?'"'+C(x)+'"':"end of input")+
" found."};return{SyntaxError:D,parse:function(m,x){function u(h,y){return{type:"literal",text:h,ignoreCase:y}}function C(h,y,w){return{type:"class",parts:h,inverted:y,ignoreCase:w}}function ha(h){var y=Yb[h],w;if(!y){for(w=h-1;!Yb[w];)w--;y=Yb[w];for(y={line:y.line,column:y.column};w<h;)10===m.charCodeAt(w)?(y.line++,y.column=1):y.column++,w++;Yb[h]=y}return y}function N(h,y){var w=ha(h),T=ha(y);return{start:{offset:h,line:w.line,column:w.column},end:{offset:y,line:T.line,column:T.column}}}function k(h){c<
rb||(c>rb&&(rb=c,nc=[]),nc.push(h))}function v(){var h=c;var y=ra();if(y!==a)if(y=d(),y!==a){var w=ra();w!==a?h=y:(c=h,h=a)}else c=h,h=a;else c=h,h=a;return h}function l(){var h=c;var y=d();if(y!==a){var w=[];var T=c;var ua=ra();if(ua!==a){var Fa=Ia();if(Fa!==a){var La=ra();if(La!==a){var Qa=d();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=T,T=a}else c=T,T=a}else c=T,T=a;for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=Ia(),Fa!==a?(La=ra(),La!==a?(Qa=d(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):
(c=T,T=a)):(c=T,T=a);if(w!==a){h={type:"expr_list"};y=[y];for(T=0;T<w.length;T++)y.push(w[T][3]);h.value=y}else c=h,h=a}else c=h,h=a;return h}function d(){var h=c;var y=e();if(y!==a){var w=[];var T=c;var ua=ra();if(ua!==a){var Fa=F();if(Fa!==a){var La=ra();if(La!==a){var Qa=e();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=T,T=a}else c=T,T=a}else c=T,T=a;for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=F(),Fa!==a?(La=ra(),La!==a?(Qa=e(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):(c=T,T=a)):(c=T,T=a);
w!==a?h=y=db(y,w):(c=h,h=a)}else c=h,h=a;return h}function e(){var h=c;var y=z();if(y!==a){var w=[];var T=c;var ua=ra();if(ua!==a){var Fa=t();if(Fa!==a){var La=ra();if(La!==a){var Qa=z();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=T,T=a}else c=T,T=a}else c=T,T=a;for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=t(),Fa!==a?(La=ra(),La!==a?(Qa=z(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):(c=T,T=a)):(c=T,T=a);w!==a?h=y=db(y,w):(c=h,h=a)}else c=h,h=a;return h}function z(){var h=c;var y=f();if(y===a){y=
c;if(33===m.charCodeAt(c)){var w=ib;c++}else w=a,0===sa&&k(lb);if(w!==a){var T=c;sa++;if(61===m.charCodeAt(c)){var ua=Ra;c++}else ua=a,0===sa&&k(wb);sa--;ua===a?T=void 0:(c=T,T=a);T!==a?y=w=[w,T]:(c=y,y=a)}else c=y,y=a}y!==a?(w=ra(),w!==a?(T=z(),T!==a?h=y={type:"unary_expr",operator:"NOT",expr:T}:(c=h,h=a)):(c=h,h=a)):(c=h,h=a);if(h===a)if(h=c,y=X(),y!==a)if(w=ra(),w!==a){w=[];T=c;ua=ra();if(ua!==a){var Fa=J();if(Fa!==a){var La=ra();if(La!==a){var Qa=X();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=
T,T=a}else c=T,T=a}else c=T,T=a;if(T!==a)for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=J(),Fa!==a?(La=ra(),La!==a?(Qa=X(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):(c=T,T=a)):(c=T,T=a);else w=a;w!==a&&(w={type:"arithmetic",tail:w});w===a&&(w=c,T=W(),T!==a?(ua=ra(),ua!==a?(ua=Ja(),ua!==a?(ua=ra(),ua!==a?(ua=l(),ua!==a?(Fa=ra(),Fa!==a?(Fa=Sa(),Fa!==a?w=T={op:T,right:ua}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=W(),T!==a?(ua=ra(),ua!==a?(ua=Ja(),
ua!==a?(ua=ra(),ua!==a?(ua=Sa(),ua!==a?w=T={op:T,right:{type:"expr_list",value:[]}}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=W(),T!==a?(ua=ra(),ua!==a?(ua=B(),ua!==a?w=T={op:T,right:ua}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a))),w===a&&(w=c,ua=f(),ua!==a?(T=ra(),T!==a?(T=H(),T!==a?(Fa=ra(),Fa!==a?(Fa=X(),Fa!==a?(La=ra(),La!==a?(La=t(),La!==a?(ua=ra(),ua!==a?(ua=X(),ua!==a?w=ua={op:"NOT"+T,right:{type:"expr_list",value:[Fa,ua]}}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=
a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,ua=H(),ua!==a?(T=ra(),T!==a?(T=X(),T!==a?(Fa=ra(),Fa!==a?(Fa=t(),Fa!==a?(La=ra(),La!==a?(La=X(),La!==a?w=ua={op:ua,right:{type:"expr_list",value:[T,La]}}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)),w===a&&(w=c,T=g(),T!==a?(ua=ra(),ua!==a?(ua=f(),ua!==a?(ua=ra(),ua!==a?(ua=X(),ua!==a?w=T={op:T+"NOT",right:ua}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=g(),T!==a?(ua=ra(),ua!==a?(ua=X(),
ua!==a?w=T={op:T,right:ua}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)),w===a&&(w=c,T=Q(),T!==a?(ua=ra(),ua!==a?(ua=L(),ua!==a?(Fa=ra(),Fa!==a?(Fa=c,m.substr(c,6).toLowerCase()===ud?(La=m.substr(c,6),c+=6):(La=a,0===sa&&k(vd)),La!==a?(La=c,sa++,Qa=S(),sa--,Qa===a?La=void 0:(c=La,La=a),La!==a?Fa="ESCAPE":(c=Fa,Fa=a)):(c=Fa,Fa=a),Fa!==a?(Fa=ra(),Fa!==a?(Fa=ia(),Fa!==a?w=T={op:T,right:ua,escape:Fa.value}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=Q(),T!==a?(ua=ra(),
ua!==a?(ua=L(),ua!==a?w=T={op:T,right:ua,escape:""}:(c=w,w=a)):(c=w,w=a)):(c=w,w=a))))));w===a&&(w=null);w!==a?(h=y,y=w,""==y||void 0==y||null==y?y=h:(w=null,y=w="arithmetic"==y.type?db(h,y.tail):eb(y.op,h,y.right,y.escape)),h=y):(c=h,h=a)}else c=h,h=a;else c=h,h=a;return h}function J(){if(m.substr(c,2)===R){var h=R;c+=2}else h=a,0===sa&&k(aa);h===a&&(62===m.charCodeAt(c)?(h=ba,c++):(h=a,0===sa&&k(na)),h===a&&(m.substr(c,2)===Aa?(h=Aa,c+=2):(h=a,0===sa&&k(Ea)),h===a&&(m.substr(c,2)===Na?(h=Na,c+=
2):(h=a,0===sa&&k(Pa)),h===a&&(60===m.charCodeAt(c)?(h=Za,c++):(h=a,0===sa&&k(Ya)),h===a&&(61===m.charCodeAt(c)?(h=Ra,c++):(h=a,0===sa&&k(wb)),h===a&&(m.substr(c,2)===Va?(h=Va,c+=2):(h=a,0===sa&&k(gb))))))));return h}function Q(){var h=h=c;var y=f();if(y!==a){var w=ra();if(w!==a){var T=O();T!==a?h=y=[y,w,T]:(c=h,h=a)}else c=h,h=a}else c=h,h=a;h!==a&&(h=h[0]+" "+h[2]);h===a&&(h=O());return h}function W(){var h=h=c;var y=f();if(y!==a){var w=ra();if(w!==a){var T=b();T!==a?h=y=[y,w,T]:(c=h,h=a)}else c=
h,h=a}else c=h,h=a;h!==a&&(h=h[0]+" "+h[2]);h===a&&(h=b());return h}function X(){var h=c;var y=oa();if(y!==a){var w=[];var T=c;var ua=ra();if(ua!==a){var Fa=ea();if(Fa!==a){var La=ra();if(La!==a){var Qa=oa();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=T,T=a}else c=T,T=a}else c=T,T=a;for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=ea(),Fa!==a?(La=ra(),La!==a?(Qa=oa(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):(c=T,T=a)):(c=T,T=a);w!==a?h=y=db(y,w):(c=h,h=a)}else c=h,h=a;return h}function ea(){if(43===
m.charCodeAt(c)){var h=jb;c++}else h=a,0===sa&&k(oc);h===a&&(45===m.charCodeAt(c)?(h=pc,c++):(h=a,0===sa&&k(qc)));return h}function oa(){var h=c;var y=M();if(y!==a){var w=[];var T=c;var ua=ra();if(ua!==a){var Fa=da();if(Fa!==a){var La=ra();if(La!==a){var Qa=M();Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)}else c=T,T=a}else c=T,T=a}else c=T,T=a;for(;T!==a;)w.push(T),T=c,ua=ra(),ua!==a?(Fa=da(),Fa!==a?(La=ra(),La!==a?(Qa=M(),Qa!==a?T=ua=[ua,Fa,La,Qa]:(c=T,T=a)):(c=T,T=a)):(c=T,T=a)):(c=T,T=a);w!==a?h=y=db(y,
w):(c=h,h=a)}else c=h,h=a;return h}function da(){if(42===m.charCodeAt(c)){var h=wd;c++}else h=a,0===sa&&k(xd);h===a&&(47===m.charCodeAt(c)?(h=yd,c++):(h=a,0===sa&&k(zd)));return h}function M(){var h=ia();if(h===a){var y=c;var w=c;var T=P();if(T!==a){var ua=ca();if(ua!==a){var Fa=qa();Fa!==a?w=T=parseFloat(T+ua+Fa):(c=w,w=a)}else c=w,w=a}else c=w,w=a;w===a&&(w=c,T=P(),T!==a?(ua=ca(),ua!==a?w=T=parseFloat(T+ua):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=P(),T!==a?(ua=qa(),ua!==a?w=T=parseFloat(T+ua):(c=w,w=
a)):(c=w,w=a),w===a&&(w=c,T=P(),T!==a&&(T=parseFloat(T)),w=T)));var La=w;if(La!==a){var Qa=c;sa++;var Ad=ka();sa--;Ad===a?Qa=void 0:(c=Qa,Qa=a);Qa!==a?y=La={type:"number",value:La}:(c=y,y=a)}else c=y,y=a;h=y;if(h===a){var Kb=c;var Ab=c;if(m.substr(c,4).toLowerCase()===Bd){var Zb=m.substr(c,4);c+=4}else Zb=a,0===sa&&k(Cd);if(Zb!==a){var Lb=c;sa++;var Dd=S();sa--;Dd===a?Lb=void 0:(c=Lb,Lb=a);Lb!==a?Ab=Zb=[Zb,Lb]:(c=Ab,Ab=a)}else c=Ab,Ab=a;var xb=Ab;xb!==a&&(xb={type:"bool",value:!0});Kb=xb;if(Kb===
a){Kb=c;var Bb=c;if(m.substr(c,5).toLowerCase()===Ed){var $b=m.substr(c,5);c+=5}else $b=a,0===sa&&k(Fd);if($b!==a){var Mb=c;sa++;var Gd=S();sa--;Gd===a?Mb=void 0:(c=Mb,Mb=a);Mb!==a?Bb=$b=[$b,Mb]:(c=Bb,Bb=a)}else c=Bb,Bb=a;xb=Bb;xb!==a&&(xb={type:"bool",value:!1});Kb=xb}h=Kb;if(h===a){var Cb=c;if(m.substr(c,4).toLowerCase()===Hd){var ac=m.substr(c,4);c+=4}else ac=a,0===sa&&k(Id);if(ac!==a){var Nb=c;sa++;var Jd=S();sa--;Jd===a?Nb=void 0:(c=Nb,Nb=a);Nb!==a?Cb=ac=[ac,Nb]:(c=Cb,Cb=a)}else c=Cb,Cb=a;var rc=
Cb;rc!==a&&(rc={type:"null",value:null});h=rc;if(h===a){var ub=c;var Db=c;if(m.substr(c,4).toLowerCase()===Kd){var sc=m.substr(c,4);c+=4}else sc=a,0===sa&&k(Ld);if(sc!==a){var bc=c;sa++;var Md=S();sa--;Md===a?bc=void 0:(c=bc,bc=a);bc!==a?Db=sc="DATE":(c=Db,Db=a)}else c=Db,Db=a;var Rc=Db;if(Rc!==a){var Nd=ra();if(Nd!==a){var Sc=L();Sc!==a?ub=Rc={type:"date",value:Sc.value}:(c=ub,ub=a)}else c=ub,ub=a}else c=ub,ub=a;h=ub;if(h===a){var vb=c;var Eb=c;if(m.substr(c,9).toLowerCase()===Od){var tc=m.substr(c,
9);c+=9}else tc=a,0===sa&&k(Pd);if(tc!==a){var cc=c;sa++;var Qd=S();sa--;Qd===a?cc=void 0:(c=cc,cc=a);cc!==a?Eb=tc="TIMESTAMP":(c=Eb,Eb=a)}else c=Eb,Eb=a;var Tc=Eb;if(Tc!==a){var Rd=ra();if(Rd!==a){var Uc=L();Uc!==a?vb=Tc={type:"timestamp",value:Uc.value}:(c=vb,vb=a)}else c=vb,vb=a}else c=vb,vb=a;h=vb;if(h===a){var Wa=c;var Ob=ja();if(Ob!==a){var uc=ra();if(uc!==a){if(45===m.charCodeAt(c)){var sb=pc;c++}else sb=a,0===sa&&k(qc);sb===a&&(43===m.charCodeAt(c)?(sb=jb,c++):(sb=a,0===sa&&k(oc)));if(sb!==
a){var vc=ra();if(vc!==a){var Pb=L();if(Pb!==a){var Sd=ra();if(Sd!==a){var Vc=E();Vc!==a?Wa=Ob={type:"interval",value:Pb,qualifier:Vc,op:sb}:(c=Wa,Wa=a)}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a;Wa===a&&(Wa=c,Ob=ja(),Ob!==a?(uc=ra(),uc!==a?(sb=L(),sb!==a?(vc=ra(),vc!==a?(Pb=E(),Pb!==a?Wa=Ob={type:"interval",value:sb,qualifier:Pb,op:""}:(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a));h=Wa}}}}}}var Ua=h;if(Ua===a){var bb=c;var Fb=c;if(m.substr(c,
7).toLowerCase()===Td){var wc=m.substr(c,7);c+=7}else wc=a,0===sa&&k(Ud);if(wc!==a){var dc=c;sa++;var Vd=S();sa--;Vd===a?dc=void 0:(c=dc,dc=a);dc!==a?Fb=wc="EXTRACT":(c=Fb,Fb=a)}else c=Fb,Fb=a;var Wc=Fb;if(Wc!==a){var Wd=ra();if(Wd!==a){var Xd=Ja();if(Xd!==a){var Yd=ra();if(Yd!==a){var ob=la();ob===a&&(ob=ma(),ob===a&&(ob=va(),ob===a&&(ob=ta(),ob===a&&(ob=Ba(),ob===a&&(ob=Ca())))));var Xc=ob;if(Xc!==a){var Zd=ra();if(Zd!==a){var $d=Y();if($d!==a){var ae=ra();if(ae!==a){var Yc=d();if(Yc!==a){var be=
ra();if(be!==a){var ce=Sa();ce!==a?bb=Wc={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Xc},Yc]}}:(c=bb,bb=a)}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a}else c=bb,bb=a;Ua=bb;if(Ua===a){var $a=c;var Gb=c;if(m.substr(c,9).toLowerCase()===de){var xc=m.substr(c,9);c+=9}else xc=a,0===sa&&k(ee);if(xc!==a){var ec=c;sa++;var fe=S();sa--;fe===a?ec=void 0:(c=ec,ec=a);ec!==a?Gb=xc=
"SUBSTRING":(c=Gb,Gb=a)}else c=Gb,Gb=a;var Zc=Gb;if(Zc!==a){var ge=ra();if(ge!==a){var he=Ja();if(he!==a){var ie=ra();if(ie!==a){var yc=d();if(yc!==a){var je=ra();if(je!==a){var ke=Y();if(ke!==a){var le=ra();if(le!==a){var zc=d();if(zc!==a){var me=ra();if(me!==a){var kb=c;var Hb=c;if(m.substr(c,3).toLowerCase()===ne){var Ac=m.substr(c,3);c+=3}else Ac=a,0===sa&&k(oe);if(Ac!==a){var fc=c;sa++;var pe=S();sa--;pe===a?fc=void 0:(c=fc,fc=a);fc!==a?Hb=Ac="FOR":(c=Hb,Hb=a)}else c=Hb,Hb=a;var Qb=Hb;if(Qb!==
a){var $c=ra();if($c!==a){var ad=d();if(ad!==a){var bd=ra();bd!==a?kb=Qb=[Qb,$c,ad,bd]:(c=kb,kb=a)}else c=kb,kb=a}else c=kb,kb=a}else c=kb,kb=a;kb===a&&(kb=null);kb!==a?(Qb=Sa(),Qb!==a?$a=Zc={type:"function",name:"substring",args:{type:"expr_list",value:kb?[yc,zc,kb[2]]:[yc,zc]}}:(c=$a,$a=a)):(c=$a,$a=a)}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a}else c=$a,$a=a;Ua=$a;if(Ua===a){var Oa=c;var Rb=V();if(Rb!==
a){var Bc=ra();if(Bc!==a){var Cc=Ja();if(Cc!==a){var Dc=ra();if(Dc!==a){var pb=q();pb===a&&(pb=null);if(pb!==a){var Ec=ra();if(Ec!==a){var Sb=d();if(Sb!==a){var Fc=ra();if(Fc!==a){var Gc=Y();if(Gc!==a){var qe=ra();if(qe!==a){var cd=d();if(cd!==a){var re=ra();if(re!==a){var se=Sa();se!==a?Oa=Rb={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==pb?"BOTH":pb},Sb,cd]}}:(c=Oa,Oa=a)}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,
Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a}else c=Oa,Oa=a;Oa===a&&(Oa=c,Rb=V(),Rb!==a?(Bc=ra(),Bc!==a?(Cc=Ja(),Cc!==a?(Dc=ra(),Dc!==a?(pb=q(),pb===a&&(pb=null),pb!==a?(Ec=ra(),Ec!==a?(Sb=d(),Sb!==a?(Fc=ra(),Fc!==a?(Gc=Sa(),Gc!==a?Oa=Rb={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==pb?"BOTH":pb},Sb]}}:(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a)):(c=Oa,Oa=a));Ua=Oa;
if(Ua===a){var cb=c;var Ib=c;if(m.substr(c,8).toLowerCase()===te){var Hc=m.substr(c,8);c+=8}else Hc=a,0===sa&&k(ue);if(Hc!==a){var gc=c;sa++;var ve=S();sa--;ve===a?gc=void 0:(c=gc,gc=a);gc!==a?Ib=Hc="POSITION":(c=Ib,Ib=a)}else c=Ib,Ib=a;var dd=Ib;if(dd!==a){var we=ra();if(we!==a){var xe=Ja();if(xe!==a){var ye=ra();if(ye!==a){var ed=d();if(ed!==a){var ze=ra();if(ze!==a){var Ae=b();if(Ae!==a){var Be=ra();if(Be!==a){var fd=d();if(fd!==a){var Ce=ra();if(Ce!==a){var De=Sa();De!==a?cb=dd={type:"function",
name:"position",args:{type:"expr_list",value:[ed,fd]}}:(c=cb,cb=a)}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a}else c=cb,cb=a;Ua=cb;if(Ua===a){var hb=c;var Tb;var qb=c;qb=Tb=Z();if(qb===a)if(qb=c,96===m.charCodeAt(c)?(Tb=gd,c++):(Tb=a,0===sa&&k(hd)),Tb!==a){var hc=[];if(id.test(m.charAt(c))){var tb=m.charAt(c);c++}else tb=a,0===sa&&k(jd);if(tb!==a)for(;tb!==a;)hc.push(tb),id.test(m.charAt(c))?(tb=m.charAt(c),
c++):(tb=a,0===sa&&k(jd));else hc=a;hc!==a?(96===m.charCodeAt(c)?(tb=gd,c++):(tb=a,0===sa&&k(hd)),tb!==a?qb=Tb=hc.join(""):(c=qb,qb=a)):(c=qb,qb=a)}else c=qb,qb=a;var Ic=qb;if(Ic!==a){var Ee=ra();if(Ee!==a){var Fe=Ja();if(Fe!==a){var Ge=ra();if(Ge!==a){var Ub=l();Ub===a&&(Ub=null);if(Ub!==a){var He=ra();if(He!==a){var Ie=Sa();Ie!==a?hb=Ic={type:"function",name:Ic,args:Ub?Ub:{type:"expr_list",value:[]}}:(c=hb,hb=a)}else c=hb,hb=a}else c=hb,hb=a}else c=hb,hb=a}else c=hb,hb=a}else c=hb,hb=a}else c=hb,
hb=a;Ua=hb;if(Ua===a){var mb;var Ta=c;var Vb=Da();if(Vb!==a){var Jc=ra();if(Jc!==a){var Wb=d();if(Wb!==a){var Kc=ra();if(Kc!==a){var yb=[];for(mb=wa();mb!==a;)yb.push(mb),mb=wa();if(yb!==a)if(mb=ra(),mb!==a){var ic=Ga();ic!==a?Ta=Vb={type:"case_expression",format:"simple",operand:Wb,clauses:yb,else:null}:(c=Ta,Ta=a)}else c=Ta,Ta=a;else c=Ta,Ta=a}else c=Ta,Ta=a}else c=Ta,Ta=a}else c=Ta,Ta=a}else c=Ta,Ta=a;if(Ta===a)if(Ta=c,Vb=Da(),Vb!==a)if(Jc=ra(),Jc!==a)if(Wb=d(),Wb!==a)if(Kc=ra(),Kc!==a){yb=[];
for(mb=wa();mb!==a;)yb.push(mb),mb=wa();if(yb!==a)if(mb=ra(),mb!==a)if(ic=za(),ic!==a){var Je=ra();if(Je!==a){var Ke=Ga();Ke!==a?Ta=Vb={type:"case_expression",format:"simple",operand:Wb,clauses:yb,else:ic.value}:(c=Ta,Ta=a)}else c=Ta,Ta=a}else c=Ta,Ta=a;else c=Ta,Ta=a;else c=Ta,Ta=a}else c=Ta,Ta=a;else c=Ta,Ta=a;else c=Ta,Ta=a;else c=Ta,Ta=a;var Lc=Ta;if(Lc===a){var nb;var Xa=c;var Xb=Da();if(Xb!==a){var Mc=ra();if(Mc!==a){var zb=[];for(nb=pa();nb!==a;)zb.push(nb),nb=pa();if(zb!==a)if(nb=ra(),nb!==
a){var jc=Ga();jc!==a?Xa=Xb={type:"case_expression",format:"searched",clauses:zb,else:null}:(c=Xa,Xa=a)}else c=Xa,Xa=a;else c=Xa,Xa=a}else c=Xa,Xa=a}else c=Xa,Xa=a;if(Xa===a)if(Xa=c,Xb=Da(),Xb!==a)if(Mc=ra(),Mc!==a){zb=[];for(nb=pa();nb!==a;)zb.push(nb),nb=pa();if(zb!==a)if(nb=ra(),nb!==a)if(jc=za(),jc!==a){var Le=ra();if(Le!==a){var Me=Ga();Me!==a?Xa=Xb={type:"case_expression",format:"searched",clauses:zb,else:jc.value}:(c=Xa,Xa=a)}else c=Xa,Xa=a}else c=Xa,Xa=a;else c=Xa,Xa=a;else c=Xa,Xa=a}else c=
Xa,Xa=a;else c=Xa,Xa=a;Lc=Xa}Ua=Lc;if(Ua===a){var kc;var Jb=c;var kd=ka();if(kd!==a){var Nc=[];for(kc=U();kc!==a;)Nc.push(kc),kc=U();Nc!==a?Jb=kd+=Nc.join(""):(c=Jb,Jb=a)}else c=Jb,Jb=a;var lc=Jb;if(lc!==a){var Oc=lc;lc=/^CURRENT_DATE$/i.test(Oc)?{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Oc)?{type:"current_time",mode:"timestamp"}:{type:"column_ref",table:"",column:Oc}}Ua=lc;if(Ua===a&&(Ua=B(),Ua===a)){Ua=c;var ld=Ja();if(ld!==a){var Ne=ra();if(Ne!==a){var Pc=d();if(Pc!==a){var Oe=
ra();if(Oe!==a){var Pe=Sa();Pe!==a?(Pc.paren=!0,Ua=ld=Pc):(c=Ua,Ua=a)}else c=Ua,Ua=a}else c=Ua,Ua=a}else c=Ua,Ua=a}else c=Ua,Ua=a}}}}}}}}return Ua}function Z(){var h;var y=c;var w=ka();if(w!==a){var T=[];for(h=S();h!==a;)T.push(h),h=S();T!==a?y=w+=T.join(""):(c=y,y=a)}else c=y,y=a;return y}function ka(){if(Qe.test(m.charAt(c))){var h=m.charAt(c);c++}else h=a,0===sa&&k(Re);return h}function S(){if(Se.test(m.charAt(c))){var h=m.charAt(c);c++}else h=a,0===sa&&k(Te);return h}function U(){if(Ue.test(m.charAt(c))){var h=
m.charAt(c);c++}else h=a,0===sa&&k(Ve);return h}function B(){var h=c;if(64===m.charCodeAt(c)){var y=We;c++}else y=a,0===sa&&k(Xe);if(y!==a){var w=Z();w!==a?h=y=[y,w]:(c=h,h=a)}else c=h,h=a;h!==a&&(h={type:"param",value:h[1]});return h}function q(){var h=c;if(m.substr(c,7).toLowerCase()===Ye){var y=m.substr(c,7);c+=7}else y=a,0===sa&&k(Ze);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="LEADING":(c=h,h=a)}else c=h,h=a;h===a&&(h=c,m.substr(c,8).toLowerCase()===$e?(y=m.substr(c,8),
c+=8):(y=a,0===sa&&k(af)),y!==a?(y=c,sa++,w=S(),sa--,w===a?y=void 0:(c=y,y=a),y!==a?h="TRAILING":(c=h,h=a)):(c=h,h=a),h===a&&(h=c,m.substr(c,4).toLowerCase()===bf?(y=m.substr(c,4),c+=4):(y=a,0===sa&&k(cf)),y!==a?(y=c,sa++,w=S(),sa--,w===a?y=void 0:(c=y,y=a),y!==a?h="BOTH":(c=h,h=a)):(c=h,h=a)));return h}function E(){var h=c;var y=c;var w=A();if(w!==a){var T=ra();if(T!==a)if(T=Ja(),T!==a)if(T=ra(),T!==a)if(T=G(),T!==a){var ua=ra();ua!==a?(ua=Sa(),ua!==a?y=w={type:"interval-period",period:w.value,precision:T,
secondary:null}:(c=y,y=a)):(c=y,y=a)}else c=y,y=a;else c=y,y=a;else c=y,y=a;else c=y,y=a}else c=y,y=a;y===a&&(y=c,w=A(),w!==a&&(w=md(w)),y=w);if(y!==a)if(w=ra(),w!==a)if(w=c,m.substr(c,2).toLowerCase()===df?(T=m.substr(c,2),c+=2):(T=a,0===sa&&k(ef)),T!==a?(T=c,sa++,ua=S(),sa--,ua===a?T=void 0:(c=T,T=a),T!==a?w="TO":(c=w,w=a)):(c=w,w=a),w!==a)if(w=ra(),w!==a){w=c;T=A();T!==a&&(T={type:"interval-period",period:T.value,precision:null,secondary:null});w=T;if(w===a){w=c;T=Ca();if(T!==a)if(T=ra(),T!==a)if(T=
Ja(),T!==a)if(T=ra(),T!==a)if(T=G(),T!==a)if(ua=ra(),ua!==a)if(ua=Ia(),ua!==a)if(ua=ra(),ua!==a)if(ua=I(),ua!==a){var Fa=ra();Fa!==a?(Fa=Sa(),Fa!==a?w=T=nd(T,ua):(c=w,w=a)):(c=w,w=a)}else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;else c=w,w=a;w===a&&(w=c,T=Ca(),T!==a?(T=ra(),T!==a?(T=Ja(),T!==a?(T=ra(),T!==a?(T=G(),T!==a?(ua=ra(),ua!==a?(ua=Sa(),ua!==a?w=T={type:"interval-period",period:"second",precision:T,secondary:null}:(c=w,w=a)):(c=w,w=
a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a)):(c=w,w=a),w===a&&(w=c,T=Ca(),T!==a&&(T={type:"interval-period",period:"second",precision:null,secondary:null}),w=T))}w!==a?h=y={type:"interval-qualifier",start:y,end:w}:(c=h,h=a)}else c=h,h=a;else c=h,h=a;else c=h,h=a;else c=h,h=a;h===a&&(h=c,w=A(),w!==a?(y=ra(),y!==a?(y=Ja(),y!==a?(y=ra(),y!==a?(y=I(),y!==a?(T=ra(),T!==a?(T=Sa(),T!==a?h=w={type:"interval-period",period:w.value,precision:y,secondary:null}:(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):
(c=h,h=a)):(c=h,h=a)):(c=h,h=a),h===a&&(h=c,w=A(),w!==a&&(w=md(w)),h=w,h===a&&(h=c,w=Ca(),w!==a?(y=ra(),y!==a?(y=Ja(),y!==a?(y=ra(),y!==a?(y=G(),y!==a?(T=ra(),T!==a?(T=Ia(),T!==a?(w=ra(),w!==a?(w=I(),w!==a?(T=ra(),T!==a?(T=Sa(),T!==a?h=w=nd(y,w):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a),h===a&&(h=c,w=Ca(),w!==a?(y=ra(),y!==a?(y=Ja(),y!==a?(y=ra(),y!==a?(y=I(),y!==a?(T=ra(),T!==a?(T=Sa(),T!==a?h=w={type:"interval-period",
period:"second",precision:y,secondary:null}:(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a),h===a&&(h=c,w=Ca(),w!==a&&(w={type:"interval-period",period:"second",precision:null,secondary:null}),h=w)))));return h}function A(){var h=c;h=va();h!==a&&(h={type:"string",value:"day"});h===a&&(h=c,h=ta(),h!==a&&(h={type:"string",value:"hour"}),h===a&&(h=c,h=Ba(),h!==a&&(h={type:"string",value:"minute"}),h===a&&(h=c,h=ma(),h!==a&&(h={type:"string",value:"month"}),h===a&&(h=c,h=la(),
h!==a&&(h={type:"string",value:"year"})))));return h}function I(){var h=ya();h!==a&&(h=parseFloat(h));return h}function G(){var h=ya();h!==a&&(h=parseFloat(h));return h}function L(){var h=ia();h===a&&(h=B());return h}function ia(){var h=c;if(39===m.charCodeAt(c)){var y=od;c++}else y=a,0===sa&&k(pd);y===a&&(m.substr(c,2)===qd?(y=qd,c+=2):(y=a,0===sa&&k(ff)));if(y!==a){y=[];var w=c;m.substr(c,2)===mc?(w=mc,c+=2):(w=a,0===sa&&k(rd));w!==a&&(w="'");w===a&&(sd.test(m.charAt(c))?(w=m.charAt(c),c++):(w=
a,0===sa&&k(td)));for(;w!==a;)y.push(w),w=c,m.substr(c,2)===mc?(w=mc,c+=2):(w=a,0===sa&&k(rd)),w!==a&&(w="'"),w===a&&(sd.test(m.charAt(c))?(w=m.charAt(c),c++):(w=a,0===sa&&k(td)));y!==a?(39===m.charCodeAt(c)?(w=od,c++):(w=a,0===sa&&k(pd)),w!==a?h=y={type:"string",value:y.join("")}:(c=h,h=a)):(c=h,h=a)}else c=h,h=a;return h}function pa(){var h=c;var y=Ha();if(y!==a)if(y=ra(),y!==a)if(y=d(),y!==a){var w=ra();w!==a?(w=Ka(),w!==a?(w=ra(),w!==a?(w=d(),w!==a?h=y={type:"when_clause",operand:y,value:w}:(c=
h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)}else c=h,h=a;else c=h,h=a;else c=h,h=a;return h}function wa(){var h=c;var y=Ha();if(y!==a)if(y=ra(),y!==a)if(y=d(),y!==a){var w=ra();w!==a?(w=Ka(),w!==a?(w=ra(),w!==a?(w=d(),w!==a?h=y={type:"when_clause",operand:y,value:w}:(c=h,h=a)):(c=h,h=a)):(c=h,h=a)):(c=h,h=a)}else c=h,h=a;else c=h,h=a;else c=h,h=a;return h}function za(){var h=c;var y=c;if(m.substr(c,4).toLowerCase()===gf){var w=m.substr(c,4);c+=4}else w=a,0===sa&&k(hf);if(w!==a){w=c;sa++;var T=S();sa--;
T===a?w=void 0:(c=w,w=a);w!==a?y="ELSE":(c=y,y=a)}else c=y,y=a;y!==a?(y=ra(),y!==a?(y=d(),y!==a?h={type:"else_clause",value:y}:(c=h,h=a)):(c=h,h=a)):(c=h,h=a);return h}function P(){var h=ya();if(h===a){h=c;if(45===m.charCodeAt(c)){var y=pc;c++}else y=a,0===sa&&k(qc);y===a&&(43===m.charCodeAt(c)?(y=jb,c++):(y=a,0===sa&&k(oc)));if(y!==a){var w=ya();w!==a?h=y=y[0]+w:(c=h,h=a)}else c=h,h=a}return h}function ca(){var h=c;if(46===m.charCodeAt(c)){var y=jf;c++}else y=a,0===sa&&k(kf);y!==a?(y=ya(),y===a&&
(y=null),y!==a?h="."+(null!=y?y:""):(c=h,h=a)):(c=h,h=a);return h}function qa(){var h;var y=h=c;if(lf.test(m.charAt(c))){var w=m.charAt(c);c++}else w=a,0===sa&&k(mf);w!==a?(nf.test(m.charAt(c))?(w=m.charAt(c),c++):(w=a,0===sa&&k(of)),w===a&&(w=null),w!==a?y="e"+(null===w?"":w):(c=y,y=a)):(c=y,y=a);y!==a?(w=ya(),w!==a?h=y+w:(c=h,h=a)):(c=h,h=a);return h}function ya(){var h=[];var y=xa();if(y!==a)for(;y!==a;)h.push(y),y=xa();else h=a;h!==a&&(h=h.join(""));return h}function xa(){if(pf.test(m.charAt(c))){var h=
m.charAt(c);c++}else h=a,0===sa&&k(qf);return h}function b(){var h=c;if(m.substr(c,2).toLowerCase()===rf){var y=m.substr(c,2);c+=2}else y=a,0===sa&&k(sf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="IN":(c=h,h=a)}else c=h,h=a;return h}function g(){var h=c;if(m.substr(c,2).toLowerCase()===tf){var y=m.substr(c,2);c+=2}else y=a,0===sa&&k(uf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="IS":(c=h,h=a)}else c=h,h=a;return h}function O(){var h=c;if(m.substr(c,
4).toLowerCase()===vf){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(wf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="LIKE":(c=h,h=a)}else c=h,h=a;return h}function f(){var h=c;if(m.substr(c,3).toLowerCase()===xf){var y=m.substr(c,3);c+=3}else y=a,0===sa&&k(yf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="NOT":(c=h,h=a)}else c=h,h=a;return h}function t(){var h=c;if(m.substr(c,3).toLowerCase()===zf){var y=m.substr(c,3);c+=3}else y=a,0===sa&&k(Af);if(y!==
a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="AND":(c=h,h=a)}else c=h,h=a;return h}function F(){var h=c;if(m.substr(c,2).toLowerCase()===Bf){var y=m.substr(c,2);c+=2}else y=a,0===sa&&k(Cf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="OR":(c=h,h=a)}else c=h,h=a;return h}function H(){var h=c;if(m.substr(c,7).toLowerCase()===Df){var y=m.substr(c,7);c+=7}else y=a,0===sa&&k(Ef);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="BETWEEN":(c=h,h=a)}else c=
h,h=a;return h}function Y(){var h=c;if(m.substr(c,4).toLowerCase()===Ff){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(Gf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="FROM":(c=h,h=a)}else c=h,h=a;return h}function V(){var h=c;if(m.substr(c,4).toLowerCase()===Hf){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(If);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="TRIM":(c=h,h=a)}else c=h,h=a;return h}function ja(){var h=c;if(m.substr(c,8).toLowerCase()===Jf){var y=
m.substr(c,8);c+=8}else y=a,0===sa&&k(Kf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="INTERVAL":(c=h,h=a)}else c=h,h=a;return h}function la(){var h=c;if(m.substr(c,4).toLowerCase()===Lf){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(Mf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="YEAR":(c=h,h=a)}else c=h,h=a;return h}function ma(){var h=c;if(m.substr(c,5).toLowerCase()===Nf){var y=m.substr(c,5);c+=5}else y=a,0===sa&&k(Of);if(y!==a){y=c;sa++;var w=S();
sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="MONTH":(c=h,h=a)}else c=h,h=a;return h}function va(){var h=c;if(m.substr(c,3).toLowerCase()===Pf){var y=m.substr(c,3);c+=3}else y=a,0===sa&&k(Qf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="DAY":(c=h,h=a)}else c=h,h=a;return h}function ta(){var h=c;if(m.substr(c,4).toLowerCase()===Rf){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(Sf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="HOUR":(c=h,h=a)}else c=h,h=a;return h}
function Ba(){var h=c;if(m.substr(c,6).toLowerCase()===Tf){var y=m.substr(c,6);c+=6}else y=a,0===sa&&k(Uf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="MINUTE":(c=h,h=a)}else c=h,h=a;return h}function Ca(){var h=c;if(m.substr(c,6).toLowerCase()===Vf){var y=m.substr(c,6);c+=6}else y=a,0===sa&&k(Wf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="SECOND":(c=h,h=a)}else c=h,h=a;return h}function Da(){var h=c;if(m.substr(c,4).toLowerCase()===Xf){var y=m.substr(c,
4);c+=4}else y=a,0===sa&&k(Yf);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="CASE":(c=h,h=a)}else c=h,h=a;return h}function Ga(){var h=c;if(m.substr(c,3).toLowerCase()===Zf){var y=m.substr(c,3);c+=3}else y=a,0===sa&&k($f);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="END":(c=h,h=a)}else c=h,h=a;return h}function Ha(){var h=c;if(m.substr(c,4).toLowerCase()===ag){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(bg);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:
(c=y,y=a);y!==a?h="WHEN":(c=h,h=a)}else c=h,h=a;return h}function Ka(){var h=c;if(m.substr(c,4).toLowerCase()===cg){var y=m.substr(c,4);c+=4}else y=a,0===sa&&k(dg);if(y!==a){y=c;sa++;var w=S();sa--;w===a?y=void 0:(c=y,y=a);y!==a?h="THEN":(c=h,h=a)}else c=h,h=a;return h}function Ia(){if(44===m.charCodeAt(c)){var h=eg;c++}else h=a,0===sa&&k(fg);return h}function Ja(){if(40===m.charCodeAt(c)){var h=gg;c++}else h=a,0===sa&&k(hg);return h}function Sa(){if(41===m.charCodeAt(c)){var h=ig;c++}else h=a,0===
sa&&k(jg);return h}function ra(){var h;var y=[];for(h=fb();h!==a;)y.push(h),h=fb();return y}function fb(){if(kg.test(m.charAt(c))){var h=m.charAt(c);c++}else h=a,0===sa&&k(lg);return h}function eb(h,y,w,T){h={type:"binary_expr",operator:h,left:y,right:w};void 0!==T&&(h.escape=T);return h}function db(h,y){for(var w=0;w<y.length;w++)h=eb(y[w][1],h,y[w][3]);return h}x=void 0!==x?x:{};var a={},ab={start:v},Ma=v,ib="!",lb=u("!",!1),Ra="\x3d",wb=u("\x3d",!1),R="\x3e\x3d",aa=u("\x3e\x3d",!1),ba="\x3e",na=
u("\x3e",!1),Aa="\x3c\x3d",Ea=u("\x3c\x3d",!1),Na="\x3c\x3e",Pa=u("\x3c\x3e",!1),Za="\x3c",Ya=u("\x3c",!1),Va="!\x3d",gb=u("!\x3d",!1),jb="+",oc=u("+",!1),pc="-",qc=u("-",!1),wd="*",xd=u("*",!1),yd="/",zd=u("/",!1),Qe=/^[A-Za-z_\x80-\uFFFF]/,Re=C([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Se=/^[A-Za-z0-9_]/,Te=C([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ue=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ve=C([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),We="@",Xe=u("@",!1),md=function(h){return{type:"interval-period",
period:h.value,precision:null,secondary:null}},nd=function(h,y){return{type:"interval-period",period:"second",precision:h,secondary:y}},od="'",pd=u("'",!1),qd="N'",ff=u("N'",!1),mc="''",rd=u("''",!1),sd=/^[^']/,td=C(["'"],!0,!1),jf=".",kf=u(".",!1),pf=/^[0-9]/,qf=C([["0","9"]],!1,!1),lf=/^[eE]/,mf=C(["e","E"],!1,!1),nf=/^[+\-]/,of=C(["+","-"],!1,!1),Hd="null",Id=u("NULL",!0),Bd="true",Cd=u("TRUE",!0),Ed="false",Fd=u("FALSE",!0),rf="in",sf=u("IN",!0),tf="is",uf=u("IS",!0),vf="like",wf=u("LIKE",!0),
ud="escape",vd=u("ESCAPE",!0),xf="not",yf=u("NOT",!0),zf="and",Af=u("AND",!0),Bf="or",Cf=u("OR",!0),Df="between",Ef=u("BETWEEN",!0),Ff="from",Gf=u("FROM",!0),ne="for",oe=u("FOR",!0),de="substring",ee=u("SUBSTRING",!0),Td="extract",Ud=u("EXTRACT",!0),Hf="trim",If=u("TRIM",!0),te="position",ue=u("POSITION",!0),Od="timestamp",Pd=u("TIMESTAMP",!0),Kd="date",Ld=u("DATE",!0),Ye="leading",Ze=u("LEADING",!0),$e="trailing",af=u("TRAILING",!0),bf="both",cf=u("BOTH",!0),df="to",ef=u("TO",!0),Jf="interval",Kf=
u("INTERVAL",!0),Lf="year",Mf=u("YEAR",!0),Nf="month",Of=u("MONTH",!0),Pf="day",Qf=u("DAY",!0),Rf="hour",Sf=u("HOUR",!0),Tf="minute",Uf=u("MINUTE",!0),Vf="second",Wf=u("SECOND",!0),Xf="case",Yf=u("CASE",!0),Zf="end",$f=u("END",!0),ag="when",bg=u("WHEN",!0),cg="then",dg=u("THEN",!0),gf="else",hf=u("ELSE",!0),eg=",",fg=u(",",!1),gg="(",hg=u("(",!1),ig=")",jg=u(")",!1),kg=/^[ \t\n\r]/,lg=C([" ","\t","\n","\r"],!1,!1),gd="`",hd=u("`",!1),id=/^[^`]/,jd=C(["`"],!0,!1),c=0,Yb=[{line:1,column:1}],rb=0,nc=
[],sa=0;if("startRule"in x){if(!(x.startRule in ab))throw Error("Can't start parsing from rule \""+x.startRule+'".');Ma=ab[x.startRule]}var Qc=Ma();if(Qc!==a&&c===m.length)return Qc;Qc!==a&&c<m.length&&k({type:"end"});throw function(h,y,w){return new D(D.buildMessage(h,y),h,y,w)}(nc,rb<m.length?m.charAt(rb):null,rb<m.length?N(rb,rb+1):N(rb,rb));}}})});let K=function(){function r(){}r.parse=function(D){return fa.parse(D)};return r}();p.WhereGrammar=K;Object.defineProperty(p,"__esModule",{value:!0})})},
"esri/chunks/spatialQuerySupport":function(){define("require exports ../core/maybe ../core/jsonMap ../core/Error ../core/promiseUtils ../geometry/support/spatialReferenceUtils ../geometry/support/contains ../geometry/support/intersects ../geometry/support/extentUtils ../geometry/support/jsonUtils ../core/unitUtils ../geometry/support/normalizeUtils ../layers/graphics/OptimizedGeometry ../layers/graphics/featureConversionUtils ../layers/graphics/centroid ../layers/graphics/data/projectionSupport ../layers/graphics/contains".split(" "),
function(p,n,fa,K,r,D,m,x,u,C,ha,N,k,v,l,d,e,z){function J(G,L,ia,pa=G.hasZ,wa=G.hasM){const za=G.hasZ&&pa,P=G.hasM&&wa;return ia?(G=l.quantizeOptimizedGeometry(S,L,G.hasZ,G.hasM,"esriGeometryPoint",ia,pa,wa),l.convertToPoint(G,za,P)):l.convertToPoint(L,za,P)}function Q(G,L,ia,pa,wa,za,P=L,ca=ia){const qa=L&&P,ya=ia&&ca;pa=pa?"coords"in pa?pa:pa.geometry:null;if(!pa)return null;if(wa)return L=l.generalizeOptimizedGeometry(ka,pa,L,ia,G,wa,P,ca),za&&(L=l.quantizeOptimizedGeometry(S,L,qa,ya,G,za)),U[G](L,
qa,ya);if(za)return za=l.quantizeOptimizedGeometry(S,pa,L,ia,G,za,P,ca),U[G](za,qa,ya);l.removeZMValues(Z,pa,L,ia,P,ca);return U[G](Z,qa,ya)}async function W(G,L,ia){if(!G)return null;var {where:pa}=G;G.where=pa=pa&&pa.trim();if(!pa||/^1 *= *1$/.test(pa)||L&&L===pa)G.where=null;if(!G.geometry)return G;L=await X(G);G.distance=0;G.units=null;"esriSpatialRelEnvelopeIntersects"===G.spatialRel&&({spatialReference:pa}=G.geometry,L=C.getGeometryExtent(L),L.spatialReference=pa);G.geometry=L;await e.checkProjectionSupport(L.spatialReference,
ia);L=(await k.normalizeCentralMeridian(ha.fromJSON(L)))[0];if(fa.isNone(L))throw M;L=L.toJSON();L=await e.project(L,L.spatialReference,ia);if(!L)throw M;L.spatialReference=ia;G.geometry=L;return G}async function X(G){const {geometry:L,distance:ia,units:pa}=G;if(null==ia||"vertexAttributes"in L)return L;var wa=L.spatialReference;G=pa?da.fromJSON(pa):N.getUnitString(wa);wa=wa&&(m.isGeographic(wa)||m.isWebMercator(wa))?L:await e.checkProjectionSupport(wa,m.WGS84).then(()=>e.project(L,m.WGS84));return(await oa())(wa.spatialReference,
wa,ia,G)}function ea(){return new Promise(function(G,L){p(["../geometry/geometryEngineJSON"],G,L)})}function oa(){return ea().then(G=>G.geodesicBuffer)}const da=new K.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),M=Object.freeze({}),Z=new v,ka=new v,S=new v,U={esriGeometryPoint:l.convertToPoint,esriGeometryPolyline:l.convertToPolyline,
esriGeometryPolygon:l.convertToPolygon,esriGeometryMultipoint:l.convertToMultipoint},B=(G,L)=>"_geVersion"!==G?L:void 0,q={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null};var E={esriSpatialRelIntersects:!0,
esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},A={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},I={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};n.QUERY_ENGINE_EMPTY_RESULT=
M;n.canQueryWithRBush=function(G){if(ha.isExtent(G))return!0;if(ha.isPolygon(G)){for(const L of G.rings)if(5!==L.length||L[0][0]!==L[1][0]||L[0][0]!==L[4][0]||L[2][0]!==L[3][0]||L[0][1]!==L[3][1]||L[0][1]!==L[4][1]||L[1][1]!==L[2][1])return!1;return!0}return!1};n.checkSpatialQuerySupport=async function(G,L,ia){const {spatialRel:pa,geometry:wa}=G;if(wa){if(!0!==E[pa])throw new r("feature-store:unsupported-query","Unsupported query spatial relationship",{query:G});if(m.isValid(wa.spatialReference)&&
m.isValid(ia)){if(!0!==A[ha.getJsonType(wa)])throw new r("feature-store:unsupported-query","Unsupported query geometry type",{query:G});if(!0!==I[L])throw new r("feature-store:unsupported-query","Unsupported layer geometry type",{query:G});if(G.outSR)return e.checkProjectionSupport(G.geometry&&G.geometry.spatialReference,G.outSR)}}};n.cleanFromGeometryEngine=function(G){return G&&"_geVersion"in G?JSON.parse(JSON.stringify(G,B)):G};n.getCentroid=function(G,L,ia){if("esriGeometryPolygon"!==G.geometryType||
!L||!L.centroid&&!L.geometry)return null;L.centroid||(L.centroid=d.getCentroidOptimizedGeometry(new v,L.geometry,G.hasZ,G.hasM));return J(G,L.centroid,ia)};n.getGeodesicBufferOperator=oa;n.getGeometry=Q;n.getSpatialQueryOperator=function(G,L,ia,pa,wa){if(ha.isPolygon(L)&&"esriGeometryPoint"===ia&&("esriSpatialRelIntersects"===G||"esriSpatialRelContains"===G)){const za=l.convertFromPolygon(new v,L,!1,!1);return D.resolve(P=>z.polygonContainsPoint(za,!1,!1,P))}if(ha.isPolygon(L)&&"esriGeometryMultipoint"===
ia){const za=l.convertFromPolygon(new v,L,!1,!1);if("esriSpatialRelContains"===G)return D.resolve(P=>z.polygonContainsMultipoint(za,!1,!1,P,pa,wa))}if(ha.isExtent(L)&&"esriGeometryPoint"===ia&&("esriSpatialRelIntersects"===G||"esriSpatialRelContains"===G))return D.resolve(za=>x.extentContainsPoint(L,Q(ia,pa,wa,za)));if(ha.isExtent(L)&&"esriGeometryMultipoint"===ia&&"esriSpatialRelContains"===G)return D.resolve(za=>x.extentContainsMultipoint(L,Q(ia,pa,wa,za)));if(ha.isExtent(L)&&"esriSpatialRelIntersects"===
G){const za=u.getExtentIntersector(ia);return D.resolve(P=>za(L,Q(ia,pa,wa,P)))}return ea().then(za=>{const P=za[q[G]].bind(null,L.spatialReference,L);return ca=>P(Q(ia,pa,wa,ca))})};n.importGeometryEngine=ea;n.normalizeFilter=async function(G,L,ia){return W(G,L,ia)};n.normalizeQuery=async function(G,L,ia){const {outFields:pa,orderByFields:wa,groupByFieldsForStatistics:za,outStatistics:P}=G;if(pa)for(var ca=0;ca<pa.length;ca++)pa[ca]=pa[ca].trim();if(wa)for(ca=0;ca<wa.length;ca++)wa[ca]=wa[ca].trim();
if(za)for(ca=0;ca<za.length;ca++)za[ca]=za[ca].trim();if(P)for(ca=0;ca<P.length;ca++)P[ca].onStatisticField&&(P[ca].onStatisticField=P[ca].onStatisticField.trim());G.geometry&&!G.outSR&&(G.outSR=G.geometry.spatialReference);return W(G,L,ia)};n.normalizeQueryLike=W;n.transformCentroid=J})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/maybe ../../core/Logger ../../core/Error ../../core/promiseUtils ./spatialReferenceUtils ../SpatialReference ./webMercatorUtils ../Polygon ../Polyline ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(p,n,fa,K,r,D,m,x,u,C,ha,N,k){function v(da){return"polygon"===da.type?da.rings:da.paths}function l(da,M){return Math.ceil((da-M)/(2*M))}function d(da,M){const Z=v(da);for(const ka of Z)for(const S of ka)S[0]+=M;return da}function e(da){const M=[];let Z=0,ka=0;for(let S=0;S<da.length;S++){const U=da[S];let B=null;for(let q=0;q<U.length;q++)B=U[q],M.push(B),0===q?ka=Z=B[0]:(Z=Math.min(Z,B[0]),ka=Math.max(ka,B[0]));B&&M.push([(Z+ka)/2,0])}return M}function z(da,M){if(!(da instanceof ha||da instanceof
C))throw ea.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new r("straightLineDensify: the input geometry is neither polyline nor polygon");var Z=v(da);const ka=[];for(const U of Z){Z=[];ka.push(Z);Z.push([U[0][0],U[0][1]]);for(let B=0;B<U.length-1;B++){const q=U[B][0],E=U[B][1],A=U[B+1][0],I=U[B+1][1];var S=Math.sqrt((A-q)*(A-q)+(I-E)*(I-E));const G=(I-E)/S,L=(A-q)/S,ia=S/M;if(1<ia){for(let pa=1;pa<=ia-1;pa++){const wa=pa*M;Z.push([L*wa+q,G*wa+E])}S=(S+Math.floor(ia-
1)*M)/2;Z.push([L*S+q,G*S+E])}Z.push([A,I])}}return"polygon"===da.type?new C({rings:ka,spatialReference:da.spatialReference}):new ha({paths:ka,spatialReference:da.spatialReference})}function J(da,M,Z){M&&(da=z(da,1E6),da=u.webMercatorToGeographic(da,!0));Z&&(da=d(da,Z));return da}function Q(da,M,Z){if(Array.isArray(da)){var ka=da[0];ka>M?(Z=l(ka,M),da[0]=ka+-2*Z*M):ka<Z&&(M=l(ka,Z),da[0]=ka+-2*M*Z)}else ka=da.x,ka>M?(Z=l(ka,M),da=da.clone().offset(-2*Z*M,0)):ka<Z&&(M=l(ka,Z),da=da.clone().offset(-2*
M*Z,0));return da}function W(da,M){let Z=-1;for(let ka=0;ka<M.cutIndexes.length;ka++){const S=M.cutIndexes[ka],U=M.geometries[ka],B=v(U);for(let q=0;q<B.length;q++){const E=B[q];E.some(A=>{if(180>A[0])return!0;A=0;for(var I=0;I<E.length;I++){var G=E[I][0];A=G>A?G:A}A=Number(A.toFixed(9));A=-360*l(A,180);for(I=0;I<E.length;I++)G=U.getPoint(q,I),U.setPoint(q,I,G.clone().offset(A,0));return!0})}if(S===Z)if("polygon"===da[0].type)for(const q of v(U))da[S]=da[S].addRing(q);else{if("polyline"===da[0].type)for(const q of v(U))da[S]=
da[S].addPath(q)}else Z=S,da[S]=U}return da}async function X(da,M,Z){if(!Array.isArray(da))return X([da],M);var ka=M?M.url:n.geometryServiceUrl;let S,U,B;let q=0;var E=[];M=[];for(var A of da)if(fa.isNone(A))M.push(A);else{if(!I){var I=A.spatialReference;var G=m.getInfo(I);var L=(S=I.isWebMercator)?102100:4326;U=oa[L].maxX;B=oa[L].minX;var ia=oa[L].plus180Line;L=oa[L].minus180Line}if(G)if("mesh"===A.type)M.push(A);else if("point"===A.type)M.push(Q(A.clone(),U,B));else if("multipoint"===A.type){var pa=
A.clone();pa.points=pa.points.map(wa=>Q(wa,U,B));M.push(pa)}else if("extent"===A.type)pa=A.clone()._normalize(!1,!1,G),M.push(pa.rings?new C(pa):pa);else if(A.extent){pa=A.extent;const wa=2*l(pa.xmin,B)*U;let za=0===wa?A.clone():d(A.clone(),wa);pa.offset(wa,0);pa.intersects(ia)&&pa.xmax!==U?(q=pa.xmax>q?pa.xmax:q,za=J(za,S),E.push(za),M.push("cut")):pa.intersects(L)&&pa.xmin!==B?(q=2*pa.xmax*U>q?2*pa.xmax*U:q,za=J(za,S,360),E.push(za),M.push("cut")):M.push(za)}else M.push(A.clone());else M.push(A)}I=
l(q,U);G=-90;ia=I;for(A=new ha;0<I;)L=-180+360*I,A.addPath([[L,G],[L,-1*G]]),G*=-1,I--;if(0<E.length&&0<ia){I=await N.cut(ka,E,A,Z);I=W(E,I);G=[];E=[];for(ia=0;ia<M.length;ia++)A=M[ia],"cut"!==A?E.push(A):(A=I.shift(),L=da[ia],fa.isSome(L)&&"polygon"===L.type&&L.rings&&1<L.rings.length&&A.rings.length>=L.rings.length?(G.push(A),E.push("simplify")):E.push(S?u.geographicToWebMercator(A):A));if(!G.length)return E;M=await k.simplify(ka,G,Z);da=[];for(Z=0;Z<E.length;Z++)ka=E[Z],"simplify"!==ka?da.push(ka):
da.push(S?u.geographicToWebMercator(M.shift()):M.shift());return da}da=[];for(Z=0;Z<M.length;Z++)ka=M[Z],"cut"!==ka?da.push(ka):(ka=E.shift(),da.push(!0===S?u.geographicToWebMercator(ka):ka));return D.resolve(da)}const ea=K.getLogger("esri.geometry.support.normalizeUtils"),oa={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new ha({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:x.WebMercator}),minus180Line:new ha({paths:[[[-2.0037508342788905E7,
-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:x.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ha({paths:[[[180,-180],[180,180]]],spatialReference:x.WGS84}),minus180Line:new ha({paths:[[[-180,-180],[-180,180]]],spatialReference:x.WGS84})}};p.getDenormalizedExtent=function(da){if(!da)return null;const M=da.extent;if(!M)return null;var Z=da.spatialReference&&m.getInfo(da.spatialReference);if(!Z)return M;const [ka,S]=Z.valid;({width:Z}=M);let {xmin:U,
xmax:B}=M;[U,B]=[B,U];if("extent"===da.type||0===Z||Z<=S||Z>2*S||U<ka||B>S)return M;let q;switch(da.type){case "polygon":if(1<da.rings.length)q=e(da.rings);else return M;break;case "polyline":if(1<da.paths.length)q=e(da.paths);else return M;break;case "multipoint":q=da.points}da=M.clone();for(let E=0;E<q.length;E++){let A=q[E][0];0>A?(A+=S,B=Math.max(A,B)):(A-=S,U=Math.min(A,U))}da.xmin=U;da.xmax=B;return da.width<Z?(da.xmin-=S,da.xmax-=S,da):M};p.normalizeCentralMeridian=X;p.normalizeMapX=function(da,
M){if(M=m.getInfo(M)){const [Z,ka]=M.valid;M=ka-Z;if(da<Z)for(;da<Z;)da+=M;if(da>ka)for(;da>ka;)da-=M}return da};p.straightLineDensify=z;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils","../../geometry","../../request"],function(p,n,fa,K,r){p.cut=async function(D,m,x,u){D="string"===typeof D?n.urlToObject(D):D;const C=m[0].spatialReference;m={...u,query:{...D.query,f:"json",sr:JSON.stringify(C),
target:JSON.stringify({geometryType:fa.getJsonType(m[0]),geometries:m}),cutter:JSON.stringify(x)}};m=await r(D.path+"/cut",m);const {cutIndexes:ha,geometries:N=[]}=m.data;return{cutIndexes:ha,geometries:N.map(k=>{k=fa.fromJSON(k);k.spatialReference=C;return k})}};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils","../../request"],function(p,n,fa,K){function r(m){return{geometryType:fa.getJsonType(m[0]),
geometries:m.map(x=>x.toJSON())}}function D(m,x,u){const C=fa.getGeometryType(x);return m.map(ha=>{ha=C.fromJSON(ha);ha.spatialReference=u;return ha})}p.simplify=async function(m,x,u){const C="string"===typeof m?n.urlToObject(m):m;m=x[0].spatialReference;const ha=fa.getJsonType(x[0]);x={...u,query:{...C.query,f:"json",sr:m.wkid?m.wkid:JSON.stringify(m),geometries:JSON.stringify(r(x))}};x=await K(C.path+"/simplify",x);return D(x.data,ha,m)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/contains":function(){define(["exports"],
function(p){function n(fa,K,r,D,m){if(!fa)return!1;K=K?r?4:3:r?3:2;const {coords:x,lengths:u}=fa;r=!1;fa=0;for(const ha of u){var C=fa;for(let N=fa,k=fa+ha*K;N<k;N+=K){C=N+K;C===k&&(C=fa);const v=x[N],l=x[N+1],d=x[C];C=x[C+1];(l<m&&C>=m||C<m&&l>=m)&&v+(m-l)/(C-l)*(d-v)<D&&(r=!r)}fa+=ha*K}return r}p.polygonContainsCoords=n;p.polygonContainsMultipoint=function(fa,K,r,D,m,x){m=m?x?4:3:x?3:2;const {coords:u,lengths:C}=D;if(!C)return!1;for(let ha=0,N=0;ha<C.length;ha++,N+=m)if(!n(fa,K,r,u[N],u[N+1]))return!1;
return!0};p.polygonContainsPoint=function(fa,K,r,D){return n(fa,K,r,D.coords[0],D.coords[1])};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/timeSupport":function(){define(["exports"],function(p){function n(r,D,m,x,u){if(null!=x&&null!=u)return C=>{const ha=r.getAttribute(C,D);C=r.getAttribute(C,m);return(null==ha||ha<=u)&&(null==C||C>=x)};if(null!=x)return C=>{C=r.getAttribute(C,m);return null==C||C>=x};if(null!=u)return C=>{C=r.getAttribute(C,D);return null==C||C<=
u}}function fa(r,D,m,x){if(null!=m&&null!=x&&m===x)return u=>r.getAttribute(u,D)===m;if(null!=m&&null!=x)return u=>{u=r.getAttribute(u,D);return u>=m&&u<=x};if(null!=m)return u=>r.getAttribute(u,D)>=m;if(null!=x)return u=>r.getAttribute(u,D)<=x}function K(){return()=>!1}p.getTimeExtent=function(r,D){if(!r)return null;const m=D.featureAdapter,{startTimeField:x,endTimeField:u}=r;let C=Number.POSITIVE_INFINITY,ha=Number.NEGATIVE_INFINITY;if(x&&u)D.forEach(N=>{const k=m.getAttribute(N,x);N=m.getAttribute(N,
u);null==k||isNaN(k)||(C=Math.min(C,k));null==N||isNaN(N)||(ha=Math.max(ha,N))});else{const N=x||u;D.forEach(k=>{k=m.getAttribute(k,N);null==k||isNaN(k)||(C=Math.min(C,k),ha=Math.max(ha,k))})}return{start:C,end:ha}};p.getTimeOperator=function(r,D,m){if(!D||!r)return null;const {startTimeField:x,endTimeField:u}=r;if(!x&&!u)return null;const {start:C,end:ha}=D;return null===C&&null===ha?null:void 0===C&&void 0===ha?K():x&&u?n(m,x,u,C,ha):fa(m,x||u,C,ha)};Object.defineProperty(p,"__esModule",{value:!0})})},
"esri/layers/graphics/data/QueryEngineResult":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/promiseUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ./projectionSupport ../../../geometry/support/quantizationUtils ./attributeSupport ./AttributesBuilder ../../../chunks/spatialQuerySupport ./timeSupport".split(" "),function(p,n,fa,K,r,D,m,x,u,C,ha){function N(v){return v.substr(24,12)+v.substr(19,4)+v.substr(16,2)+v.substr(14,
2)+v.substr(11,2)+v.substr(9,2)+v.substr(6,2)+v.substr(4,2)+v.substr(2,2)+v.substr(0,2)}function k(v,l,d,e){if(d&&"esriFieldTypeDate"===d.type){const z=(new Date(v)).getTime(),J=(new Date(l)).getTime();if(!isNaN(z)&&!isNaN(J))return e?J-z:z-J}return"number"===typeof v&&"number"===typeof l?e?l-v:v-l:"string"===typeof v&&"string"===typeof l?(v=v.toUpperCase(),l=l.toUpperCase(),!d||"esriFieldTypeGUID"!==d.type&&"esriFieldTypeGlobalID"!==d.type?e=(e?v>l:v<l)?-1:(e?v<l:v>l)?1:0:(d=N(v),l=N(l),e=(e?d>l:
d<l)?-1:(e?d<l:d>l)?1:0),e):e?1:-1}return function(){function v(d,e,z){this.items=d;this.queryGeometry=e;this.definitionExpression=z.definitionExpression;this.geometryType=z.geometryType;this.hasM=z.hasM;this.hasZ=z.hasZ;this.objectIdField=z.objectIdField;this.spatialReference=z.spatialReference;this.fieldsIndex=z.fieldsIndex;this.timeInfo=z.timeInfo;this.featureAdapter=z.featureAdapter;this.aggregateAdapter=z.aggregateAdapter}var l=v.prototype;l.createQueryResponseForCount=function(d){const e=new u(d,
this.featureAdapter,this.fieldsIndex);if(!d.outStatistics)return e.countDistinctValues(this.items);const {groupByFieldsForStatistics:z,having:J}=d;if(null==z||!z.length)return 1;const Q=new Map,W=new Map,X=new Set;d=d.outStatistics;for(const oa of d){({statisticType:d}=oa);d="exceedslimit"!==d?oa.onStatisticField:void 0;if(!W.has(d)){var ea=[];for(const da of z){const M=this._getAttributeValues(e,da,Q);ea.push(M)}W.set(d,this._calculateUniqueValues(ea))}d=W.get(d);for(const da in d){const {data:M,
items:Z}=d[da];ea=M.join(",");J&&!e.validateItems(Z,J)||X.add(ea)}}return X.size};l.createQueryResponse=function(d){let e;e=d.outStatistics?d.outStatistics.some(z=>"exceedslimit"===z.statisticType)?this._createExceedsLimitQueryResponse(d):this._createStatisticsQueryResponse(d):this._createFeatureQueryResponse(d);d.returnQueryGeometry&&(K.isValid(d.outSR)&&!K.equals(this.queryGeometry.spatialReference,d.outSR)?e.queryGeometry=C.cleanFromGeometryEngine({spatialReference:d.outSR,...D.project(this.queryGeometry,
this.queryGeometry.spatialReference,d.outSR)}):e.queryGeometry=C.cleanFromGeometryEngine({spatialReference:d.outSR,...this.queryGeometry}));return e};l.executeAttributesQuery=function(d){var e=x.getWhereClause(d.where,this.fieldsIndex);if(!e)return fa.resolve(this);if(e.isStandardized){let z=0;const J=[];for(const Q of this.items)e.testFeature(Q,this.featureAdapter)&&(J[z++]=Q);e=new v(J,this.queryGeometry,this);e.definitionExpression=d.where;return fa.resolve(e)}return fa.reject(new TypeError("Where clause is not standardized"))};
l.executeAggregateIdsQuery=function(d){if(!d.aggregateIds||!d.aggregateIds.length||n.isNone(this.aggregateAdapter))return fa.resolve(this);const e=new Set;for(const J of d.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(J).forEach(Q=>e.add(Q));const z=this.featureAdapter.getObjectId;return fa.resolve(new v(this.items.filter(J=>e.has(z(J))),this.queryGeometry,this))};l.executeObjectIdsQuery=function(d){if(!d.objectIds||!d.objectIds.length)return fa.resolve(this);const e=new Set(d.objectIds),
z=this.featureAdapter.getObjectId;return fa.resolve(new v(this.items.filter(J=>e.has(z(J))),this.queryGeometry,this))};l.executeTimeQuery=function(d){d=ha.getTimeOperator(this.timeInfo,d.timeExtent,this.featureAdapter);if(!n.isSome(d))return fa.resolve(this);d=this.items.filter(d);return fa.resolve(new v(d,this.queryGeometry,this))};l.filterLatest=function(){const {trackIdField:d,startTimeField:e,endTimeField:z}=this.timeInfo;var J=z||e;const Q=new Map,W=this.featureAdapter.getAttribute;for(const X of this.items){const ea=
W(X,d),oa=W(X,J),da=Q.get(ea);(!da||oa>W(da,J))&&Q.set(ea,X)}J=Array.from(Q.values());return fa.resolve(new v(J,this.queryGeometry,this))};l.project=async function(d){if(!d||K.equals(this.spatialReference,d))return this;const e=this.featureAdapter,z=(await D.projectMany(this.items.map(J=>C.getGeometry(this.geometryType,this.hasZ,this.hasM,e.getGeometry(J))),this.spatialReference,d)).map((J,Q)=>e.cloneWithGeometry(this.items[Q],r.convertFromGeometry(J,this.hasZ,this.hasM)));return new v(z,this.queryGeometry,
{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:d,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})};l._sortFeatures=function(d,e,z){if(1<d.length&&e&&e.length)for(const J of e.reverse()){e=J.split(" ");const Q=e[0],W=this.fieldsIndex.get(Q),X=e[1]&&"desc"===e[1].toLowerCase();d.sort((ea,oa)=>{ea=z(ea,Q,W);oa=z(oa,Q,W);return k(ea,oa,W,X)})}};l._createFeatureQueryResponse=
function(d){const e=this.items,{geometryType:z,hasM:J,hasZ:Q,objectIdField:W,spatialReference:X}=this,{outFields:ea,outSR:oa,quantizationParameters:da,resultRecordCount:M,resultOffset:Z,returnZ:ka,returnM:S}=d,U=null!=M?e.length>(Z||0)+M:!1,B=ea&&(-1<ea.indexOf("*")?[...this.fieldsIndex.fields]:ea.map(q=>this.fieldsIndex.get(q)));return{exceededTransferLimit:U,features:this._createFeatures(d,e),fields:B,geometryType:z,hasM:J&&S,hasZ:Q&&ka,objectIdFieldName:W,spatialReference:C.cleanFromGeometryEngine(oa?
oa:X),transform:da&&m.toQuantizationTransform(da)||null}};l._createFeatures=function(d,e){const z=new u(d,this.featureAdapter,this.fieldsIndex),{hasM:J,hasZ:Q}=this,{orderByFields:W,quantizationParameters:X,returnGeometry:ea,returnCentroid:oa,maxAllowableOffset:da,resultOffset:M,resultRecordCount:Z,returnZ:ka=!1,returnM:S=!1}=d,U=Q&&ka,B=J&&S;d=[];var q=0;e=[...e];this._sortFeatures(e,W,(I,G,L)=>z.getFieldValue(I,G,L));if(ea||oa){var E=m.toQuantizationTransform(X);if(ea&&!oa)for(var A of e)d[q++]=
{attributes:z.getAttributes(A),geometry:C.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(A),da,E,U,B)};else if(!ea&&oa)for(const I of e)d[q++]={attributes:z.getAttributes(I),centroid:C.transformCentroid(this,this.featureAdapter.getCentroid(I,this),E)};else for(const I of e)d[q++]={attributes:z.getAttributes(I),centroid:C.transformCentroid(this,this.featureAdapter.getCentroid(I,this),E),geometry:C.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(I),
da,E,U,B)}}else for(E of e)(A=z.getAttributes(E))&&(d[q++]={attributes:A});q=M||0;null!=Z&&(d=d.slice(q,Math.min(d.length,q+Z)));return d};l._createExceedsLimitQueryResponse=function(d){var e=!1;let z=Number.POSITIVE_INFINITY,J=Number.POSITIVE_INFINITY;e=Number.POSITIVE_INFINITY;for(const Q of d.outStatistics)if("exceedslimit"===Q.statisticType){z=null!=Q.maxPointCount?Q.maxPointCount:Number.POSITIVE_INFINITY;J=null!=Q.maxRecordCount?Q.maxRecordCount:Number.POSITIVE_INFINITY;e=null!=Q.maxVertexCount?
Q.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)e=this.items.length>z;else if(this.items.length>J)e=!0;else{d=this.hasZ?this.hasM?4:3:this.hasM?3:2;const Q=this.featureAdapter;e=this.items.reduce((W,X)=>{X=Q.getGeometry(X);return W+(X&&X.coords.length||0)},0)/d>e}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}};l._createStatisticsQueryResponse=
function(d){var e={attributes:{}};const z=[],J=new Map,Q=new Map,W=new Map,X=new Map,ea=new u(d,this.featureAdapter,this.fieldsIndex);var oa=d.outStatistics;const {groupByFieldsForStatistics:da,having:M,orderByFields:Z}=d;d=da&&da.length;const ka=!!d,S=ka&&da[0],U=ka&&!this.fieldsIndex.get(S);for(const I of oa){const {outStatisticFieldName:G,statisticType:L}=I;oa=I;var B="exceedslimit"!==L?I.onStatisticField:void 0;const ia="percentile_disc"===L||"percentile_cont"===L,pa=ka&&1===d&&(B===S||U)&&"count"===
L;if(ka){if(!W.has(B)){var q=[];for(const wa of da){var E=this._getAttributeValues(ea,wa,J);q.push(E)}W.set(B,this._calculateUniqueValues(q))}q=W.get(B);for(const wa in q){const {count:za,data:P,items:ca,itemPositions:qa}=q[wa];E=P.join(",");if(!M||ea.validateItems(ca,M)){const ya=X.get(E)||{attributes:{}};var A=null;if(pa)A=za;else{const xa=this._getAttributeValues(ea,B,J);A=qa.map(b=>xa[b]);A=ia&&"statisticParameters"in oa?this._getPercentileValue(oa,A):this._getStatisticValue(oa,A)}ya.attributes[G]=
A;da.forEach((xa,b)=>ya.attributes[this.fieldsIndex.get(xa)?xa:`EXPR_${b+1}`]=P[b]);X.set(E,ya)}}}else B=this._getAttributeValues(ea,B,J),e.attributes[G]=ia&&"statisticParameters"in oa?this._getPercentileValue(oa,B):this._getStatisticValue(oa,B,Q);z.push({name:G,alias:G,type:"esriFieldTypeDouble"})}e=ka?Array.from(X.values()):[e];this._sortFeatures(e,Z,(I,G)=>I.attributes[G]);return{fields:z,features:e}};l._getStatisticValue=function(d,e,z){const {onStatisticField:J,statisticType:Q}=d;d=z&&z.has(J)?
z.get(J):this._calculateStatistics(e);z&&z.set(J,d);return d["var"===Q?"variance":Q]};l._getPercentileValue=function(d,e){const {onStatisticField:z,statisticParameters:J,statisticType:Q}=d,{value:W,orderBy:X}=J,ea="desc"===X,oa=this.fieldsIndex.get(z);d=[...e].filter(da=>null!=da).sort((da,M)=>k(da,M,oa,ea));return this._calculatePercentile(d,W,"percentile_disc"===Q)};l._getAttributeValues=function(d,e,z){if(z.has(e))return z.get(e);const J=this.fieldsIndex.get(e),Q=this.items.map(W=>d.getFieldValue(W,
e,J));z.set(e,Q);return Q};l._calculateStatistics=function(d){let e=Number.POSITIVE_INFINITY,z=Number.NEGATIVE_INFINITY,J=null,Q=null,W=null,X=null;const ea=[];let oa=0;for(const da of d)"string"===typeof da?oa++:null==da||isNaN(da)||(J+=da,e=Math.min(e,da),z=Math.max(z,da),ea.push(da),oa++);if(oa){Q=J/oa;d=0;for(const da of ea)d+=Math.pow(da-Q,2);X=1<oa?d/(oa-1):0;W=Math.sqrt(X)}else z=e=null;return{avg:Q,count:oa,max:z,min:e,stddev:W,sum:J,variance:X}};l._calculateUniqueValues=function(d){const e=
{},z=this.items,J=z.length;for(let Q=0;Q<J;Q++){const W=z[Q],X=[];for(const oa of d)X.push(oa[Q]);const ea=X.join(",");null==e[ea]?e[ea]={count:1,data:X,items:[W],itemPositions:[Q]}:(e[ea].count++,e[ea].items.push(W),e[ea].itemPositions.push(Q))}return e};l._calculatePercentile=function(d,e,z){if(0===d.length)return null;if(0>=e)return d[0];if(1<=e)return d[d.length-1];var J=(d.length-1)*e,Q=Math.floor(J);e=Q+1;J%=1;Q=d[Q];const W=d[e];return e>=d.length||z||"string"===typeof Q||"string"===typeof W?
Q:Q*(1-J)+W*J};p._createClass(v,[{key:"size",get:function(){return this.items.length}}]);return v}()})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(p,n){function fa({scale:M,translate:Z},ka){return Math.round((ka-Z[0])/M[0])}function K({scale:M,translate:Z},ka){return Math.round((Z[1]-ka)/M[1])}function r(M,Z,ka){const S=[];let U,B,q,E;for(let A=0;A<ka.length;A++){const I=ka[A];if(0<A){if(q=fa(M,I[0]),E=K(M,I[1]),q!==U||E!==B)S.push(Z(I,q-U,E-B)),
U=q,B=E}else U=fa(M,I[0]),B=K(M,I[1]),S.push(Z(I,U,B))}return 0<S.length?S:null}function D(M,Z,ka,S){return r(M,ka?S?da:oa:S?oa:ea,Z)}function m(M,Z,ka,S){const U=[];ka=ka?S?da:oa:S?oa:ea;for(S=0;S<Z.length;S++){const B=r(M,ka,Z[S]);B&&3<=B.length&&U.push(B)}return U.length?U:null}function x(M,Z,ka,S){const U=[];ka=ka?S?da:oa:S?oa:ea;for(S=0;S<Z.length;S++){const B=r(M,ka,Z[S]);B&&2<=B.length&&U.push(B)}return U.length?U:null}function u({scale:M,translate:Z},ka){return ka*M[0]+Z[0]}function C({scale:M,
translate:Z},ka){return Z[1]-ka*M[1]}function ha(M,Z,ka){const S=Array(ka.length);if(!ka.length)return S;const [U,B]=M.scale;let q=u(M,ka[0][0]);M=C(M,ka[0][1]);S[0]=Z(ka[0],q,M);for(let E=1;E<ka.length;E++){const A=ka[E];q+=A[0]*U;M-=A[1]*B;S[E]=Z(A,q,M)}return S}function N(M,Z,ka){const S=Array(ka.length);for(let U=0;U<ka.length;U++)S[U]=ha(M,Z,ka[U]);return S}function k(M,Z,ka,S){return ha(M,ka?S?da:oa:S?oa:ea,Z)}function v(M,Z,ka,S){return N(M,ka?S?da:oa:S?oa:ea,Z)}function l(M,Z,ka,S){return N(M,
ka?S?da:oa:S?oa:ea,Z)}function d(M,Z,ka){let [S,U]=ka[0],B=Math.min(S,Z[0]),q=Math.min(U,Z[1]),E=Math.max(S,Z[2]);Z=Math.max(U,Z[3]);for(let A=1;A<ka.length;A++){const [I,G]=ka[A];S+=I;U+=G;0>I&&(B=Math.min(B,S));0<I&&(E=Math.max(E,S));0>G?q=Math.min(q,U):0<G&&(Z=Math.max(Z,U))}M[0]=B;M[1]=q;M[2]=E;M[3]=Z;return M}function e(M,Z){if(!Z.length)return null;M[0]=M[1]=Number.POSITIVE_INFINITY;M[2]=M[3]=Number.NEGATIVE_INFINITY;for(let ka=0;ka<Z.length;ka++)d(M,M,Z[ka]);return M}function z(M,Z,ka,S,U){Z.xmin=
fa(M,ka.xmin);Z.ymin=K(M,ka.ymin);Z.xmax=fa(M,ka.xmax);Z.ymax=K(M,ka.ymax);Z!==ka&&(S&&(Z.zmin=ka.zmin,Z.zmax=ka.zmax),U&&(Z.mmin=ka.mmin,Z.mmax=ka.mmax));return Z}function J(M,Z,ka,S,U){Z.points=D(M,ka.points,S,U);return Z}function Q(M,Z,ka,S,U){Z.x=fa(M,ka.x);Z.y=K(M,ka.y);Z!==ka&&(S&&(Z.z=ka.z),U&&(Z.m=ka.m));return Z}function W(M,Z,ka,S,U){M=m(M,ka.rings,S,U);if(!M)return null;Z.rings=M;return Z}function X(M,Z,ka,S,U){M=x(M,ka.paths,S,U);if(!M)return null;Z.paths=M;return Z}const ea=(M,Z,ka)=>
[Z,ka],oa=(M,Z,ka)=>[Z,ka,M[2]],da=(M,Z,ka)=>[Z,ka,M[2],M[3]];p.equals=function(M,Z){if(M===Z||null==M&&null==Z)return!0;if(null==M||null==Z)return!1;let ka,S,U,B;M&&"upperLeft"===M.originPosition?(ka=M.translate[0],S=M.translate[1],M=M.scale[0]):(ka=M.extent.xmin,S=M.extent.ymax,M=M.tolerance);Z&&"upperLeft"===Z.originPosition?(U=Z.translate[0],B=Z.translate[1],Z=Z.scale[0]):(U=Z.extent.xmin,B=Z.extent.ymax,Z=Z.tolerance);return ka===U&&S===B&&M===Z};p.getQuantizedBoundsCoordsArray=d;p.getQuantizedBoundsCoordsArrayArray=
e;p.getQuantizedBoundsPaths=function(M){return e([0,0,0,0],M)};p.getQuantizedBoundsPoints=function(M){const Z=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return d(Z,Z,M)};p.getQuantizedBoundsRings=function(M){return e([0,0,0,0],M)};p.quantizeBounds=function(M,Z,ka){Z[0]=fa(M,ka[0]);Z[3]=K(M,ka[1]);Z[2]=fa(M,ka[2]);Z[1]=K(M,ka[3]);return Z};p.quantizeExtent=z;p.quantizeGeometry=function(M,Z){return M&&Z?n.isPoint(Z)?Q(M,{},Z,!1,!1):n.isPolyline(Z)?
X(M,{},Z,!1,!1):n.isPolygon(Z)?W(M,{},Z,!1,!1):n.isMultipoint(Z)?J(M,{},Z,!1,!1):n.isExtent(Z)?z(M,{},Z,!1,!1):null:null};p.quantizeMultipoint=J;p.quantizePaths=x;p.quantizePoint=Q;p.quantizePoints=D;p.quantizePolygon=W;p.quantizePolyline=X;p.quantizeRings=m;p.quantizeX=fa;p.quantizeY=K;p.toQuantizationTransform=function(M){return M?{originPosition:"upper-left"===M.originPosition?"upperLeft":"lower-left"===M.originPosition?"lowerLeft":M.originPosition,scale:[M.tolerance,M.tolerance],translate:[M.extent.xmin,
M.extent.ymax]}:null};p.unquantizeBounds=function(M,Z,ka){return ka?(Z[0]=u(M,ka[0]),Z[1]=C(M,ka[3]),Z[2]=u(M,ka[2]),Z[3]=C(M,ka[1]),Z):[u(M,Z[0]),C(M,Z[3]),u(M,Z[2]),C(M,Z[1])]};p.unquantizeCoordsArray=ha;p.unquantizeCoordsArrayArray=N;p.unquantizeExtent=function(M,Z,ka,S,U){Z.xmin=u(M,ka.xmin);Z.ymin=C(M,ka.ymin);Z.xmax=u(M,ka.xmax);Z.ymax=C(M,ka.ymax);Z!==ka&&(S&&(Z.zmin=ka.zmin,Z.zmax=ka.zmax),U&&(Z.mmin=ka.mmin,Z.mmax=ka.mmax));return Z};p.unquantizeMultipoint=function(M,Z,ka,S,U){Z.points=k(M,
ka.points,S,U);return Z};p.unquantizePaths=v;p.unquantizePoint=function(M,Z,ka,S,U){Z.x=u(M,ka.x);Z.y=C(M,ka.y);Z!==ka&&(S&&(Z.z=ka.z),U&&(Z.m=ka.m));return Z};p.unquantizePoints=k;p.unquantizePolygon=function(M,Z,ka,S,U){Z.rings=l(M,ka.rings,S,U);return Z};p.unquantizePolyline=function(M,Z,ka,S,U){Z.paths=v(M,ka.paths,S,U);return Z};p.unquantizeRings=l;p.unquantizeX=u;p.unquantizeY=C;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../core/maybe",
"./attributeSupport"],function(p,n){return function(){function fa(r,D,m){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=r.returnDistinctValues;this.fieldsIndex=m;this.featureAdapter=D;if((D=r.outFields)&&-1===D.indexOf("*")){this.outFields=D;r=0;for(const u of D){var x=n.getExpressionFromFieldName(u);x=(D=this.fieldsIndex.get(x))?null:n.getWhereClause(x,m);D=D?D.name:n.getAliasFromFieldName(u)||`FIELD_EXP_${r++}`;this._fieldDataCache.set(u,{alias:D,clause:x})}}}
var K=fa.prototype;K.countDistinctValues=function(r){if(!this.returnDistinctValues)return r.length;r.forEach(D=>this.getAttributes(D));return this._returnDistinctMap.size};K.getAttributes=function(r){r=this._processAttributesForOutFields(r);return this._processAttributesForDistinctValues(r)};K.getFieldValue=function(r,D,m){const x=m?m.name:D;let u=null;this._fieldDataCache.has(x)?u=this._fieldDataCache.get(x).clause:m||(u=n.getWhereClause(D,this.fieldsIndex),this._fieldDataCache.set(x,{alias:x,clause:u}));
return m?this.featureAdapter.getAttribute(r,x):u.calculateValue(r,this.featureAdapter)};K.validateItem=function(r,D){this._fieldDataCache.has(D)||this._fieldDataCache.set(D,{alias:D,clause:n.getWhereClause(D,this.fieldsIndex)});return this._fieldDataCache.get(D).clause.testFeature(r,this.featureAdapter)};K.validateItems=function(r,D){this._fieldDataCache.has(D)||this._fieldDataCache.set(D,{alias:D,clause:n.getWhereClause(D,this.fieldsIndex)});return this._fieldDataCache.get(D).clause.testSet(r,this.featureAdapter)};
K._processAttributesForOutFields=function(r){const D=this.outFields;if(!D||!D.length)return this.featureAdapter.getAttributes(r);const m={};for(const x of D){const {alias:u,clause:C}=this._fieldDataCache.get(x);m[u]=C?C.calculateValue(r,this.featureAdapter):this.featureAdapter.getAttribute(r,u)}return m};K._processAttributesForDistinctValues=function(r){if(p.isNone(r)||!this.returnDistinctValues)return r;var D=this.outFields,m=[];if(D)for(const u of D){var {alias:x}=this._fieldDataCache.get(u);m.push(r[x])}else for(x in r)m.push(r[x]);
D=`${(D||["*"]).join(",")}=${m.join(",")}`;m=this._returnDistinctMap.get(D)||0;this._returnDistinctMap.set(D,++m);return 1<m?null:r};return fa}()})},"esri/layers/graphics/sources/csv/csv":function(){define(["exports"],function(p){function*n(m,x,u){let C=0;for(;C<=m.length;){var ha=m.indexOf(x,C);ha=m.substring(C,-1<ha?ha:void 0);C+=ha.length+1;if(!u||ha.trim())yield ha}}function fa(m,x){return n(m,x,!1)}const K=/^\s*"([\S\s]*)"\s*$/,r=/""/g,D=[","," ",";","|","\t"];p.inferDelimiter=function(m){m=
m.trim();let x=0,u="";for(const C of D){const ha=m.split(C).length;ha>x&&(x=ha,u=C)}return""===u?null:u};p.parseRows=function*(m,x,u){var C="";let ha="";var N=0,k=[];a:for(;;){const {value:z,done:J}=m.next();if(J)break;var v=fa(z,u);b:for(;;){const {value:Q,done:W}=v.next();if(W)break b;C+=ha+Q;ha="";var l=void 0;var d=Q;var e=0;for(l=d.indexOf('"',0);0<=l;)e++,l=d.indexOf('"',l+1);d=e;N+=d;if(0===N%2){if(0<N)if(C=K.exec(C))k.push(C[1].replace(r,'"'));else{k=[];C="";N=0;continue a}else k.push(C);
C="";N=0}else ha=u}if(0===N){v=x;d={};l=v.length;for(e=0;e<l;e++)d[v[e]]=k[e];k=d;yield k;k=[]}else ha="\n"}};p.readRowParts=fa;p.readRows=function(m){const x=m.includes("\r\n")?"\r\n":"\n";return n(m,x,!0)};Object.defineProperty(p,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../../../../core/has ../../../../core/lang ../../../../core/Error ../../../../core/urlUtils ../../../../core/promiseUtils ../../../../geometry/support/spatialReferenceUtils ../../../../geometry/SpatialReference ../../../../geometry/support/webMercatorUtils ../../../../geometry ../../../../request ../../../../geometry/projection ../../../../core/number ../../OptimizedFeature ../../OptimizedGeometry ../../../support/FieldsIndex ../../../../geometry/geometryAdapters/json ../../data/projectionSupport ./clientSideDefaults ../../data/FeatureStore ../../data/QueryEngine ../csv/csv".split(" "),function(p,
n,fa,K,r,D,m,x,u,C,ha,N,k,v,l,d,e,z,J,Q,W,X){const ea=J.createDrawingInfo("esriGeometryPoint"),oa=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],da="lat latitude latitude83 latdecdeg lat_dd y ycenter point-y".split(" "),M="lon lng long longitude longitude83 longdecdeg long_dd x xcenter point-x".split(" "),Z=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,
ka=["csv"],S=[0,0];let U=function(E,A){this.x=E;this.y=A};const B=function(){const E=k._parseInfo(),A=new RegExp("^"+E.regexp+"$"),I=new RegExp("["+E.group+"\\s\\xa0]","g"),G=E.factor;return function(L){L=A.exec(L);E.factor=G;if(!L)return NaN;let ia=L[1];if(!L[1]){if(!L[2])return NaN;ia=L[2];E.factor*=-1}ia=ia.replace(I,"").replace(E.decimal,".");return+ia*E.factor}}(),q=(()=>"isInteger"in Number?Number.isInteger:E=>"number"===typeof E&&isFinite(E)&&Math.floor(E)===E)();C=function(){function E(){this._queryEngine=
this._fieldsIndex=null}var A=E.prototype;A.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy();this._fieldsIndex=this._queryEngine=null};A.load=async function(I,G={}){[G]=await D.all([this._fetch(I.url,G),this._checkProjection(G&&I.parsing&&I.parsing.spatialReference)]);I=this._parse(G,I);this._queryEngine=this._createQueryEngine(G,I);I.layerDefinition.extent=this._queryEngine.fullExtent;if(I.layerDefinition.timeInfo){const {start:L,end:ia}=this._queryEngine.timeExtent;
I.layerDefinition.timeInfo.timeExtent=[L,ia]}return I};A.applyEdits=async function(){throw new K("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer");};A.queryFeatures=async function(I={},G={}){return this._queryEngine.executeQuery(I,G.signal)};A.queryFeatureCount=async function(I={},G={}){return this._queryEngine.executeQueryForCount(I,G.signal)};A.queryObjectIds=async function(I={},G={}){return this._queryEngine.executeQueryForIds(I,G.signal)};A.queryExtent=async function(I=
{},G={}){return this._queryEngine.executeQueryForExtent(I,G.signal)};A._fetch=async function(I,G){if(!I)throw new K("csv-source:invalid-source","url not defined");I=r.urlToObject(I);return(await ha(I.path,{query:I.query,responseType:"text",signal:G.signal})).data};A._parse=function(I,G){var L=G.parsing||{};const ia={columnDelimiter:L.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:L.latitudeField,longitudeFieldName:L.longitudeField}};var pa=X.readRows(I),{value:wa}=pa.next();
if(!wa)throw new K("csv","CSV is empty",{csv:I});wa=wa.trim();if(!L.columnDelimiter){I=X.inferDelimiter(wa);if(!I)throw new K("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");ia.columnDelimiter=I}wa=wa.split(ia.columnDelimiter);const za=ia.layerDefinition={name:r.getFilename(G.url,ka)||"csv",drawingInfo:ea,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:L.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,
ymax:Number.NEGATIVE_INFINITY,spatialReference:L.spatialReference||{wkid:102100}}};if(!L.latitudeField||!L.longitudeField){G=this._inferLocationInfo(wa);if(!L.longitudeField&&!G.longitudeFieldName||!L.latitudeField&&!G.latitudeFieldName)throw new K("csv","Unable to identify latitudeField and/or longitudeField from CSV");ia.locationInfo={longitudeFieldName:L.longitudeField||G.longitudeFieldName,latitudeFieldName:L.latitudeField||G.latitudeFieldName}}pa=this._inferFields(pa,ia.columnDelimiter,wa,ia.locationInfo);
if(L.fields&&L.fields.length){G=new Map;for(var P of L.fields)G.set(P.name.toLowerCase(),P);for(var ca of pa)if(L=G.get(ca.name.toLowerCase()))P=ca.name,fa.mixin(ca,L),ca.name=P}za.fields=pa;za.fields.some(qa=>"esriFieldTypeOID"===qa.type?(za.objectIdField=qa.name,!0):!1)||(ca={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1},za.objectIdField=ca.name,za.fields.unshift(ca));this._fieldsIndex=new d(za.fields);za.timeInfo&&(ca=za.timeInfo,ca.startTimeField&&((L=this._fieldsIndex.get(ca.startTimeField))?
(ca.startTimeField=L.name,L.type="esriFieldTypeDate"):ca.startTimeField=null),ca.endTimeField&&((L=this._fieldsIndex.get(ca.endTimeField))?(ca.endTimeField=L.name,L.type="esriFieldTypeDate"):ca.endTimeField=null),ca.trackIdField&&(L=this._fieldsIndex.get(ca.trackIdField),ca.trackIdField=L?L.name:null),ca.startTimeField||ca.endTimeField||(za.timeInfo=null));return ia};A._inferLocationInfo=function(I){let G=null,L=null;const ia=pa=>I.find(wa=>wa.toLowerCase()===pa);M.some(pa=>{G=ia(pa);return!!G});
da.some(pa=>{L=ia(pa);return!!L});return{longitudeFieldName:G,latitudeFieldName:L}};A._inferFields=function(I,G,L,ia){const pa=[];G=X.parseRows(I,L,G);I=[];a:for(;10>I.length;){const {value:wa,done:za}=G.next();if(za)break a;I.push(wa)}for(const wa of L)if(wa===ia.longitudeFieldName||wa===ia.latitudeFieldName)pa.push({name:wa,type:"esriFieldTypeDouble",alias:wa});else{L=I.map(za=>za[wa]);L=this._inferFieldType(L);G={name:wa,type:null,alias:wa};switch(L){case "integer":G.type="esriFieldTypeInteger";
break;case "double":G.type="esriFieldTypeDouble";break;case "date":G.type="esriFieldTypeDate";G.length=36;break;default:G.type="esriFieldTypeString",G.length=255}pa.push(G)}return pa};A._inferFieldType=function(I){if(!I.length)return"string";const G=/[^+-.,0-9]/;return I.map(L=>{var ia=!1;if(""!==L){if(G.test(L))ia=!0;else{ia=B(L);if(!isNaN(ia))return/[.,]/.test(L)||!q(ia)||214783647<ia||-214783648>ia?"double":"integer";if(-1===L.indexOf("E"))ia=!0;else if(ia=Number(L),isNaN(ia))if(-1===L.indexOf(","))ia=
!0;else if(L=L.replace(",","."),ia=Number(L),isNaN(ia))ia=!0;else return"double";else return"double"}return ia&&!/^[-]?\d*[.,]?\d*$/.test(L)&&this._isValidDate(new Date(L),L)?"date":"string"}}).reduce((L,ia)=>{if(void 0===L||L===ia)return ia;if("string"===L||"string"===ia)return"string";if("double"===L||"double"===ia)return"double"})};A._isValidDate=function(I,G){if(!I||"[object Date]"!==Object.prototype.toString.call(I)||isNaN(I.getTime()))return!1;I=!0;if(n("chrome")&&/\d+\W*$/.test(G)&&(G=G.match(/[a-zA-Z]{2,}/))){I=
!1;let L=0;for(;!I&&L<=G.length;)I=!Z.test(G[L]),L++;I=!I}return I};A._createQueryEngine=function(I,G){const {latitudeFieldName:L,longitudeFieldName:ia}=G.locationInfo,{objectIdField:pa,fields:wa,extent:za,timeInfo:P}=G.layerDefinition;let ca=[];const qa=[];var ya=new Set,xa=new Set,b=[];for(const {name:t,type:F}of wa)"esriFieldTypeDate"===F?ya.add(t):-1<oa.indexOf(F)&&xa.add(t),t!==pa&&b.push(t);var g=0;I=X.readRows(I);I.next();b=X.parseRows(I,b,G.columnDelimiter);a:for(;;){const {value:t,done:F}=
b.next();if(F)break a;I=this._parseCoordinateValue(t[L]);const H=this._parseCoordinateValue(t[ia]);if(null!=H&&null!=I&&!isNaN(I)&&!isNaN(H)){t[L]=I;t[ia]=H;for(var O in t)if(O!==L&&O!==ia)if(ya.has(O)){var f=new Date(t[O]);t[O]=this._isValidDate(f,t[O])?f.getTime():null}else xa.has(O)&&(f=B(t[O]),isNaN(f)?t[O]=null:t[O]=f);t[pa]=g;g++;ca.push(new U(H,I));qa.push(t)}}if(!m.equals({wkid:4326},za.spatialReference))if(m.isWebMercator(za.spatialReference))for(const t of ca)[t.x,t.y]=u.lngLatToXY(t.x,
t.y,S);else ca=N.projectMany(e.jsonAdapter,ca,x.WGS84,za.spatialReference,null);ya=new Q({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});G=new W["default"]({fields:G.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:P,objectIdField:pa,spatialReference:za.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:ya});xa=[];for(g=0;g<ca.length;g++){const {x:t,y:F}=ca[g];O=qa[g];O[pa]=g+1;xa.push(new v(new l([],[t,F]),O,null,O[pa]))}ya.addMany(xa);return G};
A._parseCoordinateValue=function(I){if(null==I||""===I)return null;let G=B(I);if(isNaN(G)||181<Math.abs(G))G=parseFloat(I);return G};A._checkProjection=async function(I){try{await z.checkProjectionSupport(m.WGS84,I)}catch{throw new K("csv-layer","Projection not supported");}};return E}();p.csvLatitudeFieldNames=da;p.csvLongitudeFieldNames=M;p.default=C;Object.defineProperty(p,"__esModule",{value:!0})});
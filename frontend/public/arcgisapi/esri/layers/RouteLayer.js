// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Collection ./Layer ../core/MultiOriginJSONSupport ./mixins/OperationalLayer ./mixins/PortalLayer ./FeatureLayer".split(" "),function(n,
d,b,z,A,e,B,p,r,C,D,E,t,u,v,w,x,y,k){b=function(q){function g(...a){a=q.call(this,...a)||this;a.type="route";return a}n._inheritsLoose(g,q);var h=g.prototype;h.readFeatureCollectionsFromItem=function(a,c,l){this.revert("featureCollections","portal-item");return c.layers.map(m=>{const f=new k;f.read(m,l);return f})};h.readFeatureCollectionsFromWebMap=function(a,c,l){return c.featureCollection.layers.map(m=>{const f=new k;f.read(m,l);return f})};h.load=function(a){this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},
a));return t.resolve(this)};h._getNamedFeatureLayer=function(a){if(this.featureCollections)return this.featureCollections.find(c=>c.title===a)};n._createClass(g,[{key:"barrierLines",get:function(){return this._getNamedFeatureLayer("PolylineBarriers")}},{key:"barrierPoints",get:function(){return this._getNamedFeatureLayer("Barriers")}},{key:"barrierPolygons",get:function(){return this._getNamedFeatureLayer("PolygonBarriers")}},{key:"directionLines",get:function(){return this._getNamedFeatureLayer("DirectionLines")}},
{key:"directionPoints",get:function(){return this._getNamedFeatureLayer("DirectionPoints")}},{key:"fullExtent",get:function(){return this.featureCollections?this.featureCollections.reduce((a,c)=>a?a.union(c.fullExtent):c.fullExtent,null):null}},{key:"maxScale",get:function(){return this.featureCollections?this.featureCollections.reduce((a,c)=>null==a?c.maxScale:Math.min(a,c.maxScale),null):0},set:function(a){this.featureCollections.forEach(c=>{c.maxScale=a});this._set("maxScale",a)}},{key:"minScale",
get:function(){return this.featureCollections?this.featureCollections.reduce((a,c)=>null==a?c.minScale:Math.min(a,c.minScale),null):0},set:function(a){this.featureCollections.forEach(c=>{c.minScale=a});this._set("minScale",a)}},{key:"routeInfo",get:function(){return this._getNamedFeatureLayer("RouteInfo")}},{key:"stops",get:function(){return this._getNamedFeatureLayer("Stops")}}]);return g}(x.OperationalLayer(y.PortalLayer(w.MultiOriginJSONMixin(v))));d.__decorate([e.property({dependsOn:["featureCollections"]})],
b.prototype,"barrierLines",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"barrierPoints",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"barrierPolygons",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"directionLines",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"directionPoints",null);d.__decorate([e.property({type:u.ofType(k)})],b.prototype,"featureCollections",
void 0);d.__decorate([p.reader("portal-item","featureCollections",["layers"])],b.prototype,"readFeatureCollectionsFromItem",null);d.__decorate([p.reader("web-map","featureCollections",["featureCollection.layers"])],b.prototype,"readFeatureCollectionsFromWebMap",null);d.__decorate([e.property({dependsOn:["featureCollections"],readOnly:!0})],b.prototype,"fullExtent",null);d.__decorate([e.property({type:["show","hide"]})],b.prototype,"listMode",void 0);d.__decorate([e.property({dependsOn:["featureCollections"]})],
b.prototype,"maxScale",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"minScale",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"routeInfo",null);d.__decorate([e.property({dependsOn:["featureCollections"]})],b.prototype,"stops",null);d.__decorate([e.property({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0);return b=d.__decorate([r.subclass("esri.layers.RouteLayer")],b)});
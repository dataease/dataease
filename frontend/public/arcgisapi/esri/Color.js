// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["./chunks/_rollupPluginBabelHelpers","./core/maybe","./core/accessorSupport/ensureType","./colorUtils","./core/mathUtils"],function(q,l,r,m,t){function h(d){return t.clamp(r.ensureInteger(d),0,255)}function k(d,f,a){d=Number(d);return isNaN(d)?a:d<f?f:d>a?a:d}let p=function(){function d(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}d.blendColors=function(a,c,b,e=new d){e.r=Math.round(a.r+(c.r-a.r)*b);e.g=Math.round(a.g+(c.g-a.g)*b);e.b=Math.round(a.b+(c.b-a.b)*b);e.a=a.a+(c.a-a.a)*
b;return e._sanitize()};d.fromRgb=function(a,c){var b=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){a=b[2].split(/\s*,\s*/);b=b[1];if("rgb"===b&&3===a.length||"rgba"===b&&4===a.length)return b=a[0],"%"===b.charAt(b.length-1)?(b=a.map(e=>2.56*parseFloat(e)),4===a.length&&(b[3]=parseFloat(a[3])),d.fromArray(b,c)):d.fromArray(a.map(e=>parseFloat(e)),c);if("hsl"===b&&3===a.length||"hsla"===b&&4===a.length)return d.fromArray(m.hsla2rgba(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/
100,parseFloat(a[3])),c)}return null};d.fromHex=function(a,c=new d){const b=4===a.length?4:8,e=(1<<b)-1;let g=Number("0x"+a.substr(1));if(isNaN(g))return null;["b","g","r"].forEach(u=>{const n=g&e;g>>=b;c[u]=4===b?17*n:n});c.a=1;return c};d.fromArray=function(a,c=new d){c._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};d.fromString=function(a,c){const b=m.getNamedColor(a);return b&&d.fromArray(b,c)||d.fromRgb(a,c)||d.fromHex(a,c)};d.fromJSON=function(a){return a&&
new d([a[0],a[1],a[2],a[3]/255])};d.toUnitRGB=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};d.toUnitRGBA=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};var f=d.prototype;f.setColor=function(a){if("string"===typeof a)d.fromString(a,this);else if(Array.isArray(a))d.fromArray(a,this);else{var c,b,e,g;this._set(null!=(c=a.r)?c:0,null!=(b=a.g)?b:0,null!=(e=a.b)?e:0,null!=(g=a.a)?g:1);a instanceof d||this._sanitize()}return this};f.toRgb=function(){return[this.r,
this.g,this.b]};f.toRgba=function(){return[this.r,this.g,this.b,this.a]};f.toHex=function(){const a=this.r.toString(16),c=this.g.toString(16),b=this.b.toString(16);return`#${2>a.length?"0"+a:a}${2>c.length?"0"+c:c}${2>b.length?"0"+b:b}`};f.toCss=function(a=!1){const c=this.r+", "+this.g+", "+this.b;return a?`rgba(${c}, ${this.a})`:`rgb(${c})`};f.toString=function(){return this.toCss(!0)};f.toJSON=function(){return this.toArray()};f.toArray=function(a=0){const c=h(this.r),b=h(this.g),e=h(this.b);return 0===
a||1!==this.a?[c,b,e,h(255*this.a)]:[c,b,e]};f.clone=function(){return new d(this.toRgba())};f.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};f._sanitize=function(){this.r=Math.round(k(this.r,0,255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};f._set=function(a,c,b,e){this.r=a;this.g=c;this.b=b;this.a=e};q._createClass(d,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return d}();p.prototype.declaredClass=
"esri.Color";return p});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/compilerUtils ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Evented".split(" "),function(a,g,c,n,k,p,q,d,r,l,t,u,v,m){a.OperationHandle=function(h){function f(b){b=
h.call(this,b)||this;b.cancelled=!1;b.history={undo:[],redo:[]};b.type=null;return b}g._inheritsLoose(f,h);var e=f.prototype;e.addToHistory=function(b){this.history.redo=[];this.history.undo.push(b)};e.resetHistory=function(){this.history.redo=[];this.history.undo=[]};e.canUndo=function(){return 0<this.history.undo.length};e.canRedo=function(){return 0<this.history.redo.length};e.complete=function(){this.reset();this.onEnd();this.emit("complete")};e.cancel=function(){this.cancelled=!0;this.complete()};
e.reset=function(){this.activeComponent.reset()};e.refreshComponent=function(){const b=this.activeComponent;b&&("box"!==b.type&&"reshape"!==b.type||b.refresh())};g._createClass(f,[{key:"tool",get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":case "draw-3d":break;default:k.neverReached(this.activeComponent)}return null}},
{key:"undo",set:function(b){this._set("undo",()=>{this.canUndo()&&b()})}},{key:"redo",set:function(b){this._set("redo",()=>{this.canRedo()&&b()})}}]);return f}(m.EventedAccessor);c.__decorate([d.property()],a.OperationHandle.prototype,"activeComponent",void 0);c.__decorate([d.property()],a.OperationHandle.prototype,"cancelled",void 0);c.__decorate([d.property()],a.OperationHandle.prototype,"history",void 0);c.__decorate([d.property({dependsOn:["activeComponent"]})],a.OperationHandle.prototype,"tool",
null);c.__decorate([d.property()],a.OperationHandle.prototype,"type",void 0);c.__decorate([d.property()],a.OperationHandle.prototype,"canUndo",null);c.__decorate([d.property()],a.OperationHandle.prototype,"canRedo",null);c.__decorate([d.property()],a.OperationHandle.prototype,"onEnd",void 0);c.__decorate([d.property()],a.OperationHandle.prototype,"undo",null);c.__decorate([d.property()],a.OperationHandle.prototype,"redo",null);c.__decorate([d.property()],a.OperationHandle.prototype,"toggleTool",void 0);
c.__decorate([d.property()],a.OperationHandle.prototype,"addToSelection",void 0);c.__decorate([d.property()],a.OperationHandle.prototype,"removeFromSelection",void 0);a.OperationHandle=c.__decorate([l.subclass("esri.widgets.Sketch.support.OperationHandle")],a.OperationHandle);Object.defineProperty(a,"__esModule",{value:!0})});
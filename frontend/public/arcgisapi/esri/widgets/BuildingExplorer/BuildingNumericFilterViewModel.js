// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/arrayUtils ../../core/promiseUtils ../../core/Accessor ../../core/Collection ../../core/collectionUtils ../../core/Handles ./support/layerUtils ./support/validation".split(" "),
function(k,c,b,l,x,y,d,z,p,A,B,C,q,r,t,m,u,v,w,f){b=function(n){function h(a){a=n.call(this,a)||this;a.state="disabled";a._handles=new v;a._domainInfo=f.getDomainInfo([]);a._loadLayers=w.createLoadLayersFunction();a.layers=new m;return a}k._inheritsLoose(h,n);var e=h.prototype;e.initialize=function(){this._handles.add(this.layers.on("change",()=>this._onLayersChange()));this._onLayersChange()};e.destroy=function(){this._set("state","disabled");this._handles.destroy()};e.select=function(a){const g=
f.getValidNumber(a,this);l.isSome(g)&&(this.enabled=!0,this.value=a)};e.clear=function(){this.enabled=!1};e.next=function(){0!==this.allowedValues.length&&(this.enabled?this.hasNext&&(this.value=this.allowedValues[this._valueIndex+1]):(this.enabled=!0,this.value=this.allowedValues[0]))};e.previous=function(){0!==this.allowedValues.length&&(this.enabled?this.hasPrevious&&(this.value=this.allowedValues[this._valueIndex-1]):(this.enabled=!0,this.value=this.allowedValues[this.allowedValues.length-1]))};
e.getValueLabel=function(a){var g;return 0===this.layers.length?null:null!=(g=this._domainInfo.fieldValueMap.get(a))?g:null};e._onLayersChange=async function(){this._set("state","loading");this._domainInfo=f.getDomainInfo([]);if(0!==this.layers.length)try{await this._loadLayers(this.layers),this._setup(),this._set("state","ready")}catch(a){r.isAbortError(a)||this._set("state","failed")}};k._createClass(h,[{key:"enabled",get:function(){return 0<this.allowedValues.length&&this._get("enabled")},set:function(a){a!==
this.enabled&&0<this.allowedValues.length&&this._set("enabled",a)}},{key:"value",set:function(a){a!==this.value&&(a=f.getValidNumber(a,this),l.isNone(a)||this._set("value",a))}},{key:"min",get:function(){return f.getMin(this.allowedValues)}},{key:"max",get:function(){return f.getMax(this.allowedValues)}},{key:"allowedValues",get:function(){return this._domainInfo.allowedValues}},{key:"hasNext",get:function(){if(!this.enabled)return!0;const a=this._valueIndex;return 0<=a&&a<this.allowedValues.length-
1}},{key:"hasPrevious",get:function(){return this.enabled?0<this._valueIndex:!0}},{key:"layers",set:function(a){const g=this._get("layers");this._set("layers",u.referenceSetter(a,g))}},{key:"filterExpressions",get:function(){return{solid:null,xRay:null}}},{key:"_valueIndex",get:function(){return q.binaryIndexOf(this.allowedValues,this.value)}}]);return h}(t);c.__decorate([d.property({value:!1,nonNullable:!0,dependsOn:["allowedValues"]})],b.prototype,"enabled",null);c.__decorate([d.property({value:0,
nonNullable:!0})],b.prototype,"value",null);c.__decorate([d.property({readOnly:!0,dependsOn:["allowedValues"]})],b.prototype,"min",null);c.__decorate([d.property({readOnly:!0,dependsOn:["allowedValues"]})],b.prototype,"max",null);c.__decorate([d.property({readOnly:!0,dependsOn:["_domainInfo"]})],b.prototype,"allowedValues",null);c.__decorate([d.property({readOnly:!0,dependsOn:["allowedValues","_valueIndex","enabled"]})],b.prototype,"hasNext",null);c.__decorate([d.property({readOnly:!0,dependsOn:["_valueIndex",
"enabled"]})],b.prototype,"hasPrevious",null);c.__decorate([d.property({type:m,nonNullable:!0})],b.prototype,"layers",null);c.__decorate([d.property({nonNullable:!0})],b.prototype,"state",void 0);c.__decorate([d.property({readOnly:!0,dependsOn:["value","allowedValues"]})],b.prototype,"_valueIndex",null);c.__decorate([d.property()],b.prototype,"_domainInfo",void 0);return b=c.__decorate([p.subclass("esri.widgets.BuildingExplorer.BuildingNumericFilterViewModel")],b)});
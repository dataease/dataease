// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/watchUtils ./support/widgetUtils ./support/decorators/renderable ../chunks/index ./Widget ./Spinner/SpinnerViewModel".split(" "),function(m,
e,c,w,x,n,g,y,p,z,A,B,q,r,C,t,u,v,k){c=function(l){function h(a,b){a=l.call(this,a,b)||this;a._animationDelay=500;a._animationPromise=null;a.location=null;a.view=null;a.viewModel=new k;a.visible=!1;return a}m._inheritsLoose(h,l);var d=h.prototype;d.initialize=function(){this.own([r.watch(this,"visible",a=>this._visibleChange(a))])};d.destroy=function(){this._animationPromise=null};d.show=function(a){const {location:b,promise:f}=a;b&&(this.viewModel.location=b);this.visible=!0;a=()=>this.hide();f&&
f.catch(()=>{}).then(a)};d.hide=function(){this.visible=!1};d.render=function(){var {visible:a}=this,{screenLocation:b}=this.viewModel;b=!!b;a={["esri-spinner--start"]:a&&b,["esri-spinner--finish"]:!a&&b};b=this._getPositionStyles();return u.jsx("div",{class:this.classes("esri-spinner",a),styles:b})};d._visibleChange=function(a){if(a)this.viewModel.screenLocationEnabled=!0;else{var b=q.after(this._animationDelay);this._animationPromise=b;b.catch(()=>{}).then(()=>{this._animationPromise===b&&(this.viewModel.screenLocationEnabled=
!1,this._animationPromise=null)})}};d._getPositionStyles=function(){const {screenLocation:a,view:b}=this.viewModel;if(!b||!a)return{};const {padding:f}=b;return{left:`${a.x-f.left}px`,top:`${a.y-f.top}px`}};return h}(v);e.__decorate([g.aliasOf("viewModel.location")],c.prototype,"location",void 0);e.__decorate([g.aliasOf("viewModel.view")],c.prototype,"view",void 0);e.__decorate([n.property({type:k}),t.renderable(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],c.prototype,"viewModel",
void 0);e.__decorate([g.aliasOf("viewModel.visible")],c.prototype,"visible",void 0);return c=e.__decorate([p.subclass("esri.widgets.Spinner")],c)});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./SearchSource ./support/layerSearchUtils".split(" "),function(h,c,b,m,u,v,e,w,r,x,y,z,t,n){var l;b=l=function(p){function k(){var a=p.apply(this,arguments)||
this;a.displayField=null;a.exactMatch=null;a.orderByFields=null;a.searchFields=null;a.searchTemplate=null;a.suggestionTemplate=null;a.getResults=(f,d)=>n.getResults({source:h._assertThisInitialized(a),...f},d);a.getSuggestions=(f,d)=>n.getSuggestions({source:h._assertThisInitialized(a),...f},d);return a}h._inheritsLoose(k,p);var g=k.prototype;g.clone=function(){return new l({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,
outFields:this.outFields?m.clone(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?m.clone(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,
zoomScale:this.zoomScale})};g._getFirstStringField=function(){const a=this.layer;let f="";a&&a.fields&&a.fields.some(d=>"string"===d.type?(f=d.name,!0):!1);return f};g._getDisplayField=function(){return this.displayField||this.layer.displayField||this._getFirstStringField()};g._getSearchFieldsString=function(){const {layer:a,searchFields:f}=this;return a.loaded?`: ${(f||[this._getDisplayField()]).map(d=>{const q=a.getField(d);return q&&q.alias||d}).join(", ")}`:""};g._getLayerTitle=function(){var {layer:a}=
this;if(a&&({title:a}=a,a))return`${a}${this._getSearchFieldsString()}`};h._createClass(k,[{key:"layer",set:function(a){this._set("layer",a);a&&a.load().catch(()=>{})}},{key:"name",get:function(){return this._getLayerTitle()||""},set:function(a){void 0===a?this._clearOverride("name"):this._override("name",a)}}]);return k}(t);c.__decorate([e.property({json:{read:{source:"field.name"},write:{target:"field.name"}}})],b.prototype,"displayField",void 0);c.__decorate([e.property({json:{read:{source:"field.exactMatch"},
write:{target:"field.exactMatch"}}})],b.prototype,"exactMatch",void 0);c.__decorate([e.property({value:null})],b.prototype,"layer",null);c.__decorate([e.property({dependsOn:["layer.title","layer.loaded"]})],b.prototype,"name",null);c.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);c.__decorate([e.property()],b.prototype,"searchFields",void 0);c.__decorate([e.property()],b.prototype,"searchTemplate",void 0);c.__decorate([e.property()],b.prototype,"suggestionTemplate",
void 0);return b=l=c.__decorate([r.subclass("esri.widgets.Search.LayerSearchSource")],b)});
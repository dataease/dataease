// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./SmartMappingSliderViewModel".split(" "),function(t,l,f,A,B,r,C,w,D,E,F,x){f=function(u){function m(a){a=u.call(this,a)||this;a.handlesSyncedToPrimary=!0;return a}t._inheritsLoose(m,
u);var k=m.prototype;k.getStopIndexFromValueIndex=function(a){const {primaryHandleEnabled:b,stops:c}=this;return 0===a?0:b&&1===a?2:c.length-1};k.getStopChanges=function(a,b){return this.primaryHandleEnabled?1===a?this._getStopChangesAfterPrimaryHandleMove(a,b):this._getStopChangesAfterSecondaryHandleMove(a,b):this._getStopChangesAfterHandleMove(a,b)};k._getStopChangesAfterPrimaryHandleMove=function(a,b){const {handlesSyncedToPrimary:c,stops:g,values:e}=this;var d=this.getStopIndexFromValueIndex(a);
if(c){const {max:n,min:p}=this;d=b-e[a];a=Math.max(Math.min(e[0]+d,n),p);d=Math.max(Math.min(e[2]+d,n),p);return 5===g.length?[{index:0,value:this.toPrecision(a)},{index:1,value:this.toPrecision((b+a)/2)},{index:2,value:b},{index:3,value:this.toPrecision((b+d)/2)},{index:4,value:this.toPrecision(d)}]:[{index:0,value:a},{index:1,value:b},{index:2,value:d}]}return 5===g.length?[{index:1,value:this.toPrecision((e[1]+e[0])/2)},{index:2,value:b},{index:3,value:this.toPrecision((e[1]+e[2])/2)}]:[{index:d,
value:b}]};k._getStopChangesAfterSecondaryHandleMove=function(a,b){const {stops:c,values:g}=this;a=this.getStopIndexFromValueIndex(a);if(5===c.length){const e=0===a?1:3,d=this.toPrecision((b+g[1])/2);return[{index:a,value:b},{index:e,value:d}]}return[{index:a,value:b}]};k._getStopChangesAfterHandleMove=function(a,b){const {max:c,min:g,stops:e,values:d}=this,n=this.getStopIndexFromValueIndex(a),p=0===a?g:d[a-1];a=a===d.length-1?c:d[a+1];const h=e.map(q=>q.hasOwnProperty("ratio")?q.ratio:q.value);h[n]=
Math.max(Math.min(b,a),p);const y=h[h.length-1]-h[0],z=e.length-1;return h.map((q,v)=>({index:v,value:this.toPrecision(h[0]+v*y/z)}))};t._createClass(m,[{key:"primaryHandleEnabled",set:function(a){this._set("primaryHandleEnabled",a)},get:function(){var {stops:a}=this;if(!a||!a.length)return!1;a=a.length;return 3===a||5===a?this._get("primaryHandleEnabled"):!1}},{key:"values",get:function(){const {primaryHandleEnabled:a,stops:b}=this;if(!b||!b.length||2>b.length)return[];const c=this.getValuesFromStops();
return a?3===c.length?[c[0],c[1],c[2]]:[c[0],c[2],c[4]]:[c[0],c[c.length-1]]}}]);return m}(x);l.__decorate([r.property()],f.prototype,"handlesSyncedToPrimary",void 0);l.__decorate([r.property({dependsOn:["stops","stops.length"]})],f.prototype,"primaryHandleEnabled",null);l.__decorate([r.property({dependsOn:["primaryHandleEnabled","stops","stops.length"],readOnly:!0})],f.prototype,"values",null);return f=l.__decorate([w.subclass("esri.widgets.smartMapping.SmartMappingPrimaryHandleSliderViewModel")],
f)});
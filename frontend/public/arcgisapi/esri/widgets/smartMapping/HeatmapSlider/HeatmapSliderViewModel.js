// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../intl/locale ../../../intl/messages ../../../intl ../../../core/Handles ../support/utils ../SmartMappingSliderViewModel".split(" "),
function(p,d,c,q,z,A,e,B,t,C,D,E,u,v,F,w,x,y){c=function(r){function k(a){var b=r.call(this,a)||this;b._handles=new w;b._initialRatios=[];b.hasTimeData=!1;b.labelFormatFunction=(f,g)=>"min"===g?b.messages.bottomLabel:"max"===g?b.messages.topLabel:f.toString();b.max=1;b.messages=null;b.min=0;b.zoomingEnabled=!1;return b}p._inheritsLoose(k,r);var m=k.prototype;m.initialize=function(){const a=async()=>this.messages=await v.fetchMessageBundle("esri/widgets/smartMapping/HeatmapSlider/t9n/HeatmapSlider");
a();this._handles.add(u.onLocaleChange(a))};m.setValue=function(a,b){const {max:f,min:g,stops:h}=this;if(!(b>f||b<g)&&b!==h[a].ratio){var {values:n}=this,l=0===a?0:h.length-1;a=Math.max(Math.min(b,a===n.length-1?f:n[a+1]),0===a?g:n[a-1]);l=x.getStopChanges(0===l?a:h[0].ratio,0===l?h[h.length-1].ratio:a,this._initialRatios);this.updateStops(l);this.notifyChange("values");this.notifyChange("labels")}};m.getStopInfo=function(){const {stops:a}=this;return a&&a.length?a.map(b=>({color:b.color,offset:1-
b.ratio})):[]};p._createClass(k,[{key:"state",get:function(){const {messages:a,max:b,min:f}=this;return a&&q.isSome(b)&&q.isSome(f)?"ready":"disabled"}},{key:"stops",set:function(a){this._initialRatios=null==a?void 0:a.map(b=>b.ratio);this._set("stops",a)}},{key:"values",get:function(){const {stops:a}=this;return!a||!a.length||2>a.length?[]:[a[0].ratio,a[a.length-1].ratio]}}]);return k}(y);d.__decorate([e.property({readOnly:!0})],c.prototype,"hasTimeData",void 0);d.__decorate([e.property({dependsOn:["messages"],
readOnly:!0})],c.prototype,"labelFormatFunction",void 0);d.__decorate([e.property({readOnly:!0})],c.prototype,"max",void 0);d.__decorate([e.property()],c.prototype,"messages",void 0);d.__decorate([e.property({readOnly:!0})],c.prototype,"min",void 0);d.__decorate([e.property({dependsOn:["max","messages","min"],readOnly:!0})],c.prototype,"state",null);d.__decorate([e.property()],c.prototype,"stops",null);d.__decorate([e.property({dependsOn:["stops"],readOnly:!0})],c.prototype,"values",null);d.__decorate([e.property({readOnly:!0})],
c.prototype,"zoomingEnabled",void 0);return c=d.__decorate([t.subclass("esri.widgets.smartMapping.HeatmapSlider.HeatmapSliderViewModel")],c)});
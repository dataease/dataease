// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../core/Accessor ./interactiveToolUtils ./ManipulatorCollection".split(" "),function(c,g,d,t,u,v,e,w,l,x,y,z,m,n,p,q){c.InteractiveToolBase=
function(h){function f(a){a=h.call(this,a)||this;a.attached=!1;a.created=!1;a.completed=!1;a.manipulators=new q.ManipulatorCollection;a.deferCreation=!1;a._editableFlags=[];a._creationResolver=m.createResolver();return a}g._inheritsLoose(f,h);var b=f.prototype;b.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};b.detach=function(){this.attached&&(this.onHide(),this.onDetach(),this.manipulators.detach(),
this._set("attached",!1))};b.handleInputEvent=function(a){if(this.attached)this.onInputEvent(a)};b.handleInputEventAfter=function(a){if(this.attached)this.onInputEventAfter(a)};b.destroy=function(){this.manipulators.destroy();this._set("view",null)};b.setEditableFlag=function(a,r){this._editableFlags[a]=r;this.manipulators.isToolEditable=this._editableFlags.every(k=>null==k||k);this._updateManipulatorAttachment();0===a&&this.notifyChange("editable");this.onEditableChange()};b.hasEditableFlag=function(a){a=
this._editableFlags[a];return null==a?!0:a};b.when=function(){return this._creationResolver.promise};b.rejectCreation=function(a){this._creationResolver.reject(a)};b.initialize=function(){this.deferCreation||this.complete()};b.onAttach=function(){};b.onDetach=function(){};b.onShow=function(){};b.onHide=function(){};b.onEditableChange=function(){};b.onInputEvent=function(a){};b.onInputEventAfter=function(a){};b.create=function(){this.created||(this._set("created",!0),this._creationResolver(this))};
b.complete=function(){this.create();this._set("completed",!0)};b._show=function(){this._updateManipulatorAttachment();this.onShow()};b._hide=function(){this._updateManipulatorAttachment();this.onHide()};b._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};g._createClass(f,[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===this}},{key:"isSupported",get:function(){return!0}},{key:"visible",set:function(a){this._set("visible",
a);a||p.setActive(this,!1);this.attached&&(a?this._show():this._hide())}},{key:"editable",get:function(){return this.hasEditableFlag(0)},set:function(a){this.setEditableFlag(0,a)}},{key:"internallyEditable",get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)}}]);return f}(n);d.__decorate([e.property({constructOnly:!0})],c.InteractiveToolBase.prototype,"view",void 0);d.__decorate([e.property({dependsOn:["view.activeTool"],readOnly:!0})],c.InteractiveToolBase.prototype,"active",null);
d.__decorate([e.property({value:!0})],c.InteractiveToolBase.prototype,"visible",null);d.__decorate([e.property({value:!0})],c.InteractiveToolBase.prototype,"editable",null);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"attached",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"created",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,"completed",void 0);d.__decorate([e.property({readOnly:!0})],c.InteractiveToolBase.prototype,
"manipulators",void 0);d.__decorate([e.property({constructOnly:!0})],c.InteractiveToolBase.prototype,"deferCreation",void 0);c.InteractiveToolBase=d.__decorate([l.subclass("esri.views.interactive.InteractiveToolBase")],c.InteractiveToolBase);Object.defineProperty(c,"__esModule",{value:!0})});
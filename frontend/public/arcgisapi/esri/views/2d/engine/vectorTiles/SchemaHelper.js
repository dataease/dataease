// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["../../../../layers/support/LOD","../../../../layers/support/TileInfo"],function(k,l){return function(){function f(a,b){this.lockedSchemaPixelSize=a;this.isGCS=b}var g=f.prototype;g.getLevelRowColumn=function(a){return this.isGCS?[a[0],a[1]>>1,a[2]>>1]:256===this.lockedSchemaPixelSize&&0<a[0]?[a[0]-1,a[1]>>1,a[2]>>1]:a};g.adjustLevel=function(a){return this.isGCS?a:256===this.lockedSchemaPixelSize?0<a?a-1:0:a};g.getShift=function(a,b){let d=0,c=0;if(256===this.lockedSchemaPixelSize||this.isGCS)a[2]%
2&&(d=b),a[1]%2&&(c=b);return[d,c]};g.getScale=function(a){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===a)return 1;return 2};f.create256x256CompatibleTileInfo=function(a){if(!a)return null;if(256===a.size[0]&&256===a.size[1])return a;const b=a.spatialReference.isGeographic,d=[],c=a.lods.length;for(let e=0;e<c;e++){const h=a.lods[e];d.push(new k({level:h.level,scale:h.scale,resolution:b?h.resolution:2*h.resolution}))}return new l({size:[256,
256],dpi:a.dpi,format:a.format,compressionQuality:a.compressionQuality,origin:a.origin,spatialReference:a.spatialReference,lods:d})};f.create512x512CompatibleTileInfo=function(a){if(!a||256===a.size[0]||256===a.size[1])return null;const b=[],d=a.lods.length;for(let c=0;c<d;c++){const e=a.lods[c];b.push(new k({level:e.level,scale:e.scale,resolution:.5*e.resolution}))}return new l({size:[512,512],dpi:a.dpi,format:a.format,compressionQuality:a.compressionQuality,origin:a.origin,spatialReference:a.spatialReference,
lods:b})};return f}()});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["../../../../core/arrayUtils"],function(g){let h=function(){this.ids=new Set;this.paused=!1};return function(){function f(a){this.highlights=[];this.collection=a.collection;this.forAllFeatures=a.forAllFeatures;this.forAllFeaturesOfNode=a.forAllFeaturesOfNode}var c=f.prototype;c.destroy=function(){this.highlights.forEach(a=>this.releaseSet(a));this.highlights=null};c.acquireSet=function(){const a=new h;this.highlights.push(a);return{set:a,handle:{remove:()=>{this.releaseSet(a);g.removeUnordered(this.highlights,
a)},pause:()=>{this.releaseSet(a);a.paused=!0},resume:()=>{a.paused=!1;this.initializeSet(a)}}}};c.setFeatureIds=function(a,b){b.forEach(d=>a.ids.add(d));this.initializeSet(a)};c.initializeSet=function(a){this.forAllFeatures((b,d,e)=>{a.ids.has(b)&&this.collection.addComponentHighlight(e.objectHandle,d);return 1})};c.releaseSet=function(a){this.forAllFeatures((b,d,e)=>{a.ids.has(b)&&this.collection.removeComponentHighlight(e.objectHandle,d);return 1})};c.objectCreated=function(a){this.highlights.forEach(b=>
{b.paused||this.forAllFeaturesOfNode(a,(d,e)=>{b.ids.has(d)&&this.collection.addComponentHighlight(a.objectHandle,e);return 1})})};c.objectDeleted=function(a){this.collection.clearHighlights(a.objectHandle)};return f}()});
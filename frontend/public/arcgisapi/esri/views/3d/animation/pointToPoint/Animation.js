// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec3f64 ../../../../chunks/vec3 ./Camera ../../webgl-engine/lib/Camera ../../../animation/pointToPoint/Animation".split(" "),function(h,p,d,e,n,q,r){const t=d.create();d=function(){function k(b){this.currentTime=0;this.animation=new r.Animation(()=>new n(b));this._current=new n(b)}var l=k.prototype;l.update=function(b,c,u){const f=this.animation.definition.source,m=this.animation.definition.target,a=e.subtract(t,c.center,
b.center),g=e.length(a);1E-5<=g?(a[0]/=g,a[1]/=g,a[2]/=g):(a[0]=0,a[1]=1,a[0]=0);e.copy(f.lookAtDirection,a);e.copy(m.lookAtDirection,a);f.copyFromRenderCamera(b);m.copyFromRenderCamera(c);this._current.copyFrom(f);this.animation.update(f,m,u);this.currentTime=0;b.almostEquals(c)&&(this.currentTime=this.animation.time)};l.cameraAt=function(b,c){this.animation.cameraAt(b,this._current);c=c||new q;this._current.copyToRenderCamera(c);return c};l.step=function(b,c){this.finished||(this.currentTime+=b,
this.currentTime>=this.time&&(this.currentTime=this.time));return this.cameraAt(this.currentTime/this.time,c)};p._createClass(k,[{key:"finished",get:function(){return this.currentTime>=this.animation.time}},{key:"time",get:function(){return this.animation.time}}]);return k}();h.Animation=d;h.default=d;Object.defineProperty(h,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ./drawSurfaces ./DrawOperation ../../../../interactive/InteractiveToolBase ../../../../interactive/snapping/SnappingOptions".split(" "),
function(c,h,d,u,l,v,w,e,x,m,y,z,A,n,p,q,r,t){c.DrawTool=function(k){function g(a){a=k.call(this,a)||this;a.drawOperation=null;a.hasZ=!0;a.defaultZ=0;a.elevationInfo=null;a.snapToScene=null;a.snappingOptions=new t.SnappingOptions;a.mode=null;a.geometryType=null;a.type="draw-3d";return a}h._inheritsLoose(g,k);var b=g.prototype;b.initialize=function(){const a=l.unwrapOr(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this.drawOperation=new q.DrawOperation({view:this.view,
manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p.SceneDrawSurface(this.view,a),hasM:!1,elevationInfo:a,snappingOptions:this.snappingOptions});this.drawOperation.on("vertex-add",f=>this.onVertexAdd(f));this.drawOperation.on("vertex-remove",f=>this.onVertexRemove(f));this.drawOperation.on("vertex-update",f=>this.onVertexUpdate(f));this.drawOperation.on("cursor-update",
f=>this.onCursorUpdate(f));this.drawOperation.on("complete",f=>this.onComplete(f))};b.destroy=function(){this.drawOperation.destroy();this.drawOperation=null;this._set("view",null)};b.onInputEvent=function(a){this.drawOperation.onInputEvent(a)};b.reset=function(){};b.redo=function(){this.drawOperation.redo()};b.undo=function(){this.drawOperation.undo()};b.completeCreateOperation=function(){this.drawOperation.complete()};b.activate=function(){};b.deactivate=function(){this.drawOperation.isCompleted||
this.drawOperation.cancel()};b.getVertexCoords=function(){return this.drawOperation.vertices};b.onVertexAdd=function(a){this.emit("vertex-add",a)};b.onVertexRemove=function(a){this.emit("vertex-remove",a)};b.onVertexUpdate=function(a){this.emit("vertex-update",a)};b.onCursorUpdate=function(a){this.emit("cursor-update",a)};b.onComplete=function(a){this.emit("complete",a)};h._createClass(g,[{key:"enabled",set:function(a){this.drawOperation.interactive=a;this._set("enabled",a)}},{key:"canRedo",get:function(){return this.drawOperation.canRedo}},
{key:"canUndo",get:function(){return this.drawOperation.canUndo}}]);return g}(n.EventedMixin(r.InteractiveToolBase));d.__decorate([e.property({constructOnly:!0,nonNullable:!0})],c.DrawTool.prototype,"view",void 0);d.__decorate([e.property({value:!0})],c.DrawTool.prototype,"enabled",null);d.__decorate([e.property({constructOnly:!0})],c.DrawTool.prototype,"hasZ",void 0);d.__decorate([e.property({constructOnly:!0,nonNullable:!0})],c.DrawTool.prototype,"defaultZ",void 0);d.__decorate([e.property({constructOnly:!0})],
c.DrawTool.prototype,"elevationInfo",void 0);d.__decorate([e.property()],c.DrawTool.prototype,"snapToScene",void 0);d.__decorate([e.property({constructOnly:!0})],c.DrawTool.prototype,"snappingOptions",void 0);d.__decorate([e.property({constructOnly:!0})],c.DrawTool.prototype,"mode",void 0);d.__decorate([e.property({constructOnly:!0})],c.DrawTool.prototype,"geometryType",void 0);d.__decorate([e.property({readOnly:!0})],c.DrawTool.prototype,"type",void 0);c.DrawTool=d.__decorate([m.subclass("esri.views.3d.interactive.editingTools.draw.DrawTool")],
c.DrawTool);Object.defineProperty(c,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ./internal/MaterialUtil ../lib/Material ../lib/OrderIndependentTransparency ./internal/DefaultBufferWriter ./WaterTechnique ./WaterGLMaterial ../lib/AnimationTimer ./internal/waterMaterialUtils".split(" "),function(f,l,m,d,n,g,p,h,q,r){d=function(k){function e(a,b){a=k.call(this,b,a,r.defaultWaterMaterialParameters)||this;a.animation=new q.AnimationTimer;a.techniqueConfig=new p.WaterTechniqueConfiguration;return a}l._inheritsLoose(e,k);
var c=e.prototype;c.getTechniqueConfig=function(a,b){this.techniqueConfig.output=a;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.receiveShadows=this.params.receiveShadows;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.useSSR=this.params.ssrEnabled;this.techniqueConfig.isDraped=this.params.isDraped;this.techniqueConfig.transparencyPassType=b?b.transparencyPassType:3;this.techniqueConfig.enableOffset=
b?b.camera.relativeElevation<n.OITPolygonOffsetLimit:!0;return this.techniqueConfig};c.update=function(a){this.animation.enabled=35E3>Math.sqrt(this.params.waveTextureRepeat/this.params.waveStrength)*Math.min(a.camera.relativeElevation,a.camera.distance);this.animation.advance(a.dt);return this.animation.enabled};c.intersect=function(a,b,x,t,u,v,w){m.intersectTriangleGeometry(a,b,t,u,v,void 0,w)};c.getGLMaterial=function(a){if(0===a.output&&this.params.isDraped)return a.output=5,new h.WaterGLMaterial(a);
switch(a.output){case 0:case 2:case 4:case 7:return new h.WaterGLMaterial(a)}};c.createBufferWriter=function(){return new g.DefaultBufferWriter(g.PositionUVLayout)};return e}(d.Material);f.WaterMaterial=d;Object.defineProperty(f,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../lib/GLMaterial ./internal/MaterialUtil ../lib/Material ../lib/OrderIndependentTransparency ./internal/DefaultBufferWriter ../shaders/PatternTechnique".split(" "),function(f,g,m,n,h,p,k,l){let x=function(e){function d(a,b){a=e.call(this,b,a,q)||this;a.supportsEdges=!0;a.techniqueConfig=new l.PatternTechniqueConfiguration;return a}g._inheritsLoose(d,e);var c=d.prototype;c.getTechniqueConfig=function(a,b){this.techniqueConfig.output=a;this.techniqueConfig.cullFace=
this.params.cullFace;this.techniqueConfig.vertexColors=this.params.vertexColors;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.polygonOffset=this.params.polygonOffset;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.style=this.params.style;this.techniqueConfig.patternSpacing=this.params.patternSpacing;this.techniqueConfig.lineWidth=this.params.lineWidth;this.techniqueConfig.draped=this.params.draped;this.techniqueConfig.transparencyPassType=
b?b.transparencyPassType:3;this.techniqueConfig.enableOffset=b?b.camera.relativeElevation<p.OITPolygonOffsetLimit:!0;return this.techniqueConfig};c.getPassParameters=function(){return this.params};c.intersect=function(a,b,y,r,t,u,v){n.intersectTriangleGeometry(a,b,r,t,u,void 0,v)};c.getGLMaterial=function(a){return 0===a.output||7===a.output||4===a.output||1===a.output&&this.params.writeLinearDepth?new w(a):void 0};c.createBufferWriter=function(){return new k.DefaultBufferWriter(k.PositionColorMapSpaceUVBoundsLayout)};
return d}(h.Material),w=function(e){function d(a){a=e.call(this,a)||this;a.updateParameters();return a}g._inheritsLoose(d,e);var c=d.prototype;c.updateParameters=function(a){this.technique=this.techniqueRep.acquireAndReleaseExisting(l.PatternTechnique,this.material.getTechniqueConfig(this.output,a),this.technique)};c.beginSlot=function(a){return 4===this.output?3===a:a===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)};c._updateOccludeeState=function(a){a.hasOccludees!==
this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:a.hasOccludees})};c.ensureParameters=function(a){0!==this.output&&7!==this.output||this._updateOccludeeState(a);this.updateParameters(a)};c.bind=function(a,b){a.bindProgram(this.technique.program);this.technique.bindPass(a,this.material.getPassParameters(),b)};c.getPipelineState=function(a,b){return this.technique.getPipelineState(b)};return d}(m);const q={color:[1,1,1,1],writeDepth:!0,writeLinearDepth:!1,vertexColors:!1,
polygonOffset:!1,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,style:2,patternSpacing:10,lineWidth:1,draped:!0,...h.materialParametersDefaults};f.PatternMaterial=x;Object.defineProperty(f,"__esModule",{value:!0})});
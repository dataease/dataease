// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../core/shaderTechnique/ReloadableShaderModule ../../core/shaderTechnique/ShaderTechnique ../../core/shaderTechnique/ShaderTechniqueConfiguration ../../../../webgl/Program ../../../../webgl/renderState ../../../../webgl/BufferObject ../../../../webgl/Texture ../../../../webgl/VertexArrayObject ../../../../webgl/Renderbuffer ../../../../webgl/FramebufferObject ../../../../webgl/ProgramCache ../../../../webgl/RenderingContext ../../../../webgl/ShaderCompiler ../../core/shaderLibrary/attributes/VertexPosition.glsl ../../../../../chunks/EdgeShaderProgram.glsl".split(" "),
function(p,m,n,g,q,r,e,t,h,w,x,y,z,A,B,C,D,u,v){m.EdgeShaderTechnique=function(k){function b(){return k.apply(this,arguments)||this}n._inheritsLoose(b,k);var l=b.prototype;l.bindPass=function(a,d){a=this.program;const {edgeRenderParameters:c,bindParameters:f}=d;u.VertexPosition.bindViewProjTransform(a,c.viewProjectionTransform);a.setUniformMatrix3fv("uTransformNormal_ViewFromGlobal",c.transformNormal_ViewFromGlobal);a.setUniformMatrix4fv("uProj",f.camera.projectionMatrix);a.setUniform2f("uDepthBias",
.5,-4E-4);a.setUniform2f("uPixelToNDC",2/f.camera.fullViewport[2],2/f.camera.fullViewport[3]);a.setUniform2f("uNDCToPixel",f.camera.fullViewport[2]/2,f.camera.fullViewport[3]/2);a.setUniform1f("uDistanceFalloffFactor",c.distanceFalloffFactor);a.setUniform2f("uViewportDimInv",1/f.camera.fullViewport[2],1/f.camera.fullViewport[3]);a.setUniform1f("uPixelRatio",f.camera.pixelRatio||1)};l.initializeProgram=function(a){const d=b.shader.get();var c=this.configuration;c=d.build({slicePlaneEnabled:c.slicePlaneEnabled,
sliceHighlightDisabled:c.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,silhouette:c.silhouette,legacy:c.legacy,antialiasing:c.antialiasing,mode:c.mode,doublePrecisionRequiresObfuscation:c.doublePrecisionRequiresObfuscation});return new t(a.rctx,c.generateSource("vertex"),c.generateSource("fragment"),d.attributeLocations)};l.initializePipeline=function(a){return(a=a.rctx.capabilities.blendMinMax)?h.makePipelineState({blending:h.separateBlendingParams(1,1,0,1,32774,a.MAX),depthTest:{func:515},
colorWrite:h.defaultColorWriteParams}):h.makePipelineState({depthTest:{func:515},depthWrite:h.defaultDepthWriteParams,colorWrite:h.defaultColorWriteParams})};return b}(r.ShaderTechnique);m.EdgeShaderTechnique.shader=new q.ReloadableShaderModule(v.EdgeShaderProgram,()=>new Promise(function(k,b){p(["../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl"],k,b)}));(function(k){let b=function(l){function a(){var d=l.apply(this,arguments)||this;d.slicePlaneEnabled=!1;d.sliceHighlightDisabled=!1;d.silhouette=
!1;d.legacy=!1;d.antialiasing=!1;d.mode=0;d.doublePrecisionRequiresObfuscation=!1;return d}n._inheritsLoose(a,l);return a}(e.ShaderTechniqueConfiguration);g.__decorate([e.parameter()],b.prototype,"slicePlaneEnabled",void 0);g.__decorate([e.parameter()],b.prototype,"sliceHighlightDisabled",void 0);g.__decorate([e.parameter()],b.prototype,"silhouette",void 0);g.__decorate([e.parameter()],b.prototype,"legacy",void 0);g.__decorate([e.parameter()],b.prototype,"antialiasing",void 0);g.__decorate([e.parameter({count:3})],
b.prototype,"mode",void 0);g.__decorate([e.parameter()],b.prototype,"doublePrecisionRequiresObfuscation",void 0);k.Configuration=b})(m.EdgeShaderTechnique||(m.EdgeShaderTechnique={}));Object.defineProperty(m,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","./Point","./support/jsonUtils","../geometry","../core/workers/workers"],function(d,l,q,v,t){function f(a){var b;return Array.isArray(a)?null==(b=a[0])?void 0:b.spatialReference:null==a?void 0:a.spatialReference}function r(a){return a?Array.isArray(a)?a.map(r):a.toJSON?a.toJSON():a:a}function h(a){return Array.isArray(a)?a.map(b=>q.fromJSON(b)):q.fromJSON(a)}async function u(){m||(m=t.open("geometryEngineWorker",{strategy:"distributed"}));return m}async function e(a,b){return(await u()).invoke("executeGEOperation",
{operation:a,parameters:r(b)})}function n(a){return"xmin"in a?a.center:"x"in a?a:a.extent.center}let m;d.buffer=async function(a,b,c,g=!1){a=[f(a),a,b,c,g];a=await e("buffer",a);return h(a)};d.clip=async function(a,b){a=await e("clip",[f(a),a,b]);return h(a)};d.contains=function(a,b){return e("contains",[f(a),a,b])};d.convexHull=async function(a,b=!1){a=await e("convexHull",[f(a),a,b]);return h(a)};d.crosses=function(a,b){return e("crosses",[f(a),a,b])};d.cut=async function(a,b){a=await e("cut",[f(a),
a,b]);return h(a)};d.densify=async function(a,b,c){a=await e("densify",[f(a),a,b,c]);return h(a)};d.difference=async function(a,b){a=await e("difference",[f(a),a,b]);return h(a)};d.disjoint=function(a,b){return e("disjoint",[f(a),a,b])};d.distance=function(a,b,c){return e("distance",[f(a),a,b,c])};d.equals=function(a,b){return e("equals",[f(a),a,b])};d.extendedSpatialReferenceInfo=function(a){return e("extendedSpatialReferenceInfo",[a])};d.flipHorizontal=async function(a,b){var c;if(null==a)throw Error("Illegal Argument Exception");
const g=a.spatialReference;b=null!=(c=b)?c:n(a);a=a.constructor.fromJSON(await e("flipHorizontal",[g,a,b]));a.spatialReference=g;return a};d.flipVertical=async function(a,b){var c;if(null==a)throw Error("Illegal Argument Exception");const g=a.spatialReference;b=null!=(c=b)?c:n(a);a=a.constructor.fromJSON(await e("flipVertical",[g,a,b]));a.spatialReference=g;return a};d.generalize=async function(a,b,c,g){a=await e("generalize",[f(a),a,b,c,g]);return h(a)};d.geodesicArea=function(a,b,c){return e("geodesicArea",
[f(a),a,b,c])};d.geodesicBuffer=async function(a,b,c,g,k,p){a=[f(a),a,b,c,g,k,p];a=await e("geodesicBuffer",a);return h(a)};d.geodesicDensify=async function(a,b,c,g=0){a=await e("geodesicDensify",[f(a),a,b,c,g]);return h(a)};d.geodesicLength=function(a,b,c){return e("geodesicLength",[f(a),a,b,c])};d.intersect=async function(a,b){a=await e("intersect",[f(a),a,b]);return h(a)};d.intersects=function(a,b){return e("intersects",[f(a),a,b])};d.isSimple=function(a){return e("isSimple",[f(a),a])};d.nearestCoordinate=
async function(a,b,c=!0){a=await e("nearestCoordinate",[f(a),a,b,c]);return{...a,coordinate:l.fromJSON(a.coordinate)}};d.nearestVertex=async function(a,b){a=await e("nearestVertex",[f(a),a,b]);return{...a,coordinate:l.fromJSON(a.coordinate)}};d.nearestVertices=async function(a,b,c,g){return(await e("nearestVertices",[f(a),a,b,c,g])).map(k=>({...k,coordinate:l.fromJSON(k.coordinate)}))};d.offset=async function(a,b,c,g,k,p){a=await e("offset",[f(a),a,b,c,g,k,p]);return h(a)};d.overlaps=function(a,b){return e("overlaps",
[f(a),a,b])};d.planarArea=function(a,b){return e("planarArea",[f(a),a,b])};d.planarLength=function(a,b){return e("planarLength",[f(a),a,b])};d.relate=function(a,b,c){return e("relate",[f(a),a,b,c])};d.rotate=async function(a,b,c){var g;if(null==a)throw Error("Illegal Argument Exception");const k=a.spatialReference;c=null!=(g=c)?g:n(a);a=a.constructor.fromJSON(await e("rotate",[k,a,b,c]));a.spatialReference=k;return a};d.simplify=async function(a){a=await e("simplify",[f(a),a]);return h(a)};d.symmetricDifference=
async function(a,b){a=await e("symmetricDifference",[f(a),a,b]);return h(a)};d.touches=function(a,b){return e("touches",[f(a),a,b])};d.union=async function(a,b=null){{let c;Array.isArray(a)?c=a:(c=[],c.push(a),null!=b&&c.push(b));a=c}a=await e("union",[f(a),a]);return h(a)};d.within=function(a,b){return e("within",[f(a),a,b])};Object.defineProperty(d,"__esModule",{value:!0})});
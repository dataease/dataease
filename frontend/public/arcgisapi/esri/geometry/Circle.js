// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/WKIDUnitConversion ./support/webMercatorUtils ./Point ./Polygon ./projectionEllipsoid ../core/unitUtils ./support/geodesicUtils".split(" "),function(v,h,g,A,B,l,C,w,D,E,F,m,t,x,p,y,u,z){var q;g=q=
function(n){function r(...a){a=n.call(this,...a)||this;a.center=null;a.geodesic=!1;a.numberOfPoints=60;a.radius=1E3;a.radiusUnit="meters";return a}v._inheritsLoose(r,n);var k=r.prototype;k.normalizeCtorArgs=function(a,b){if(!a||!a.center){if(a&&a.rings)return n.prototype.normalizeCtorArgs.call(this,a,b);a={center:a}}return{...n.prototype.normalizeCtorArgs.call(this),...a,...b}};k.initialize=function(){var a=this.center;const b=this.numberOfPoints;this.hasZ=a&&a.hasZ;if(0===this.rings.length&&a){var f=
u.convertUnit(this.radius,this.radiusUnit,"meters"),d=a.spatialReference,c="geographic";if(d.isWebMercator)c="webMercator";else if(null!=m[d.wkid]||d.wkt&&0===d.wkt.indexOf("PROJCS"))c="projected";if(this.geodesic){let e;switch(c){case "webMercator":e=t.webMercatorToGeographic(a);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":e=a}a=this._createGeodesicCircle(e,f,b);"webMercator"===
c&&(a=t.geographicToWebMercator(a))}else{let e;"webMercator"===c||"projected"===c?e=f/this._convert2Meters(1,a.spatialReference):"geographic"===c&&(e=u.lengthToDegrees(f,"meters",y.getReferenceEllipsoid(a.spatialReference).radius));a=this._createPlanarCircle(a,e,b)}this.spatialReference=a.spatialReference;this.addRing(a.rings[0])}};k.clone=function(){const {center:a,numberOfPoints:b,radius:f,radiusUnit:d,geodesic:c}=this;return new q({center:a.clone(),numberOfPoints:b,radius:f,radiusUnit:d,geodesic:c})};
k._createGeodesicCircle=function(a,b,f){let d=0;const c=[];for(;360>d;){const e=[0,0];z.directGeodeticSolver(e,[a.x,a.y],d,b);this.hasZ&&e.push(a.z);c.push(e);d+=360/f}c.push(c[0]);return new p(c)};k._createPlanarCircle=function(a,b,f){let d=0;const c=[];for(;d<2*Math.PI;){const e=[a.x+Math.cos(-d)*b,a.y+Math.sin(-d)*b];this.hasZ&&e.push(a.z);c.push(e);d+=Math.PI/(f/2)}c.push(c[0]);return new p({spatialReference:a.spatialReference,rings:[c]})};k._convert2Meters=function(a,b){if(null!=m[b.wkid])b=
m.values[m[b.wkid]];else{b=b.wkt;const f=b.lastIndexOf(",")+1,d=b.lastIndexOf("]]");b=parseFloat(b.substring(f,d))}return a*b};return r}(p);h.__decorate([l.property({type:x})],g.prototype,"center",void 0);h.__decorate([l.property()],g.prototype,"geodesic",void 0);h.__decorate([l.property()],g.prototype,"numberOfPoints",void 0);h.__decorate([l.property()],g.prototype,"radius",void 0);h.__decorate([l.property()],g.prototype,"radiusUnit",void 0);return g=q=h.__decorate([w.subclass("esri.geometry.Circle")],
g)});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../core/maybe","../../geometry/support/spatialReferenceUtils","../../core/unitUtils"],function(k,l,m,h){function n(a,e,d){if(null==a.hasM||a.hasZ)for(const c of e)for(const b of c)2<b.length&&(b[2]*=d)}function p(a,e,d){if(a)for(const b of a){a=b.geometry;var c=d;if(a&&a.spatialReference&&!m.equals(a.spatialReference,e)&&(c=h.getMetersPerVerticalUnitForSR(a.spatialReference)/c,1!==c))if("x"in a)null!=a.z&&(a.z*=c);else if("rings"in a)n(a,a.rings,c);else if("paths"in a)n(a,a.paths,
c);else if("points"in a&&(null==a.hasM||a.hasZ))for(const f of a.points)2<f.length&&(f[2]*=c)}}k.getGeometryZScaler=function(a,e,d){if(l.isNone(e)||l.isNone(d)||d.vcsWkid||m.equals(e,d))return null;e=h.getMetersPerVerticalUnitForSR(e);d=h.getMetersPerVerticalUnitForSR(d);const c=e/d;if(1===c)return null;switch(a){case "point":case "esriGeometryPoint":return b=>{b&&null!=b.z&&(b.z*=c)};case "polyline":case "esriGeometryPolyline":return b=>{if(b)for(const f of b.paths)for(const g of f)2<g.length&&(g[2]*=
c)};case "polygon":case "esriGeometryPolygon":return b=>{if(b)for(const f of b.rings)for(const g of f)2<g.length&&(g[2]*=c)};case "multipoint":case "esriGeometryMultipoint":return b=>{if(b)for(const f of b.points)2<f.length&&(f[2]*=c)};default:return null}};k.unapplyEditsZUnitScaling=function(a,e,d){if((a||e)&&d){var c=h.getMetersPerVerticalUnitForSR(d);p(a,d,c);p(e,d,c)}};Object.defineProperty(k,"__esModule",{value:!0})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ./vec3f64 ./vec3 ../core/ObjectStack ./vec2 ../views/3d/support/stack ./lineSegment".split(" "),function(h,p,e,y,A,m,q){function z(a){return a?{p0:p.clone(a.p0),p1:p.clone(a.p1),p2:p.clone(a.p2)}:{p0:p.create(),p1:p.create(),p2:p.create()}}function I(a,c,d){const b=Q.get();b.p0=a;b.p1=c;b.p2=d;return b}function J(a,c=z()){return B(a.p0,a.p1,a.p2,c)}function B(a,c,d,b=z()){e.copy(b.p0,a);e.copy(b.p1,c);e.copy(b.p2,d);return b}function K(a,c){var d=a.p0,b=a.p1;a=a.p2;const n=e.subtract(m.sv3d.get(),
b,d),g=e.subtract(m.sv3d.get(),a,b),r=e.subtract(m.sv3d.get(),d,a),u=e.subtract(m.sv3d.get(),c,d);var k=e.subtract(m.sv3d.get(),c,b),l=e.subtract(m.sv3d.get(),c,a);const f=e.cross(n,n,r),w=e.dot(e.cross(m.sv3d.get(),n,f),u);k=e.dot(e.cross(m.sv3d.get(),g,f),k);l=e.dot(e.cross(m.sv3d.get(),r,f),l);if(0<w&&0<k&&0<l)return c=e.dot(f,u),c*c/e.dot(f,f);d=q.distance2(q.fromValues(d,n,C.get()),c);b=q.distance2(q.fromValues(b,g,C.get()),c);c=q.distance2(q.fromValues(a,r,C.get()),c);return Math.min(d,b,c)}
function L(a,c,d){const {direction:b,origin:n}=c,{p0:g,p1:r,p2:u}=a;var k=r[0]-g[0],l=r[1]-g[1],f=r[2]-g[2];a=u[0]-g[0];c=u[1]-g[1];const w=u[2]-g[2];var v=b[1]*w-c*b[2],x=b[2]*a-w*b[0];const M=b[0]*c-a*b[1];var t=k*v+l*x+f*M;if(-1E-5<t&&1E-5>t)return!1;t=1/t;const D=n[0]-g[0],E=n[1]-g[1],F=n[2]-g[2];v=t*(D*v+E*x+F*M);if(0>v||1<v)return!1;x=E*f-l*F;f=F*k-f*D;k=D*l-k*E;l=t*(b[0]*x+b[1]*f+b[2]*k);if(0>l||1<v+l)return!1;d&&(e.scale(d,b,t*(a*x+c*f+w*k)),e.add(d,n,d));return!0}function G(a,c,d){var b=
A.distance(a,c);c=A.distance(c,d);a=A.distance(d,a);d=(b+c+a)/2;b=d*(d-b)*(d-c)*(d-a);return 0>=b?0:Math.sqrt(b)}function N(a){return G(a.p0,a.p1,a.p2)}function O(a,c,d){e.subtract(H,c,a);e.subtract(P,d,a);return e.length(e.cross(H,H,P))/2}const C=new y.ObjectStack(q.create),Q=new y.ObjectStack(()=>({p0:null,p1:null,p2:null})),H=p.create(),P=p.create();y=Object.freeze({__proto__:null,create:z,wrap:I,copy:J,fromValues:B,distance2:K,intersectRay:L,areaPoints2d:G,area2d:N,areaPoints3d:O});h.area2d=N;
h.areaPoints2d=G;h.areaPoints3d=O;h.copy=J;h.create=z;h.distance2=K;h.fromValues=B;h.intersectRay=L;h.triangleModule=y;h.wrap=I});
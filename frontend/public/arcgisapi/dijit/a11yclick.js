//>>built
define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,m,c,h){function n(a){if((a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var g;c(document,"keydown",function(a){n(a)?(g=a.target,a.preventDefault()):g=null});c(document,"keyup",function(a){n(a)&&a.target==g&&(g=null,c.emit(a.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,altKey:a.altKey,
_origType:a.type}))});var f=function(a,d){a.dojoClick=!0;return c(a,"click",d)};f.click=f;f.press=function(a,d){var k=c(a,h.press,function(b){("mousedown"!=b.type||m.isLeft(b))&&d(b)}),l=c(a,"keydown",function(b){b.keyCode!==e.ENTER&&b.keyCode!==e.SPACE||d(b)});return{remove:function(){k.remove();l.remove()}}};f.release=function(a,d){var k=c(a,h.release,function(b){("mouseup"!=b.type||m.isLeft(b))&&d(b)}),l=c(a,"keyup",function(b){b.keyCode!==e.ENTER&&b.keyCode!==e.SPACE||d(b)});return{remove:function(){k.remove();
l.remove()}}};f.move=h.move;return f});
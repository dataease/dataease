// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
/*
 *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @esri/arcgis-html-sanitizer - v2.5.0 - Mon Nov 09 2020 11:08:35 GMT-0500 (Eastern Standard Time)
 Copyright (c) 2020 - Environmental Systems Research Institute, Inc.
 Apache-2.0

 js-xss
 Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 http://ucdok.com
 MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details

 Lodash/isPlainObject
 Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
*/
(function(a,c){var b=function(){return"undefined"!==typeof g&&"function"!==typeof g?g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),l=function(){},m=function(da){for(var ma in da)return 0;return 1},f={}.toString,e=function(da){return"[object Function]"==f.call(da)},k=function(da){return"[object String]"==f.call(da)},r=function(da){return"[object Array]"==f.call(da)},p=function(da,ma){if(da)for(var oa=0;oa<da.length;)ma(da[oa++])},w=function(da,ma){for(var oa in ma)da[oa]=
ma[oa];return da},n=function(da,ma){return w(Error(da),{src:"dojoLoader",info:ma})},q=1,h=function(){return"_"+q++},d=function(da,ma,oa){return Z(da,ma,oa,0,d)},g=b,u=g.document,t=u&&u.createElement("DiV"),B=d.has=function(da){return e(F[da])?F[da]=F[da](g,u,t):F[da]},F=B.cache=c.hasCache;e(a)&&(a=a(b));B.add=function(da,ma,oa,qa){(void 0===F[da]||qa)&&(F[da]=ma);return oa&&B(da)};B.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);B("host-webworker")&&
(w(c.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),c.loaderPatch={injectUrl:function(da,ma){try{importScripts(da),ma()}catch(oa){console.info("failed to load resource ("+da+")"),console.error(oa)}}});for(var H in a.has)B.add(H,a.has[H],0,1);d.async=1;var C=B("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");d.eval=function(da,ma){return C(da+"\r\n//# sourceURL\x3d"+ma)};var A={},
E=d.signal=function(da,ma){da=A[da];p(da&&da.slice(0),function(oa){oa.apply(null,r(ma)?ma:[ma])})};H=d.on=function(da,ma){var oa=A[da]||(A[da]=[]);oa.push(ma);return{remove:function(){for(var qa=0;qa<oa.length;qa++)if(oa[qa]===ma){oa.splice(qa,1);break}}}};var y=[],x={},z=[],D={},v=d.map={},G=[],I={},O="",L={},N={};b={};var R=0;if(!B("foreign-loader"))var K=function(da,ma){ma=!1!==ma;var oa,qa;for(oa in N){var ya=N[oa];if(qa=oa.match(/^url:(.+)/))L["url:"+Ga(qa[1],da)]=ya;else if("*now"==oa)var va=
ya;else"*noref"!=oa&&(qa=za(oa,da,!0),L[qa.mid]=L["url:"+qa.url]=ya)}va&&va(V(da));ma&&(N={})};var U=function(da){return da.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ma){return"\\"+ma})},P=function(da,ma){ma.splice(0,ma.length);for(var oa in da)ma.push([oa,da[oa],new RegExp("^"+U(oa)+"(/|$)"),oa.length]);ma.sort(function(qa,ya){return ya[3]-qa[3]});return ma},J=function(da,ma){p(da,function(oa){ma.push([k(oa[0])?new RegExp("^"+U(oa[0])+"$"):oa[0],oa[1]])})},S=function(da){var ma=da.name;ma||
(ma=da,da={name:ma});da=w({main:"main"},da);da.location=da.location?da.location:ma;da.packageMap&&(v[ma]=da.packageMap);da.main.indexOf("./")||(da.main=da.main.substring(2));D[ma]=da},W=[],M=function(da,ma,oa){for(var qa in da){"waitSeconds"==qa&&(d.waitms=1E3*(da[qa]||0));"cacheBust"==qa&&(O=da[qa]?k(da[qa])?da[qa]:(new Date).getTime()+"":"");if("baseUrl"==qa||"combo"==qa)d[qa]=da[qa];da[qa]!==F&&(d.rawConfig[qa]=da[qa],"has"!=qa&&B.add("config-"+qa,da[qa],0,ma))}d.baseUrl||(d.baseUrl="./");/\/$/.test(d.baseUrl)||
(d.baseUrl+="/");for(qa in da.has)B.add(qa,da.has[qa],0,ma);p(da.packages,S);for(var ya in da.packagePaths)p(da.packagePaths[ya],function(va){var Ia=ya+"/"+va;k(va)&&(va={name:va});va.location=Ia;S(va)});P(w(v,da.map),G);p(G,function(va){va[1]=P(va[1],[]);"*"==va[0]&&(G.star=va)});P(w(x,da.paths),z);J(da.aliases,y);if(!B("foreign-loader")){if(ma)W.push({config:da.config});else for(qa in da.config)ma=Ea(qa,oa),ma.config=w(ma.config||{},da.config[qa]);da.cache&&(K(),N=da.cache,K(0,!!da.cache["*noref"]))}E("config",
[da,d.rawConfig])};if(B("dojo-cdn")){var T=u.getElementsByTagName("script");var X=0;for(var fa,ia,ja,ta;X<T.length;)if(fa=T[X++],(ja=fa.getAttribute("src"))&&(ta=ja.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ia=ta[3]||"",c.baseUrl=c.baseUrl||ia,R=fa),ja=fa.getAttribute("data-dojo-config")||fa.getAttribute("djConfig"))b=d.eval("({ "+ja+" })","data-dojo-config"),R=fa}d.rawConfig={};M(c,1);B("dojo-cdn")&&((D.dojo.location=ia)&&(ia+="/"),D.dijit.location=ia+"../dijit/",D.dojox.location=ia+"../dojox/");M(a,
1);M(b,1);if(!B("foreign-loader"))var Aa=function(da){Ka(function(){p(da.deps,Ca)})},Z=function(da,ma,oa,qa,ya){var va;if(k(da)){if((va=Ea(da,qa,!0))&&va.executed)return va.result;throw n("undefinedModule",da);}r(da)||(M(da,0,qa),da=ma,ma=oa);if(r(da))if(da.length){oa="require*"+h();for(var Ia,Va=[],Wa=0;Wa<da.length;)Ia=da[Wa++],Va.push(Ea(Ia,qa));va=w(pa("",oa,0,""),{injected:2,deps:Va,def:ma||l,require:qa?qa.require:d,gc:1});I[va.mid]=va;Aa(va);var db=Fa&&!0;Ka(function(){Sa(va,db)});va.executed||
ba.push(va);sa()}else ma&&ma();return ya},V=function(da){if(!da)return d;var ma=da.require;ma||(ma=function(oa,qa,ya){return Z(oa,qa,ya,da,ma)},da.require=w(ma,d),ma.module=da,ma.toUrl=function(oa){return Ga(oa,da)},ma.toAbsMid=function(oa){return Ha(oa,da)});return ma},ba=[],Q=[],Y={},aa=function(da){da.injected=1;Y[da.mid]=1;da.url&&(Y[da.url]=da.pack||1);bb()},ha=function(da){da.injected=2;delete Y[da.mid];da.url&&delete Y[da.url];m(Y)&&Xa()},ka=d.idle=function(){return!Q.length&&m(Y)&&!ba.length&&
!Fa};var la=function(da,ma){if(ma)for(var oa=0;oa<ma.length;oa++)if(ma[oa][2].test(da))return ma[oa];return 0},na=function(da){var ma=[];for(da=da.replace(/\\/g,"/").split("/");da.length;){var oa=da.shift();if(".."==oa&&ma.length&&".."!=qa){ma.pop();var qa=ma[ma.length-1]}else"."!=oa&&ma.push(qa=oa)}return ma.join("/")},pa=function(da,ma,oa,qa){return{pid:da,mid:ma,pack:oa,url:qa,executed:0,def:0}},ua=function(da,ma,oa,qa,ya,va,Ia,Va,Wa,db){var Ua,hb,Oa;var eb=/^\./.test(da);if(/(^\/)|(:)|(\.js$)/.test(da)||
eb&&!ma)return pa(0,da,0,da);da=na(eb?ma.mid+"/../"+da:da);if(/^\./.test(da))throw n("irrationalPath",da);db||eb||!va.star||(Oa=la(da,va.star[1]));!Oa&&ma&&(Oa=(Oa=la(ma.mid,va))&&la(da,Oa[1]));Oa&&(da=Oa[1]+da.substring(Oa[3]));ma=(ta=da.match(/^([^\/]+)(\/(.+))?$/))?ta[1]:"";(Ua=oa[ma])?da=ma+"/"+(hb=ta[3]||Ua.main):ma="";var fb=0;p(Va,function(Ya){var ib=da.match(Ya[0]);ib&&0<ib.length&&(fb=e(Ya[1])?da.replace(Ya[0],Ya[1]):Ya[1])});if(fb)return ua(fb,0,oa,qa,ya,va,Ia,Va,Wa);if(oa=qa[da])return Wa?
pa(oa.pid,oa.mid,oa.pack,oa.url):qa[da];qa=(Oa=la(da,Ia))?Oa[1]+da.substring(Oa[3]):ma?("/"===Ua.location.slice(-1)?Ua.location.slice(0,-1):Ua.location)+"/"+hb:da;/(^\/)|(:)/.test(qa)||(qa=ya+qa);return pa(ma,da,Ua,na(qa+".js"))},za=function(da,ma,oa){return ua(da,ma,D,I,d.baseUrl,G,z,y,void 0,oa)};if(!B("foreign-loader"))var wa=function(da,ma,oa){return da.normalize?da.normalize(ma,function(qa){return Ha(qa,oa)}):Ha(ma,oa)},Da=0,Ea=function(da,ma,oa){var qa;if(qa=da.match(/^(.+?)!(.*)$/)){var ya=
Ea(qa[1],ma,oa);5!==ya.executed||ya.load||Ta(ya);ya.load?(qa=wa(ya,qa[2],ma),da=ya.mid+"!"+(ya.dynamic?++Da+"!":"")+qa):(qa=qa[2],da=ya.mid+"!"+ ++Da+"!waitingForPlugin");da={plugin:ya,mid:da,req:V(ma),prid:qa}}else da=za(da,ma);return I[da.mid]||!oa&&(I[da.mid]=da)};var Ha=d.toAbsMid=function(da,ma){return za(da,ma).mid},Ga=d.toUrl=function(da,ma){ma=za(da+"/x",ma);var oa=ma.url;return ca(0===ma.pid?da:oa.substring(0,oa.length-5))};if(!B("foreign-loader")){var Ja={injected:2,executed:5,def:3,result:3};
ia=function(da){return I[da]=w({mid:da},Ja)};var Qa=ia("require"),Pa=ia("exports"),Na=ia("module"),Ba={},Ra=0,Ta=function(da){var ma=da.result;da.dynamic=ma.dynamic;da.normalize=ma.normalize;da.load=ma.load;return da},Za=function(da){var ma={};p(da.loadQ,function(ya){var va=wa(da,ya.prid,ya.req.module),Ia=da.dynamic?ya.mid.replace(/waitingForPlugin$/,va):da.mid+"!"+va;va=w(w({},ya),{mid:Ia,prid:va,injected:0});I[Ia]&&I[Ia].injected||ea(I[Ia]=va);ma[ya.mid]=I[Ia];ha(ya);delete I[ya.mid]});da.loadQ=
0;var oa=function(ya){for(var va=ya.deps||[],Ia=0;Ia<va.length;Ia++)(ya=ma[va[Ia].mid])&&(va[Ia]=ya)},qa;for(qa in I)oa(I[qa]);p(ba,oa)},$a=function(da){d.trace("loader-finish-exec",[da.mid]);da.executed=5;da.defOrder=Ra++;da.loadQ&&(Ta(da),Za(da));for(X=0;X<ba.length;)ba[X]===da?ba.splice(X,1):X++;/^require\*/.test(da.mid)&&delete I[da.mid]},cb=[],Sa=function(da,ma){if(4===da.executed)return d.trace("loader-circular-dependency",[cb.concat(da.mid).join("-\x3e")]),!da.def||ma?Ba:da.cjs&&da.cjs.exports;
if(!da.executed){if(!da.def)return Ba;var oa=da.mid,qa=da.deps||[],ya,va=[],Ia=0;for(da.executed=4;ya=qa[Ia++];){ya=ya===Qa?V(da):ya===Pa?da.cjs.exports:ya===Na?da.cjs:Sa(ya,ma);if(ya===Ba)return da.executed=0,d.trace("loader-exec-module",["abort",oa]),Ba;va.push(ya)}d.trace("loader-run-factory",[da.mid]);ma=da.def;va=e(ma)?ma.apply(null,va):ma;da.result=void 0===va&&da.cjs?da.cjs.exports:va;$a(da)}return da.result},Fa=0,Ka=function(da){try{Fa++,da()}catch(ma){throw ma;}finally{Fa--}ka()&&E("idle",
[])},sa=function(){Fa||Ka(function(){for(var da,ma,oa=0;oa<ba.length;)da=Ra,ma=ba[oa],Sa(ma),da!=Ra?oa=0:oa++})}}var ca="function"==typeof a.fixupUrl?a.fixupUrl:function(da){da+="";return da+(O?(/\?/.test(da)?"\x26":"?")+O:"")};void 0===B("dojo-loader-eval-hint-url")&&B.add("dojo-loader-eval-hint-url",1);var ea=function(da){var ma=da.plugin;5!==ma.executed||ma.load||Ta(ma);var oa=function(qa){da.result=qa;ha(da);$a(da);sa()};ma.load?ma.load(da.prid,da.req,oa):ma.loadQ?ma.loadQ.push(da):(ma.loadQ=
[da],ba.unshift(ma),Ca(ma))},ra=0,xa=function(da,ma){B("config-stripStrict")&&(da=da.replace(/(["'])use strict\1/g,""));da===ra?ra.call(null):d.eval(da,B("dojo-loader-eval-hint-url")?ma.url:ma.mid)},Ca=function(da){var ma=da.mid,oa=da.url;if(!(da.executed||da.injected||Y[ma]||da.url&&(da.pack&&Y[da.url]===da.pack||1==Y[da.url])))if(aa(da),da.plugin)ea(da);else{var qa=function(){Ma(da);if(2!==da.injected){if(B("dojo-enforceDefine")){E("error",n("noDefine",da));return}ha(da);w(da,Ja);d.trace("loader-define-nonmodule",
[da.url])}sa()};(ra=L[ma]||L["url:"+da.url])?(d.trace("loader-inject",["cache",da.mid,oa]),xa(ra,da),qa()):(d.trace("loader-inject",["script",da.mid,oa]),d.injectUrl(ca(oa),qa,da))}},La=function(da,ma,oa){d.trace("loader-define-module",[da.mid,ma]);if(2===da.injected)return E("error",n("multipleDefine",da)),da;w(da,{deps:ma,def:oa,cjs:{id:da.mid,uri:da.url,exports:da.result={},setExports:function(ya){da.cjs.exports=ya},config:function(){return da.config}}});for(var qa=0;ma[qa];qa++)ma[qa]=Ea(ma[qa],
da);ha(da);e(oa)||ma.length||(da.result=oa,$a(da));return da},Ma=function(da,ma){for(var oa=[],qa,ya;Q.length;)ya=Q.shift(),ma&&(ya[0]=ma.shift()),qa=ya[0]&&Ea(ya[0])||da,oa.push([qa,ya[1],ya[2]]);K(da);p(oa,function(va){Aa(La.apply(null,va))})},Xa=l,bb=l;B("dom");if(B("dom")){var ab=function(da,ma,oa,qa){da.addEventListener(ma,qa,!1);return function(){da.removeEventListener(ma,qa,!1)}},gb=ab(window,"load","onload",function(){d.pageLoaded=1;try{"complete"!=u.readyState&&(u.readyState="complete")}catch(da){}gb()});
T=u.getElementsByTagName("script");for(X=0;!R;)/^dojo/.test((fa=T[X++])&&fa.type)||(R=fa);d.injectUrl=function(da,ma,oa){oa=oa.node=u.createElement("script");var qa=ab(oa,"load","onreadystatechange",function(va){va=va||window.event;var Ia=va.target||va.srcElement;if("load"===va.type||/complete|loaded/.test(Ia.readyState))qa(),ya(),ma&&ma()}),ya=ab(oa,"error","onerror",function(va){qa();ya();E("error",n("scriptError: "+da,[da,va]))});oa.type="text/javascript";oa.charset="utf-8";oa.src=da;R.parentNode.insertBefore(oa,
R);return oa}}d.log=l;d.trace=l;B("foreign-loader")?fa=l:(fa=function(da,ma,oa){var qa=arguments.length,ya=["require","exports","module"],va=[0,da,ma];1==qa?va=[0,e(da)?ya:[],da]:2==qa&&k(da)?va=[da,e(ma)?ya:[],ma]:3==qa&&(va=[da,ma,oa]);d.trace("loader-define",va.slice(0,2));(qa=va[0]&&Ea(va[0]))&&!Y[qa.mid]?Aa(La(qa,va[1],va[2])):Q.push(va)},fa.amd={vendor:"dojotoolkit.org"});w(w(d,c.loaderPatch),a.loaderPatch);H("error",function(da){try{if(console.error(da),da instanceof Error){for(var ma in da)console.log(ma+
":",da[ma]);console.log(".")}}catch(oa){}});w(d,{uid:h,cache:L,packs:D});g.define||(g.define=fa,g.require=d,B("foreign-loader")||(p(W,function(da){M(da)}),fa=b.deps||a.deps||c.deps,a=b.callback||a.callback||c.callback,d.boot=fa||a?[fa||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"./arcgisapi/dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",
name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/Accessor ./core/Evented ./Basemap ./Ground ./core/CollectionFlattener ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){const H=l.getLogger("esri.Map");b=function(C){function A(y){y=C.call(this,y)||this;y.allLayers=new g({root:a._assertThisInitialized(y),rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:x=>x.layers});y.allTables=y._createTablesFlattener(a._assertThisInitialized(y));y.basemap=null;y.ground=new d;y._basemapCache=u.createCache();return y}a._inheritsLoose(A,C);var E=A.prototype;E.destroy=function(){var y,
x;this.allLayers.destroy();this.allTables.destroy();null==(y=this.ground)?void 0:y.destroy();null==(x=this.basemap)?void 0:x.destroy();u.destroyCache(this._basemapCache);this._basemapCache=null};E.castBasemap=function(y){return u.ensureType(y,this._basemapCache)};E.castGround=function(y){y=t.ensureType(y);return y?y:(H.error("Map.ground may not be set to null or undefined"),this._get("ground"))};E.findLayerById=function(y){return this.allLayers.find(x=>x.id===y)};E.findTableById=function(y){return this.allTables.find(x=>
x.id===y)};E._createTablesFlattener=function(y){return new g({root:y,rootCollectionNames:["tables","layers"],getChildrenFunction:x=>x&&"group"===x.type?this._createTablesFlattener(x):null,itemFilterFunction:x=>this._isMapOrGroupLayer(x.parent)&&x.parent.tables.includes(x)})};E._isMapOrGroupLayer=function(y){return y&&(y===this||this._isGroupLayer(y))};E._isGroupLayer=function(y){return y&&"group"===y.type};return A}(F.TablesMixin(B.LayersMixin(q.EventedMixin(n))));c.__decorate([m.property({readOnly:!0,
dependsOn:[],autoTracked:!1})],b.prototype,"allLayers",void 0);c.__decorate([m.property({readOnly:!0})],b.prototype,"allTables",void 0);c.__decorate([m.property({type:h})],b.prototype,"basemap",void 0);c.__decorate([f.cast("basemap")],b.prototype,"castBasemap",null);c.__decorate([m.property({type:d,nonNullable:!0})],b.prototype,"ground",void 0);c.__decorate([f.cast("ground")],b.prototype,"castGround",null);return b=c.__decorate([k.subclass("esri.Map")],b)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],
function(a){function c(b,l){for(var m=0;m<l.length;m++){var f=l[m];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}a._assertThisInitialized=function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b};a._createClass=function(b,l,m){l&&c(b.prototype,l);m&&c(b,m);return b};a._inheritsLoose=function(b,l){b.prototype=Object.create(l.prototype);b.prototype.constructor=b;b.__proto__=
l}})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(c,b,l,m){var f=arguments.length,e=3>f?b:null===m?m=Object.getOwnPropertyDescriptor(b,l):m,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)e=Reflect.decorate(c,b,l,m);else for(var r=c.length-1;0<=r;r--)if(k=c[r])e=(3>f?k(e):3<f?k(b,l,e):k(b,l))||e;return 3<f&&e&&Object.defineProperty(b,l,e),e}})},"esri/core/has":function(){define(["./global"],function(a){function c(k){return"function"===
typeof m[k]?m[k]=m[k](a):m[k]}var b,l;let m;if(null!=(b=a.dojoConfig)&&b.has||null!=(l=a.esriConfig)&&l.has){var f,e;m={...null==(f=a.dojoConfig)?void 0:f.has,...null==(e=a.esriConfig)?void 0:e.has}}else m={};c.add=(k,r,p,w)=>{if(w||"undefined"===typeof m[k])m[k]=r;return p&&c(k)};c.cache=m;c.add("esri-deprecation-warnings",!0);c.add("esri-featurelayer-webgl",!0);c.add("esri-featurelayer-webgl-labeling",!0);(()=>{c.add("host-webworker","undefined"!==typeof a.WorkerGlobalScope&&self instanceof a.WorkerGlobalScope);
var k="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;c.add("host-browser",k);c.add("dom",k);if(c("host-browser")){var r=navigator;k=r.userAgent;r=r.appVersion;const w=parseFloat(r);c.add("edge",parseFloat(k.split("Edge/")[1])||void 0);c.add("webkit",!c("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);c.add("chrome",!c("edge")&&parseFloat(k.split("Chrome/")[1])||void 0);c.add("safari",0<=r.indexOf("Safari")&&
!c("chrome")&&!c("edge")?parseFloat(r.split("Version/")[1]):void 0);c.add("mac",0<=r.indexOf("Macintosh"));if(k.match(/(iPhone|iPod|iPad)/)){const n=RegExp.$1.replace(/P/,"p");var p=k.match(/OS ([\d_]+)/)?RegExp.$1:"1";p=parseFloat(p.replace(/_/,".").replace(/_/g,""));c.add(n,p);c.add("ios",p)}c.add("trident",parseFloat(r.split("Trident/")[1])||void 0);c("webkit")||(0<=k.indexOf("Opera")&&c.add("opera",9.8<=w?parseFloat(k.split("Version/")[1])||w:w),0<=k.indexOf("Gecko")&&!c("trident")&&!c("edge")&&
c.add("mozilla",w),c("mozilla")&&c.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0))}})();(()=>{if(a.navigator){var k=navigator.userAgent;const r=k.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);k=k.match(/iPhone/i);r&&c.add("esri-mobile",r);k&&c.add("esri-iPhone",k);c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident"));c.add("esri-secure-context",()=>{if("isSecureContext"in a)return a.isSecureContext;
if(a.location&&a.location.origin)return 0===a.location.origin.indexOf("https:")});c.add("esri-wasm","WebAssembly"in a);c.add("esri-shared-array-buffer",()=>{const r=!1===a.crossOriginIsolated;return"SharedArrayBuffer"in a&&!r});c.add("esri-atomics","Atomics"in a);c.add("esri-workers","Worker"in a);c.add("esri-text-decoder","TextDecoder"in a);c.add("esri-text-encoder","TextEncoder"in a);c.add("featurelayer-advanced-symbols",!1);c.add("featurelayer-pbf",!0);c.add("featurelayer-pbf-statistics",!1);c.add("feature-layers-workers",
!0);c.add("mapview-transitions-duration",200);!c("host-webworker")&&c("host-browser")&&(c.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),c.add("esri-image-decode",()=>{if("decode"in new Image){const r=new Image;r.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';r.decode().then(()=>{c.add("esri-image-decode",!0,!0,!0)}).catch(()=>{c.add("esri-image-decode",!1,!0,!0)})}else return!1}),c.add("esri-url-encodes-apostrophe",
()=>{const r=a.document.createElement("a");r.href="?'";return-1<r.href.indexOf("?%27")}),c.add("vectortilelayer-max-buffers",()=>c("ff")?160:Number.POSITIVE_INFINITY))})();return c})},"esri/core/global":function(){define(function(){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./has","../config","./maybe","./string"],function(a,c,b,l,m){const f={info:0,warn:1,error:2,none:3};c=function(){function e(r){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=r.level&&(this.level=r.level);null!=r.writer&&(this.writer=r.writer);this._module=r.module;e._loggers[this.module]=this;r=this.module.lastIndexOf(".");-1!==r&&(this._parent=e.getLogger(this.module.slice(0,r)))}var k=e.prototype;k.error=function(...r){this._log("error",
"always",...r)};k.warn=function(...r){this._log("warn","always",...r)};k.info=function(...r){this._log("info","always",...r)};k.errorOnce=function(...r){this._log("error","once",...r)};k.warnOnce=function(...r){this._log("warn","once",...r)};k.infoOnce=function(...r){this._log("info","once",...r)};k.errorOncePerTick=function(...r){this._log("error","oncePerTick",...r)};k.warnOncePerTick=function(...r){this._log("warn","oncePerTick",...r)};k.infoOncePerTick=function(...r){this._log("info","oncePerTick",
...r)};e.getLogger=function(r){let p=e._loggers[r];p||(p=new e({module:r}));return p};k._log=function(r,p,...w){if(this._matchLevel(r)){if("always"!==p&&!e._throttlingDisabled){const n=this._argsToKey(w),q=this._loggedMessages[r].get(n);if("once"===p&&null!=q||"oncePerTick"===p&&q&&q>=e._tickCounter)return;this._loggedMessages[r].set(n,e._tickCounter);e._scheduleTickCounterIncrement()}for(const n of b.log.interceptors)if(n(r,this.module,...w))return;this._inheritedWriter()(r,this.module,...w)}};k._parentWithMember=
function(r,p){let w=this;for(;l.isSome(w);){const n=w[r];if(l.isSome(n))return n;w=w.parent}return p};k._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};k._consoleWriter=function(r,p,...w){console[r](`[${p}]`,...w)};k._matchLevel=function(r){return f[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=f[r]};k._argsToKey=function(...r){return m.numericHash(JSON.stringify(r,(p,w)=>"object"!==typeof w||Array.isArray(w)?w:"[Object]"))};e._scheduleTickCounterIncrement=
function(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then(()=>{e._tickCounter++;e._tickCounterScheduled=!1}))};a._createClass(e,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}}],[{key:"test",get:function(){return{resetLoggers(r={}){const p=e._loggers;e._loggers=r;return p},set throttlingDisabled(r){e._throttlingDisabled=r}}}}]);return e}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=
!1;return c})},"esri/config":function(){define(["module","./core/global","./core/has","./core/object"],function(a,c,b,l){b={apiKey:void 0,applicationUrl:c.location&&c.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};c.esriConfig&&(l.deepMerge(b,c.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,
b.assetsPath=a.slice(0,a.indexOf("esri/")));b.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(b,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});b.request.corsEnabledServers=[];b.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return b})},"esri/core/object":function(){define(["exports",
"./lang"],function(a,c){function b(m,f,e){for(const k of m){if(null==e)return;if(!(k in e))if(f)e[k]={};else return;e=e[k]}return e}function l(m,f,e){return f?Object.keys(f).reduce(function(k,r){let p=k[r],w=f[r];if(p===w)return k;if(void 0===p)return k[r]=c.clone(w),k;if(Array.isArray(w)||Array.isArray(k))p=p?Array.isArray(p)?k[r]=p.concat():k[r]=[p]:k[r]=[],w&&(Array.isArray(w)||(w=[w]),e?w.forEach(n=>{-1===p.indexOf(n)&&p.push(n)}):k[r]=w.concat());else if(w&&"object"===typeof w)k[r]=l(p,w,e);
else if(!k.hasOwnProperty(r)||f.hasOwnProperty(r))k[r]=w;return k},m||{}):m}a.deepMerge=function(m,f,e=!1){return l(m,f,e)};a.getDeepValue=function(m,f){if(null!=f)return f[m]||b(m.split("."),!1,f)};a.setDeepValue=function(m,f,e){const k=m.split(".");m=k.pop();(e=b(k,!0,e))&&m&&(e[m]=f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./typedArrayUtil"],function(a,c){function b(f,e){let k;if(e)for(k in f)f.hasOwnProperty(k)&&(void 0===f[k]?delete f[k]:
f[k]instanceof Object&&b(f[k],!0));else for(k in f)f.hasOwnProperty(k)&&void 0===f[k]&&delete f[k];return f}function l(f){if(!f||"object"!==typeof f||"function"===typeof f)return f;if(c.isInt8Array(f)||c.isUint8Array(f)||c.isUint8ClampedArray(f)||c.isInt16Array(f)||c.isUint16Array(f)||c.isInt32Array(f)||c.isUint32Array(f)||c.isFloat32Array(f)||c.isFloat64Array(f))return c.slice(f);if(f instanceof Date)return new Date(f.getTime());if(f instanceof ArrayBuffer)return f.slice(0,f.byteLength);if(f instanceof
Map){const e=new Map;f.forEach((k,r)=>{e.set(r,l(k))});return e}if(f instanceof Set){const e=new Set;f.forEach(k=>{e.add(l(k))});return e}return"function"===typeof f.clone?f.clone():"function"===typeof f.map&&"function"===typeof f.forEach?f.map(l):"function"===typeof f.notifyChange&&"function"===typeof f.watch?f.clone():m({},f,l)}function m(f,e,k){let r,p;const w={};for(r in e){p=e[r];const n=!(r in w)||w[r]!==p;if(!(r in f)||f[r]!==p&&n)f[r]=k?k(p):p}return f}a.clone=l;a.equals=function(f,e){return f===
e||"number"===typeof f&&isNaN(f)&&"number"===typeof e&&isNaN(e)||"function"===typeof(f||{}).getTime&&"function"===typeof(e||{}).getTime&&f.getTime()===e.getTime()||!1};a.fixJson=b;a.mixin=function(f={},...e){for(const k of e)m(f,k);return f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/typedArrayUtil":function(){define(["exports"],function(a){a.estimateSize=function(c){return c?128+c.buffer.byteLength+64:0};a.forEach=function(c,b){if(c.forEach)c.forEach(b);else for(let l=0;l<c.length;l++)b(c[l],
l,c)};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};a.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};a.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c instanceof
Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=function(c){return c instanceof Uint16Array||c&&c.constructor&&"Uint16Array"===c.constructor.name};a.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};a.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};
a.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};a.slice=function(c,b,l){if(c.slice)return c.slice(b,l);void 0===b?b=0:(0>b&&(b+=c.length),b=Math.min(c.length,Math.max(0,b)));void 0===l?l=c.length:(0>l&&(l+=c.length),l=Math.min(c.length,Math.max(0,l)));l=Math.max(0,l-b);const m=new c.constructor(l);for(let f=0;f<l;f++)m[f]=c[b+f];return m};a.toArray=function(c){const b=Array(c.length);for(let l=0;l<c.length;l++)b[l]=
c[l];return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],function(a){function c(b,l,m){return null!=b?m(b):l}a.andThen=function(b,l){return null!=b?l(b):null};a.applySome=function(b,l){return null!=b?l(b):null};a.assumeNonNull=function(b){return b};a.destroyMaybe=function(b){null!=b&&b.destroy();return null};a.disposeMaybe=function(b){null!=b&&b.dispose();return null};a.forEachSome=function(b,l){for(const m of b)c(m,null,l)};a.get=function(b,
...l){let m=0;for(;m<l.length&&b;)b=b[l[m++]];return b};a.isNone=function(b){return null==b};a.isSome=function(b){return null!=b};a.isUndefined=function(b){return void 0===b};a.mapMany=function(b,l){const m=[];for(const f of b)m.push(c(f,null,l));return m};a.mapOr=c;a.mapSome=function(b,l){const m=[];b.forEach(f=>{f=l(f);null!=f&&m.push(f)});return m};a.mapSomeFirst=function(b,l){for(const m of b)if(b=l(m),null!=b)return b;return null};a.none=null;a.nullifyNonnullableForDispose=function(b){return null};
a.removeMaybe=function(b){null!=b&&b.remove();return null};a.unwrap=function(b){return b};a.unwrapOr=function(b,l){return null!=b?b:"function"===typeof l?l():l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/string":function(){define(["exports","./object"],function(a,c){function b(m){return null==m?"":m}const l=/\{([^\}]+)\}/g;a.escapeRegExpString=function(m,f){return m.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,e=>f&&-1!==f.indexOf(e)?e:`\\${e}`)};a.numericHash=function(m){let f=0;
for(let e=0;e<m.length;e++)f=(f<<5)-f+m.charCodeAt(e),f|=0;return f};a.replace=function(m,f){return m.replace(l,"object"===typeof f?(e,k)=>b(c.getDeepValue(k,f)):(e,k)=>b(f(k)))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,c,b,l,m,f){function e(p){let w=0;var n=p;if(b.isLongFormType(p))return b.ensureLongFormType(p);for(;Array.isArray(n)&&1===
n.length&&"string"!==typeof n[0]&&"number"!==typeof n[0];)n=n[0],w++;return b.isOneOf(n)?0===w?b.ensureOneOf(n):b.ensureNArrayTyped(b.ensureOneOf(n),w):1===w?b.ensureArray(n):1<w?b.ensureNArray(n,w):p.from?p.from:b.ensureType(p)}function k(p,w){return n=>{n=+p(n);null!=w.step&&(n=Math.round(n/w.step)*w.step);null!=w.min&&(n=Math.max(w.min,n));null!=w.max&&(n=Math.min(w.max,n));return n}}const r=c.getLogger("esri.core.accessorSupport.decorators.property");a.ensureRange=k;a.property=function(p={}){return(w,
n,q)=>{if(w===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${w.name}.${n}. Accessor does not support static properties.`);const h=m.getOwnPropertyMetadata(w,n);q&&(q.get||q.set?(h.get=q.get||h.get,h.set=q.set||h.set):"value"in q&&("value"in p&&r.warn(`@property() will redefine the value of "${n}" on "${w.constructor.name}" already defined in the metadata`,p),h.value=p.value=q.value));null!=p.readOnly&&(h.readOnly=p.readOnly);({aliasOf:w}=p);if(w){const d="string"===
typeof w?w:w.source;w="string"===typeof w?null:!0===w.overridable;let g;h.dependsOn=[d];h.get=function(){let u=l.get(this,d);if("function"===typeof u){g||(g=d.split(".").slice(0,-1).join("."));const t=l.get(this,g);t&&(u=u.bind(t))}return u};h.readOnly||(h.set=w?function(u){void 0!==u?this._override(n,u):this._clearOverride(n)}:function(u){f.set(this,d,u)})}w=p.type;q=p.types;h.cast||(w?h.cast=e(w):q&&(Array.isArray(q)?h.cast=b.ensureArrayTyped(b.ensureOneOfType(q[0])):h.cast=b.ensureOneOfType(q)));
p.range&&(h.cast=k(h.cast,p.range));m.mergeProperty(h,p)}};a.propertyJSONMeta=function(p,w,n){p=m.getOwnPropertyMetadata(p,n);p.json||(p.json={});p=p.json;void 0!==w&&(p.origins||(p.origins={}),p.origins[w]||(p.origins[w]={}),p=p.origins[w]);return p};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger"],function(a,c,b){function l(v){return null==v?v:new Date(v)}function m(v){return null==v?v:!!v}function f(v){return null==
v?v:v.toString()}function e(v){if(null==v)return v;v=parseFloat(v);return isNaN(v)?0:v}function k(v){return null==v?v:Math.round(parseFloat(v))}function r(v){return v&&v.constructor&&void 0!==v.constructor.__accessorMetadata__}function p(v,G){return null!=G&&v&&!(G instanceof v)}function w(v){return v&&v.Type?"function"===typeof v.Type?v.Type:v.Type.base:null}function n(v,G){var I;(I=!G||!G.constructor)||(I=G.constructor,I=!(I&&"isCollection"in I));if(I)return q(v,G)?G:new v(G);I=w(v.prototype.itemType);
const O=w(G.constructor.prototype.itemType);if(!I)return G;if(!O)return new v(G);if(I===O)return G;if(I.prototype.isPrototypeOf(O.prototype))return new v(G);q(v,G);return G}function q(v,G){return r(G)?(z.error("Accessor#set","Assigning an instance of '"+(G.declaredClass||"unknown")+"' which is not a subclass of '"+d(v)+"'"),!0):!1}function h(v,G){return null==G?G:v&&"isCollection"in v?n(v,G):p(v,G)?q(v,G)?G:new v(G):G}function d(v){return v&&v.prototype&&v.prototype.declaredClass||"unknown"}function g(v){switch(v){case Number:return e;
case D:return k;case Boolean:return m;case String:return f;case Date:return l;default:return h.bind(null,v)}}function u(v,G){const I=g(v);return 1===arguments.length?I:I(G)}function t(v,G,I){return 1===arguments.length?t.bind(null,v):G?Array.isArray(G)?G.map(O=>v(O,I)):[v(G,I)]:G}function B(v,G,I){return 0!==G&&Array.isArray(I)?I.map(O=>B(v,G-1,O)):v(I)}function F(v,G,I){if(2===arguments.length)return F.bind(null,v,G);if(!I)return I;I=B(v,G,I);let O=G;for(var L=I;0<O&&Array.isArray(L);)O--,L=L[0];
if(void 0!==L)for(L=0;L<O;L++)I=[I];return I}function H(v,G){if(2===arguments.length)return H(v).call(null,G);const I=new Set,O=v.filter(K=>"function"!==typeof K),L=v.filter(K=>"function"===typeof K);for(const K of v)"string"!==typeof K&&"number"!==typeof K||I.add(K);let N=null,R=null;return(K,U)=>{if(null==K)return K;const P=typeof K,J="string"===P||"number"===P;if(J&&(I.has(K)||L.some(S=>"string"===P&&S===String||"number"===P&&S===Number))||"object"===P&&L.some(S=>!p(K,S)))return K;J&&O.length?
(N||(N=O.map(S=>"string"===typeof S?`'${S}'`:`${S}`).join(", ")),z.error("Accessor#set",`'${K}' is not a valid value for this property, only the following values are valid: ${N}`)):"object"===typeof K&&L.length?(R||(R=L.map(S=>d(S)).join(", ")),z.error("Accessor#set",`'${K}' is not a valid value for this property, value must be one of ${R}`)):z.error("Accessor#set",`'${K}' is not a valid value for this property`);U&&(U.valid=!1);return null}}function C(v,G){if(2===arguments.length)return C(v).call(null,
G);const I={},O=[],L=[];for(const R in v.typeMap){const K=v.typeMap[R];I[R]=u(K);O.push(d(K));L.push(R)}const N="string"===typeof v.key?R=>R[v.key]:v.key;return R=>{if(v.base&&!p(v.base,R)||null==R)return R;var K=N(R)||v.defaultKeyValue;const U=I[K];if(!U)return z.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${O.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${L.join("', '")}'`})`),null;if(!p(v.typeMap[K],R))return R;if("string"===typeof v.key&&
!r(R)){K={};for(const P in R)P!==v.key&&(K[P]=R[P]);return U(K)}return U(R)}}function A(v){switch(v.type){case "native":return u(v.value);case "array":return t(A(v.value));case "one-of":return E(v);default:return null}}function E(v){let G=null;return(I,O)=>{if(x(I,v))return I;null==G&&(G=y(v));z.error("Accessor#set",`Invalid property value, value needs to be of type ${G}`);O&&(O.valid=!1);return null}}function y(v){switch(v.type){case "native":switch(v.value){case Number:return"number";case String:return"string";
case Boolean:return"boolean";case D:return"integer";case Date:return"date";default:return d(v.value)}case "array":return`array of ${y(v.value)}`;case "one-of":return v=v.values.map(G=>y(G)),`one of ${v.slice(0,v.length-1)} or ${v[v.length-1]}`}return"unknown"}function x(v,G){if(null==v)return!0;switch(G.type){case "native":switch(G.value){case Number:case D:return"number"===typeof v;case Boolean:return"boolean"===typeof v;case String:return"string"===typeof v}return v instanceof G.value;case "array":return Array.isArray(v)?
!v.some(I=>!x(I,G.value)):!1;case "one-of":return G.values.some(I=>x(v,I))}}const z=b.getLogger("esri.core.Accessor");let D=function(){};a.Integer=D;a.default=u;a.ensureArray=function(v,G){return 1===arguments.length?t(u.bind(null,v)):t(u.bind(null,v),G)};a.ensureArrayTyped=t;a.ensureBoolean=m;a.ensureClass=h;a.ensureDate=l;a.ensureInteger=k;a.ensureLongFormType=A;a.ensureNArray=function(v,G,I){return 2===arguments.length?F(u.bind(null,v),G):F(u.bind(null,v),G,I)};a.ensureNArrayTyped=F;a.ensureNumber=
e;a.ensureOneOf=H;a.ensureOneOfType=C;a.ensureString=f;a.ensureType=u;a.isClassedType=r;a.isLongFormType=function(v){if(!(v&&"type"in v))return!1;switch(v.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(v){return Array.isArray(v)?!v.some(G=>{G=typeof G;return!("string"===G||"number"===G||"function"===G&&1<v.length)}):!1};a.requiresType=p;a.types={native(v){return{type:"native",value:v}},array(v){return{type:"array",value:v}},oneOf(v){return{type:"one-of",values:v}}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,c){function b(e,k){e="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=k.getItemAt||Array.isArray(k)){var r=parseInt(e,10);if(!isNaN(r))return Array.isArray(k)?k[r]:k.getItemAt(r)}r=c.getProperties(k);return c.isPropertyDeclared(r,e)?r.get(e):k[e]}function l(e,k,r){if(null==e)return e;if((e=b(k[r],e))||!(r<k.length-1))return r===k.length-1?e:l(e,k,r+1)}function m(e,k,r=
0){return"string"===typeof k&&-1===k.indexOf(".")?b(k,e):l(e,c.pathToArray(k),r)}function f(e,k){return m(e,k)}a.default=f;a.exists=function(e,k){return void 0!==m(k,e)};a.get=f;a.valueOf=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports","../lang","../maybe","../handleUtils"],function(a,c,b,l){function m(p){return p?p.__accessor__?p.__accessor__:p.propertyInvalidated?p:null:null}function f(p,w,n){return w?Object.keys(w).reduce(function(q,
h){let d=null;var g="merge";n&&(d=n.path?`${n.path}.${h}`:h,g=n.policy(d));if("replace"===g)return q[h]=w[h],q;if(void 0===q[h])return q[h]=c.clone(w[h]),q;let u=q[h];g=w[h];if(u===g)return q;if(Array.isArray(g)||Array.isArray(q))u=u?Array.isArray(u)?q[h]=u.concat():q[h]=[u]:q[h]=[],g&&(Array.isArray(g)||(g=[g]),g.forEach(t=>{-1===u.indexOf(t)&&u.push(t)}));else if(g&&"object"===typeof g)if(n){const t=n.path;n.path=b.assumeNonNull(d);q[h]=f(u,g,n);n.path=t}else q[h]=f(u,g,null);else if(!q.hasOwnProperty(h)||
w.hasOwnProperty(h))q[h]=g;return q},p||{}):p}function e(p){return Array.isArray(p)?p:p.split(".")}function k(p){return-1<p.indexOf(",")?p.split(",").map(w=>w.trim()):[p.trim()]}function r(p){if(Array.isArray(p)){const w=[];for(const n of p)w.push(...k(n));return w}return k(p)}a.getDependsInfo=function(p,w,n){const q=m(p);return q?q.getDependsInfo(p,w,n,""):""};a.getProperties=m;a.isPropertyDeclared=function(p,w){return null!=p&&p.metadatas&&null!=p.metadatas[w]};a.merge=function(p,w,n){return n?
f(p,w,{policy:n,path:""}):f(p,w,null)};a.once=function(p){let w=!1;return()=>{w||(w=!0,p())}};a.parse=function(p,w,n,q){w=r(w);return 1!==w.length?(w=w.map(h=>q(p,h,n)),l.handlesGroup(w)):q(p,w[0],n)};a.parseConditionalPath=function(p){if(-1===p.indexOf("?"))return null;p=e(p);const w=Array(p.length);for(let n=0;n<p.length;n++){const q=p[n];w[n]="?"===q[q.length-1];w[n]&&(p[n]=q.slice(0,-1))}return{fullPath:p.join("."),conditional:w}};a.pathToArray=e;a.pathToStringOrArray=function(p){return!p||"string"===
typeof p&&-1===p.indexOf(".")?p:e(p)};a.splitPath=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,c){function b(l){return{remove:()=>{l&&(l(),l=void 0)}}}a.asyncHandle=function(l,m){let f=!1,e=null;l.then(k=>{f?k.remove():e=k});return b(()=>{f=!0;c.isSome(e)?e.remove():c.isSome(m)&&(m.abort(),m=null)})};a.destroyHandle=function(l){return b(c.isSome(l)?()=>l.destroy():void 0)};a.handlesGroup=function(l){return b(()=>l.forEach(m=>
c.isSome(m)&&m.remove()))};a.makeHandle=b;a.refHandle=function(l){return b(()=>{const m=l();c.isSome(m)&&m.remove()})};a.timeoutHandle=function(l,m){const f=setTimeout(l,m);return b(()=>clearTimeout(f))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,c,b,l){function m(n){let q=n.constructor.__accessorMetadata__;var h=Object.prototype.hasOwnProperty.call(n.constructor,"__accessorMetadata__");
if(!q)q=new r({}),Object.defineProperty(n.constructor,"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0});else if(!h){h=Object.create(q.properties);const d=q.autoDestroy;for(const g in h)h[g]=c.clone(h[g]);q=new r(h);q.autoDestroy=d;Object.defineProperty(n.constructor,"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0})}return b.assumeNonNull(n.constructor.__accessorMetadata__)}function f(n){return m(n).properties}function e(n){return p.test(n)?"replace":
"merge"}function k(n){return w.test(n)?e(n.slice(11)):"merge"}let r=function(n){this.autoDestroy=!1;this.properties=n};const p=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,w=/^properties\./;a.ClassMetadata=r;a.getOwnClassMetadata=m;a.getOwnPropertiesMetadata=f;a.getOwnPropertyMetadata=function(n,q){n=f(n);let h=n[q];h||(h=n[q]={});return h};a.merge=function(n,q){return l.merge(n,q,k)};a.mergeProperty=function(n,q){return l.merge(n,q,e)};a.setPropertyMetadata=function(n,
q,h){f(n)[q]=h};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports","../has","../Logger","./get"],function(a,c,b,l){function m(f,e,k){if(f&&e)if("object"===typeof e)for(var r of Object.getOwnPropertyNames(e))m(f,r,e[r]);else-1!==e.indexOf(".")?(e=e.split("."),r=e.splice(e.length-1,1)[0],m(l.get(f,e),r,k)):f[e]=k}b.getLogger("esri.core.accessorSupport.set");a.default=m;a.set=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,c,b){function l(k){const r="__accessorMetadata__"in k?c.ensureType(k):k;return function(...p){p.push(r);if("number"===typeof p[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return m.apply(this,p)}}function m(k,r,p,w){b.getOwnPropertyMetadata(k,r).cast=w}function f(k){return function(r,p){b.getOwnPropertyMetadata(r,k).cast=r[p]}}const e=Object.prototype.toString;a.cast=function(...k){if(3!==k.length||"string"!==typeof k[1]){if(1===
k.length&&"[object Function]"===e.call(k[0]))return l(k[0]);if(1===k.length&&"string"===typeof k[0])return f(k[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/jsonMap":function(){define(["exports"],function(a){let c=function(){function b(m,f={ignoreUnknown:!1}){this.jsonToAPI=m;this.options=f;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(m);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=e=>this.fromJSON(e);
this.write=(e,k,r)=>{e=this.toJSON(e);void 0!==e&&(k[r]=e)};this.write.isJSONMapWriter=!0}var l=b.prototype;l.toJSON=function(m){return this.apiToJSON.hasOwnProperty(m)?this.apiToJSON[m]:this.options.ignoreUnknown?void 0:m};l.fromJSON=function(m){return this.jsonToAPI.hasOwnProperty(m)?this.jsonToAPI[m]:this.options.ignoreUnknown?void 0:m};l.invertMap=function(m){const f={};for(const e in m)f[m[e]]=e;return f};l.getKeysSorted=function(m){const f=[];for(const e in m)f.push(e);f.sort();return f};return b}();
a.JSONMap=c;a.default=c;a.strict=function(){return function(b){return new c(b,{ignoreUnknown:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../has","../metadata","../extensions"],function(a,c,b,l,m){function f(p,w){return null==w.get?function(){return this.__accessor__.getterStatic(p)}:function(){return this.__accessor__.getterComputed(p)}}function e(p){var w=p.prototype,
n=w.declaredClass;w=l.getOwnClassMetadata(w).properties;m.processClassMetadatas(w,n);n={};for(const q of Object.getOwnPropertyNames(w)){const h=w[q];n[q]={enumerable:!0,configurable:!0,get:f(q,h),set(d){const g=this.__accessor__;if(void 0===g)Object.defineProperty(this,q,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(g.initialized&&h.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${q}' of ${this.declaredClass}`);if(2===g.lifecycle&&
h.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${q}' of ${this.declaredClass}`);g.set(q,d)}}}}Object.defineProperties(p.prototype,n)}const k=new Set,r=new Set;a.processClass=e;a.subclass=function(p){return w=>{w.prototype.declaredClass=p;m.processPrototypeMetadatas(l.getOwnClassMetadata(w.prototype).properties,p);e(w);const n=[],q=[];for(var h=w.prototype;h;)h.hasOwnProperty("initialize")&&!k.has(h.initialize)&&(k.add(h.initialize),n.push(h.initialize)),
h.hasOwnProperty("destroy")&&!r.has(h.destroy)&&(r.add(h.destroy),q.push(h.destroy)),h=Object.getPrototypeOf(h);k.clear();r.clear();h=function(d){function g(...u){var t=d.call(this,...u)||this;if(t.constructor===g&&"function"===typeof t.postscript){n.length&&Object.defineProperty(c._assertThisInitialized(t),"initialize",{enumerable:!1,configurable:!0,value(){for(let B=n.length-1;0<=B;B--)n[B].call(this)}});if(q.length){let B=!1;Object.defineProperty(c._assertThisInitialized(t),"destroy",{enumerable:!1,
configurable:!0,value(){if(!B){B=!0;for(let F=0;F<q.length;F++)q[F].call(this)}}})}t.postscript(...u)}return t}c._inheritsLoose(g,d);return g}(w);h.__accessorMetadata__=l.getOwnClassMetadata(w.prototype);h.prototype.declaredClass=p;return h}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions":function(){define(["exports","./extensions/serializableProperty"],function(a,c){const b=[c.SerializablePropertyExtension];a.instanceCreated=function(l,m){const f=Object.getOwnPropertyNames(m);
for(const e of b)e.instanceCreated&&e.instanceCreated(l,m,f)};a.processClassMetadatas=function(l,m){for(const f of b)if(f.processClassPropertyMetadata)for(const e in l)f.processClassPropertyMetadata(e,l[e],l,m)};a.processPrototypeMetadatas=function(l,m){for(const f of b)if(f.processPrototypePropertyMetadata)for(const e in l)f.processPrototypePropertyMetadata(e,l[e],l,m)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,c,b,l,m,f){function e(r,p,w){let n=r&&r.json;r&&r.json&&r.json.origins&&w&&(r=r.json.origins[w.origin])&&("any"===p||p in r)&&(n=r);return n}const k={processPrototypePropertyMetadata(r,p){if(m.process(p)){b.process(p);if(p.type)if(p.type){r=0;for(var w=p.type;Array.isArray(w)&&!c.isOneOf(w);)w=w[0],r++;r={type:w,ndimArray:r}}else r=void 0;else if(p.types){r=0;for(w=p.types;Array.isArray(w);)w=w[0],r++;r={types:w,ndimArray:r}}else r=void 0;if(p.json.origins)for(const n in p.json.origins)w=
p.json.origins[n],l.create(r,w,!1),f.create(r,w);l.create(r,p.json,!0);f.create(r,p.json)}}};a.SerializablePropertyExtension=k;a.default=k;a.originSpecificPropertyDefinition=e;a.originSpecificReadPropertyDefinition=function(r,p){return e(r,"read",p)};a.originSpecificWritePropertyDefinition=function(r,p){return e(r,"write",p)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=
function(c){if(c.json&&c.json.origins){const b=c.json.origins;c={"web-document":["web-scene","web-map"]};for(const l in c)if(b[l]){const m=b[l];c[l].forEach(f=>{b[f]=m});delete b[l]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../object ../../../Logger ../../metadata ../../../Warning ./type".split(" "),function(a,c,b,l,m,f){function e(t){var B;const F=null!=(B=t.ndimArray)?B:0;if(1<F)return w(t);
if(1===F)return n(t);if("type"in t&&q(t.type)){var H,C;B=null==(H=t.type.prototype)?void 0:null==(C=H.itemType)?void 0:C.Type;const A=n("function"===typeof B?{type:B}:{types:B});return(E,y,x)=>(E=A(E,y,x))?new t.type(E):E}return k(t)}function k(t){return"type"in t?r(t.type):g(t.types)}function r(t){return t.prototype.read?(B,F,H)=>{if(null==B)return B;F=typeof B;if("object"!==F)u.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${F}'`);else return F=
new t,F.read(B,H),F}:t.fromJSON}function p(t,B,F,H){return 0!==H&&Array.isArray(B)?B.map(C=>p(t,C,F,H-1)):t(B,void 0,F)}function w(t){var B;const F=k(t),H=p.bind(null,F),C=null!=(B=t.ndimArray)?B:0;return(A,E,y)=>{if(null==A)return A;A=H(A,y,C);E=C;for(y=A;0<E&&Array.isArray(y);)E--,y=y[0];if(void 0!==y)for(y=0;y<E;y++)A=[A];return A}}function n(t){const B=k(t);return(F,H,C)=>{if(null==F)return F;if(Array.isArray(F)){H=[];for(const A of F)F=B(A,void 0,C),void 0!==F&&H.push(F);return H}C=B(F,void 0,
C);return void 0!==C?[C]:void 0}}function q(t){return f.isCollection(t)?(t=t.prototype.itemType)&&t.Type?"function"===typeof t.Type?h(t.Type):d(t.Type):!1:!1}function h(t){return Array.isArray(t)?!1:!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||q(t))}function d(t){for(const B in t.typeMap)if(!h(t.typeMap[B]))return!1;return!0}function g(t){var B;let F=null;const H=null!=(B=t.errorContext)?B:"type";return(C,A,E)=>{if(null==C)return C;A=typeof C;if("object"!==A)u.error(`Expected JSON value of type 'object' to deserialize, but got '${A}'`);
else{if(!F){A={};for(const v in t.typeMap){var y,x;const G=t.typeMap[v];var z=l.getOwnClassMetadata(G.prototype);if("function"===typeof t.key)continue;z=z.properties[t.key];if(!z)continue;null!=(y=z.json)&&y.type&&Array.isArray(z.json.type)&&1===z.json.type.length&&"string"===typeof z.json.type[0]&&(A[z.json.type[0]]=G);z=null==(x=z.json)?void 0:x.write;if(!z||!z.writer){A[v]=G;continue}var D=z.target;D="string"===typeof D?D:t.key;const I={};z.writer(v,I,D);I[D]&&(A[I[D]]=G)}F=A}y=t.key;if("string"===
typeof y){if(x=(y=C[y])?F[y]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0)return y=new x,y.read(C,E),y;y=`Type '${y||"unknown"}' is not supported`;E&&E.messages&&C&&E.messages.push(new m(`${H}:unsupported`,y,{definition:C,context:E}));u.error(y)}}}}const u=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(t,B,F){var H,C;!t||!F&&!B.read||null!=(H=B.read)&&H.reader||!1===(null==(C=B.read)?void 0:C.enabled)||(F="types"in t?d(t.types):h(t.type),
F&&c.setDeepValue("read.reader",e(t),B))};a.createTypeReader=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,c){c=function(b){function l(m,f,e){var k=b.call(this,m,f,e)||this;return a._assertThisInitialized(k)instanceof l?k:new l(m,f,e)}a._inheritsLoose(l,b);return l}(c);c.prototype.type="warning";return c})},"esri/core/Message":function(){define(["./object"],function(a){function c(b,l){return b.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,
function(m,f){if(""===f)return"$";m=a.getDeepValue(f,l);m=null==m?"":m;if("undefined"===typeof m)throw Error(`could not find key "${f}" in template`);return m.toString()})}return function(){function b(l,m,f){this.name=l;this.details=f;this.message=void 0;this instanceof b&&(this.message=m&&c(m,f)||"")}b.prototype.toString=function(){return"["+this.name+"]: "+this.message};return b}()})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=
function(c){return!!c&&c.prototype&&c.prototype.declaredClass&&0===c.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function c(m){m.name&&(m.read?"object"===typeof m.read?void 0===m.read.source&&(m.read.source=m.name):m.read={source:m.name}:m.read={source:m.name},m.write?"object"===typeof m.write?void 0===m.write.target&&(m.write.target=
m.name):m.write={target:m.name}:m.write={target:m.name})}function b(m){"boolean"===typeof m.read?m.read={enabled:m.read}:"function"===typeof m.read?m.read={enabled:!0,reader:m.read}:m.read&&"object"===typeof m.read&&void 0===m.read.enabled&&(m.read.enabled=!0)}function l(m){"boolean"===typeof m.write?m.write={enabled:m.write}:"function"===typeof m.write?m.write={enabled:!0,writer:m.write}:m.write&&"object"===typeof m.write&&void 0===m.write.enabled&&(m.write.enabled=!0)}a.process=function(m){m.json||
(m.json={});b(m.json);l(m.json);c(m.json);if(m.json.origins)for(const f in m.json.origins)b(m.json.origins[f]),l(m.json.origins[f]),c(m.json.origins[f]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../object","./type"],function(a,c,b){function l(p,w,n,q){c.setDeepValue(n,m(p,q),w)}function m(p,w){return p&&"function"===typeof p.write?p.write({},w):p&&"function"===typeof p.toJSON?
p.toJSON():"number"===typeof p?f(p):p}function f(p){return-Infinity===p?-Number.MAX_VALUE:Infinity===p?Number.MAX_VALUE:isNaN(p)?null:p}function e(p,w,n,q){null===p?p=null:p&&"function"===typeof p.map?(p=p.map(h=>m(h,q)),"function"===typeof p.toArray&&(p=p.toArray())):p=[m(p,q)];c.setDeepValue(n,p,w)}function k(p,w,n){return 0!==n&&Array.isArray(p)?p.map(q=>k(q,w,n-1)):m(p,w)}function r(p){return function(w,n,q,h){if(null===w)w=null;else{w=k(w,h,p);h=p;for(var d=w;0<h&&Array.isArray(d);)h--,d=d[0];
if(void 0!==d)for(d=0;d<h;d++)w=[w]}c.setDeepValue(q,w,n)}}a.create=function(p,w){var n;if(w.write&&!w.write.writer&&(!1!==w.write.enabled||w.write.overridePolicy)){var q=null!=(n=null==p?void 0:p.ndimArray)?n:0;p&&(1===q||"type"in p&&b.isCollection(p.type))?w.write.writer=e:w.write.writer=1<q?r(q):l}};a.numberToJSON=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/urlUtils":function(){define("exports ./global ../config ./maybe ./Logger ./Error".split(" "),function(a,c,b,l,m,f){function e(Q){const Y=
{path:null,query:null},aa=new fa(Q),ha=Q.indexOf("?");null===aa.query?Y.path=Q:(Y.path=Q.substring(0,ha),Y.query=k(aa.query));aa.fragment&&(Y.hash=aa.fragment,null===aa.query&&(Y.path=Y.path.substring(0,Y.path.length-(aa.fragment.length+1))));return Y}function k(Q){var Y=Q.split("\x26");Q={};for(const ha of Y){if(!ha)continue;var aa=ha.indexOf("\x3d");0>aa?(Y=decodeURIComponent(ha),aa=""):(Y=decodeURIComponent(ha.slice(0,aa)),aa=decodeURIComponent(ha.slice(aa+1)));let ka=Q[Y];"string"===typeof ka&&
(ka=Q[Y]=[ka]);Array.isArray(ka)?ka.push(aa):Q[Y]=aa}return Q}function r(Q){return Q&&"object"===typeof Q&&"toJSON"in Q&&"function"===typeof Q.toJSON}function p(Q,Y){return Q?Y&&"function"===typeof Y?Object.keys(Q).map(aa=>encodeURIComponent(aa)+"\x3d"+encodeURIComponent(Y(aa,Q[aa]))).join("\x26"):Object.keys(Q).map(aa=>{const ha=Q[aa];if(null==ha)return"";const ka=encodeURIComponent(aa)+"\x3d";return(aa=Y&&Y[aa])?ka+encodeURIComponent(aa(ha)):Array.isArray(ha)?ha.map(la=>r(la)?ka+encodeURIComponent(JSON.stringify(la)):
ka+encodeURIComponent(la)).join("\x26"):r(ha)?ka+encodeURIComponent(JSON.stringify(ha)):ka+encodeURIComponent(ha)}).filter(aa=>aa).join("\x26"):""}function w(Q){const Y=Q.indexOf("?");-1!==Y?(Aa.path=Q.slice(0,Y),Aa.query=Q.slice(Y+1)):(Aa.path=Q,Aa.query=null);return Aa}function n(Q){Q=w(Q).path;Q&&"/"===Q[Q.length-1]||(Q=`${Q}/`);Q=I(Q,!0);return Q=Q.toLowerCase()}function q(Q){const Y=K.proxyRules;Q=n(Q);for(let aa=0;aa<Y.length;aa++)if(0===Q.indexOf(Y[aa].urlPrefix))return Y[aa]}function h(Q){Q=
u(Q);const Y=Q.indexOf("/sharing");return 0<Y?Q.substring(0,Y):Q.replace(/\/+$/,"")}function d(Q,Y,aa=!1){Q=N(Q);Y=N(Y);return!aa&&Q.scheme!==Y.scheme||null==Q.host||null==Y.host?!1:Q.host.toLowerCase()===Y.host.toLowerCase()&&Q.port===Y.port}function g(Q,Y=ta,aa){return x(Q)?aa&&aa.preserveProtocolRelative?Q:"http"===ia.scheme&&ia.authority===B(Q).slice(2)?`http:${Q}`:`https:${Q}`:z(Q)?Q:l.assumeNonNull(t("/"===Q[0]?O(Y):Y,Q))}function u(Q){Q=Q.trim();Q=g(Q);if(/^https?:\/\//i.test(Q)){const Y=w(Q);
Q=Y.path.replace(/\/{2,}/g,"/");Q=Q.replace("/","//");Y.query&&(Q+=`?${Y.query}`)}Q=Q.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return Q=L(Q)}function t(...Q){var Y=Q.filter(l.isSome);if(Y&&Y.length){Q=[];if(F(Y[0])){var aa=Y[0],ha=aa.indexOf("//");-1!==ha&&(Q.push(aa.slice(0,ha+1)),S.test(Y[0])&&(Q[0]+="/"),Y[0]=aa.slice(ha+2))}else"/"===Y[0][0]&&Q.push("");Y=Y.reduce((ka,la)=>la?ka.concat(la.split("/")):ka,[]);for(aa=0;aa<Y.length;aa++)ha=Y[aa],".."===ha&&0<Q.length&&".."!==Q[Q.length-
1]?Q.pop():(!ha&&aa===Y.length-1||ha&&("."!==ha||0===Q.length))&&Q.push(ha);return Q.join("/")}}function B(Q,Y=!1){if(H(Q)||C(Q))return null;var aa=Q.indexOf("://");if(-1===aa&&x(Q))aa=2;else if(-1!==aa)aa+=3;else return null;aa=Q.indexOf("/",aa);-1!==aa&&(Q=Q.slice(0,aa));Y&&(Q=I(Q,!0));return Q}function F(Q){return x(Q)||z(Q)}function H(Q){return null!=Q&&"blob:"===Q.slice(0,5)}function C(Q){return"data:"===Q.slice(0,5)}function A(Q){Q=E(Q);if(!Q||!Q.isBase64)return null;Q=atob(Q.data);const Y=
new Uint8Array(Q.length);for(let aa=0;aa<Q.length;aa++)Y[aa]=Q.charCodeAt(aa);return Y.buffer}function E(Q){Q=Q.match(Z);if(!Q)return null;const [,Y,aa,ha]=Q;return{mediaType:Y,isBase64:!!aa,data:ha}}function y(Q){const Y=A(Q);if(!Y)return null;Q=E(Q);return new Blob([Y],{type:Q.mediaType})}function x(Q){return null!=Q&&void 0!==Q&&"/"===Q[0]&&"/"===Q[1]}function z(Q){return U.test(Q)}function D(Q){return P.test(Q)||"http"===ia.scheme&&x(Q)}function v(Q){return x(Q)?`https:${Q}`:Q.replace(P,"https:")}
function G(){return"https"===ia.scheme}function I(Q,Y=!1){if(x(Q))return Q.slice(2);Q=Q.replace(U,"");Y&&1<Q.length&&"/"===Q[0]&&"/"===Q[1]&&(Q=Q.slice(2));return Q}function O(Q){var Y=Q.indexOf("//");Y=Q.indexOf("/",Y+2);return-1===Y?Q:Q.slice(0,Y)}function L(Q){const Y=K.httpsDomains;if(!D(Q))return Q;const aa=Q.indexOf("/",7);let ha;ha=-1===aa?Q:Q.slice(0,aa);ha=ha.toLowerCase().slice(7);if(W.test(ha))if(ha.endsWith(":80"))ha=ha.slice(0,-3),Q=Q.replace(":80","");else return Q;if("http"===ia.scheme&&
ha===ia.authority&&!M.test(Q))return Q;if(G()&&ha===ia.authority||Y&&Y.some(ka=>ha===ka||ha.endsWith(`.${ka}`))||G()&&!q(Q))Q=v(Q);return Q}function N(Q){if("string"===typeof Q)return new fa(g(Q));Q.scheme||(Q.scheme=ia.scheme);return Q}const R=m.getLogger("esri.core.urlUtils"),K=b.request,U=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,P=/^\s*http:/i,J=/^\s*https:/i,S=/^\s*file:/i,W=/:\d+$/,M=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,T=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,X=
/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let fa=function(){function Q(Y=""){this.uri=Y;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;Y=l.assumeNonNull(this.uri.match(T));this.scheme=Y[2]||(Y[1]?"":null);this.authority=Y[4]||(Y[3]?"":null);this.path=Y[5];this.query=Y[7]||(Y[6]?"":null);this.fragment=Y[9]||(Y[8]?"":null);null!=this.authority&&(Y=l.assumeNonNull(this.authority.match(X)),this.user=Y[3]||null,this.password=
Y[4]||null,this.host=Y[6]||Y[7],this.port=Y[9]||null)}Q.prototype.toString=function(){return this.uri};return Q}();const ia=new fa(b.applicationUrl),ja={},ta=(()=>{var Q=l.assumeNonNull(ia.path);Q=Q.substring(0,Q.lastIndexOf(Q.split("/")[Q.split("/").length-1]));return`${`${ia.scheme}://${ia.host}${null!=ia.port?`:${ia.port}`:""}`}${Q}`})(),Aa={path:"",query:""},Z=/^data:(.*?)(;base64)?,(.*)$/,V=/.*?\.([^\/]*)$/,ba=/(^data:image\/svg|\.svg$)/i;a.Url=fa;a.addProxy=function(Q){var Y=q(Q),aa=void 0;
if(Y){var ha=w(Y.proxyUrl);aa=ha.path;ha=ha.query?k(ha.query):null}aa&&(Y=e(Q),Q=aa+"?"+Y.path,(aa=p({...ha,...Y.query}))&&(Q=`${Q}?${aa}`));return Q};a.addProxyRule=function(Q){Q={proxyUrl:Q.proxyUrl,urlPrefix:n(Q.urlPrefix)};const Y=K.proxyRules,aa=Q.urlPrefix;let ha=Y.length;for(let ka=0;ka<Y.length;ka++){const la=Y[ka].urlPrefix;if(0===aa.indexOf(la)){if(aa.length===la.length)return-1;ha=ka;break}0===la.indexOf(aa)&&(ha=ka+1)}Y.splice(ha,0,Q);return ha};a.addQueryParameter=function(Q,Y,aa){Q=
e(Q);const ha=Q.query||{};ha[Y]=String(aa);return`${Q.path}?${p(ha)}`};a.addQueryParameters=function(Q,Y){Q=e(Q);const aa=Q.query||{};for(const ha in Y)aa[ha]=Y[ha];return(Y=p(aa))?`${Q.path}?${Y}`:Q.path};a.appBaseUrl=ta;a.appUrl=ia;a.changeDomain=function(Q,Y,aa){if(!(Y&&aa&&Q&&F(Q)))return Q;const ha=Q.indexOf("//");var ka=Q.indexOf("/",ha+2);const la=Q.indexOf(":",ha+2);ka=Math.min(0>ka?Q.length:ka,0>la?Q.length:la);if(Q.slice(ha+2,ka).toLowerCase()!==Y.toLowerCase())return Q;Y=Q.slice(0,ha+2);
Q=Q.slice(ka);return`${Y}${aa}${Q}`};a.dataComponents=E;a.dataToArrayBuffer=A;a.dataToBlob=y;a.downloadDataAsFile=function(Q,Y){a:{var aa=document.createElement("a");if("download"in aa){var ha=null;if(c.URL&&c.URL.createObjectURL){ha=y(Q);if(!ha){aa=!1;break a}ha=c.URL.createObjectURL(ha)}aa.download=Y;aa.href=ha||Q;aa.style.display="none";document.body.appendChild(aa);aa.click();document.body.removeChild(aa);ha&&c.URL.revokeObjectURL(ha);aa=void 0}else aa=!1}aa||window.navigator.msSaveOrOpenBlob&&
window.navigator.msSaveOrOpenBlob(y(Q),Y)};a.getFilename=function(Q,Y){if(!Q)return"";Q=e(Q).path.replace(/\/+$/,"");Q=Q.substring(Q.lastIndexOf("/")+1);if(null==Y||!Y.length)return Q;Y=new RegExp(`\.(${Y.join("|")})$`,"ig");return Q.replace(Y,"")};a.getInterceptor=function(Q){const Y=ha=>null==ha||ha instanceof RegExp&&ha.test(Q)||"string"===typeof ha&&Q.startsWith(ha),aa=K.interceptors;if(aa)for(const ha of aa)if(Array.isArray(ha.urls)){if(ha.urls.some(Y))return ha}else if(Y(ha.urls))return ha;
return null};a.getOrigin=B;a.getPathExtension=function(Q){return l.isNone(Q)?null:(Q=Q.match(V))?Q[1]:null};a.getProxyRule=q;a.getProxyUrl=function(Q=!1){let Y,aa=K.proxyUrl;if("string"===typeof Q){if(Y=J.test(Q)||"https"===ia.scheme&&x(Q),Q=q(Q))aa=Q.proxyUrl}else Y=!!Q;if(!aa)throw R.warn("esri/config: esriConfig.request.proxyUrl is not set."),new f("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");Y&&G()&&(aa=v(aa));return e(aa)};a.hasProtocol=z;a.hasSameOrigin=d;
a.hasSamePortal=function(Q,Y){Q=h(Q);Y=h(Y);return I(Q)===I(Y)};a.isAbsolute=F;a.isAppHTTPS=G;a.isBlobProtocol=H;a.isDataProtocol=C;a.isProtocolRelative=x;a.isSVG=function(Q){return ba.test(Q)};a.isTrustedServer=function(Q){if("string"===typeof Q)if(F(Q))Q=N(Q);else return!0;if(d(Q,ia))return!0;const Y=K.trustedServers||[];for(let ha=0;ha<Y.length;ha++){var aa=Y[ha];ja[aa]||(z(aa)||x(aa)?ja[aa]=[new fa(g(aa))]:ja[aa]=[new fa(`http://${aa}`),new fa(`https://${aa}`)]);aa=ja[aa];for(let ka=0;ka<aa.length;ka++)if(d(Q,
aa[ka]))return!0}return!1};a.join=t;a.makeAbsolute=g;a.makeData=function(Q){return Q.isBase64?`data:${Q.mediaType};base64,${Q.data}`:`data:${Q.mediaType},${Q.data}`};a.makeRelative=function(Q,Y=ta,aa){if(!F(Q))return Q;var ha=u(Q),ka=ha.toLowerCase();Y=u(Y).toLowerCase().replace(/\/+$/,"");if((aa=aa?u(aa).toLowerCase().replace(/\/+$/,""):null)&&0!==Y.indexOf(aa))return Q;var la=ka.indexOf("//")+2;la=ka.indexOf("/",la);var na=-1===la?ka.length:la;for(la=-1;ka.slice(0,na+1)===Y.slice(0,na)+"/";){la=
na+1;if(na===ka.length)break;var pa=ka;na+=1;na=pa.indexOf("/",na);na=-1===na?pa.length:na}if(-1===la||aa&&la<aa.length)return Q;Q=ha.slice(la);ha=Y.slice(la-1).replace(/[^/]+/g,"").length;if(0<ha)for(ka=0;ka<ha;ka++)Q=`../${Q}`;else Q=`./${Q}`;return Q};a.normalize=u;a.objectToQuery=p;a.queryToObject=k;a.removeFile=function(Q){let Y=0;if(F(Q)){var aa=Q.indexOf("//");-1!==aa&&(Y=aa+2)}aa=Q.lastIndexOf("/");return aa<Y?Q:Q.slice(0,aa+1)};a.removeQueryParameter=function(Q,Y){const {path:aa,query:ha}=
e(Q);if(!ha)return Q;delete ha[Y];return(Q=p(ha))?`${aa}?${Q}`:aa};a.removeQueryParameters=function(Q,Y){Q=e(Q);const aa=Object.keys(Q.query||{});0<aa.length&&Y&&Y.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${aa.join(", ")}.`);return Q.path};a.removeTrailingSlash=function(Q){return Q.replace(/\/+$/,"")};a.toHTTP=function(Q){return x(Q)?`http:${Q}`:Q.replace(J,"http:")};a.toHTTPS=v;a.trustedServersUrlCache=ja;a.urlToObject=e;
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,c,b,l){l=function(m){function f(e,k,r){var p=m.call(this,e,k,r)||this;return a._assertThisInitialized(p)instanceof f?p:new f(e,k,r)}a._inheritsLoose(f,m);f.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,k)=>{if(k&&"object"===typeof k&&
"function"===typeof k.toJSON)return k;try{return c.clone(k)}catch(r){return"[object]"}}))}}catch(e){throw b.getLogger("esri.core.Error").error(e),e;}return{name:this.name,message:this.message,details:this.details}};f.fromJSON=function(e){return new f(e.name,e.message,e.details)};return f}(l);l.prototype.type="error";return l})},"esri/core/uuid":function(){define(["exports","./global"],function(a,c){const b=c.crypto||c.msCrypto;a.generateUUID=function(){const l=b.getRandomValues(new Uint16Array(8));
l[3]=l[3]&4095|16384;l[4]=l[4]&16383|32768;return l[0].toString(16)+l[1].toString(16)+"-"+l[2].toString(16)+"-"+l[3].toString(16)+"-"+l[4].toString(16)+"-"+l[5].toString(16)+l[6].toString(16)+l[7].toString(16)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/resourceExtension":function(){define(["exports","../../core/urlUtils"],function(a,c){const b={},l=b["text/plain"],m={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",
txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const f in m)b[m[f]]=f;a.getResourceContentExtension=function(f){f instanceof Blob?f=f.type:(f=c.getPathExtension(f.url),f=m[f]||"text/plain");return b[f]||l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/set ./accessorSupport/decorators/property ./deprecate ./accessorSupport/decorators/subclass ./accessorSupport/Properties ./accessorSupport/watch".split(" "),
function(a,c,b,l,m,f,e,k,r,p){function w(n){if(null==n)return{value:n};if(Array.isArray(n))return{type:[n[0]],value:null};switch(typeof n){case "object":return n.constructor&&n.constructor.__accessorMetadata__||n instanceof Date?{type:n.constructor,value:n}:n;case "boolean":return{type:Boolean,value:n};case "string":return{type:String,value:n};case "number":return{type:Number,value:n};case "function":return{type:n,value:null}}}return function(){function n(...h){if(this.constructor===n)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new r(this)});0<h.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,h))}n.createSubclass=function(h={}){if(Array.isArray(h))throw Error("Multi-inheritance unsupported since 4.16");const {properties:d,declaredClass:g,constructor:u}=h;delete h.declaredClass;delete h.properties;delete h.constructor;const t=this;let B=function(F){function H(...C){var A=F.call(this,...C)||this;A.inherited=null;u&&
u.apply(a._assertThisInitialized(A),C);return A}a._inheritsLoose(H,F);return H}(t);l.getOwnClassMetadata(B.prototype);for(const F in h){const H=h[F];B.prototype[F]="function"===typeof H?function(...C){const A=this.inherited;this.inherited=function(...y){if(t.prototype[F])return t.prototype[F].apply(this,y)};let E=void 0;try{E=H.apply(this,C)}catch(y){throw this.inherited=A,y;}this.inherited=A;return E}:h[F]}for(const F in d)h=w(d[F]),f.property(h)(B.prototype,F);return k.subclass(g)(B)};var q=n.prototype;
q.postscript=function(h){const d=this.__accessor__;h=d.ctorArgs||h;d.initialize();h&&(this.set(h),d.ctorArgs=null);d.constructed();this.initialize()};q.initialize=function(){};q.destroy=function(){this.destroyed||(p.removeTarget(this),this.__accessor__.destroy())};q.get=function(h){return b.get(this,h)};q.hasOwnProperty=function(h){return this.__accessor__?this.__accessor__.has(h):Object.prototype.hasOwnProperty.call(this,h)};q.isInstanceOf=function(h){e.deprecatedFunction(c.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof h};q.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};q.set=function(h,d){m.set(this,h,d);return this};q.watch=function(h,d,g){return p.watch(this,h,d,g)};q._clearOverride=function(h){return this.__accessor__.clearOverride(h)};q._override=function(h,d){return this.__accessor__.override(h,d)};q._isOverridden=function(h){return this.__accessor__.isOverridden(h)};q.notifyChange=function(h){this.__accessor__.propertyInvalidated(h)};
q._get=function(h){return this.__accessor__.internalGet(h)};q._set=function(h,d){this.__accessor__.internalSet(h,d);return this};a._createClass(n,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return n}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,c){function b(f,e,k=!1){k&&m.has(e)||(k&&m.add(e),f.warn(`\ud83d\uded1 DEPRECATED - ${e}`))}function l(f,e,k={}){if(c("esri-deprecation-warnings")){const {replacement:r,version:p,see:w,warnOnce:n}=k;r&&(e+=`\n\t\ud83d\udee0\ufe0f Replacement: ${r}`);p&&(e+=`\n\t\u2699\ufe0f Version: ${p}`);w&&(e+=`\n\t\ud83d\udd17 See ${w} for more details.`);b(f,e,n)}}const m=new Set;a.deprecated=l;a.deprecatedFunction=function(f,e,k={}){if(c("esri-deprecation-warnings")){const {moduleName:r}=
k;l(f,`Function: ${(r?r+"::":"")+e+"()"}`,k)}};a.deprecatedModule=function(f,e,k={}){c("esri-deprecation-warnings")&&l(f,`Module: ${e}`,k)};a.deprecatedProperty=function(f,e,k={}){if(c("esri-deprecation-warnings")){const {moduleName:r}=k;l(f,`Property: ${(r?r+"::":"")+e}`,k)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ./utils ./get ./PropertyOrigin ../ObjectPool ./Property ./Store ./tracking".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w){l.getLogger("esri.core.accessorSupport.Properties");c=function(){function q(d){this.host=d;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=0;this.store=new p.Store;this._origin=6;d=this.host.constructor.__accessorMetadata__;const g=d.properties;for(const u in g){const t=new r.Property(u,g[u]);this.properties.set(u,t)}this.metadatas=g;this._autoDestroy=d.autoDestroy}var h=q.prototype;h.initialize=function(){this.lifecycle=1};h.constructed=
function(){this.lifecycle=2};h.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [g,u]of this.properties){var d=this.internalGet(g);d&&d&&"function"===typeof d.destroy&&(d.destroy(),~u.flags&8&&this._internalSet(u,null));u.destroy()}else for([,d]of this.properties)d.destroy()};h.get=function(d){return this.properties.get(d).metadata.get?this.getterComputed(d):this.getterStatic(d)};h.getterStatic=function(d){const g=this.properties.get(d);if(void 0!==g)return w.trackPropertyAccess(g),
this.store.has(d)?this.store.get(d):g.metadata.value};h.getterComputed=function(d){const g=this.properties.get(d);w.trackPropertyAccess(g);const u=this.store;var t=g.flags;const B=this.store.get(d);if(t&4||u.has(d)&&(~t&1||r.isInvalidating()))return B;g.flags|=4;const F=g.metadata.get;t&64?t=w.runTracked(g,F,this.host):(w.trackExplicitDependencies(this.host,g),t=F.call(this.host));u.set(d,t,1);d=this.store.get(d);d===B?g.flags&=-2:g.commit();g.flags&=-5;return d};h.originOf=function(d){const g=this.store.originOf(d);
return void 0===g&&(d=this.properties.get(d),void 0!==d&&d.flags&16)?"defaults":e.idToName(g)};h.has=function(d){return this.properties.has(d)?this.store.has(d):!1};h.keys=function(){return[...this.properties.keys()]};h.internalGet=function(d){const g=this.properties.get(d);if(void 0!==g)return this.store.has(d)?this.store.get(d):g.metadata.value};h.internalSet=function(d,g){d=this.properties.get(d);void 0!==d&&this._internalSet(d,g)};h.getDependsInfo=function(d,g,u,t){var B=this.properties.get(u);
if(void 0===B)return"";g=`${t}${g}.${u}: ${f.get(d,u)}\n`;if(!B.metadata.dependsOn||0===B.metadata.dependsOn.length)return g;t+="  ";for(const F of B.metadata.dependsOn)if(u=F.split("."),1===u.length)g+=`${t}${F}: ${f.get(d,F)}\n`;else{B=u[u.length-1];--u.length;u=u.join(".");const H=f.get(d,u),C=m.getProperties(H);g=C?g+C.getDependsInfo(H,u,B,t):g+`${t}${F}: undefined\n`}return g};h.setAtOrigin=function(d,g,u){d=this.properties.get(d);if(void 0!==d)return this._setAtOrigin(d,g,u)};h.isOverridden=
function(d){d=this.properties.get(d);return void 0!==d&&!!(d.flags&2)};h.clearOverride=function(d){d=this.properties.get(d);void 0!==d&&d.flags&2&&(d.flags&=-3,d.invalidate())};h.override=function(d,g){d=this.properties.get(d);if(!(void 0===d||null==g&&d.flags&8)){var u=d.metadata.cast;if(u){g=this._cast(u,g);const {valid:t,value:B}=g;n.release(g);if(!t)return;g=B}d.flags|=2;this._internalSet(d,g)}};h.set=function(d,g){d=this.properties.get(d);if(!(void 0===d||null==g&&d.flags&8)){var u=d.metadata.cast;
if(u){g=this._cast(u,g);const {valid:t,value:B}=g;n.release(g);if(!t)return;g=B}(u=d.metadata.set)?u.call(this.host,g):this._internalSet(d,g)}};h.setDefaultOrigin=function(d){this._origin=e.nameToId(d)};h.getDefaultOrigin=function(){return e.idToName(this._origin)};h.propertyInvalidated=function(d){d=this.properties.get(d);void 0!==d&&d.invalidate()};h.propertyCommitted=function(d){d=this.properties.get(d);void 0!==d&&d.commit()};h._internalSet=function(d,g){this._setAtOrigin(d,g,0!==this.lifecycle?
this._origin:0)};h._setAtOrigin=function(d,g,u){const t=this.store,B=d.propertyName;t.has(B,u)&&b.equals(g,t.get(B))&&~d.flags&2&&u===t.originOf(B)||(r.startInvalidating(),d.invalidate(),r.stopInvalidating(),t.set(B,g,u),d.commit(),w.initializeDependencyTracking(this.host,d))};h._cast=function(d,g){const u=n.acquire();u.valid=!0;u.value=g;d&&(u.value=d.call(this.host,g,u));return u};a._createClass(q,[{key:"initialized",get:function(){return 0!==this.lifecycle}}]);return q}();l=function(){function q(){this.value=
null;this.valid=!0}var h=q.prototype;h.acquire=function(){this.valid=!0};h.release=function(){this.value=null};return q}();const n=new k(l);return c})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,c){function b(m){switch(m){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function l(m){switch(m){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";
case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return c.assumeNonNull(void 0)}a.OriginIdNum=7;a.idToName=l;a.idToReadableName=function(m){return l(m)};a.idToWritableName=function(m){return l(m)};a.nameToId=b;a.readableNameToId=function(m){return b(m)};a.writableNameToId=function(m){return b(m)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function c(l,m,f,e=1,k=0){this.ctor=l;this.acquireFunction=m;this.releaseFunction=
f;this.allocationSize=e;this._pool=Array(k);this._initialSize=k;if(this.ctor)for(l=0;l<k;l++)this._pool[l]=new this.ctor;this.allocationSize=Math.max(e,1)}var b=c.prototype;b.destroy=function(){this.prune(0)};b.acquire=function(...l){var m=this.ctor;if(c.test.disabled)m=new m;else{if(0===this._pool.length){const f=this.allocationSize;for(let e=0;e<f;e++)this._pool[e]=new m}m=this._pool.pop()}this.acquireFunction?this.acquireFunction(m,...l):m&&m.acquire&&"function"===typeof m.acquire&&m.acquire(...l);
return m};b.release=function(l){l&&!c.test.disabled&&(this.releaseFunction?this.releaseFunction(l):l&&l.release&&"function"===typeof l.release&&l.release(),this._pool.push(l))};b.prune=function(l=this._initialSize){if(!(l>=this._pool.length)){for(let m=l;m<this._pool.length;++m)this._dispose(this._pool[m]);this._pool.length=l}};b._dispose=function(l){l.dispose&&"function"===typeof l.dispose&&l.dispose()};return c}();a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports"],
function(a){let c=!1,b=function(){function m(f,e){this._observers=f;this._observer=e}m.prototype.remove=function(){this._observers.delete(this._observer)};return m}(),l=function(){function m(e,k){this.propertyName=e;this.metadata=k;this.flags=1;this._accessedProperties=this._observers=null;this._observationHandles=[];this.flags=1|(k.nonNullable?8:0)|(k.hasOwnProperty("value")?16:0)|(void 0===k.get?32:0)|(void 0===k.dependsOn?64:0)}var f=m.prototype;f.destroy=function(){this._accessedProperties&&(this._accessedProperties.clear(),
this._accessedProperties=null);this._observers&&(this._observers.clear(),this._observers=null);this._clearObservationHandles()};f.onPropertyAccessed=function(e){e!==this&&(null===this._accessedProperties&&(this._accessedProperties=new Set),this._accessedProperties.add(e))};f.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=32;const e=this._accessedProperties;if(null!==e){var k=this._observationHandles;for(const r of e)k.push(r.observe(this));e.clear()}};f.observe=function(e){null===
this._observers&&(this._observers=new Set);return new b(this._observers.add(e),e)};f.notify=function(){~this.flags&2&&(this.flags|=1);this._notifyObservers()};f.invalidate=function(){this.notify()};f.commit=function(){this.flags&=-2;this._notifyObservers()};f._notifyObservers=function(){if(null!==this._observers){var e=this._observers.size,k=Array(e);--e;for(var r of this._observers)k[e--]=r;for(r=!c;k.length;)if(e=k.pop(),void 0!==e.flags){if(~e.flags&2&&(e.flags|=1),null!==e._observers)for(const p of e._observers)k.push(p)}else r&&
e.notify()}};f._clearObservationHandles=function(){for(const e of this._observationHandles)e.remove();this._observationHandles.length=0};return m}();a.Property=l;a.isInvalidating=function(){return c};a.startInvalidating=function(){c=!0};a.stopInvalidating=function(){c=!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(a,c){let b=function(){function l(){this._values=new Map}var m=l.prototype;m.clone=function(f){const e=
new l;this._values.forEach((k,r)=>{f&&f.has(r)||e.set(r,c.clone(k))});return e};m.get=function(f){return this._values.get(f)};m.originOf=function(){return 6};m.keys=function(){return[...this._values.keys()]};m.set=function(f,e){this._values.set(f,e)};m.delete=function(f){this._values.delete(f)};m.has=function(f){return this._values.has(f)};m.forEach=function(f){this._values.forEach(f)};return l}();a.Store=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports",
"../has","../Logger","./utils"],function(a,c,b,l){function m(u){if(void 0!==n)n.onPropertyAccessed(u)}function f(u,t,B){const F=h;h=!0;n=u;w.push(u);u=null;try{u=t.call(B)}catch(H){d&&q.error(H)}e();h=F;return u}function e(){const u=w.pop();n=0<w.length?w[w.length-1]:void 0;if(void 0!==u)u.onTrackingEnd()}function k(u,t){if(!(t.flags&32)){var B=d;d=!1;t.flags&64?f(t,t.metadata.get,u):r(u,t);d=B}}function r(u,t){t.flags&128||(t.flags|=128,f(t,()=>{var B=t.metadata.dependsOn||g;for(const F of B)if("string"===
typeof F&&-1===F.indexOf("."))p(u,F,!1);else{B=l.pathToArray(F);for(let H=0,C=u;H<B.length&&null!=C&&"object"===typeof C;++H)C=p(C,B[H],H!==B.length-1)}}),t.flags&=-129)}function p(u,t,B){t="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=u.getItemAt||Array.isArray(u)){var F=parseInt(t,10);if(!isNaN(F))return Array.isArray(u)?u[F]:u.getItemAt(F)}F=l.getProperties(u);if(F=null==F?void 0:F.properties.get(t))m(F),k(u,F);return B?u[t]:void 0}let w=[],n=void 0;const q=b.getLogger("esri.core.Accessor");let h=
!1,d=!1;const g=[];a.initializeDependencyTracking=k;a.resetGlobalTarget=function(){w=[]};a.runTracked=function(u,t,B){if(h)return f(u,t,B);n=u;w.push(u);u=t.call(B);e();return u};a.runTrackedNoThrow=f;a.trackExplicitDependencies=r;a.trackPropertyAccess=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/watch":function(){define("exports ../lang ./utils ./get ../ArrayPool ../ReentrantObjectPool ../scheduling ./wire".split(" "),function(a,c,b,l,m,f,e,k){function r(H){u.has(H)?
t.splice(t.indexOf(H),1):u.add(H);t.push(H);B||(B=e.schedule(w))}function p(H){if(!H.removed){var {callback:C,path:A,oldValue:E,target:y}=H,x=H.getValue();c.equals(E,x)||(H.oldValue=x,C.call(y,x,E,A,y))}}function w(){let H=10;for(;B&&H--;){B=null;const A=t;t=g.acquire();u.clear();const E=g.acquire();for(const y of A){var C=y.uid;p(y);C===y.uid&&y.removed&&E.push(y)}for(C=0;C<t.length;C++){const y=t[C];y.removed&&(E.push(y),u.delete(y),t.splice(C,1),--C)}for(C=0;C<E.length;C++)d.pool.release(E[C]);
g.release(A);g.release(E);F.forEach(y=>y())}}function n(H,C,A){let E=b.parse(H,C,A,(y,x,z)=>{let D,v,G=k.wireAsync(()=>l.valueOf(y,x),(I,O)=>{y.__accessor__.destroyed||D&&D.uid!==v?E.remove():(D||(D=d.pool.acquire(y,x,I,z,O),v=D.uid),r(D))});return{remove:b.once(function(){G.remove();D&&(D.uid!==v||D.removed||(D.removed=!0,r(D)),D=null);E=G=null})}});return E}function q(H,C,A){const E=b.parse(H,C,A,(y,x,z)=>{let D=!1;return k.wire(()=>l.valueOf(y,x),(v,G)=>{y.__accessor__.destroyed?E.remove():D||
(D=!0,c.equals(v,G)||z.call(y,G,v,x,y),D=!1)})});return E}function h(H,C,A,E=!1){return!H.__accessor__||H.__accessor__.destroyed?{remove(){}}:E?q(H,C,A):n(H,C,A)}let d=function(){function H(){this.uid=0;this.getValue=this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=null}var C=H.prototype;C.acquire=function(A,E,y,x,z){this.target=A;this.path=E;this.oldValue=y;this.callback=x;this.getValue=z;this.propertyPath=b.pathToStringOrArray(E);this.uid=++H.uid;this.removed=
!1};C.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++H.uid;this.removed=!0};return H}();d.pool=new f.ReentrantObjectPool(d);d.uid=0;const g=new m,u=new Set;let t=g.acquire(),B;const F=new Set;a.afterDispatch=function(H){F.add(H);return{remove(){F.delete(H)}}};a.default=h;a.dispatch=w;a.dispatchTarget=function(H){const C=g.copy(t);for(let A=0;A<C.length;A++){const E=C[A];E.target===H&&(p(E),u.delete(E),t.splice(t.indexOf(E),1))}};a.isValueInUse=
function(H){return t.some(C=>C.oldValue===H)};a.removeTarget=function(H){for(let C=0;C<t.length;C++){const A=t[C];A.target===H&&(A.removed=!0)}};a.watch=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function c(f){f.length=0}const b=Array.prototype.splice;let l=function(){function f(k=50,r=50){this._pool=new a(Array,void 0,c,r,k)}var e=f.prototype;e.acquire=function(){return this._pool.acquire()};e.copy=function(k){const r=
this.acquire();k.unshift(0,0);b.apply(r,k);k.splice(0,2);return r};e.release=function(k){this._pool.release(k)};e.prune=function(){this._pool.prune(0)};f.acquire=function(){return m.acquire()};f.copy=function(k){return m.copy(k)};f.release=function(k){return m.release(k)};f.prune=function(){m.prune()};return f}();const m=new l(100);return l})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,c,b,l){l=function(m){function f(){var k=
m.apply(this,arguments)||this;k._set=new Set;return k}c._inheritsLoose(f,m);var e=f.prototype;e.destroy=function(){m.prototype.destroy.call(this);this._set=b.nullifyNonnullableForDispose(this._set)};e.acquire=function(...k){k=m.prototype.acquire.call(this,...k);this._set.delete(k);return k};e.release=function(k){k&&!this._set.has(k)&&(m.prototype.release.call(this,k),this._set.add(k))};e._dispose=function(k){this._set.delete(k);m.prototype._dispose.call(this,k)};return f}(l);a.ReentrantObjectPool=
l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils".split(" "),function(a,c,b,l,m,f){function e(y=performance.now()){H.rafId=null;0<B.length&&(H.rafId=k());H.executeFrameTasks(y)}function k(){return H.requestNextFrame?H.requestNextFrame(w):w()}function r(){B.forAll(y=>{y.removed&&C.push(y)});B.removeUnorderedMany(C.data,C.length);C.clear()}function p(){for(;t.length;){const y=
c.assumeNonNull(t.shift());y.isActive&&y.callback()}H.willDispatch=!1}function w(){return requestAnimationFrame(e)}let n=function(y){this.phases=y;this.paused=!1;this.ticks=-1;this.removed=!1},q=function(){function y(x){this.callback=x;this.isActive=!0}y.prototype.remove=function(){this.isActive=!1};return y}(),h=-1,d=0;const g={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},u=["prepare","preRender","render","postRender","update"],t=[],B=new m;let F=function(){function y(z){this._task=z}var x=
y.prototype;x.remove=function(){this._task.removed=!0};x.pause=function(){this._task.paused=!0};x.resume=function(){this._task.paused=!1};return y}();const H={frameTasks:B,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(y=!1){B.forAll(x=>{x.removed=!0});y&&r()},dispatch:p,executeFrameTasks:function(y=performance.now()){0>h&&(h=y);const x=y-h,z=0<d?d:1E3/60,D=Math.max(0,x-z);h=y;const v=performance.now();for(let G=0;G<u.length;G++){const I=performance.now(),O=u[G];B.forAll(L=>
{var N;L.paused||L.removed||(0===G&&L.ticks++,L.phases[O]&&(g.time=y,g.deltaTime=0===L.ticks?0:x,g.elapsedFrameTime=performance.now()-y,g.frameDuration=z-D,null==(N=L.phases[O])?void 0:N.call(L,g)))});A[G].record(performance.now()-I)}r();E.record(performance.now()-v)}},C=new m,A=u.map(y=>new l(y)),E=new l("total");a.FrameTaskHandle=F;a.addFrameTask=function(y){y=new n(y);B.push(y);H.rafId||(h=-1,H.rafId=k());return new F(y)};a.debug=H;a.performanceInfo=A;a.performanceTotal=E;a.requestNextFrame=k;
a.schedule=function(y){y=new q(y);t.push(y);H.willDispatch||(H.willDispatch=!0,b(p));return y};a.setFrameDuration=function(y){d=Math.max(0,y)};a.waitTicks=function(y=1,x){const z=f.createResolver(),D=()=>{f.isAborted(x)?z.reject(f.createAbortError()):0===y?z():(--y,b(()=>D()))};D();return z.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["./global"],function(a){function c(f){l.push(f);1===l.length&&b(()=>{for(var e of m)e();e=l.slice();l.length=
0;for(const k of e)k()})}const b=function(){return a.queueMicrotask?a.queueMicrotask:f=>{a.Promise.resolve().then(f)}}(),l=[];let m=[];(function(f){f.before=function(e){m.push(e);return{remove(){m=m.filter(k=>k!==e)}}}})(c||(c={}));return c})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function c(b,l=29){this.name=b;this._counter=0;this._items=Array(l)}c.prototype.record=function(b){this._items[++this._counter%this._items.length]=
b};a._createClass(c,[{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((b,l)=>b+l,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return c}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,c,b){return function(){function l(f){this.data=[];this._length=0;this._allocator=
void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new c.PositionHint;f&&(f.initialSize&&(this.data=Array(f.initialSize)),f.allocator&&(this._allocator=f.allocator),void 0!==f.deallocator&&(this._deallocator=f.deallocator),f.shrink&&(this._shrink=()=>{this.data.length>1.5*this.length&&(this.data.length=Math.floor(1.1*this.length))}))}var m=l.prototype;m.toArray=function(){return this.data.slice(0,this.length)};m.getItemAt=function(f){if(!(0>f||f>=this._length))return this.data[f]};m.clear=
function(){this.length=0};m.prune=function(){this.clear();this.data=[]};m.push=function(f){this.data[this._length++]=f};m.pushArray=function(f,e=f.length){for(let k=0;k<e;k++)this.data[this._length++]=f[k]};m.fill=function(f,e){for(let k=0;k<e;k++)this.data[this._length++]=f};m.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const f=this.data[this._length];++this._length;return f};m.pop=function(){if(0!==this.length){var f=this.data[this.length-
1];--this.length;this._shrink();return f}};m.iterableRemoveMany=function*(f){const e=[];for(let k=0;k<this.length&&!(k>=this.length);++k)0>c.indexOf(f.data,this.data[k],f.length,f._hint)&&e.push(this.data[k]),yield;this.data=e;this._length=this.data.length};m.remove=function(f){const e=c.indexOf(this.data,f,this.length,this._hint);if(-1!==e)return this.data.splice(e,1),--this.length,f};m.removeUnordered=function(f){f=c.removeUnordered(this.data,f,this.length,this._hint);void 0!==f&&--this.length;
return f};m.removeUnorderedIndex=function(f){if(!(f>=this.length||0>f))return this.swapElements(f,this.length-1),this.pop()};m.removeUnorderedMany=function(f,e=f.length,k){this.length=c.removeUnorderedMany(this.data,f,this.length,e,this._hint,k)};m.front=function(){if(0!==this.length)return this.data[0]};m.back=function(){if(0!==this.length)return this.data[this.length-1]};m.swapElements=function(f,e){f>=this.length||e>=this.length||f===e||([this.data[f],this.data[e]]=[this.data[e],this.data[f]])};
m.sort=function(f){b.sort(this.data,0,this.length,f)};m.iterableSort=function(f){return b.iterableSort(this.data,0,this.length,f)};m.some=function(f,e){for(let k=0;k<this.length;++k)if(f.call(e,this.data[k],k,this.data))return!0;return!1};m.filterInPlace=function(f,e){let k=0;for(let r=0;r<this._length;++r){const p=this.data[r];f.call(e,p,r,this.data)&&(this.data[r]=this.data[k],this.data[k]=p,k++)}if(this._deallocator)for(f=k;f<this._length;f++)this.data[f]=this._deallocator(this.data[f]);this._length=
k;return this};m.forAll=function(f,e){const k=this.length,r=this.data;for(let p=0;p<k;++p)f.call(e,r[p],p,r)};m.iterableForEach=function*(){for(let f=0;f<this.length;++f)yield this.data[f]};m.map=function(f,e){const k=Array(this.length);for(let r=0;r<this.length;++r)k[r]=f.call(e,this.data[r],r,this.data);return k};m.reduce=function(f,e){for(let k=0;k<this.length;++k)e=f(e,this.data[k],k,this.data);return e};a._createClass(l,[{key:"length",get:function(){return this._length},set:function(f){if(f>
this._length)if(this._allocator)for(;this._length<f;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=f;else{if(this._deallocator)for(let e=f;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=f;this._shrink()}}}]);return l}()})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,c){function b(n){return n}function l(n,q=b){if(n&&0!==n.length){var h=n[0],d=q(h);for(let g=1;g<n.length;++g){const u=n[g],t=Number(q(u));
t>d&&(d=t,h=u)}return h}}function m(n,q,h,d){d=d||r;var g=Math.max(0,d.last-10);for(let u=g;u<h;++u)if(n[u]===q)return d.last=u;h=Math.min(g,h);for(g=0;g<h;++g)if(n[g]===q)return d.last=g;return-1}function f(n){return n?(w.seed=n,()=>w.getFloat()):Math.random}const e=!!Array.prototype.fill;let k=function(){this.last=0};const r=new k,p=new Set,w=new c;a.PositionHint=k;a.binaryFindClosest=function(n,q,h){if(n&&0!==n.length){var d=n.length-1,g=n[0];if(q<=h(g))return g;g=n[d];if(q>=h(g))return g;var u=
0;g=0;for(var t=d;u<t;){g=u+Math.floor((t-u)/2);const F=n[g],H=h(F);if(H===q)return F;if(q<H){if(0<g){t=n[g-1];var B=h(t);if(q>B)return q-B>=H-q?F:t}t=g}else{if(g<d&&(u=n[g+1],B=h(u),q<B))return q-H>=B-q?u:F;u=g+1}}return n[g]}};a.binaryIndexOf=function(n,q,h){const d=n.length;let g=0;for(var u=d-1;g<u;){const t=g+Math.floor((u-g)/2);q>n[t]?g=t+1:u=t}u=n[g];return h?q>=n[d-1]?-1:u===q?g:g-1:u===q?g:-1};a.constant=function(n,q){if(e)return Array(n).fill(q);const h=Array(n);for(let d=0;d<n;d++)h[d]=
q;return h};a.difference=function(n,q,h){let d,g;h?(d=q.filter(u=>!n.some(t=>h(t,u))),g=n.filter(u=>!q.some(t=>h(t,u)))):(d=q.filter(u=>!n.includes(u)),g=n.filter(u=>!q.includes(u)));return{added:d,removed:g}};a.equals=function(n,q,h){if(!n&&!q)return!0;if(!n||!q||n.length!==q.length)return!1;if(h)for(let d=0;d<n.length;d++){if(!h(n[d],q[d]))return!1}else for(h=0;h<n.length;h++)if(n[h]!==q[h])return!1;return!0};a.first=function(n){if(n)return 0<n.length?n[0]:void 0};a.flatten=function(n){return n.reduce((q,
h)=>q.concat(h||[]),[])};a.indexOf=m;a.intersect=function(n,q,h){return n&&q?h?n.filter(function(d){return-1<q.findIndex(function(g){return h(d,g)})}):n.filter(function(d){return-1<q.indexOf(d)}):[]};a.isArrayLike=function(n){return n&&"number"===typeof n.length};a.last=function(n){if(n){var q=n.length;return 0<q?n[q-1]:void 0}};a.max=l;a.min=function(n,q=b){return l(n,h=>-q(h))};a.pickRandom=function(n,q,h){const d=n.length;if(q>=d)return n.slice(0);h=f(h);const g=new Set,u=[];for(;u.length<q;){const t=
Math.floor(h()*d);g.has(t)||(g.add(t),u.push(n[t]))}return u};a.range=function(n,q){void 0===q&&(q=n,n=0);const h=Array(q-n);for(let d=n;d<q;d++)h[d-n]=d;return h};a.remove=function(n,q){const h=n.indexOf(q);return-1!==h?(n.splice(h,1),q):null};a.removeUnordered=function(n,q,h,d){const g=null==h?n.length:h;d=m(n,q,g,d);if(-1!==d)return n[d]=n[g-1],null==h&&n.pop(),q};a.removeUnorderedMany=function(n,q,h=n.length,d=q.length,g,u){if(0===d||0===h)return h;p.clear();for(let t=0;t<d;++t)p.add(q[t]);g=
g||r;q=Math.max(0,g.last-10);for(d=q;d<h;++d)if(p.has(n[d])&&(u&&u.push(n[d]),p.delete(n[d]),n[d]=n[h-1],--h,--d,0===p.size||0===h))return p.clear(),h;for(d=0;d<q;++d)if(p.has(n[d])&&(u&&u.push(n[d]),p.delete(n[d]),n[d]=n[h-1],--h,--d,0===p.size||0===h))return p.clear(),h;p.clear();return h};a.shuffle=function(n,q){q=f(q);for(let h=n.length-1;0<h;h--){const d=Math.floor(q()*(h+1)),g=n[h];n[h]=n[d];n[d]=g}return n};a.splitIntoChunks=function(n,q){const h=n.length;if(0===h)return[];const d=[];for(let g=
0;g<h;g+=q)d.push(n.slice(g,g+q));return d};a.unique=function(n,q){return q?n.filter((h,d,g)=>g.findIndex(q.bind(null,h))===d):n.filter((h,d,g)=>g.indexOf(h)===d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let c=function(){function b(m=1){this._seed=m}var l=b.prototype;l.getInt=function(){return this._seed=(b._a*this._seed+b._c)%b._m};l.getFloat=function(){return this.getInt()/(b._m-1)};l.getIntRange=
function(m,f){return Math.round(this.getFloatRange(m,f))};l.getFloatRange=function(m,f){f-=m;const e=this.getInt()/b._m;return m+Math.floor(e*f)};a._createClass(b,[{key:"seed",set:function(m){this._seed=null==m?Math.random()*b._m:m}}]);return b}();c._m=2147483647;c._a=48271;c._c=0;return c})},"esri/core/HeapSort":function(){define(function(){var a;(function(c){function b(m,f,e,k){let r=f;const p=e>>>1,w=m[r-1];for(;f<=p;){f=r<<1;f<e&&0>k(m[f-1],m[f])&&++f;const n=m[f-1];if(0>=k(n,w))break;m[r-1]=
n;r=f}m[r-1]=w}function l(m,f){return m<f?-1:m>f?1:0}c.sort=function(m,f,e,k){void 0===f&&(f=0);void 0===e&&(e=m.length);void 0===k&&(k=l);for(var r=e>>>1;r>f;r--)b(m,r,e,k);r=f+1;for(--e;e>f;e--){const p=m[f];m[f]=m[e];m[e]=p;b(m,r,e,k)}};c.iterableSort=function*(m,f,e,k){void 0===f&&(f=0);void 0===e&&(e=m.length);void 0===k&&(k=l);for(var r=e>>>1;r>f;r--)b(m,r,e,k),yield;r=f+1;for(--e;e>f;e--){const p=m[f];m[f]=m[e];m[e]=p;b(m,r,e,k);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./maybe ./Logger ./Error ./clock ./events".split(" "),
function(a,c,b,l,m,f){function e(A){return Promise.all(A)}function k(A){return new Promise((E,y)=>{try{A(E,y)}catch(x){Promise.resolve().then(()=>y(x))}})}function r(A="Aborted"){return new l("AbortError",A)}function p(){return new AbortController}function w(A){if(q(A))throw r();}function n(A){return c.isSome(A)?"aborted"in A?A:A.signal:A}function q(A){A=n(A);return c.isSome(A)&&A.aborted}function h(A,E){A=n(A);if(!c.isNone(A))if(A.aborted)E();else return f.once(A,"abort",()=>E())}function d(A,E){const y=
n(E);return c.isNone(y)?A:k((x,z)=>{let D=h(E,()=>z(r()));const v=()=>D=c.removeMaybe(D);A.then(v,v);A.then(x,z)})}function g(A){return A&&"AbortError"===A.name}function u(){let A=null;const E=k((y,x)=>{A={promise:void 0,resolve:y,reject:x}});A.promise=E;return A}function t(A,E){if(A){if("function"!==typeof A.forEach){const x=Object.keys(A);E=x.map(z=>A[z]);return t(E).then(z=>{const D={};x.forEach((v,G)=>D[v]=z[G]);return D})}var y=B;return d(k(x=>{const z=[];let D=A.length;0===D&&x(z);A.forEach(v=>
{const G={promise:v||y(v)};z.push(G);G.promise.then(I=>{G.value=I}).catch(I=>{G.error=I}).then(()=>{--D;0===D&&x(z)})})}),E)}}function B(A){return Promise.resolve(A)}function F(A,E,y){const x=p();h(y,()=>x.abort());return k((z,D)=>{let v=setTimeout(()=>{v=0;z(E)},A);h(x,()=>{v&&(clearTimeout(v),D(r()))})})}function H(A){return A&&"object"===typeof A&&"then"in A&&"function"===typeof A.then?A:B(A)}const C=b.getLogger("esri");a.after=F;a.all=e;a.always=function(A,E){return A.then(E,E)};a.create=k;a.createAbortController=
p;a.createAbortError=r;a.createDeferred=u;a.createResolver=function(){let A,E;const y=k((z,D)=>{A=z;E=D}),x=z=>{A(z)};x.resolve=z=>A(z);x.reject=z=>E(z);x.timeout=(z,D)=>m["default"].setTimeout(()=>x.reject(D),z);x.promise=y;return x};a.createTask=function(A){let E=p();A=A(E.signal);let y={promise:A,finished:!1,abort:()=>{E&&(E.abort(),E=null)}};const x=()=>{y&&(y.finished=!0,y=null);E=null};A.then(x,x);return y};a.debounce=function(A,E=-1){let y,x,z,D,v=null;const G=(...I)=>{if(y){x=I;D&&D.reject(r());
D=u();I=c.assumeNonNull(D.promise);if(v){var O=v;v=null;O.abort()}return I}z=D||u();D=null;if(0<E){const N=p(),R=y=H(A(...I,N.signal));F(E).then(()=>{y===R&&(D?N.abort():v=N)})}else y=1,y=H(A(...I));I=()=>{const N=x;x=z=y=v=null;null!=N&&G(...N)};O=y;const L=z;O.then(I,I);O.then(L.resolve,L.reject);return c.assumeNonNull(L.promise)};return G};a.eachAlways=t;a.eachAlwaysValues=function(A){return t(A).then(E=>E.filter(y=>!!y.value).map(y=>y.value))};a.filter=function(A,E){const y=A.slice();return e(A.map((x,
z)=>E(x,z))).then(x=>y.filter((z,D)=>x[D]))};a.first=function(A){return A&&A.length?k((E,y)=>{for(const x of A)x.then(E,y)}):B()};a.ignoreAbortErrors=function(A){return A.catch(E=>{if(!g(E))throw E;})};a.isAbortError=g;a.isAborted=q;a.isPromiseLike=function(A){return A&&"function"===typeof A.then};a.isThenable=function(A){return A&&"function"===typeof A.then};a.logOnError=function(A,E=C){return A.catch(y=>{g(y)||E.error(y)})};a.onAbort=h;a.onAbortOrThrow=function(A,E){A=n(A);if(!c.isNone(A))return w(A),
f.once(A,"abort",()=>E(r()))};a.reject=function(A){return Promise.reject(A)};a.resolve=B;a.throwIfAbortError=function(A){if(g(A))throw A;};a.throwIfAborted=w;a.throwIfNotAbortError=function(A){if(!g(A))throw A;};a.timeout=function(A,E,y,x){const z=y&&"abort"in y?y:null;null!=x||z||(x=y);let D=setTimeout(()=>{D=0;z&&z.abort()},E);const v=()=>{throw x||new l("promiseUtils:timeout","The wrapped promise did not resolve within "+E+" ms");};return A.then(G=>{if(0===D)throw v();clearTimeout(D);return G},
G=>{clearTimeout(D);throw 0===D?v():G;})};a.when=H;a.whenOrAbort=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports","./global"],function(a,c){function b(l){return{setTimeout:(m,f)=>{const e=l.setTimeout(m,f);return{remove:()=>l.clearTimeout(e)}}}}c=b(c);a.default=c;a.wrap=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/events":function(){define(["exports"],function(a){function c(m){return m&&("function"===typeof m.on||"function"===
typeof m.addEventListener)}function b(m,f,e){if(!c(m))throw new TypeError("target is not a Evented or EventTarget object");if("on"in m)return m.on(f,e);if(Array.isArray(f)){const k=f.slice();for(const r of k)m.addEventListener(r,e);return{remove(){for(const r of k)m.removeEventListener(r,e)}}}m.addEventListener(f,e);return{remove(){m.removeEventListener(f,e)}}}const l={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",
Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:m}){return l[m]||m};a.ieKeyNormalizationMap=l;a.isEventTarget=c;a.on=b;a.once=function(m,f,e){if(!c(m))throw new TypeError("target is not a Evented or EventTarget object");if("once"in m)return m.once(f,e);const k=b(m,f,r=>{k.remove();e.call(m,r)});return{remove(){k.remove()}}};a.pausable=function(m,f,e){let k=!1;const r=b(m,f,p=>{k||e.call(m,p)});return{resume(){k=!1},pause(){k=!0},remove(){r.remove()}}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/wire":function(){define(["exports","./tracking"],function(a,c){let b=function(){function l(f){this.notify=f;this._accessedProperties=new Set;this._observationHandles=[]}var m=l.prototype;m.destroy=function(){this._accessedProperties.clear();this.clearObservationHandles()};m.onPropertyAccessed=function(f){this._accessedProperties.add(f)};m.onTrackingEnd=function(){this._accessedProperties.forEach(f=>{this._observationHandles.push(f.observe(this))});
this._accessedProperties.clear()};m.clearObservationHandles=function(){for(const f of this._observationHandles)f.remove();this._observationHandles.length=0};return l}();a.autorun=function(l){let m=new b(function(){m&&!f&&(m.clearObservationHandles(),f=!0,c.runTracked(m,l),f=!1)}),f=!1;f=!0;c.runTracked(m,l);f=!1;return{remove:function(){m&&(m.destroy(),m=null)}}};a.wire=function(l,m){let f=new b(function(){if(f&&!k){var r=e;f.clearObservationHandles();k=!0;e=c.runTracked(f,l);k=!1;m(r,e)}}),e=null,
k=!1;k=!0;e=c.runTracked(f,l);k=!1;return{remove:function(){f&&(f.destroy(),e=f=null)}}};a.wireAsync=function(l,m){function f(){if(!e)return null;e.clearObservationHandles();return k=c.runTracked(e,l)}let e=new b(function(){m(k,f)}),k=null;f();return{remove:function(){e&&(e.destroy(),e=null);k=null}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./handleUtils","./accessorSupport/decorators/subclass",
"./Accessor"],function(a,c,b,l,m){let f=function(){function e(){this._emitter=new e.EventEmitter(this)}var k=e.prototype;k.emit=function(r,p){return this._emitter.emit(r,p)};k.on=function(r,p){return this._emitter.on(r,p)};k.once=function(r,p){return this._emitter.once(r,p)};k.hasEventListener=function(r){return this._emitter.hasEventListener(r)};return e}();(function(e){let k=function(){function p(n=null){this.target=n;this._listenersMap=null}var w=p.prototype;w.clear=function(){this._listenersMap&&
this._listenersMap.clear()};w.emit=function(n,q){n=this._listenersMap&&this._listenersMap.get(n);if(!n)return!1;const h=this.target||this;[...n].forEach(d=>{d.call(h,q)});return 0<n.length};w.on=function(n,q){if(Array.isArray(n)){var h=n.map(d=>this.on(d,q));return b.handlesGroup(h)}if(-1<n.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);h=this._listenersMap.get(n)||[];h.push(q);this._listenersMap.set(n,
h);return{remove:()=>{const d=this._listenersMap&&this._listenersMap.get(n)||[],g=d.indexOf(q);0<=g&&d.splice(g,1)}}};w.once=function(n,q){let h;return h=this.on(n,d=>{h.remove();q.call(null,d)})};w.hasEventListener=function(n){n=this._listenersMap&&this._listenersMap.get(n);return null!=n&&0<n.length};return p}();e.EventEmitter=k;e.EventedMixin=p=>{p=function(w){function n(){var h=w.apply(this,arguments)||this;h._emitter=new k;return h}a._inheritsLoose(n,w);var q=n.prototype;q.emit=function(h,d){return this._emitter.emit(h,
d)};q.on=function(h,d){return this._emitter.on(h,d)};q.once=function(h,d){return this._emitter.once(h,d)};q.hasEventListener=function(h){return this._emitter.hasEventListener(h)};return n}(p);return p=c.__decorate([l.subclass("esri.core.Evented")],p)};let r=function(p){function w(){var q=p.apply(this,arguments)||this;q._emitter=new f.EventEmitter(a._assertThisInitialized(q));return q}a._inheritsLoose(w,p);var n=w.prototype;n.emit=function(q,h){return this._emitter.emit(q,h)};n.on=function(q,h){return this._emitter.on(q,
h)};n.once=function(q,h){return this._emitter.once(q,h)};n.hasEventListener=function(q){return this._emitter.hasEventListener(q)};return w}(m);r=c.__decorate([l.subclass("esri.core.Evented")],r);e.EventedAccessor=r})(f||(f={}));return f})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/maybe ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./geometry/SpatialReference ./core/Collection ./core/collectionUtils ./core/Loadable ./portal/Portal ./core/loadAll ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x){var z;let D=0;const v=e.getLogger("esri.Basemap");l=z=function(G){function I(L){var N=G.call(this,L)||this;N.id=null;N.portalItem=null;N.spatialReference=null;N.thumbnailUrl=null;N.title="Basemap";N.id=Date.now().toString(16)+"-basemap-"+D++;N.baseLayers=new B;N.referenceLayers=new B;const R=K=>{K.parent&&K.parent!==c._assertThisInitialized(N)&&"remove"in K.parent&&K.parent.remove(K);K.parent=c._assertThisInitialized(N);"elevation"===K.type&&
v.error(`Layer '${K.title}, id:${K.id}' of type '${K.type}' is not supported as a basemap layer and will therefore be ignored.`)};N.baseLayers.on("after-add",K=>R(K.item));N.referenceLayers.on("after-add",K=>R(K.item));N.baseLayers.on("after-remove",K=>{K.item.parent=null});N.referenceLayers.on("after-remove",K=>{K.item.parent=null});return N}c._inheritsLoose(I,G);var O=I.prototype;O.initialize=function(){this.when().catch(L=>{v.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
L)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};O.destroy=function(){var L,N=this.baseLayers.removeAll();for(const R of N)R.destroy();N=this.referenceLayers.removeAll();for(const R of N)R.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(L=this.portalItem)?void 0:L.destroy();this.portalItem=null};O.normalizeCtorArgs=function(L){L&&"resourceInfo"in L&&(this._set("resourceInfo",L.resourceInfo),L={...L},delete L.resourceInfo);return L};O._writeBaseLayers=
function(L,N,R){const K=[];L&&(R={...R,layerContainerType:"basemap"},this.baseLayers.forEach(U=>{U=x.getLayerJSON(U,R.webmap?R.webmap.getLayerJSONFromResourceInfo(U):null,R);f.isSome(U)&&K.push(U)}),this.referenceLayers.forEach(U=>{U=x.getLayerJSON(U,R.webmap?R.webmap.getLayerJSONFromResourceInfo(U):null,R);f.isSome(U)&&(U.isReference=!0,K.push(U))}));N.baseMapLayers=K};O.writeTitle=function(L,N){N.title=L||"Basemap"};O.load=function(L){this.addResolvingPromise(this._loadFromSource(L));return g.resolve(this)};
O.loadAll=function(){return A.loadAll(this,L=>{L(this.baseLayers,this.referenceLayers)})};O.clone=function(){const L={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(L.loadStatus="loaded");return(new z({resourceInfo:this.resourceInfo})).set(L)};O.read=function(L,N){this.resourceInfo||this._set("resourceInfo",{data:L,context:N});G.prototype.read.call(this,L,N)};O.write=function(L,N){L=L||{};N&&N.origin||
(N={origin:"web-map",...N});G.prototype.write.call(this,L,N);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(L.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(R=>{R=m.clone(R);R.url&&q.isProtocolRelative(R.url)&&(R.url=`https:${R.url}`);R.templateUrl&&q.isProtocolRelative(R.templateUrl)&&(R.templateUrl=`https:${R.templateUrl}`);return R}));return L};O._loadFromSource=async function(L){const {resourceInfo:N,portalItem:R}=this;g.throwIfAborted(L);const K=[];N?(K.push(this._loadLayersFromJSON(N.data,
N.context?N.context.url:null,L)),N.data.id&&!N.data.title&&K.push(y.getBasemapTitle(N.data.id).then(U=>{U&&this.read({title:U},N.context)}))):R&&K.push(this._loadFromItem(R,L));await g.all(K)};O._loadLayersFromJSON=async function(L,N,R){var K=this.resourceInfo&&this.resourceInfo.context;const U=this.portalItem&&this.portalItem.portal||K&&K.portal||null,P=K&&"web-scene"===K.origin?"web-scene":"web-map",{populateOperationalLayers:J}=await new Promise(function(S,W){a(["./layers/support/layersCreator"],
S,W)});K=[];g.throwIfAborted(R);L.baseMapLayers&&Array.isArray(L.baseMapLayers)&&(N={context:{origin:P,url:N,portal:U,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},R=J(this.baseLayers,L.baseMapLayers.filter(S=>!S.isReference),N),K.push(R),L=J(this.referenceLayers,L.baseMapLayers.filter(S=>S.isReference),N),K.push(L));await g.eachAlways(K)};O._loadFromItem=async function(L,N){const R=await (await L.load(N)).fetchData("json",N),K=q.urlToObject(L.itemUrl);this._set("resourceInfo",
{data:R.baseMap,context:{origin:"web-map",portal:L.portal||C.getDefault(),url:K}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:R.spatialReference},this.resourceInfo.context);this.read({title:L.title,thumbnailUrl:L.thumbnailUrl},{origin:"portal-item",portal:L.portal||C.getDefault(),url:K});return this._loadLayersFromJSON(this.resourceInfo.data,K,N)};I.fromId=function(L){return(L=y.esriBasemapDefinitions[L])?z.fromJSON(L):null};c._createClass(I,[{key:"baseLayers",
set:function(L){this._set("baseLayers",F.referenceSetter(L,this._get("baseLayers")))}},{key:"referenceLayers",set:function(L){this._set("referenceLayers",F.referenceSetter(L,this._get("referenceLayers")))}}]);return I}(u.JSONSupportMixin(H));b.__decorate([r.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(G,I,O,L){this._writeBaseLayers(G,I,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:B}},writer(G,I,O,L){this._writeBaseLayers(G,I,L)}}}}}})],l.prototype,
"baseLayers",null);b.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],l.prototype,"id",void 0);b.__decorate([r.property({type:E})],l.prototype,"portalItem",void 0);b.__decorate([r.property()],l.prototype,"referenceLayers",null);b.__decorate([r.property({readOnly:!0})],l.prototype,"resourceInfo",void 0);b.__decorate([r.property({type:t})],l.prototype,"spatialReference",void 0);b.__decorate([r.property()],l.prototype,"thumbnailUrl",void 0);b.__decorate([r.property({type:String,
json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],l.prototype,"title",void 0);b.__decorate([n.writer("title")],l.prototype,"writeTitle",null);return l=z=b.__decorate([w.subclass("esri.Basemap")],l)})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","../../object","./property"],function(a,c,b){a.writer=function(l,m,f){let e,k;void 0===m?(k=l,e=[void 0]):"string"!==typeof m?(k=l,e=[void 0],f=m):(k=m,e=Array.isArray(l)?l:[l]);return(r,p)=>{const w=r.constructor.prototype;
e.forEach(n=>{n=b.propertyJSONMeta(r,n,k);n.write&&"object"!==typeof n.write&&(n.write={});f&&c.setDeepValue("write.target",f,n);c.setDeepValue("write.writer",w[p],n)})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/subclass ./Accessor ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,c,b,l,m,f,e){const k=r=>{r=function(p){function w(...q){return p.call(this,
...q)||this}c._inheritsLoose(w,p);var n=w.prototype;n.read=function(q,h){f.read(this,q,h)};n.write=function(q={},h){return e.write(this,q,h)};n.toJSON=function(q){return this.write({},q)};w.fromJSON=function(q,h){if(q){if(q.declaredClass)throw Error("JSON object is already hydrated");var d=new this;d.read(q,h);q=d}else q=null;return q};return w}(r);r=b.__decorate([l.subclass("esri.core.JSONSupport")],r);r.prototype.toJSON.isDefaultToJSON=!0;return r};a.JSONSupport=function(r){function p(){return r.apply(this,
arguments)||this}c._inheritsLoose(p,r);return p}(k(m));a.JSONSupport=b.__decorate([l.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=k;a.isJSONSupport=function(r){return r&&"read"in r&&"write"in r&&"toJSON"in r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./utils","./get","./extensions/serializableProperty"],function(a,c,b,l){function m(e,k,r=f){if(k&&"object"===typeof k){var p=c.getProperties(e),w=p.metadatas,
n={};for(const C of Object.getOwnPropertyNames(k)){var q=n,h=w,d=C,g=k,u=r,t=l.originSpecificReadPropertyDefinition(h[d],u);t&&(!t.read||!1!==t.read.enabled&&!t.read.source)&&(q[d]=!0);for(const A of Object.getOwnPropertyNames(h)){t=l.originSpecificReadPropertyDefinition(h[A],u);a:{var B=d;var F=g;if(t&&t.read&&!1!==t.read.enabled&&t.read.source){t=t.read.source;if("string"===typeof t){if(t===B||-1<t.indexOf(".")&&0===t.indexOf(B)&&b.exists(t,F)){B=!0;break a}}else for(const E of t)if(E===B||-1<E.indexOf(".")&&
0===E.indexOf(B)&&b.exists(E,F)){B=!0;break a}B=!1}else B=!1}B&&(q[A]=!0)}}p.setDefaultOrigin(r.origin);for(var H of Object.getOwnPropertyNames(n))h=(h=(q=l.originSpecificReadPropertyDefinition(w[H],r).read)&&q.source)&&"string"===typeof h?b.valueOf(k,h):k[H],q&&q.reader&&(h=q.reader.call(e,h,k,r)),void 0!==h&&p.set(H,h);if(!r||!r.ignoreDefaults)for(const C of Object.getOwnPropertyNames(w))n[C]||(H=e,k=C,w=p,q=r,h=(h=l.originSpecificPropertyDefinition(w.metadatas[k],"any",q))&&h.default,void 0!==
h&&(H="function"===typeof h?h.call(H,k,q):h,void 0!==H&&w.set(k,H)));p.setDefaultOrigin("user")}}const f={origin:"service"};a.default=m;a.read=m;a.readLoadable=function(e,k,r,p=f){var w;k={...p,messages:[]};r(k);null==(w=k.messages)?void 0:w.forEach(n=>{"warning"!==n.type||e.loaded?p&&p.messages&&p.messages.push(n):e.loadWarnings.push(n)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../Logger ./utils ./extensions/serializableProperty ../Error ./PropertyOrigin ../arrayUtils ../promiseUtils".split(" "),
function(a,c,b,l,m,f,e,k){function r(q,h,d,g,u){var t,B;const F={};null==(t=h.write)?void 0:null==(B=t.writer)?void 0:B.call(q,g,F,d,u);return F}function p(q,h,d,g,u,t){if(!g||!g.write)return!1;var B=q.get(d);if(!u&&g.write.overridePolicy){var F=g.write.overridePolicy.call(q,B,d,t);void 0!==F&&(u=F)}u||(u=g.write);if(!u||!1===u.enabled)return!1;if((null===B&&!u.allowNull||void 0===B)&&u.isRequired)return(h=new m("web-document-write:property-required",`Missing value for required property '${d}' on '${q.declaredClass}'`,
{propertyName:d,target:q}),t)&&t.messages?t.messages.push(h):h&&!t&&n.error(h.name,h.message),!1;if(void 0===B||null===B&&!u.allowNull)return!1;F=g.default;void 0===F?B=!1:null!=g.defaultEquals?B=g.defaultEquals(B):"function"===typeof F?Array.isArray(B)?(q=F.call(q,d,t),B=e.equals(q,B)):B=!1:B=F===B;return B?!1:void 0!==g.default?!0:!u.ignoreOrigin&&t&&t.origin&&h.store.originOf(d)<f.nameToId(t.origin)?!1:!0}function w(q,h,d){if(q&&"function"===typeof q.toJSON&&(!q.toJSON.isDefaultToJSON||!q.write))return b.merge(h,
q.toJSON());const g=b.getProperties(q),u=g.metadatas;for(const t in u){const B=l.originSpecificWritePropertyDefinition(u[t],d);if(!p(q,g,t,B,void 0,d))continue;const F=q.get(t),H=r(q,B,B.write&&"string"===typeof B.write.target?B.write.target:t,F,d);0<Object.keys(H).length&&(h=b.merge(h,H),d&&d.resources&&d.resources.pendingOperations&&d.resources.pendingOperations.length&&k.all(d.resources.pendingOperations).then(()=>b.merge(h,H)),d&&d.writtenProperties&&d.writtenProperties.push({target:q,propName:t,
oldOrigin:f.idToReadableName(g.store.originOf(t)),newOrigin:d.origin}))}return h}const n=c.getLogger("esri.core.accessorSupport.write");a.default=w;a.willPropertyWrite=function(q,h,d,g){const u=b.getProperties(q),t=l.originSpecificWritePropertyDefinition(u.metadatas[h],g);return t?p(q,u,h,t,d,g):!1};a.write=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/JSONSupport ./support/spatialReferenceUtils".split(" "),
function(a,c,b,l,m,f,e,k,r){var p;k=p=function(w){function n(h){h=w.call(this,h)||this;h.latestWkid=null;h.wkid=null;h.wkt=null;h.vcsWkid=null;h.latestVcsWkid=null;h.imageCoordinateSystem=null;return h}a._inheritsLoose(n,w);n.fromJSON=function(h){if(!h)return null;if(h.wkid){if(102100===h.wkid)return p.WebMercator;if(4326===h.wkid)return p.WGS84}const d=new p;d.read(h);return d};var q=n.prototype;q.normalizeCtorArgs=function(h){return h&&"object"===typeof h?h:{["string"===typeof h?"wkt":"wkid"]:h}};
q.writeWkt=function(h,d){this.wkid||(d.wkt=h)};q.clone=function(){if(this===p.WGS84)return p.WGS84;if(this===p.WebMercator)return p.WebMercator;const h=new p;null!=this.wkid?(h.wkid=this.wkid,null!=this.latestWkid&&(h.latestWkid=this.latestWkid),null!=this.vcsWkid&&(h.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(h.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(h.wkt=this.wkt);this.imageCoordinateSystem&&(h.imageCoordinateSystem=b.clone(this.imageCoordinateSystem));return h};q.equals=function(h){if(null==
h)return!1;if(this.imageCoordinateSystem||h.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==h.imageCoordinateSystem)return!1;const {id:d,referenceServiceName:g}=h.imageCoordinateSystem,{geodataXform:u}=h.imageCoordinateSystem,t=this.imageCoordinateSystem;return null==d||u?JSON.stringify(t)===JSON.stringify(h.imageCoordinateSystem):g?t.id===d&&t.referenceServiceName===g:t.id===d}return r.equals(this,h)};q.toJSON=function(h){return this.write(void 0,h)};a._createClass(n,[{key:"isWGS84",
get:function(){return r.isWGS84(this)}},{key:"isWebMercator",get:function(){return r.isWebMercator(this)}},{key:"isGeographic",get:function(){return r.isGeographic(this)}},{key:"isWrappable",get:function(){return r.isWrappable(this)}}]);return n}(k.JSONSupport);k.GCS_NAD_1927=null;k.WGS84=null;k.WebMercator=null;c.__decorate([m.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],k.prototype,"isWGS84",null);c.__decorate([m.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],k.prototype,
"isWebMercator",null);c.__decorate([m.property({dependsOn:["wkid","wkt"],autoTracked:!1,readOnly:!0})],k.prototype,"isGeographic",null);c.__decorate([m.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],k.prototype,"isWrappable",null);c.__decorate([m.property({type:l.Integer,json:{write:!0}})],k.prototype,"latestWkid",void 0);c.__decorate([m.property({type:l.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],k.prototype,"wkid",
void 0);c.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],k.prototype,"wkt",void 0);c.__decorate([e.writer("wkt"),e.writer("web-scene","wkt")],k.prototype,"writeWkt",null);c.__decorate([m.property({type:l.Integer,json:{write:!0}})],k.prototype,"vcsWkid",void 0);c.__decorate([m.property({type:l.Integer,json:{write:!0}})],k.prototype,"latestVcsWkid",void 0);c.__decorate([m.property()],k.prototype,"imageCoordinateSystem",
void 0);k=p=c.__decorate([f.subclass("esri.geometry.SpatialReference")],k);k.prototype.toJSON.isDefaultToJSON=!0;k.GCS_NAD_1927=new k({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});k.WGS84=new k(r.WGS84);k.WebMercator=new k(r.WebMercator);Object.freeze&&(Object.freeze(k.GCS_NAD_1927),Object.freeze(k.WGS84),Object.freeze(k.WebMercator));return k})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports",
"../../core/maybe","../../core/string","./WKIDUnitConversion"],function(a,c,b,l){function m(d){return r(d)&&null!=d.wkid&&!0===p[d.wkid]}function f(d){return 104971===d||104905===d}function e(d){return r(d)&&null!=d.wkid&&f(d.wkid)}function k(d){return r(d)&&null!=d.wkid&&104903===d.wkid}function r(d){return c.isSome(d)&&(null!=d.wkid&&2E3<=d.wkid||null!=d.wkt)}const p={102113:!0,102100:!0,3857:!0,3785:!0},w={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},n=[-2.0037508342788905E7,2.0037508342788905E7],
q=[-2.0037508342787E7,2.0037508342787E7],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n,origin:q,
dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n,origin:q,dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:n,origin:q,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n,origin:q,
dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(h[4326].wkTemplate,{Central_Meridian:"0.0"})};a.WGS84=b;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(d,g){return c.isNone(d)||c.isNone(g)?!1:d===g?!0:null!=d.wkid||null!=g.wkid?d.wkid===g.wkid||m(d)&&m(g)||null!=g.latestWkid&&d.wkid===g.latestWkid||null!=d.latestWkid&&g.wkid===d.latestWkid:d.wkt&&g.wkt?d.wkt.toUpperCase()===g.wkt.toUpperCase():!1};a.getInfo=function(d){return r(d)&&d.wkid?h[d.wkid]:null};a.isCGCS2000=function(d){return r(d)&&4490===
d.wkid};a.isEarth=function(d){return!(e(d)||k(d))};a.isGeographic=function(d){return r(d)?d.wkid?null==l[d.wkid]:d.wkt?!!/^\s*GEOGCS/i.test(d.wkt):!1:!1};a.isMars=e;a.isMoon=k;a.isValid=r;a.isWGS84=function(d){return r(d)&&4326===d.wkid};a.isWKIDFromMars=f;a.isWKIDFromMoon=function(d){return 104903===d};a.isWebMercator=m;a.isWrappable=function(d){return r(d)&&null!=d.wkid&&!0===w[d.wkid]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const c={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,
5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,
6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,
6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,
6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,
6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,
7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,
7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,
8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,
8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,
8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)c[a]=0;for(a=2056;2065>=a;a++)c[a]=0;for(a=2067;2135>=a;a++)c[a]=0;for(a=2137;2154>=a;a++)c[a]=0;for(a=2161;2170>=a;a++)c[a]=0;for(a=2172;2193>=a;a++)c[a]=
0;for(a=2195;2198>=a;a++)c[a]=0;for(a=2200;2203>=a;a++)c[a]=0;for(a=2205;2217>=a;a++)c[a]=0;for(a=2222;2224>=a;a++)c[a]=1;for(a=2225;2250>=a;a++)c[a]=2;for(a=2251;2253>=a;a++)c[a]=1;for(a=2257;2264>=a;a++)c[a]=2;for(a=2274;2279>=a;a++)c[a]=2;for(a=2280;2282>=a;a++)c[a]=1;for(a=2283;2289>=a;a++)c[a]=2;for(a=2290;2292>=a;a++)c[a]=0;for(a=2308;2313>=a;a++)c[a]=0;for(a=2315;2491>=a;a++)c[a]=0;for(a=2494;2866>=a;a++)c[a]=0;for(a=2867;2869>=a;a++)c[a]=1;for(a=2870;2888>=a;a++)c[a]=2;for(a=2891;2895>=a;a++)c[a]=
2;for(a=2896;2898>=a;a++)c[a]=1;for(a=2902;2908>=a;a++)c[a]=2;for(a=2915;2920>=a;a++)c[a]=2;for(a=2921;2923>=a;a++)c[a]=1;for(a=2924;2930>=a;a++)c[a]=2;for(a=2931;2962>=a;a++)c[a]=0;for(a=2964;2968>=a;a++)c[a]=2;for(a=2969;2973>=a;a++)c[a]=0;for(a=2975;2991>=a;a++)c[a]=0;for(a=2995;3051>=a;a++)c[a]=0;for(a=3054;3079>=a;a++)c[a]=0;for(a=3081;3088>=a;a++)c[a]=0;for(a=3092;3101>=a;a++)c[a]=0;for(a=3106;3138>=a;a++)c[a]=0;for(a=3146;3151>=a;a++)c[a]=0;for(a=3153;3166>=a;a++)c[a]=0;for(a=3168;3172>=a;a++)c[a]=
0;for(a=3174;3203>=a;a++)c[a]=0;for(a=3294;3358>=a;a++)c[a]=0;for(a=3367;3403>=a;a++)c[a]=0;for(a=3408;3416>=a;a++)c[a]=0;for(a=3417;3438>=a;a++)c[a]=2;for(a=3441;3446>=a;a++)c[a]=2;for(a=3447;3450>=a;a++)c[a]=0;for(a=3451;3459>=a;a++)c[a]=2;for(a=3460;3478>=a;a++)c[a]=0;for(a=3554;3559>=a;a++)c[a]=0;for(a=3560;3570>=a;a++)c[a]=2;for(a=3571;3581>=a;a++)c[a]=0;for(a=3594;3597>=a;a++)c[a]=0;for(a=3601;3604>=a;a++)c[a]=0;for(a=3637;3639>=a;a++)c[a]=0;for(a=3665;3667>=a;a++)c[a]=0;for(a=3693;3695>=a;a++)c[a]=
0;for(a=3701;3727>=a;a++)c[a]=0;for(a=3728;3739>=a;a++)c[a]=2;for(a=3740;3751>=a;a++)c[a]=0;for(a=3753;3760>=a;a++)c[a]=2;for(a=3761;3773>=a;a++)c[a]=0;for(a=3775;3777>=a;a++)c[a]=0;for(a=3779;3781>=a;a++)c[a]=0;for(a=3783;3785>=a;a++)c[a]=0;for(a=3788;3791>=a;a++)c[a]=0;for(a=3797;3802>=a;a++)c[a]=0;for(a=3814;3816>=a;a++)c[a]=0;for(a=3825;3829>=a;a++)c[a]=0;for(a=3832;3841>=a;a++)c[a]=0;for(a=3844;3852>=a;a++)c[a]=0;for(a=3873;3885>=a;a++)c[a]=0;for(a=3890;3893>=a;a++)c[a]=0;for(a=3907;3912>=a;a++)c[a]=
0;for(a=3942;3950>=a;a++)c[a]=0;for(a=3968;3970>=a;a++)c[a]=0;for(a=3973;3976>=a;a++)c[a]=0;for(a=3986;3989>=a;a++)c[a]=0;for(a=3994;3997>=a;a++)c[a]=0;for(a=4048;4051>=a;a++)c[a]=0;for(a=4056;4063>=a;a++)c[a]=0;for(a=4093;4096>=a;a++)c[a]=0;for(a=4390;4398>=a;a++)c[a]=0;for(a=4399;4413>=a;a++)c[a]=2;for(a=4418;4433>=a;a++)c[a]=2;for(a=4455;4457>=a;a++)c[a]=2;for(a=4484;4489>=a;a++)c[a]=0;for(a=4491;4554>=a;a++)c[a]=0;for(a=4568;4589>=a;a++)c[a]=0;for(a=4652;4656>=a;a++)c[a]=0;for(a=4766;4800>=a;a++)c[a]=
0;for(a=5014;5016>=a;a++)c[a]=0;for(a=5069;5072>=a;a++)c[a]=0;for(a=5105;5130>=a;a++)c[a]=0;for(a=5173;5188>=a;a++)c[a]=0;for(a=5253;5259>=a;a++)c[a]=0;for(a=5269;5275>=a;a++)c[a]=0;for(a=5292;5311>=a;a++)c[a]=0;for(a=5329;5331>=a;a++)c[a]=0;for(a=5343;5349>=a;a++)c[a]=0;for(a=5355;5357>=a;a++)c[a]=0;for(a=5387;5389>=a;a++)c[a]=0;for(a=5459;5463>=a;a++)c[a]=0;for(a=5479;5482>=a;a++)c[a]=0;for(a=5518;5520>=a;a++)c[a]=0;for(a=5530;5539>=a;a++)c[a]=0;for(a=5550;5552>=a;a++)c[a]=0;for(a=5562;5583>=a;a++)c[a]=
0;for(a=5623;5625>=a;a++)c[a]=2;for(a=5631;5639>=a;a++)c[a]=0;for(a=5649;5653>=a;a++)c[a]=0;for(a=5663;5680>=a;a++)c[a]=0;for(a=5682;5685>=a;a++)c[a]=0;for(a=5875;5877>=a;a++)c[a]=0;for(a=5896;5899>=a;a++)c[a]=0;for(a=5921;5940>=a;a++)c[a]=0;for(a=6050;6125>=a;a++)c[a]=0;for(a=6244;6275>=a;a++)c[a]=0;for(a=6328;6348>=a;a++)c[a]=0;for(a=6350;6356>=a;a++)c[a]=0;for(a=6366;6372>=a;a++)c[a]=0;for(a=6381;6387>=a;a++)c[a]=0;for(a=6393;6404>=a;a++)c[a]=0;for(a=6480;6483>=a;a++)c[a]=0;for(a=6511;6514>=a;a++)c[a]=
0;for(a=6579;6581>=a;a++)c[a]=0;for(a=6619;6624>=a;a++)c[a]=0;for(a=6625;6627>=a;a++)c[a]=2;for(a=6628;6632>=a;a++)c[a]=0;for(a=6634;6637>=a;a++)c[a]=0;for(a=6669;6692>=a;a++)c[a]=0;for(a=6707;6709>=a;a++)c[a]=0;for(a=6720;6723>=a;a++)c[a]=0;for(a=6732;6738>=a;a++)c[a]=0;for(a=6931;6933>=a;a++)c[a]=0;for(a=6956;6959>=a;a++)c[a]=0;for(a=7005;7007>=a;a++)c[a]=0;for(a=7057;7070>=a;a++)c[a]=2;for(a=7074;7082>=a;a++)c[a]=0;for(a=7109;7118>=a;a++)c[a]=0;for(a=7119;7127>=a;a++)c[a]=1;for(a=7374;7376>=a;a++)c[a]=
0;for(a=7528;7586>=a;a++)c[a]=0;for(a=7587;7645>=a;a++)c[a]=2;for(a=7692;7696>=a;a++)c[a]=0;for(a=7755;7787>=a;a++)c[a]=0;for(a=7791;7795>=a;a++)c[a]=0;for(a=7799;7801>=a;a++)c[a]=0;for(a=7803;7805>=a;a++)c[a]=0;for(a=7825;7831>=a;a++)c[a]=0;for(a=7845;7859>=a;a++)c[a]=0;for(a=8013;8032>=a;a++)c[a]=0;for(a=8065;8068>=a;a++)c[a]=1;for(a=8518;8529>=a;a++)c[a]=2;for(a=8533;8536>=a;a++)c[a]=2;for(a=8538;8540>=a;a++)c[a]=2;for(a=8677;8679>=a;a++)c[a]=0;for(a=8836;8840>=a;a++)c[a]=0;for(a=8857;8859>=a;a++)c[a]=
0;for(a=8908;8910>=a;a++)c[a]=0;for(a=9154;9159>=a;a++)c[a]=0;for(a=9205;9218>=a;a++)c[a]=0;for(a=9271;9273>=a;a++)c[a]=0;for(a=9295;9297>=a;a++)c[a]=0;for(a=20002;20032>=a;a++)c[a]=0;for(a=20062;20092>=a;a++)c[a]=0;for(a=20135;20138>=a;a++)c[a]=0;for(a=20248;20258>=a;a++)c[a]=0;for(a=20348;20358>=a;a++)c[a]=0;for(a=20436;20440>=a;a++)c[a]=0;for(a=20822;20824>=a;a++)c[a]=0;for(a=20934;20936>=a;a++)c[a]=0;for(a=21035;21037>=a;a++)c[a]=0;for(a=21095;21097>=a;a++)c[a]=0;for(a=21148;21150>=a;a++)c[a]=
0;for(a=21413;21423>=a;a++)c[a]=0;for(a=21453;21463>=a;a++)c[a]=0;for(a=21473;21483>=a;a++)c[a]=0;for(a=21780;21782>=a;a++)c[a]=0;for(a=21891;21894>=a;a++)c[a]=0;for(a=21896;21899>=a;a++)c[a]=0;for(a=22171;22177>=a;a++)c[a]=0;for(a=22181;22187>=a;a++)c[a]=0;for(a=22191;22197>=a;a++)c[a]=0;for(a=22234;22236>=a;a++)c[a]=0;for(a=22521;22525>=a;a++)c[a]=0;for(a=22991;22994>=a;a++)c[a]=0;for(a=23028;23038>=a;a++)c[a]=0;for(a=23830;23853>=a;a++)c[a]=0;for(a=23866;23872>=a;a++)c[a]=0;for(a=23877;23884>=
a;a++)c[a]=0;for(a=23886;23894>=a;a++)c[a]=0;for(a=23946;23948>=a;a++)c[a]=0;for(a=24311;24313>=a;a++)c[a]=0;for(a=24342;24347>=a;a++)c[a]=0;for(a=24370;24374>=a;a++)c[a]=10;for(a=24375;24381>=a;a++)c[a]=0;for(a=24718;24721>=a;a++)c[a]=0;for(a=24817;24821>=a;a++)c[a]=0;for(a=24877;24882>=a;a++)c[a]=0;for(a=24891;24893>=a;a++)c[a]=0;for(a=25391;25395>=a;a++)c[a]=0;for(a=25828;25838>=a;a++)c[a]=0;for(a=26191;26195>=a;a++)c[a]=0;for(a=26391;26393>=a;a++)c[a]=0;for(a=26701;26722>=a;a++)c[a]=0;for(a=26729;26799>=
a;a++)c[a]=2;for(a=26801;26803>=a;a++)c[a]=2;for(a=26811;26813>=a;a++)c[a]=2;for(a=26847;26870>=a;a++)c[a]=2;for(a=26891;26899>=a;a++)c[a]=0;for(a=26901;26923>=a;a++)c[a]=0;for(a=26929;26946>=a;a++)c[a]=0;for(a=26948;26998>=a;a++)c[a]=0;for(a=27037;27040>=a;a++)c[a]=0;for(a=27205;27232>=a;a++)c[a]=0;for(a=27258;27260>=a;a++)c[a]=0;for(a=27391;27398>=a;a++)c[a]=0;for(a=27561;27564>=a;a++)c[a]=0;for(a=27571;27574>=a;a++)c[a]=0;for(a=27581;27584>=a;a++)c[a]=0;for(a=27591;27594>=a;a++)c[a]=0;for(a=28191;28193>=
a;a++)c[a]=0;for(a=28348;28358>=a;a++)c[a]=0;for(a=28402;28432>=a;a++)c[a]=0;for(a=28462;28492>=a;a++)c[a]=0;for(a=29118;29122>=a;a++)c[a]=0;for(a=29168;29172>=a;a++)c[a]=0;for(a=29177;29185>=a;a++)c[a]=0;for(a=29187;29195>=a;a++)c[a]=0;for(a=29900;29903>=a;a++)c[a]=0;for(a=30161;30179>=a;a++)c[a]=0;for(a=30491;30494>=a;a++)c[a]=0;for(a=30729;30732>=a;a++)c[a]=0;for(a=31251;31259>=a;a++)c[a]=0;for(a=31265;31268>=a;a++)c[a]=0;for(a=31275;31279>=a;a++)c[a]=0;for(a=31281;31297>=a;a++)c[a]=0;for(a=31461;31469>=
a;a++)c[a]=0;for(a=31491;31495>=a;a++)c[a]=0;for(a=31917;31922>=a;a++)c[a]=0;for(a=31965;32E3>=a;a++)c[a]=0;for(a=32001;32003>=a;a++)c[a]=2;for(a=32005;32031>=a;a++)c[a]=2;for(a=32033;32060>=a;a++)c[a]=2;for(a=32064;32067>=a;a++)c[a]=2;for(a=32074;32077>=a;a++)c[a]=2;for(a=32081;32086>=a;a++)c[a]=0;for(a=32107;32130>=a;a++)c[a]=0;for(a=32133;32158>=a;a++)c[a]=0;for(a=32164;32167>=a;a++)c[a]=2;for(a=32180;32199>=a;a++)c[a]=0;for(a=32201;32260>=a;a++)c[a]=0;for(a=32301;32360>=a;a++)c[a]=0;for(a=32601;32662>=
a;a++)c[a]=0;for(a=32664;32667>=a;a++)c[a]=2;for(a=32701;32761>=a;a++)c[a]=0;for(a=53001;53004>=a;a++)c[a]=0;for(a=53008;53019>=a;a++)c[a]=0;for(a=53021;53032>=a;a++)c[a]=0;for(a=53034;53037>=a;a++)c[a]=0;for(a=53042;53046>=a;a++)c[a]=0;for(a=53074;53080>=a;a++)c[a]=0;for(a=54001;54004>=a;a++)c[a]=0;for(a=54008;54019>=a;a++)c[a]=0;for(a=54021;54032>=a;a++)c[a]=0;for(a=54034;54037>=a;a++)c[a]=0;for(a=54042;54046>=a;a++)c[a]=0;for(a=54048;54053>=a;a++)c[a]=0;for(a=54074;54080>=a;a++)c[a]=0;for(a=54098;54101>=
a;a++)c[a]=0;for(a=102001;102040>=a;a++)c[a]=0;for(a=102042;102063>=a;a++)c[a]=0;for(a=102065;102067>=a;a++)c[a]=0;for(a=102070;102117>=a;a++)c[a]=0;for(a=102122;102216>=a;a++)c[a]=0;for(a=102221;102377>=a;a++)c[a]=0;for(a=102382;102388>=a;a++)c[a]=0;for(a=102389;102398>=a;a++)c[a]=2;for(a=102399;102444>=a;a++)c[a]=0;for(a=102445;102447>=a;a++)c[a]=2;for(a=102448;102458>=a;a++)c[a]=0;for(a=102459;102468>=a;a++)c[a]=2;for(a=102469;102499>=a;a++)c[a]=0;for(a=102500;102519>=a;a++)c[a]=1;for(a=102520;102524>=
a;a++)c[a]=0;for(a=102525;102529>=a;a++)c[a]=2;for(a=102530;102588>=a;a++)c[a]=0;for(a=102590;102598>=a;a++)c[a]=0;for(a=102601;102603>=a;a++)c[a]=0;for(a=102605;102628>=a;a++)c[a]=0;for(a=102629;102646>=a;a++)c[a]=2;for(a=102648;102700>=a;a++)c[a]=2;for(a=102701;102703>=a;a++)c[a]=0;for(a=102707;102730>=a;a++)c[a]=2;for(a=102733;102758>=a;a++)c[a]=2;for(a=102767;102900>=a;a++)c[a]=0;for(a=102965;102969>=a;a++)c[a]=0;for(a=102971;102973>=a;a++)c[a]=0;for(a=102975;102989>=a;a++)c[a]=0;for(a=102990;102992>=
a;a++)c[a]=1;for(a=102997;103002>=a;a++)c[a]=0;for(a=103003;103008>=a;a++)c[a]=2;for(a=103009;103011>=a;a++)c[a]=0;for(a=103012;103014>=a;a++)c[a]=2;for(a=103019;103021>=a;a++)c[a]=0;for(a=103022;103024>=a;a++)c[a]=2;for(a=103029;103031>=a;a++)c[a]=0;for(a=103032;103034>=a;a++)c[a]=2;for(a=103065;103068>=a;a++)c[a]=0;for(a=103074;103076>=a;a++)c[a]=0;for(a=103077;103079>=a;a++)c[a]=1;for(a=103080;103082>=a;a++)c[a]=0;for(a=103083;103085>=a;a++)c[a]=2;for(a=103090;103093>=a;a++)c[a]=0;for(a=103097;103099>=
a;a++)c[a]=0;for(a=103100;103102>=a;a++)c[a]=2;for(a=103107;103109>=a;a++)c[a]=0;for(a=103110;103112>=a;a++)c[a]=2;for(a=103113;103116>=a;a++)c[a]=0;for(a=103117;103120>=a;a++)c[a]=2;for(a=103153;103157>=a;a++)c[a]=0;for(a=103158;103162>=a;a++)c[a]=2;for(a=103163;103165>=a;a++)c[a]=0;for(a=103166;103168>=a;a++)c[a]=1;for(a=103169;103171>=a;a++)c[a]=2;for(a=103186;103188>=a;a++)c[a]=0;for(a=103189;103191>=a;a++)c[a]=2;for(a=103192;103195>=a;a++)c[a]=0;for(a=103196;103199>=a;a++)c[a]=2;for(a=103200;103224>=
a;a++)c[a]=0;for(a=103225;103227>=a;a++)c[a]=1;for(a=103232;103237>=a;a++)c[a]=0;for(a=103238;103243>=a;a++)c[a]=2;for(a=103244;103246>=a;a++)c[a]=0;for(a=103247;103249>=a;a++)c[a]=2;for(a=103254;103256>=a;a++)c[a]=0;for(a=103257;103259>=a;a++)c[a]=2;for(a=103264;103266>=a;a++)c[a]=0;for(a=103267;103269>=a;a++)c[a]=2;for(a=103300;103375>=a;a++)c[a]=0;for(a=103381;103383>=a;a++)c[a]=0;for(a=103384;103386>=a;a++)c[a]=1;for(a=103387;103389>=a;a++)c[a]=0;for(a=103390;103392>=a;a++)c[a]=2;for(a=103397;103399>=
a;a++)c[a]=0;for(a=103400;103471>=a;a++)c[a]=2;for(a=103476;103478>=a;a++)c[a]=0;for(a=103479;103481>=a;a++)c[a]=2;for(a=103486;103488>=a;a++)c[a]=0;for(a=103489;103491>=a;a++)c[a]=2;for(a=103492;103495>=a;a++)c[a]=0;for(a=103496;103499>=a;a++)c[a]=2;for(a=103528;103543>=a;a++)c[a]=0;for(a=103544;103548>=a;a++)c[a]=2;for(a=103549;103551>=a;a++)c[a]=0;for(a=103552;103554>=a;a++)c[a]=1;for(a=103555;103557>=a;a++)c[a]=2;for(a=103558;103560>=a;a++)c[a]=0;for(a=103571;103573>=a;a++)c[a]=0;for(a=103574;103576>=
a;a++)c[a]=2;for(a=103577;103580>=a;a++)c[a]=0;for(a=103581;103583>=a;a++)c[a]=2;for(a=103595;103694>=a;a++)c[a]=0;for(a=103696;103699>=a;a++)c[a]=0;for(a=103700;103793>=a;a++)c[a]=2;for(a=103794;103872>=a;a++)c[a]=0;for(a=103900;103971>=a;a++)c[a]=2;return c})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./lang ./maybe ./accessorSupport/ensureType ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./ObjectPool ./ArrayPool ./scheduling ./Evented".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w){function n(y){return y?y instanceof E?y.toArray():y.length?Array.prototype.slice.apply(y):[]:[]}function q(y){if(y&&y.length)return y[0]}function h(y,x,z,D){x&&x.forEach((v,G,I)=>{y.push(v);h(y,z.call(D,v,G,I),z,D)})}var d;let g=function(){function y(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var x=y.prototype;x.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};x.reset=function(z){this.defaultPrevented=
!1;this.item=z};return y}();const u=new k(g,void 0,y=>{y.item=null;y.target=null;y.defaultPrevented=!1;y.cancellable=!1}),t=()=>{},B=new Set,F=new Set,H=new Set,C=new Map;let A=0,E=d=function(y){function x(D){D=y.call(this,D)||this;D._chgListeners=[];D._notifications=null;D._timer=null;D.length=0;D._items=[];Object.defineProperty(a._assertThisInitialized(D),"uid",{value:A++});return D}a._inheritsLoose(x,y);x.isCollection=function(D){return null!=D&&D instanceof d};var z=x.prototype;z.normalizeCtorArgs=
function(D){return D?Array.isArray(D)||D instanceof d?{items:D}:D:{}};z[Symbol.iterator]=function*(){yield*this.items};z.hasEventListener=function(D){return"change"===D?0<this._chgListeners.length:this._emitter.hasEventListener(D)};z.on=function(D,v){if("change"===D){const G=this._chgListeners,I={removed:!1,callback:v};G.push(I);this._notifications&&this._notifications.push({listeners:G.slice(),items:this._items.slice(),changes:[]});return{remove(){this.remove=t;I.removed=!0;G.splice(G.indexOf(I),
1)}}}return this._emitter.on(D,v)};z.once=function(D,v){const G=this.on(D,v);return{remove(){G.remove()}}};z.add=function(D,v){if(this._emitBeforeChanges(1))return this;v=this.getNextIndex(null!=v?v:null);this._splice(v,0,D);this._emitAfterChanges(1);return this};z.addMany=function(D,v=this._items.length){if(!D||!D.length||this._emitBeforeChanges(1))return this;v=this.getNextIndex(v);this._splice(v,0,...n(D));this._emitAfterChanges(1);return this};z.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];
const D=this._splice(0,this.length)||[];this._emitAfterChanges(2);return D};z.clone=function(){return this._createNewInstance({items:this._items.map(b.clone)})};z.concat=function(...D){D=D.map(n);return this._createNewInstance({items:this._items.concat(...D)})};z.drain=function(D,v){if(this.length&&!this._emitBeforeChanges(2)){var G=l.assumeNonNull(this._splice(0,this.length)),I=G.length;for(let O=0;O<I;O++)D.call(v,G[O],O,G);this._emitAfterChanges(2)}};z.every=function(D,v){return this._items.every(D,
v)};z.filter=function(D,v){let G;G=2===arguments.length?this._items.filter(D,v):this._items.filter(D);return this._createNewInstance({items:G})};z.find=function(D,v){return this._items.find(D,v)};z.findIndex=function(D,v){return this._items.findIndex(D,v)};z.flatten=function(D,v){const G=[];h(G,this,D,v);return new d(G)};z.forEach=function(D,v){return this._items.forEach(D,v)};z.getItemAt=function(D){return this._items[D]};z.getNextIndex=function(D){const v=this.length;D=null==D?v:D;0>D?D=0:D>v&&
(D=v);return D};z.includes=function(D,v=0){return this._items.includes(D,v)};z.indexOf=function(D,v=0){return this._items.indexOf(D,v)};z.join=function(D=","){return this._items.join(D)};z.lastIndexOf=function(D,v=this.length-1){return this._items.lastIndexOf(D,v)};z.map=function(D,v){D=this._items.map(D,v);return new d({items:D})};z.reorder=function(D,v=this.length-1){const G=this.indexOf(D);if(-1!==G){0>v?v=0:v>=this.length&&(v=this.length-1);if(G!==v){if(this._emitBeforeChanges(4))return D;this._splice(G,
1);this._splice(v,0,D);this._emitAfterChanges(4)}return D}};z.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var D=q(this._splice(this.length-1,1));this._emitAfterChanges(2);return D}};z.push=function(...D){if(this._emitBeforeChanges(1))return this.length;this._splice(this.length,0,...D);this._emitAfterChanges(1);return this.length};z.reduce=function(D,v){const G=this._items;return 2===arguments.length?G.reduce(D,v):G.reduce(D)};z.reduceRight=function(D,v){const G=this._items;return 2===
arguments.length?G.reduceRight(D,v):G.reduceRight(D)};z.remove=function(D){return this.removeAt(this.indexOf(D))};z.removeAt=function(D){if(!(0>D||D>=this.length||this._emitBeforeChanges(2)))return D=q(this._splice(D,1)),this._emitAfterChanges(2),D};z.removeMany=function(D){if(!D||!D.length||this._emitBeforeChanges(2))return[];D=D instanceof d?D.toArray():D;const v=this._items,G=[],I=D.length;for(let R=0;R<I;R++){var O=v.indexOf(D[R]);if(-1<O){{var L=R+1;var N=O+1;const K=Math.min(D.length-L,v.length-
N);let U=0;for(;U<K&&D[L+U]===v[N+U];)U++;L=U}L=1+L;(O=this._splice(O,L))&&0<O.length&&G.push.apply(G,O);R+=L-1}}this._emitAfterChanges(2);return G};z.reverse=function(){if(this._emitBeforeChanges(4))return this;const D=this._splice(0,this.length);D&&(D.reverse(),this._splice(0,0,...D));this._emitAfterChanges(4);return this};z.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var D=q(this._splice(0,1));this._emitAfterChanges(2);return D}};z.slice=function(D=0,v=this.length){return this._createNewInstance({items:this._items.slice(D,
v)})};z.some=function(D,v){return this._items.some(D,v)};z.sort=function(D){if(!this.length||this._emitBeforeChanges(4))return this;const v=l.assumeNonNull(this._splice(0,this.length));arguments.length?v.sort(D):v.sort();this._splice(0,0,...v);this._emitAfterChanges(4);return this};z.splice=function(D,v,...G){const I=(v?2:0)|(G.length?1:0);if(this._emitBeforeChanges(I))return[];D=this._splice(D,v,...G)||[];this._emitAfterChanges(I);return D};z.toArray=function(){return this._items.slice()};z.toJSON=
function(){return this.toArray()};z.toLocaleString=function(){return this._items.toLocaleString()};z.toString=function(){return this._items.toString()};z.unshift=function(...D){if(!D.length||this._emitBeforeChanges(1))return this.length;this._splice(0,0,...D);this._emitAfterChanges(1);return this.length};z._createNewInstance=function(D){return new this.constructor(D)};z._splice=function(D,v,...G){const I=this._items;var O=this.constructor.prototype.itemType;let L=void 0;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=p.schedule(()=>this._dispatchChange()));if(v){L=I.splice(D,v);if(this.hasEventListener("before-remove")){var N=u.acquire();N.target=this;N.cancellable=!0;for(let U=0,P=L.length;U<P;U++)v=L[U],N.reset(v),this.emit("before-remove",N),N.defaultPrevented&&(L.splice(U,1),I.splice(D,0,v),D+=1,--U,--P);u.release(N)}this.length=this._items.length;if(this.hasEventListener("after-remove")){v=
u.acquire();v.target=this;v.cancellable=!1;N=L.length;for(let U=0;U<N;U++)v.reset(L[U]),this.emit("after-remove",v);u.release(v)}}if(G&&G.length){if(O){v=[];for(var R of G)G=O.ensureType(R),null==G&&null!=R||v.push(G);G=v}O=this.hasEventListener("before-add");R=this.hasEventListener("after-add");v=D===this.length;if(O||R){var K=u.acquire();K.target=this;K.cancellable=!0;N=u.acquire();N.target=this;N.cancellable=!1;for(const U of G)O?(K.reset(U),this.emit("before-add",K),K.defaultPrevented||(v?I.push(U):
I.splice(D++,0,U),this._set("length",I.length),R&&(N.reset(U),this.emit("after-add",N)))):(v?I.push(U):I.splice(D++,0,U),this._set("length",I.length),N.reset(U),this.emit("after-add",N));u.release(N);u.release(K)}else{if(v)for(K of G)I.push(K);else I.splice(D,0,...G);this._set("length",I.length)}}(G&&G.length||L&&L.length)&&this._notifyChangeEvent(G,L);return L};z._emitBeforeChanges=function(D){let v=!1;if(this.hasEventListener("before-changes")){const G=u.acquire();G.target=this;G.cancellable=!0;
G.type=D;this.emit("before-changes",G);v=G.defaultPrevented;u.release(G)}return v};z._emitAfterChanges=function(D){if(this.hasEventListener("after-changes")){const v=u.acquire();v.target=this;v.cancellable=!1;v.type=D;this.emit("after-changes",v);u.release(v)}};z._notifyChangeEvent=function(D,v){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:D,removed:v})};z._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=
null);if(this._notifications){var D=this._notifications;this._notifications=null;for(const v of D){D=v.changes;B.clear();F.clear();H.clear();for(const {added:R,removed:K}of D){if(R)if(0===H.size&&0===F.size)for(const U of R)B.add(U);else for(const U of R)F.has(U)?(H.add(U),F.delete(U)):H.has(U)||B.add(U);if(K)if(0===H.size&&0===B.size)for(const U of K)F.add(U);else for(const U of K)B.has(U)?B.delete(U):(H.delete(U),F.add(U))}const G=r.acquire();B.forEach(R=>{G.push(R)});const I=r.acquire();F.forEach(R=>
{I.push(R)});const O=this._items,L=v.items,N=r.acquire();H.forEach(R=>{L.indexOf(R)!==O.indexOf(R)&&N.push(R)});if(v.listeners&&(G.length||I.length||N.length)){D={target:this,added:G,removed:I,moved:N};const R=v.listeners.length;for(let K=0;K<R;K++){const U=v.listeners[K];U.removed||U.callback.call(this,D)}}r.release(G);r.release(I);r.release(N)}B.clear();F.clear();H.clear()}};a._createClass(x,[{key:"items",get:function(){return this._items},set:function(D){this._emitBeforeChanges(1)||(this._splice(0,
this.length,...n(D)),this._emitAfterChanges(1))}}]);return x}(w.EventedAccessor);E.ofType=y=>{if(!y)return d;if(C.has(y))return C.get(y);var x=null;if("function"===typeof y)x=y.prototype.declaredClass;else if(y.base)x=y.base.prototype.declaredClass;else for(var z in y.typeMap){const D=y.typeMap[z].prototype.declaredClass;x=x?x+` | ${D}`:D}z=function(D){function v(){return D.apply(this,arguments)||this}a._inheritsLoose(v,D);return v}(d);z=c.__decorate([e.subclass(`esri.core.Collection<${x}>`)],z);
x={Type:y,ensureType:"function"===typeof y?m.ensureType(y):m.ensureOneOfType(y)};Object.defineProperty(z.prototype,"itemType",{value:x});C.set(y,z);return z};c.__decorate([f.property()],E.prototype,"length",void 0);c.__decorate([f.property()],E.prototype,"items",null);return E=d=c.__decorate([e.subclass("esri.core.Collection")],E)})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,c){a.castForReferenceSetter=function(b){return b};a.referenceSetter=function(b,l,
m=c){l||(l=new m);if(l===b)return l;l.removeAll();b&&(Array.isArray(b)||"items"in b&&Array.isArray(b.items))?l.addMany(b):b&&l.add(b);return l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./Warning ./accessorSupport/decorators/subclass ./Error ./promiseUtils ./Promise".split(" "),function(a,c,b,l,m,f,e,k){const r=p=>{p=function(w){function n(...h){var d=w.call(this,
...h)||this;d._loadController=null;d.loadError=null;d.loadStatus="not-loaded";d._set("loadWarnings",[]);d.addResolvingPromise(new Promise(g=>{const u=d.load.bind(a._assertThisInitialized(d));d.load=t=>{const B=new Promise((F,H)=>{const C=e.onAbortOrThrow(t,H);d.destroyed&&H(new f("load:instance-destroyed",`Instance of '${d.declaredClass||d.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(d)}));d._promiseProps.when(F,H).finally(()=>{C&&C.remove()})});if("not-loaded"===d.loadStatus){d._set("loadStatus",
"loading");const F=d._loadController=e.createAbortController();u({signal:F.signal});e.onAbort(F.signal,()=>{d._promiseProps.abort()})}g();return B}}));d.when(()=>{d._set("loadStatus","loaded");d._loadController=null},g=>{d._set("loadStatus","failed");d._set("loadError",g);d._loadController=null});return d}a._inheritsLoose(n,w);var q=n.prototype;q.load=function(){return null};q.cancelLoad=function(){var h;if(this.isFulfilled())return this;this._set("loadError",new f("load:cancelled","Cancelled"));
null==(h=this._loadController)?void 0:h.abort();return this};a._createClass(n,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return n}(p);c.__decorate([b.property({readOnly:!0,dependsOn:["loadStatus"]})],p.prototype,"loaded",null);c.__decorate([b.property({readOnly:!0})],p.prototype,"loadError",void 0);c.__decorate([b.property()],p.prototype,"loadStatus",void 0);c.__decorate([b.property({type:[l],readOnly:!0})],
p.prototype,"loadWarnings",null);return p=c.__decorate([m.subclass("esri.core.Loadable")],p)};k=function(p){function w(){return p.apply(this,arguments)||this}a._inheritsLoose(w,p);return w}(r(k.EsriPromise));k=c.__decorate([m.subclass("esri.core.Loadable")],k);(function(p){p.LoadableMixin=r;p.isLoadable=function(w){return!(!w||!w.load)}})(k||(k={}));return k})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/decorators/subclass ./promiseUtils ./Accessor".split(" "),
function(a,c,b,l,m,f,e){let k=function(){function p(n){this.instance=n;this._resolver=f.createDeferred();this._status=0;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=1;this._cleanUp()},()=>{this._status=2;this._cleanUp()})}var w=p.prototype;w.addResolvingPromise=function(n){this._resolvingPromises.push(n);this._tryResolve()};w.isResolved=function(){return 1===this._status};w.isRejected=function(){return 2===this._status};w.isFulfilled=function(){return 0!==this._status};
w.abort=function(){this._resolver.reject(f.createAbortError())};w.when=function(n,q){return this._resolver.promise.then(n,q)};w._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};w._tryResolve=function(){if(!this.isFulfilled()){var n=f.createDeferred(),q=[...this._resolvingPromises,l.assumeNonNull(n.promise)],h=this._allPromise=f.all(q);h.then(()=>{this.isFulfilled()||this._allPromise!==h||this._resolver.resolve(this.instance)},d=>{this.isFulfilled()||this._allPromise!==
h||f.isAbortError(d)||this._resolver.reject(d)});n.resolve()}};return p}();const r=p=>{p=function(w){function n(...h){h=w.call(this,...h)||this;h._promiseProps=new k(c._assertThisInitialized(h));h.addResolvingPromise(f.resolve());return h}c._inheritsLoose(n,w);var q=n.prototype;q.isResolved=function(){return this._promiseProps.isResolved()};q.isRejected=function(){return this._promiseProps.isRejected()};q.isFulfilled=function(){return this._promiseProps.isFulfilled()};q.when=function(h,d){return f.create((g,
u)=>{this._promiseProps.when(g,u)}).then(h,d)};q.catch=function(h){return this.when(null,h)};q.addResolvingPromise=function(h){h&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in h?h.when():h)};return n}(p);return p=b.__decorate([m.subclass("esri.core.Promise")],p)};a.EsriPromise=function(p){function w(){return p.apply(this,arguments)||this}c._inheritsLoose(w,p);return w}(r(e));a.EsriPromise=b.__decorate([m.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=
r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../config ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/promiseUtils ../core/JSONSupport ../geometry/Extent ../intl/locale ../kernel ../request ../intl ../core/Loadable ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D){function v(L){return Object.freeze({__proto__:null,"default":L})}var G;let I;const O={PortalGroup:()=>new Promise(function(L,N){a(["./PortalGroup"],function(R){L(v(R))},N)}),PortalItem:()=>new Promise(function(L,N){a(["./PortalItem"],function(R){L(v(R))},N)}),PortalUser:()=>new Promise(function(L,N){a(["./PortalUser"],function(R){L(v(R))},N)})};l=G=function(L){function N(K){K=L.call(this,K)||this;K.access=null;K.allSSL=!1;K.authMode=
"auto";K.authorizedCrossOriginDomains=null;K.basemapGalleryGroupQuery=null;K.bingKey=null;K.canListApps=!1;K.canListData=!1;K.canListPreProvisionedItems=!1;K.canProvisionDirectPurchase=!1;K.canSearchPublic=!0;K.canShareBingPublic=!1;K.canSharePublic=!1;K.canSignInArcGIS=!1;K.canSignInIDP=!1;K.colorSetsGroupQuery=null;K.commentsEnabled=!1;K.created=null;K.culture=null;K.customBaseUrl=null;K.defaultBasemap=null;K.defaultExtent=null;K.defaultVectorBasemap=null;K.description=null;K.eueiEnabled=null;K.featuredGroups=
null;K.featuredItemsGroupQuery=null;K.galleryTemplatesGroupQuery=null;K.livingAtlasGroupQuery=null;K.hasCategorySchema=!1;K.helperServices=null;K.homePageFeaturedContent=null;K.homePageFeaturedContentCount=null;K.httpPort=null;K.httpsPort=null;K.id=null;K.ipCntryCode=null;K.isPortal=!1;K.isReadOnly=!1;K.layerTemplatesGroupQuery=null;K.maxTokenExpirationMinutes=null;K.modified=null;K.name=null;K.portalHostname=null;K.portalMode=null;K.portalProperties=null;K.region=null;K.rotatorPanels=null;K.showHomePageDescription=
!1;K.sourceJSON=null;K.supportsHostedServices=!1;K.symbolSetsGroupQuery=null;K.templatesGroupQuery=null;K.units=null;K.url=f.portalUrl;K.urlKey=null;K.user=null;K.useStandardizedQuery=!1;K.useVectorBasemaps=!1;K.vectorBasemapGalleryGroupQuery=null;return K}c._inheritsLoose(N,L);var R=N.prototype;R.normalizeCtorArgs=function(K){return"string"===typeof K?{url:K}:K};R.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=
null)};R.readAuthorizedCrossOriginDomains=function(K){if(K)for(const U of K)-1===f.request.trustedServers.indexOf(U)&&f.request.trustedServers.push(U);return K};R.readDefaultBasemap=function(K){return K?(K=I.fromJSON(K),K.portalItem={portal:this},K):null};R.readDefaultVectorBasemap=function(K){return K?(K=I.fromJSON(K),K.portalItem={portal:this},K):null};R.readUrlKey=function(K){return K?K.toLowerCase():K};R.readUser=function(K){let U=null;K&&(U=D.fromJSON(K),U.portal=this);return U};R.load=function(K){const U=
(new Promise(function(P,J){a(["../Basemap"],function(S){P(v(S))},J)})).then(({default:P})=>{t.throwIfAborted(K);I=P}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,K)).then(P=>{if(C.id){const J=C.id;this.credential=J.findCredential(this.restUrl);this.credential||this.authMode!==G.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=J.on("credential-create",()=>{J.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=P;this.read(P)});this.addResolvingPromise(U);
return t.resolve(this)};R.createClosestFacilityTask=async function(){await this.load();const K=this._getHelperServiceUrl("closestFacility");return new (await new Promise(function(U,P){a(["../tasks/ClosestFacilityTask"],function(J){U(v(J))},P)})).default(K)};R.createElevationLayers=async function(){await this.load();const K=this._getHelperService("defaultElevationLayers"),U=(await new Promise(function(P,J){a(["../layers/ElevationLayer"],function(S){P(v(S))},J)})).default;return K?K.map(P=>new U({id:P.id,
url:P.url})):[]};R.createGeometryService=async function(){await this.load();const K=this._getHelperServiceUrl("geometry");return new (await new Promise(function(U,P){a(["../tasks/GeometryService"],function(J){U(v(J))},P)})).default({url:K})};R.createPrintTask=async function(){await this.load();const K=this._getHelperServiceUrl("printTask");return new (await new Promise(function(U,P){a(["../tasks/PrintTask"],function(J){U(v(J))},P)})).default(K)};R.createRouteTask=async function(){await this.load();
const K=this._getHelperServiceUrl("route");return new (await new Promise(function(U,P){a(["../tasks/RouteTask"],function(J){U(v(J))},P)})).default(K)};R.createServiceAreaTask=async function(){await this.load();const K=this._getHelperServiceUrl("serviceArea");return new (await new Promise(function(U,P){a(["../tasks/ServiceAreaTask"],function(J){U(v(J))},P)})).default(K)};R.fetchBasemaps=function(K,U){const P=new x;P.query=K||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);
P.disableExtraQuery=!0;return this.queryGroups(P,U).then(J=>{P.num=100;P.query='type:"Web Map" -type:"Web Application"';return J.total?(J=J.results[0],P.sortField=J.sortField||"name",P.sortOrder=J.sortOrder||"desc",J.queryItems(P,U)):null}).then(J=>J&&J.total?J.results.filter(S=>"Web Map"===S.type).map(S=>new I({portalItem:S})):[])};R.fetchCategorySchema=function(K){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",K).then(U=>U.categorySchema):t.isAborted(K)?
t.reject(t.createAbortError()):t.resolve([])};R.fetchFeaturedGroups=function(K){const U=this.featuredGroups,P=new x;P.num=100;P.sortField="title";if(U&&U.length){const J=[];for(const S of U)J.push(`(title:"${S.title}" AND owner:${S.owner})`);P.query=J.join(" OR ");return this.queryGroups(P,K).then(S=>S.results)}return t.isAborted(K)?t.reject(t.createAbortError()):t.resolve([])};R.fetchRegions=function(K){const U=this.user&&this.user.culture||this.culture||H.getLocale();return this._request(this.restUrl+
"/portals/regions",{...K,query:{culture:U}})};N.getDefault=function(){if(!G._default||G._default.destroyed)G._default=new G;return G._default};R.queryGroups=function(K,U){return this._queryPortal("/community/groups",K,"PortalGroup",U)};R.queryItems=function(K,U){return this._queryPortal("/search",K,"PortalItem",U)};R.queryUsers=function(K,U){K.sortField||(K.sortField="username");return this._queryPortal("/community/users",K,"PortalUser",U)};R.toJSON=function(){throw new h("internal:not-yet-implemented",
"Portal.toJSON is not yet implemented");};N.fromJSON=function(K){if(!K)return null;if(K.declaredClass)throw Error("JSON object is already hydrated");return new G({sourceJSON:K})};R._getHelperService=function(K){const U=this.helperServices&&this.helperServices[K];if(!U)throw new h("portal:service-not-found",`The \`helperServices\` do not include an entry named "${K}"`);return U};R._getHelperServiceUrl=function(K){const U=this._getHelperService(K);if(!U.url)throw new h("portal:service-url-not-found",
`The \`helperServices\` entry "${K}" does not include a \`url\` value`);return U.url};R._fetchSelf=function(K=this.authMode,U=!1,P){const J=this.restUrl+"/portals/self";K={authMode:K,query:{culture:H.getLocale().toLowerCase()},...P};"auto"===K.authMode&&(K.authMode="no-prompt");U&&(K.query.default=!0);return this._request(J,K)};R._queryPortal=function(K,U,P,J){const S=r.ensureType(x,U),W=M=>this._request(this.restUrl+K,{...S.toRequestOptions(this),...J}).then(T=>{const X=S.clone();X.start=T.nextStart;
return new z({nextQueryParams:X,queryParams:S,total:T.total,results:G._resultsToTypedArray(M,{portal:this},T,J)})}).then(T=>t.all(T.results.map(X=>"function"===typeof X.when?X.when():T)).then(()=>T,X=>{t.throwIfAbortError(X);return T}));return P&&O[P]?O[P]().then(({default:M})=>{t.throwIfAborted(J);return W(M)}):W()};R._signIn=function(){if(this.authMode===G.AUTH_MODE_ANONYMOUS)return t.reject(new h("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return t.reject(this.loadError);
const K=U=>t.resolve().then(()=>{if("not-loaded"===this.loadStatus)return U||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=U;return this._fetchSelf("immediate")});if(this.user&&this.credential===U)return null;this.credential=U;return this._fetchSelf("immediate")}).then(P=>{P&&(this.sourceJSON=P,this.read(P))});return C.id?C.id.getCredential(this.restUrl).then(U=>K(U)):K(this.credential)};
R._normalizeSSL=function(K){return K.replace(/^http:/i,"https:").replace(":7080",":7443")};R._normalizeUrl=function(K){const U=this.credential&&this.credential.token;return this._normalizeSSL(U?K+(-1<K.indexOf("?")?"\x26":"?")+"token\x3d"+U:K)};R._requestToTypedArray=function(K,U,P){return this._request(K,U).then(J=>{const S=G._resultsToTypedArray(P,{portal:this},J);return t.all(S.map(W=>"function"===typeof W.when?W.when():J)).then(()=>S,()=>S)})};R._request=function(K,U={}){const P={f:"json",...U.query},
{authMode:J=this.authMode===G.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:S=null,cacheBust:W=!1,method:M="auto",responseType:T="json",signal:X}=U;U={authMode:J,body:S,cacheBust:W,method:M,query:P,responseType:T,timeout:0,signal:X};return A(this._normalizeSSL(K),U).then(fa=>fa.data)};N._resultsToTypedArray=function(K,U,P,J){if(P){const S=e.isSome(J)?J.signal:null;P=P.listings||P.notifications||P.userInvitations||P.tags||P.items||P.groups||P.comments||P.provisions||P.results||P.relatedItems||P;if(K||
U)P=P.map(W=>{W=m.mixin(K?K.fromJSON(W):W,U);"function"===typeof W.load&&W.load(S);return W})}else P=[];return P};c._createClass(N,[{key:"extraQuery",get:function(){const K=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!K?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){let K=this.url;if(K){const U=K.indexOf("/sharing");K=0<U?K.substring(0,U):this.url.replace(/\/+$/,"");K+="/sharing/rest"}return K}},{key:"thumbnailUrl",
get:function(){const K=this.restUrl,U=this.thumbnail;return K&&U?this._normalizeSSL(K+"/portals/self/resources/"+U):null}}]);return N}(B.JSONSupportMixin(y));l.AUTH_MODE_ANONYMOUS="anonymous";l.AUTH_MODE_AUTO="auto";l.AUTH_MODE_IMMEDIATE="immediate";b.__decorate([p.property()],l.prototype,"access",void 0);b.__decorate([p.property()],l.prototype,"allSSL",void 0);b.__decorate([p.property()],l.prototype,"authMode",void 0);b.__decorate([p.property()],l.prototype,"authorizedCrossOriginDomains",void 0);
b.__decorate([n.reader("authorizedCrossOriginDomains")],l.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([p.property()],l.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"bingKey",void 0);b.__decorate([p.property()],l.prototype,"canListApps",void 0);b.__decorate([p.property()],l.prototype,"canListData",void 0);b.__decorate([p.property()],l.prototype,"canListPreProvisionedItems",void 0);b.__decorate([p.property()],l.prototype,"canProvisionDirectPurchase",
void 0);b.__decorate([p.property()],l.prototype,"canSearchPublic",void 0);b.__decorate([p.property()],l.prototype,"canShareBingPublic",void 0);b.__decorate([p.property()],l.prototype,"canSharePublic",void 0);b.__decorate([p.property()],l.prototype,"canSignInArcGIS",void 0);b.__decorate([p.property()],l.prototype,"canSignInIDP",void 0);b.__decorate([p.property()],l.prototype,"colorSetsGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"commentsEnabled",void 0);b.__decorate([p.property({type:Date})],
l.prototype,"created",void 0);b.__decorate([p.property()],l.prototype,"credential",void 0);b.__decorate([p.property()],l.prototype,"culture",void 0);b.__decorate([p.property()],l.prototype,"currentVersion",void 0);b.__decorate([p.property()],l.prototype,"customBaseUrl",void 0);b.__decorate([p.property()],l.prototype,"defaultBasemap",void 0);b.__decorate([n.reader("defaultBasemap")],l.prototype,"readDefaultBasemap",null);b.__decorate([p.property({type:F})],l.prototype,"defaultExtent",void 0);b.__decorate([p.property()],
l.prototype,"defaultVectorBasemap",void 0);b.__decorate([n.reader("defaultVectorBasemap")],l.prototype,"readDefaultVectorBasemap",null);b.__decorate([p.property()],l.prototype,"description",void 0);b.__decorate([p.property()],l.prototype,"eueiEnabled",void 0);b.__decorate([p.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],l.prototype,"extraQuery",null);b.__decorate([p.property()],l.prototype,"featuredGroups",void 0);b.__decorate([p.property()],l.prototype,"featuredItemsGroupQuery",
void 0);b.__decorate([p.property()],l.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"hasCategorySchema",void 0);b.__decorate([p.property()],l.prototype,"helpBase",void 0);b.__decorate([p.property()],l.prototype,"helperServices",void 0);b.__decorate([p.property()],l.prototype,"helpMap",void 0);b.__decorate([p.property()],l.prototype,"homePageFeaturedContent",void 0);b.__decorate([p.property()],
l.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([p.property()],l.prototype,"httpPort",void 0);b.__decorate([p.property()],l.prototype,"httpsPort",void 0);b.__decorate([p.property()],l.prototype,"id",void 0);b.__decorate([p.property()],l.prototype,"ipCntryCode",void 0);b.__decorate([p.property({dependsOn:["access"],readOnly:!0})],l.prototype,"isOrganization",null);b.__decorate([p.property()],l.prototype,"isPortal",void 0);b.__decorate([p.property()],l.prototype,"isReadOnly",void 0);
b.__decorate([p.property()],l.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([p.property({type:Date})],l.prototype,"modified",void 0);b.__decorate([p.property()],l.prototype,"name",void 0);b.__decorate([p.property()],l.prototype,"portalHostname",void 0);b.__decorate([p.property()],l.prototype,"portalMode",void 0);b.__decorate([p.property()],l.prototype,"portalProperties",void 0);b.__decorate([p.property()],l.prototype,
"region",void 0);b.__decorate([p.property({dependsOn:["url"],readOnly:!0})],l.prototype,"restUrl",null);b.__decorate([p.property()],l.prototype,"rotatorPanels",void 0);b.__decorate([p.property()],l.prototype,"showHomePageDescription",void 0);b.__decorate([p.property()],l.prototype,"sourceJSON",void 0);b.__decorate([p.property()],l.prototype,"staticImagesUrl",void 0);b.__decorate([p.property()],l.prototype,"stylesGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"supportsHostedServices",
void 0);b.__decorate([p.property()],l.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"templatesGroupQuery",void 0);b.__decorate([p.property()],l.prototype,"thumbnail",void 0);b.__decorate([p.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],l.prototype,"thumbnailUrl",null);b.__decorate([p.property()],l.prototype,"units",void 0);b.__decorate([p.property()],l.prototype,"url",void 0);b.__decorate([p.property()],l.prototype,"urlKey",void 0);b.__decorate([n.reader("urlKey")],
l.prototype,"readUrlKey",null);b.__decorate([p.property()],l.prototype,"user",void 0);b.__decorate([n.reader("user")],l.prototype,"readUser",null);b.__decorate([p.property()],l.prototype,"useStandardizedQuery",void 0);b.__decorate([p.property()],l.prototype,"useVectorBasemaps",void 0);b.__decorate([p.property()],l.prototype,"vectorBasemapGalleryGroupQuery",void 0);return l=G=b.__decorate([q.subclass("esri.portal.Portal")],l)})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports",
"../../object","./property"],function(a,c,b){a.reader=function(l,m,f){let e,k;void 0===m||Array.isArray(m)?(k=l,f=m,e=[void 0]):(k=m,e=Array.isArray(l)?l:[l]);return(r,p)=>{const w=r.constructor.prototype;e.forEach(n=>{n=b.propertyJSONMeta(r,n,k);n.read&&"object"!==typeof n.read&&(n.read={});c.setDeepValue("read.reader",w[p],n);f&&(n.read.source=(n.read.source||[]).concat(f))})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){function H(A,E,y){return null==E?y:null==y?E:A(E,y)}var C;b=C=function(A){function E(...x){x=A.call(this,...x)||this;x.type="extent";x.xmin=0;x.ymin=0;x.mmin=void 0;x.zmin=void 0;x.xmax=0;x.ymax=0;x.mmax=void 0;x.zmax=void 0;return x}a._inheritsLoose(E,A);var y=E.prototype;y.normalizeCtorArgs=function(x,z,D,v,G){return!x||"esri.geometry.SpatialReference"!==x.declaredClass&&null==x.wkid?"object"===typeof x?(x.spatialReference=null==x.spatialReference?
d.WGS84:x.spatialReference,x):{xmin:x,ymin:z,xmax:D,ymax:v,spatialReference:null==G?d.WGS84:G}:{spatialReference:x,xmin:0,ymin:0,xmax:0,ymax:0}};E.fromBounds=function(x,z){return new C({xmin:x[0],ymin:x[1],xmax:x[2],ymax:x[3],spatialReference:z})};y.centerAt=function(x){const z=this.center;return null!=x.z&&this.hasZ?this.offset(x.x-z.x,x.y-z.y,x.z-z.z):this.offset(x.x-z.x,x.y-z.y)};y.clone=function(){const x=new C;x.xmin=this.xmin;x.ymin=this.ymin;x.xmax=this.xmax;x.ymax=this.ymax;x.spatialReference=
this.spatialReference;null!=this.zmin&&(x.zmin=this.zmin,x.zmax=this.zmax);null!=this.mmin&&(x.mmin=this.mmin,x.mmax=this.mmax);return x};y.contains=function(x){if(!x)return!1;const z=this.spatialReference,D=x.spatialReference;z&&D&&!z.equals(D)&&u.canProject(z,D)&&(x=z.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return"point"===x.type?B.extentContainsPoint(this,x):"extent"===x.type?B.extentContainsExtent(this,x):!1};y.equals=function(x){if(!x)return!1;const z=this.spatialReference,
D=x.spatialReference;z&&D&&!z.equals(D)&&u.canProject(z,D)&&(x=z.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return this.xmin===x.xmin&&this.ymin===x.ymin&&this.zmin===x.zmin&&this.mmin===x.mmin&&this.xmax===x.xmax&&this.ymax===x.ymax&&this.zmax===x.zmax&&this.mmax===x.mmax};y.expand=function(x){x=.5*(1-x);var z=this.width*x;const D=this.height*x;this.xmin+=z;this.ymin+=D;this.xmax-=z;this.ymax-=D;this.hasZ&&(z=(this.zmax-this.zmin)*x,this.zmin+=z,this.zmax-=z);this.hasM&&
(x*=this.mmax-this.mmin,this.mmin+=x,this.mmax-=x);return this};y.intersects=function(x){if(l.isNone(x))return!1;"mesh"===x.type&&(x=x.extent);const z=this.spatialReference,D=x.spatialReference;z&&D&&!z.equals(D)&&u.canProject(z,D)&&(x=z.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return F.getExtentIntersector(x.type)(this,x)};y.normalize=function(){const x=this._normalize(!1,!0);return Array.isArray(x)?x:[x]};y.offset=function(x,z,D){this.xmin+=x;this.ymin+=z;this.xmax+=
x;this.ymax+=z;null!=D&&(this.zmin+=D,this.zmax+=D);return this};y.shiftCentralMeridian=function(){return this._normalize(!0)};y.union=function(x){this.xmin=Math.min(this.xmin,x.xmin);this.ymin=Math.min(this.ymin,x.ymin);this.xmax=Math.max(this.xmax,x.xmax);this.ymax=Math.max(this.ymax,x.ymax);if(this.hasZ||x.hasZ)this.zmin=H(Math.min,this.zmin,x.zmin),this.zmax=H(Math.max,this.zmax,x.zmax);if(this.hasM||x.hasM)this.mmin=H(Math.min,this.mmin,x.mmin),this.mmax=H(Math.max,this.mmax,x.mmax);return this};
y.intersection=function(x){if(!this.intersects(x))return null;this.xmin=Math.max(this.xmin,x.xmin);this.ymin=Math.max(this.ymin,x.ymin);this.xmax=Math.min(this.xmax,x.xmax);this.ymax=Math.min(this.ymax,x.ymax);if(this.hasZ||x.hasZ)this.zmin=H(Math.max,this.zmin,x.zmin),this.zmax=H(Math.min,this.zmax,x.zmax);if(this.hasM||x.hasM)this.mmin=H(Math.max,this.mmin,x.mmin),this.mmax=H(Math.min,this.mmax,x.mmax);return this};y.toJSON=function(x){return this.write(null,x)};y._shiftCM=function(x=h.getInfo(this.spatialReference)){if(!x||
!this.spatialReference)return this;const z=this.spatialReference,D=this._getCM(x);if(D){const v=z.isWebMercator?u.webMercatorToGeographic(D):D;this.xmin-=D.x;this.xmax-=D.x;z.isWebMercator||(v.x=this._normalizeX(v.x,x).x);this.spatialReference=new d(m.replace(z.isWGS84?x.altTemplate:x.wkTemplate,{Central_Meridian:v.x}))}return this};y._getCM=function(x){let z=null;const [D,v]=x.valid;x=this.xmin;const G=this.xmax;x>=D&&x<=v&&G>=D&&G<=v||(z=this.center);return z};y._normalize=function(x,z,D){const v=
this.spatialReference;if(!v)return this;D=D||h.getInfo(v);if(!D)return this;const G=this._getParts(D).map(L=>L.extent);if(2>G.length)return G[0]||this;if(2<G.length)return x?this._shiftCM(D):this.set({xmin:D.valid[0],xmax:D.valid[1]});if(x)return this._shiftCM(D);if(z)return G;let I=!0,O=!0;G.forEach(L=>{L.hasZ||(I=!1);L.hasM||(O=!1)});return{rings:G.map(L=>{const N=[[L.xmin,L.ymin],[L.xmin,L.ymax],[L.xmax,L.ymax],[L.xmax,L.ymin],[L.xmin,L.ymin]];if(I){var R=(L.zmax-L.zmin)/2;for(let K=0;K<N.length;K++)N[K].push(R)}if(O)for(L=
(L.mmax-L.mmin)/2,R=0;R<N.length;R++)N[R].push(L);return N}),hasZ:I,hasM:O,spatialReference:v}};y._getParts=function(x){let z=this.cache._parts;if(!z){z=[];const {ymin:R,ymax:K,spatialReference:U}=this;var D=this.width,v=this.xmin,G=this.xmax;x=x||h.getInfo(U);const [P,J]=x.valid;var I=this._normalizeX(this.xmin,x);var O=I.x,L=I.frameId;I=this._normalizeX(this.xmax,x);x=I.x;I=I.frameId;var N=O===x&&0<D;if(D>2*J){D=new C(v<G?O:x,R,J,K,U);v=new C(P,R,v<G?x:O,K,U);G=new C(0,R,J,K,U);O=new C(P,R,0,K,
U);x=[];N=[];D.contains(G)&&x.push(L);D.contains(O)&&N.push(L);v.contains(G)&&x.push(I);v.contains(O)&&N.push(I);for(let S=L+1;S<I;S++)x.push(S),N.push(S);z.push({extent:D,frameIds:[L]},{extent:v,frameIds:[I]},{extent:G,frameIds:x},{extent:O,frameIds:N})}else O>x||N?z.push({extent:new C(O,R,J,K,U),frameIds:[L]},{extent:new C(P,R,x,K,U),frameIds:[I]}):z.push({extent:new C(O,R,x,K,U),frameIds:[L]});this.cache._parts=z}I=this.hasZ;D=this.hasM;if(I||D)for(L={},I&&(L.zmin=this.zmin,L.zmax=this.zmax),D&&
(L.mmin=this.mmin,L.mmax=this.mmax),I=0;I<z.length;I++)z[I].extent.set(L);return z};y._normalizeX=function(x,z){const [D,v]=z.valid;z=2*v;var G=0;x>v?(G=Math.ceil(Math.abs(x-v)/z),x-=G*z):x<D&&(G=Math.ceil(Math.abs(x-D)/z),x+=G*z,G=-G);return{x,frameId:G}};a._createClass(E,[{key:"center",get:function(){const x=new t({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(x.z=.5*(this.zmin+this.zmax));this.hasM&&(x.m=.5*(this.mmin+this.mmax));return x}},
{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return E}(g);c.__decorate([k.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" "),autoTracked:!1})],b.prototype,"cache",void 0);c.__decorate([k.property({readOnly:!0,
dependsOn:["cache"],autoTracked:!1})],b.prototype,"center",null);c.__decorate([k.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],b.prototype,"extent",null);c.__decorate([k.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);c.__decorate([k.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);c.__decorate([k.property({readOnly:!0,dependsOn:["ymin","ymax"]})],
b.prototype,"height",null);c.__decorate([k.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);c.__decorate([k.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);c.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);c.__decorate([k.property({type:Number,
json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);c.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);c.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);b=C=c.__decorate([p.subclass("esri.geometry.Extent")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./SpatialReference".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(...t){t=d.call(this,...t)||this;t.type=null;t.hasM=!1;t.hasZ=!1;t.spatialReference=h.WGS84;return t}a._inheritsLoose(g,d);var u=g.prototype;u.readSpatialReference=function(t,B){if(t instanceof h)return t;if(null!=t){const F=new h;F.read(t,B);return F}return t};u.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};u.clearCache=function(){this.notifyChange("cache")};u.getCacheValue=function(t){return this.cache[t]};
u.setCacheValue=function(t,B){this.cache[t]=B};a._createClass(g,[{key:"cache",get:function(){return{}}},{key:"extent",get:function(){return null}}]);return g}(q.JSONSupport);c.__decorate([f.property()],b.prototype,"type",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],b.prototype,"cache",null);c.__decorate([f.property({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],b.prototype,"extent",null);c.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],
b.prototype,"hasM",void 0);c.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],b.prototype,"hasZ",void 0);c.__decorate([f.property({type:h,json:{write:!0}})],b.prototype,"spatialReference",void 0);c.__decorate([k.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=c.__decorate([r.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","./spatialReferenceUtils",
"../SpatialReference","./Ellipsoid"],function(a,c,b,l,m){function f(w,n,q,h,d){if("x"in w&&"x"in d)[d.x,d.y]=n(w.x,w.y,p,h);else if("xmin"in w&&"xmin"in d)[d.xmin,d.ymin]=n(w.xmin,w.ymin,p,h),[d.xmax,d.ymax]=n(w.xmax,w.ymax,p,h);else if("paths"in w&&"paths"in d||"rings"in w&&"rings"in d){w="paths"in w?w.paths:w.rings;var g=[];for(let t=0;t<w.length;t++){const B=w[t];var u=[];g.push(u);for(let F=0;F<B.length;F++)u.push(n(B[F][0],B[F][1],[0,0],h)),2<B[F].length&&u[F].push(B[F][2]),3<B[F].length&&u[F].push(B[F][3])}"paths"in
d?d.paths=g:d.rings=g}else if("points"in w&&"points"in d){w=w.points;g=[];for(u=0;u<w.length;u++)g[u]=n(w[u][0],w[u][1],[0,0],h),2<w[u].length&&g[u].push(w[u][2]),3<w[u].length&&g[u].push(w[u][3]);d.points=g}d.spatialReference=q;return d}function e(w,n){const q=w&&(null!=w.wkid||null!=w.wkt?w:w.spatialReference),h=n&&(null!=n.wkid||null!=n.wkt?n:n.spatialReference);return w&&"type"in w&&"mesh"===w.type||n&&"type"in n&&"mesh"===n.type||!q||!h?!1:b.equals(h,q)?!0:b.isWebMercator(h)&&b.isWGS84(q)||b.isWebMercator(q)&&
b.isWGS84(h)}function k(w,n,q=[0,0]){89.99999<n?n=89.99999:-89.99999>n&&(n=-89.99999);n*=.017453292519943;q[0]=.017453292519943*w*m.earth.radius;q[1]=m.earth.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n)));return q}function r(w,n,q=[0,0],h=!1){w=w/m.earth.radius*57.29577951308232;q[0]=h?w:w-360*Math.floor((w+180)/360);q[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*n/m.earth.radius)));return q}const p=[0,0];a.canProject=e;a.geographicToWebMercator=function(w,n=!1,q=c.clone(w)){return f(w,
k,l.WebMercator,n,q)};a.lngLatToXY=k;a.project=function(w,n){const q=w&&w.spatialReference;n=n&&(null!=n.wkid||null!=n.wkt?n:n.spatialReference);return e(q,n)?b.equals(q,n)?c.clone(w):b.isWebMercator(n)?f(w,k,l.WebMercator,!1,c.clone(w)):b.isWGS84(n)?f(w,r,l.WGS84,!1,c.clone(w)):null:null};a.webMercatorToGeographic=function(w,n=!1,q=c.clone(w)){return f(w,r,l.WGS84,n,q)};a.xyToLngLat=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/Ellipsoid":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers"],function(a,c){let b=function(){function e(k,r,p,w){this.semiMajorAxis=k;this.flattening=r;this.outerAtmosphereRimWidth=p;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=w?w:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=
(2*this.semiMajorAxis+this.semiMinorAxis)/3}c._createClass(e,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return e}();const l=new b(6378137,1/298.257223563,3E5,.006694379990137799),m=new b(3396190,.005886007555525457,23E4),f=new b(1737400,0,0);a.Ellipsoid=b;a.earth=l;a.mars=m;a.moon=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/offset ./support/pointUtils ./support/webMercatorUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){function H(y){return y&&("esri.geometry.SpatialReference"===y.declaredClass||null!=y.wkid)}var C;const A=[0,0],E=l.getLogger("esri.geometry.Point");b=C=function(y){function x(...D){D=y.call(this,...D)||this;D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inheritsLoose(x,y);x.copy=function(D,v){v._set("x",D._get("x"));v._set("y",D._get("y"));v._set("z",D._get("z"));v._set("m",D._get("m"));D=D._get("spatialReference");v._set("spatialReference",
Object.isFrozen(D)?D:D.clone())};var z=x.prototype;z.normalizeCtorArgs=function(D,v,G,I,O){let L;if(Array.isArray(D))L=D,O=v,D=L[0],v=L[1],G=L[2],I=L[3];else if(D&&"object"===typeof D){if(L=D,D=null!=L.x?L.x:L.longitude,v=null!=L.y?L.y:L.latitude,G=L.z,I=L.m,(O=L.spatialReference)&&"esri.geometry.SpatialReference"!==O.declaredClass&&(O=new g(O)),null!=L.longitude||null!=L.latitude)null==L.longitude?E.warn(".longitude\x3d","Latitude was defined without longitude"):null==L.latitude?E.warn(".latitude\x3d",
"Longitude was defined without latitude"):!L.declaredClass&&O&&O.isWebMercator&&(v=F.lngLatToXY(L.longitude,L.latitude,A),D=v[0],v=v[1])}else H(G)?(O=G,G=null):H(I)&&(O=I,I=null);D={x:D,y:v};null==D.x&&null!=D.y?E.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&E.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=O&&(D.spatialReference=O);null!=G&&(D.z=G);null!=I&&(D.m=I);return D};z.writeX=function(D,v,G){v[G]=isNaN(D)?"NaN":D};z.readX=
function(D){return"string"===typeof D?NaN:D};z.clone=function(){const D=new C;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};z.copy=function(D){C.copy(D,this);return this};z.equals=function(D){if(!D)return!1;const {x:v,y:G,z:I,m:O,spatialReference:L}=this,{z:N,m:R}=D;let {x:K,y:U,spatialReference:P}=D;if(!L.equals(P))if(L.isWebMercator&&P.isWGS84)[K,U]=F.lngLatToXY(K,U),P=L;else if(L.isWGS84&&P.isWebMercator)[K,U]=F.xyToLngLat(K,U),P=L;else return!1;
return v===K&&G===U&&I===N&&O===R&&L.wkid===P.wkid};z.offset=function(D,v,G){return t.offsetPoint(this,D,v,G)};z.normalize=function(){if(!this.spatialReference)return this;var D=d.getInfo(this.spatialReference);if(!D)return this;let v=this.x;const [G,I]=D.valid;D=2*I;let O;v>I?(O=Math.ceil(Math.abs(v-I)/D),v-=O*D):v<G&&(O=Math.ceil(Math.abs(v-G)/D),v+=O*D);this._set("x",v);return this};z.distance=function(D){return B.distance(this,D)};z.toArray=function(){const D=this.hasZ,v=this.hasM;return D&&v?
[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:v?[this.x,this.y,this.m]:[this.x,this.y]};z.toJSON=function(D){return this.write(null,D)};a._createClass(x,[{key:"hasM",get:function(){return void 0!==this.m},set:function(D){D!==this.hasM&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(D){D!==this.hasZ&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const D=this._get("spatialReference");if(D){if(D.isWebMercator)return F.xyToLngLat(this.x,
this.y,A)[1];if(D.isGeographic)return this._get("y")}return null},set:function(D){const v=this._get("spatialReference");v&&(v.isWebMercator?this._set("y",F.lngLatToXY(this.x,D,A)[1]):v.isGeographic&&this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const D=this._get("spatialReference");if(D){if(D.isWebMercator)return F.xyToLngLat(this._get("x"),this._get("y"),A)[0];if(D.isGeographic)return this._get("x")}return null},set:function(D){const v=this._get("spatialReference");
v&&(v.isWebMercator?this._set("x",F.lngLatToXY(D,this._get("y"),A)[0]):v.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return x}(u);c.__decorate([f.property({dependsOn:["x","y","z","m","spatialReference"],autoTracked:!1})],b.prototype,"cache",void 0);c.__decorate([f.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);c.__decorate([f.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
b.prototype,"hasZ",null);c.__decorate([f.property({type:Number,dependsOn:["y"],autoTracked:!1})],b.prototype,"latitude",null);c.__decorate([f.property({type:Number,dependsOn:["x"],autoTracked:!1})],b.prototype,"longitude",null);c.__decorate([f.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),e.cast(y=>isNaN(y)?y:m.ensureNumber(y))],b.prototype,"x",void 0);c.__decorate([w.writer("x")],b.prototype,"writeX",null);c.__decorate([r.reader("x")],b.prototype,"readX",
null);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);c.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);c.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);b=C=c.__decorate([p.subclass("esri.geometry.Point")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/offset":function(){define(["exports"],
function(a){a.offsetCoordsX=function(c,b){c[0]+=b;return c};a.offsetPoint=function(c,b,l,m){c.x+=b;c.y+=l;null!=m&&null!=c.z&&(c.z+=m);return c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(c,b){const l=c.x-b.x,m=c.y-b.y;c=c.hasZ&&b.hasZ?c.z-b.z:0;return Math.sqrt(l*l+m*m+c*c)};a.squareDistance=function(c,b){const l=c.x-b.x,m=c.y-b.y;c=c.hasZ&&b.hasZ?c.z-b.z:0;return l*l+m*m+c*c};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function c(e,k){return b(e,k[0],k[1])}function b(e,k,r,p){return k>=e.xmin&&k<=e.xmax&&r>=e.ymin&&r<=e.ymax?null!=p&&e.hasZ?p>=e.zmin&&p<=e.zmax:!0:!1}function l(e,k){if(e=e.rings)if(Array.isArray(e[0][0])){var r=!1;for(let p=0,w=e.length;p<w;p++)r=m(r,e[p],k);k=r}else k=m(!1,e,k);else k=!1;return k}function m(e,k,r){const [p,w]=r;r=0;for(let n=0,q=k.length;n<q;n++){r++;r===q&&(r=0);const [h,d]=
k[n],[g,u]=k[r];(d<w&&u>=w||u<w&&d>=w)&&h+(w-d)/(u-d)*(g-h)<p&&(e=!e)}return e}const f=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(e,k){return b(e,k[0],k[1],k[2])};a.extentContainsExtent=function(e,k){const {xmin:r,ymin:p,zmin:w,xmax:n,ymax:q,zmax:h}=k;return e.hasZ&&k.hasZ?b(e,r,p,w)&&b(e,r,q,w)&&b(e,n,q,w)&&b(e,n,p,w)&&b(e,r,p,h)&&b(e,r,q,h)&&b(e,n,q,h)&&b(e,n,p,h):b(e,r,p)&&b(e,r,q)&&b(e,n,q)&&b(e,n,p)};a.extentContainsMultipoint=function(e,k){if(!k.points||k.points.length)return!1;
for(const r of k.points)if(!c(e,r))return!1;return!0};a.extentContainsPoint=function(e,k){return b(e,k.x,k.y,k.z)};a.polygonContainsCoords=l;a.polygonContainsPoint=function(e,k){f[1]=k.y;f[0]=k.x;return l(e,f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/intersects":function(){define(["exports","./contains"],function(a,c){function b(u,t){return c.extentContainsPoint(u,t)}function l(u,t){var B=u.hasZ&&t.hasZ;if(u.xmin<=t.xmin){var F=t.xmin;if(u.xmax<F)return!1}else if(F=
u.xmin,t.xmax<F)return!1;if(u.ymin<=t.ymin){if(F=t.ymin,u.ymax<F)return!1}else if(F=u.ymin,t.ymax<F)return!1;if(B&&t.hasZ)if(u.zmin<=t.zmin){if(B=t.zmin,u.zmax<B)return!1}else if(B=u.zmin,t.zmax<B)return!1;return!0}function m(u,t){const {points:B,hasZ:F}=t;t=F?c.extentContainsCoords3D:c.extentContainsCoords2D;for(const H of B)if(t(u,H))return!0;return!1}function f(u,t){p[0]=u.xmin;p[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;n[0]=u.xmin;n[1]=u.ymin;q[0]=u.xmax;q[1]=u.ymin;for(var B of h)if(c.polygonContainsCoords(t,
B))return!0;for(const F of t.rings)if(F.length){t=F[0];if(c.extentContainsCoords2D(u,t))return!0;for(B=1;B<F.length;B++){const H=F[B];if(c.extentContainsCoords2D(u,H)||k(t,H,d))return!0;t=H}}return!1}function e(u,t){p[0]=u.xmin;p[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;n[0]=u.xmin;n[1]=u.ymin;q[0]=u.xmax;q[1]=u.ymin;t=t.paths;for(const B of t){if(!t.length)continue;let F=B[0];if(c.extentContainsCoords2D(u,F))return!0;for(let H=1;H<B.length;H++){const C=B[H];if(c.extentContainsCoords2D(u,C)||k(F,C,d))return!0;
F=C}}return!1}function k(u,t,B){for(let F=0;F<B.length;F++)if(r(u,t,B[F][0],B[F][1]))return!0;return!1}function r(u,t,B,F,H){const [C,A]=u,[E,y]=t,[x,z]=B,[D,v]=F;var G=D-x;u=C-x;t=E-C;const I=v-z;B=A-z;F=y-A;const O=I*t-G*F;if(0===O)return!1;G=(G*B-I*u)/O;u=(t*B-F*u)/O;return 0<=G&&1>=G&&0<=u&&1>=u?(H&&(H[0]=C+G*(E-C),H[1]=A+G*(y-A)),!0):!1}const p=[0,0],w=[0,0],n=[0,0],q=[0,0],h=[p,w,n,q],d=[[n,p],[p,w],[w,q],[q,n]],g=[0,0];a.extentIntersectsExtent=l;a.extentIntersectsMultipoint=m;a.extentIntersectsPoint=
b;a.extentIntersectsPolygon=f;a.extentIntersectsPolyline=e;a.getExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return l;case "esriGeometryMultipoint":case "multipoint":return m;case "esriGeometryPoint":case "point":return b;case "esriGeometryPolygon":case "polygon":return f;case "esriGeometryPolyline":case "polyline":return e;case "mesh":return l}};a.isSelfIntersecting=function(u){for(let y=0;y<u.length;y++){const x=u[y];for(var t=0;t<x.length-1;t++){var B=x[t],
F=x[t+1];for(var H=y+1;H<u.length;H++)for(var C=0;C<u[H].length-1;C++){var A=u[H][C],E=u[H][C+1];if(r(B,F,A,E,g)&&!(g[0]===B[0]&&g[1]===B[1]||g[0]===A[0]&&g[1]===A[1]||g[0]===F[0]&&g[1]===F[1]||g[0]===E[0]&&g[1]===E[1]))return!0}}t=x.length;if(!(4>=t))for(B=0;B<t-3;B++)for(F=t-1,0===B&&(F=t-2),H=x[B],C=x[B+1],A=B+2;A<F;A++){E=x[A];const z=x[A+1];if(r(H,C,E,z,g)&&!(g[0]===H[0]&&g[1]===H[1]||g[0]===E[0]&&g[1]===E[1]||g[0]===C[0]&&g[1]===C[1]||g[0]===z[0]&&g[1]===z[1]))return!0}}return!1};a.segmentIntersects=
r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/locale":function(){define(["exports","../core/global"],function(a,c){function b(){var d,g;return null!=(d=null!=w?w:null==(g=c.navigator)?void 0:g.language)?d:"en"}function l(){void 0===p&&(p=b());return p}function m(){var d;const g=null!=(d=r)?d:b();p!==g&&(p=g,[...h].forEach(u=>{u.call(null,g)}),[...q].forEach(u=>{u.call(null,g)}))}var f,e,k;let r=void 0,p=void 0;const w=null!=(f=null==(e=c.esriConfig)?void 0:e.locale)?f:null==(k=
c.dojoConfig)?void 0:k.locale,n={he:!0,ar:!0},q=[],h=[];null==c.addEventListener?void 0:c.addEventListener("languagechange",m);a.beforeLocaleChange=function(d){h.push(d);return{remove(){q.splice(h.indexOf(d),1)}}};a.getDefaultLocale=b;a.getLocale=l;a.onLocaleChange=function(d){q.push(d);return{remove(){q.splice(q.indexOf(d),1)}}};a.prefersRTL=function(d=l()){d=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(d);d=null==d?void 0:d[1].toLowerCase();return void 0!==d&&(n[d]||!1)};a.setLocale=function(d){r=d?d:
void 0;m()};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,c,b,l,m){b("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.18"} [Date: ${m.buildDate}, Revision: ${m.commitHash.slice(0,8)}]`),(b("edge")||b("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));c.revision=m.commitHash;c.addTokenParameter=function(f){const e=c.id&&
c.id.findCredential(f);return e&&e.token?l.addQueryParameter(f,"token",e.token):f};c.setId=function(f){c.id=f};c.version="4.18";c.workerMessages={request(f,e){return(new Promise(function(k,r){a(["./request"],function(p){k(Object.freeze({__proto__:null,"default":p}))},r)})).then(({default:k})=>{const r=f.options||{};r.responseType="array-buffer";r.signal=null==e?void 0:e.signal;return k(f.url,r)}).then(k=>({result:{data:k.data,ssl:k.ssl},transferList:[k.data]}))}};Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20210114";a.commitHash="04b0ac713d5a6c53f149e0d4f0ca80be5fbac0de";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/request":function(){define("require ./core/global ./core/has ./core/lang ./config ./core/maybe ./core/Error ./core/urlUtils ./core/promiseUtils ./kernel ./support/requestUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p,w){async function n(N,R){var K=k.isDataProtocol(N);const U=k.isBlobProtocol(N);
U||K||(N=k.normalize(N));const P={url:N,requestOptions:{...f.unwrap(R)}};let J=k.getInterceptor(N);if(J){N=await H(J,P);if(null!=N)return{data:N,getHeader:L,requestOptions:P.requestOptions,url:P.url};J.after||J.error||(J=null)}N=P.url;R=P.requestOptions;if("image"===R.responseType){if(b("host-webworker")||b("host-node"))throw d("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),P);}else if(K)throw d("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+
R.responseType),P);if("head"===R.method){if(R.body)throw d("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),P);if(K||U)throw d("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),P);}await g();if(z)return z.execute(N,R);const S=r.createAbortController();r.onAbort(R,()=>S.abort());K=await E({controller:S,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:J,params:P,redoRequest:!1,useIdentity:D.useIdentity,
useProxy:!1,useSSL:!1,withCredentials:!1});J&&J.after&&J.after(K);return K}function q(N){k.isBlobProtocol(N)||k.isDataProtocol(N)||(N=k.getOrigin(N))&&-1===n._corsServers.indexOf(N)&&n._corsServers.push(N)}function h(N){N=k.getOrigin(N);return!N||N.endsWith(".arcgis.com")||-1!==n._corsServers.indexOf(N)||k.isTrustedServer(N)}function d(N,R,K,U){let P="Error";const J={url:K.url,requestOptions:K.requestOptions,getHeader:L,ssl:!1};if(R instanceof e)return R.details?(R.details=l.clone(R.details),R.details.url=
K.url,R.details.requestOptions=K.requestOptions):R.details=J,R;if(R){K=U&&(M=>U.headers.get(M));const S=U&&U.status,W=R.message;W&&(P=W);K&&(J.getHeader=K);J.httpStatus=(null!=R.httpCode?R.httpCode:R.code)||S||0;J.subCode=R.subcode;J.messageCode=R.messageCode;J.messages="string"===typeof R.details?[R.details]:R.details}return r.isAbortError(R)?r.createAbortError():new e(N,P,J)}async function g(){b("host-webworker")?z||(z=await new Promise(function(N,R){a(["./core/workers/request"],N,R)})):n._abortableFetch||
(n._abortableFetch=c.fetch.bind(c))}async function u(){p.id||await new Promise(function(N,R){a(["./identity/IdentityManager"],function(K){N(Object.freeze({__proto__:null,"default":K}))},R)})}async function t(N){const R=N.params.url,K=N.params.requestOptions,U=N.controller.signal;var P=K.body;let J=null,S=null,W=null;v&&"HTMLFormElement"in c&&(P instanceof FormData?J=P:P instanceof HTMLFormElement&&(S=P,J=new FormData(S)));"string"===typeof P&&(W=P);N.fetchOptions={cache:K.cacheBust&&!n._abortableFetch.polyfill?
"no-cache":"default",credentials:"same-origin",headers:K.headers||{},method:"head"===K.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:U};if(J||W)N.fetchOptions.body=J||W;"anonymous"===K.authMode&&(N.useIdentity=!1);N.hasToken=!!(/token=/i.test(R)||K.query&&K.query.token||J&&J.get&&J.get("token")||S&&S.elements.token);(P=k.getOrigin(R,!0))&&!N.hasToken&&m.apiKey&&P.endsWith(".arcgis.com")&&"elevation3d.arcgis.com"!==P&&"js.arcgis.com"!==P&&"jsdev.arcgis.com"!==P&&"jsqa.arcgis.com"!==P&&(K.query||
(K.query={}),K.query.token=m.apiKey,N.hasToken=!0);if(N.useIdentity&&!N.hasToken&&!N.credentialToken&&!B(R)&&!r.isAborted(U)){let M;"immediate"===K.authMode?(await u(),M=await p.id.getCredential(R,{signal:U}),N.credential=M):"no-prompt"===K.authMode?(await u(),M=await p.id.getCredential(R,{prompt:!1,signal:U}).catch(()=>{}),N.credential=M):p.id&&(M=p.id.findCredential(R));M&&(N.credentialToken=M.token,N.useSSL=!!M.ssl)}}function B(N){return O.some(R=>R.test(N))}async function F(N){let R=N.params.url;
const K=N.params.requestOptions,U=N.fetchOptions,P=k.isBlobProtocol(R)||k.isDataProtocol(R),J=K.responseType||"json",S=P?0:null!=K.timeout?K.timeout:D.timeout;var W=!1;if(!P){N.useSSL&&(R=k.toHTTPS(R));K.cacheBust&&"default"===U.cache&&(R=k.addQueryParameter(R,"request.preventCache",Date.now()));var M={...K.query};N.credentialToken&&(M.token=N.credentialToken);W=k.objectToQuery(M);b("esri-url-encodes-apostrophe")&&(W=W.replace(/'/g,"%27"));const ja=R.length+1+W.length;W="post"===K.method||!!K.body||
ja>D.maxUrlLength;const ta=K.useProxy||!!k.getProxyRule(R);if(ta){const Aa=k.getProxyUrl(R);var T=Aa.path;!W&&T.length+1+ja>D.maxUrlLength&&(W=!0);Aa.query&&(M={...Aa.query,...M})}if("HEAD"===U.method&&(W||ta)){if(W){if(ja>D.maxUrlLength)throw d("request:invalid-parameters",Error("URL exceeds maximum length"),N.params);throw d("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),N.params);}if(ta)throw d("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),
N.params);}W?(U.method="POST",K.body?R=k.addQueryParameters(R,M):(U.body=k.objectToQuery(M),U.headers["Content-Type"]="application/x-www-form-urlencoded")):R=k.addQueryParameters(R,M);ta&&(N.useProxy=!0,R=`${T}?${R}`);M.token&&v&&U.body instanceof FormData&&(T=U.body,T.set?T.set("token",M.token):T.append("token",M.token));K.hasOwnProperty("withCredentials")?N.withCredentials=K.withCredentials:k.isTrustedServer(R)?N.withCredentials=!0:p.id&&(M=p.id.findServerInfo(R))&&M.webTierAuth&&(N.withCredentials=
!0);N.withCredentials&&(U.credentials="include")}M=0;let X=!1;0<S&&(M=setTimeout(()=>{X=!0;N.controller.abort()},S));let fa,ia;try{if("image"!==K.responseType||"default"!==U.cache||"GET"!==U.method||W||C(K.headers)||!P&&!N.useProxy&&D.proxyUrl&&!h(R)){if(fa=await n._abortableFetch(R,U),N.useProxy||q(R),fa.ok&&"HEAD"!==U.method){switch(J){case "array-buffer":ia=await fa.arrayBuffer();break;case "blob":case "image":ia=await fa.blob();break;default:ia=await fa.text()}M&&(clearTimeout(M),M=0);if("json"===
J||"xml"===J||"document"===J)if(ia)switch(J){case "json":ia=JSON.parse(ia);break;case "xml":ia=A(ia,"application/xml");break;case "document":ia=A(ia,"text/html")}else ia=null;if(ia){if("array-buffer"===J||"blob"===J){const ja=fa.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(ja)&&750>=ia["blob"===J?"size":"byteLength"])try{const ta=await (new Response(ia)).json();ta.error&&(ia=ta)}catch{}}"image"===J&&ia instanceof Blob&&(ia=await x(URL.createObjectURL(ia),N,!0))}}}else ia=await x(R,
N)}catch(ja){if("AbortError"===ja.name){if(X)throw Error("Timeout exceeded");throw r.createAbortError("Request canceled");}if(!fa&&ja instanceof TypeError&&D.proxyUrl&&!K.body&&"post"!==K.method&&"head"!==K.method&&!N.useProxy)N.redoRequest=!0,k.addProxyRule({proxyUrl:D.proxyUrl,urlPrefix:k.removeFile(k.urlToObject(R).path)});else throw ja;}finally{M&&clearTimeout(M)}return[fa,ia]}async function H(N,R){if(null!=N.responseData)return N.responseData;N.headers&&(R.requestOptions.headers={...R.requestOptions.headers,
...N.headers});N.query&&(R.requestOptions.query={...R.requestOptions.query,...N.query});if(N.before){let K,U;try{U=await N.before(R)}catch(P){K=d("request:interceptor",P,R)}if(U instanceof Error||U instanceof e)K=d("request:interceptor",U,R);if(K)throw N.error&&N.error(K),K;return U}}function C(N){if(N)for(const R of Object.getOwnPropertyNames(N))if(N[R])return!0;return!1}function A(N,R){let K;try{K=(new DOMParser).parseFromString(N,R)}catch{}if(!K||K.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");
return K}async function E(N){await t(N);let R;try{do[R,K]=await F(N);while(!await y(N,R,K))}catch(J){var K=d("request:server",J,N.params,R);K.details.ssl=N.useSSL;N.interceptor&&N.interceptor.error&&N.interceptor.error(K);throw K;}var U=N.params.url;/\/sharing\/rest\/(accounts|portals)\/self/i.test(U)&&!N.hasToken&&!N.credentialToken&&K&&K.user&&K.user.username&&!k.isTrustedServer(U)&&(U=k.getOrigin(U,!0))&&D.trustedServers.push(U);if((U=N.credential)&&p.id){var P=p.id.findServerInfo(U.server);if(P=
P&&P.owningSystemUrl)P=P.replace(/\/?$/,"/sharing"),(U=p.id.findCredential(P,U.userId))&&-1===p.id._getIdenticalSvcIdx(P,U)&&U.resources.unshift(P)}return{data:K,getHeader:R?J=>R.headers.get(J):L,requestOptions:N.params.requestOptions,ssl:N.useSSL,url:N.params.url}}async function y(N,R,K){var U;if(N.redoRequest)return N.redoRequest=!1;if(!R)return!0;if(!R.ok)throw Error(`Unable to load ${R.url} status: ${R.status}`);let P;K&&K.error&&(P=l.mixin(Error(),K.error));let J,S,W;P&&(J=Number(P.code),S=P.hasOwnProperty("subcode")?
Number(P.subcode):null,W=(W=P.messageCode)&&W.toUpperCase());R=N.params.requestOptions.authMode;K=String(null==(U=N.params.requestOptions.query)?void 0:U.token);if(403===J&&(4===S||P.message&&-1<P.message.toLowerCase().indexOf("ssl")&&-1===P.message.toLowerCase().indexOf("permission"))){if(!N.useSSL)return N.useSSL=!0,!1}else if(N.useIdentity&&("no-prompt"!==R||498===J)&&-1!==G.indexOf(J)&&!B(N.params.url)&&!K.startsWith("AAPK")&&(403!==J||-1===I.indexOf(W)&&(null==S||2===S&&N.credentialToken))){await u();
try{const M=await p.id.getCredential(N.params.url,{error:d("request:server",P,N.params),prompt:"no-prompt"!==R,signal:N.controller.signal,token:N.credentialToken});N.credential=M;N.credentialToken=M.token;N.useSSL=N.useSSL||M.ssl;return!1}catch(M){if("no-prompt"===R)return N.credential=null,N.credentialToken=null,!1;P=M}}if(P)throw P;return!0}function x(N,R,K=!1){const U=R.controller.signal,P=new Image;P.crossOrigin=R.withCredentials?"use-credentials":"anonymous";P.alt="";P.src=N;return w.loadImageAsync(P,
N,K,U)}let z;const D=m.request,v="FormData"in c,G=[499,498,403,401],I=["COM_0056","COM_0057","SB_0008"],O=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],L=()=>null;n._abortableFetch=null;n._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return n})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,c,b,l){function m(){try{return new DOMException("Aborted","AbortError")}catch{const f=
Error();f.name="AbortError";return f}}a.loadImageAsync=function(f,e,k=!1,r){return l.create((p,w)=>{if(l.isAborted(r))w(m());else{var n=()=>{d();w(Error(`Unable to load ${e}`))},q=()=>{const g=f;d();p(g)},h=()=>{if(f){var g=f;d();g.src="";w(m())}},d=()=>{c("esri-image-decode")||(f.removeEventListener("error",n),f.removeEventListener("load",q));f=q=n=null;b.isSome(r)&&r.removeEventListener("abort",h);h=null;k&&URL.revokeObjectURL(e)};b.isSome(r)&&r.addEventListener("abort",h);c("esri-image-decode")?
f.decode().then(q,n):(f.addEventListener("error",n),f.addEventListener("load",q))}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl":function(){define("exports ./intl/locale ./intl/date ./intl/number ./intl/substitute ./intl/messages ./intl/t9n ./assets".split(" "),function(a,c,b,l,m,f,e,k){f.registerMessageBundleLoader(e.createJSONLoader({pattern:"esri/",location:k.getAssetUrl}));a.getLocale=c.getLocale;a.onLocaleChange=c.onLocaleChange;a.prefersRTL=c.prefersRTL;a.setLocale=c.setLocale;
a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=l.convertNumberFormatToIntlOptions;a.formatNumber=l.formatNumber;a.substitute=m.substitute;a.fetchMessageBundle=f.fetchMessageBundle;a.normalizeMessageBundleLocale=f.normalizeMessageBundleLocale;a.registerMessageBundleLoader=f.registerMessageBundleLoader;a.createJSONLoader=e.createJSONLoader;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/date":function(){define(["exports",
"../core/jsonMap","./locale"],function(a,c,b){function l(d){d=d||h;if(!q.has(d)){var g=b.getLocale();g=n[b.getLocale()]||g;q.set(d,new Intl.DateTimeFormat(g,d))}return q.get(d)}var m={year:"numeric",month:"numeric",day:"numeric"},f={year:"numeric",month:"long",day:"numeric"},e={year:"numeric",month:"short",day:"numeric"};const k={year:"numeric",month:"long",weekday:"long",day:"numeric"},r={hour:"numeric",minute:"numeric"},p={...r,second:"numeric"},w={"short-date":m,"short-date-short-time":{...m,...r},
"short-date-short-time-24":{...m,...r,hour12:!1},"short-date-long-time":{...m,...p},"short-date-long-time-24":{...m,...p,hour12:!1},"short-date-le":m,"short-date-le-short-time":{...m,...r},"short-date-le-short-time-24":{...m,...r,hour12:!1},"short-date-le-long-time":{...m,...p},"short-date-le-long-time-24":{...m,...p,hour12:!1},"long-month-day-year":f,"long-month-day-year-short-time":{...f,...r},"long-month-day-year-short-time-24":{...f,...r,hour12:!1},"long-month-day-year-long-time":{...f,...p},
"long-month-day-year-long-time-24":{...f,...p,hour12:!1},"day-short-month-year":e,"day-short-month-year-short-time":{...e,...r},"day-short-month-year-short-time-24":{...e,...r,hour12:!1},"day-short-month-year-long-time":{...e,...p},"day-short-month-year-long-time-24":{...e,...p,hour12:!1},"long-date":k,"long-date-short-time":{...k,...r},"long-date-short-time-24":{...k,...r,hour12:!1},"long-date-long-time":{...k,...p},"long-date-long-time-24":{...k,...p,hour12:!1},"long-month-year":{month:"long",year:"numeric"},
"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":r,"long-time":p};c=c.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",
longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",
dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});m=c.apiValues;f=c.toJSON.bind(c);e=c.fromJSON.bind(c);const n={ar:"ar-u-nu-latn-ca-gregory"};let q=new WeakMap,h=w["short-date-short-time"];b.beforeLocaleChange(()=>{q=
new WeakMap;h=w["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(d){return w[d]||null};a.dateFormats=m;a.dictionary=c;a.formatDate=function(d,g){return l(g).format(d)};a.fromJSON=e;a.getDateTimeFormatter=l;a.toJSON=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,c,b){function l(k){const r=k||e;if(!f.has(r)){var p=b.getLocale();p=m[b.getLocale()]||p;f.set(r,new Intl.NumberFormat(p,k))}return c.assumeNonNull(f.get(r))}
const m={ar:"ar-u-nu-latn"};let f=new WeakMap,e={};b.beforeLocaleChange(()=>{f=new WeakMap;e={}});a.convertNumberFormatToIntlOptions=function(k={}){const r={};null!=k.digitSeparator&&(r.useGrouping=k.digitSeparator);null!=k.places&&(r.minimumFractionDigits=r.maximumFractionDigits=k.places);return r};a.formatNumber=function(k,r){return l(r).format(k)};a.getFormatter=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/substitute":function(){define("exports ../core/object ../core/string ../core/Logger ./date ./number".split(" "),
function(a,c,b,l,m,f){function e(r){switch(typeof r){case "string":return r;case "number":return f.formatNumber(r);case "boolean":return""+r;default:return r instanceof Date?m.formatDate(r):""}}const k=l.getLogger("esri.intl");a.substitute=function(r,p,w={}){const {format:n={}}=w;return b.replace(r,q=>{{const g=q.indexOf(":");if(-1===g)var h=q.trim();else{h=q.slice(0,g).trim();var d=q.slice(g+1).trim()}if(h)if(q=c.getDeepValue(h,p),null==q)d="";else if(h=n[d]||n[h])b:switch(h.type){case "date":d=
m.formatDate(q,h.intlOptions);break b;case "number":d=f.formatNumber(q,h.intlOptions);break b;default:k.warn("missing format descriptor for key {key}"),d=e(q)}else if(d)b:switch(d.toLowerCase()){case "dateformat":d=m.formatDate(q);break b;case "numberformat":d=f.formatNumber(q);break b;default:k.warn(`inline format is unsupported since 4.12: ${d}`),d=/^(dateformat|datestring)/i.test(d)?m.formatDate(q):/^numberformat/i.test(d)?f.formatNumber(q):e(q)}else d=e(q);else d=""}return d})};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/promiseUtils","./locale"],function(a,c,b,l){async function m(q,h){const d=[];for(const g of r)if(f(g.pattern,q))try{return await g.fetchMessageBundle(q,h)}catch(u){d.push(u)}if(d.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${q}"`,{errors:d});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${q}"`);}function f(q,h){return"string"===
typeof q?h.startsWith(q):q.test(h)}const e=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,k=new Set("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sk sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),r=[],p=new Map;l.beforeLocaleChange(()=>{p.clear()});const w=new (function(){function q(){this._numLoading=0}var h=q.prototype;h.waitForAll=async function(){this._dfd&&await this._dfd.promise};h.add=function(d){this._increase();d.then(()=>this._decrease(),()=>this._decrease());
return this.waitForAll()};h._increase=function(){this._numLoading++;this._dfd||(this._dfd=b.createDeferred())};h._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return q}()),n={cache:p,loaders:r};a.fetchMessageBundle=async function(q){const h=l.getLocale();p.has(q)||p.set(q,m(q,h));q=p.get(q);await w.add(q);return q};a.normalizeMessageBundleLocale=function(q){if(!e.test(q))return null;const [,h,d]=e.exec(q);
q=h+(d?"-"+d.toUpperCase():"");return k.has(q)?q:k.has(h)?h:null};a.registerMessageBundleLoader=function(q){if(!r.includes(q)){for(const h of p.keys())f(q.pattern,h)&&p.delete(h);r.unshift(q)}};a.test=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/t9n":function(){define("exports ../core/global ../core/maybe ../core/Error ./messages ../request".split(" "),function(a,c,b,l,m,f){async function e(w,n,q,h){var d=n.exec(q);if(!d)throw new l("esri-intl:invalid-bundle",`Bundle id "${q}" is not compatible with the pattern "${n}"`);
n=d[1]?`${d[1]}/`:"";d=d[2];const g=m.normalizeMessageBundleLocale(h);h=`${n}${d}.json`;n=g?`${n}${d}_${g}.json`:h;let u;try{u=await k(w(n))}catch(t){if(n===h)throw t;try{u=await k(w(h))}catch{throw new l("intl:unknown-bundle",`Bundle "${q}" cannot be loaded`,{error:t});}}return u}async function k(w){return b.isSome(p.fetchBundleAsset)?p.fetchBundleAsset(w):(await f(w,{responseType:"json"})).data}let r=function(){function w({base:n="",pattern:q,location:h=new URL(window.location.href)}){let d;d="string"===
typeof h?g=>(new URL(g,new URL(h,c.location))).href:h instanceof URL?g=>(new URL(g,h)).href:h;this.pattern="string"===typeof q?new RegExp(`^${q}`):q;this.getAssetUrl=d;n=n?n.endsWith("/")?n:n+"/":"";this.matcher=new RegExp(`^${n}(?:(.*)\/)?(.*)$`)}w.prototype.fetchMessageBundle=function(n,q){return e(this.getAssetUrl,this.matcher,n,q)};return w}();const p={};a.JSONLoader=r;a.createJSONLoader=function(w){return new r(w)};a.test=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/assets":function(){define(["exports",
"./config","./core/urlUtils","./request"],function(a,c,b,l){function m(f){return b.join(c.assetsPath,f)}a.fetchAsset=function(f,e){return l(m(f),e)};a.getAssetUrl=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor ../geometry/SpatialReference ../geometry/support/webMercatorUtils ../geometry/Extent".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;const t=new k.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});b=u=function(B){function F(C){C=B.call(this,C)||this;C.categories=null;C.disableExtraQuery=!1;C.extent=null;C.num=10;C.query=null;C.sortField=null;C.start=1;return C}a._inheritsLoose(F,B);var H=F.prototype;H.clone=function(){return new u({categories:this.categories?l.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,
extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};H.toRequestOptions=function(C,A){let E;this.categories&&(E=this.categories.map(z=>Array.isArray(z)?JSON.stringify(z):z));let y;if(this.extent){var x=d.project(this.extent,h.WGS84);x&&(y=`${x.xmin},${x.ymin},${x.xmax},${x.ymax}`)}x=this.query;!this.disableExtraQuery&&C.extraQuery&&(x="("+x+")"+C.extraQuery);C={categories:E,bbox:y,q:x,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(C.sortField=this.sortField.split(",").map(z=>t.toJSON(z.trim())).join(","),C.sortOrder=this.sortOrder);return{query:{...A,...C}}};a._createClass(F,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(C){"asc"!==C&&"desc"!==C||this._set("sortOrder",C)}}]);return F}(q);c.__decorate([e.property()],b.prototype,"categories",void 0);c.__decorate([e.property()],b.prototype,"disableExtraQuery",void 0);c.__decorate([e.property({type:g})],
b.prototype,"extent",void 0);c.__decorate([e.property()],b.prototype,"num",void 0);c.__decorate([e.property()],b.prototype,"query",void 0);c.__decorate([e.property()],b.prototype,"sortField",void 0);c.__decorate([e.property()],b.prototype,"sortOrder",null);c.__decorate([e.property()],b.prototype,"start",void 0);return b=u=c.__decorate([r.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.nextQueryParams=null;d.queryParams=null;d.results=null;d.total=null;return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property()],b.prototype,"nextQueryParams",void 0);c.__decorate([f.property()],b.prototype,"queryParams",void 0);c.__decorate([f.property()],b.prototype,"results",void 0);c.__decorate([f.property()],b.prototype,"total",void 0);return b=c.__decorate([k.subclass("esri.portal.PortalQueryResult")],
b)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/promiseUtils ../core/JSONSupport ./PortalFolder ./PortalGroup".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;l=t=function(B){function F(...C){C=
B.call(this,...C)||this;C.access=null;C.created=null;C.culture=null;C.description=null;C.email=null;C.fullName=null;C.modified=null;C.orgId=null;C.portal=null;C.preferredView=null;C.privileges=null;C.region=null;C.role=null;C.roleId=null;C.sourceJSON=null;C.units=null;C.username=null;C.userType=null;return C}c._inheritsLoose(F,B);var H=F.prototype;H.addItem=function(C){const A=C&&C.item;var E=C&&C.data;C=C&&C.folder;const y={method:"post"};A&&(y.query=A.createPostQuery(),null!=E&&("string"===typeof E?
y.query.text=E:"object"===typeof E&&(y.query.text=JSON.stringify(E))));E=this.userContentUrl;C&&(E+="/"+("string"===typeof C?C:C.id));return this.portal._request(E+"/addItem",y).then(x=>{A.id=x.id;A.portal=this.portal;return A.loaded?A.reload():A.load()})};H.deleteItem=function(C){let A=this.userContentUrl;C.ownerFolder&&(A+="/"+C.ownerFolder);return this.portal._request(A+`/items/${C.id}/delete`,{method:"post"}).then(()=>{C.id=null;C.portal=null})};H.deleteItems=function(C){const A=this.userContentUrl+
"/deleteItems";var E=C.map(y=>y.id);return E.length?(E={method:"post",query:{items:E.join(",")}},this.portal._request(A,E).then(()=>{C.forEach(y=>{y.id=null;y.portal=null})})):h.resolve(void 0)};H.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(C=>C&&C.folders?C.folders.map(A=>{A=g.fromJSON(A);A.portal=this.portal;return A}):[])};H.fetchGroups=function(){return this.portal._request(this.url).then(C=>C&&C.groups?C.groups.map(A=>{A=u.fromJSON(A);A.portal=
this.portal;return A}):[])};H.fetchItems=function(C){C||(C={});let A=this.userContentUrl;C.folder&&(A+="/"+C.folder.id);let E;return(new Promise(function(y,x){a(["./PortalItem"],function(z){y(Object.freeze({__proto__:null,"default":z}))},x)})).then(({default:y})=>{E=y;return this.portal._request(A,{query:{folders:!1,num:C.num||10,start:C.start||1,sortField:C.sortField||"created",sortOrder:C.sortOrder||"asc"}})}).then(y=>{let x;return y&&y.items?(x=y.items.map(z=>{z=E.fromJSON(z);z.portal=this.portal;
return z}),h.all(x.map(z=>z.load())).catch(z=>z).then(()=>({items:x,nextStart:y.nextStart,total:y.total}))):{items:[],nextStart:-1,total:0}})};H.fetchTags=function(){return this.portal._request(this.url+"/tags").then(C=>C.tags)};H.getThumbnailUrl=function(C){let A=this.thumbnailUrl;A&&C&&(A+=`&w=${C}`);return A};H.queryFavorites=function(C){return this.favGroupId?(this._favGroup||(this._favGroup=new u({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(C)):h.reject(new p("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))};H.toJSON=function(){throw new p("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};F.fromJSON=function(C){if(!C)return null;if(C.declaredClass)throw Error("JSON object is already hydrated");const A=new t;A.sourceJSON=C;A.read(C);return A};c._createClass(F,[{key:"thumbnailUrl",get:function(){const C=this.url,A=this.thumbnail;return C&&A?this.portal._normalizeUrl(`${C}/info/${A}?f=json`):null}},{key:"userContentUrl",
get:function(){const C=this.get("portal.restUrl");return C?`${C}/content/users/${this.username}`:null}},{key:"url",get:function(){const C=this.get("portal.restUrl");return C?`${C}/community/users/${this.username}`:null}}]);return F}(d.JSONSupport);b.__decorate([e.property()],l.prototype,"access",void 0);b.__decorate([e.property({type:Date})],l.prototype,"created",void 0);b.__decorate([e.property()],l.prototype,"culture",void 0);b.__decorate([e.property()],l.prototype,"description",void 0);b.__decorate([e.property()],
l.prototype,"email",void 0);b.__decorate([e.property()],l.prototype,"favGroupId",void 0);b.__decorate([e.property()],l.prototype,"fullName",void 0);b.__decorate([e.property({type:Date})],l.prototype,"modified",void 0);b.__decorate([e.property()],l.prototype,"orgId",void 0);b.__decorate([e.property()],l.prototype,"portal",void 0);b.__decorate([e.property()],l.prototype,"preferredView",void 0);b.__decorate([e.property()],l.prototype,"privileges",void 0);b.__decorate([e.property()],l.prototype,"region",
void 0);b.__decorate([e.property()],l.prototype,"role",void 0);b.__decorate([e.property()],l.prototype,"roleId",void 0);b.__decorate([e.property()],l.prototype,"sourceJSON",void 0);b.__decorate([e.property()],l.prototype,"thumbnail",void 0);b.__decorate([e.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],l.prototype,"thumbnailUrl",null);b.__decorate([e.property()],l.prototype,"units",void 0);b.__decorate([e.property({dependsOn:["portal.restUrl"],readOnly:!0})],l.prototype,
"userContentUrl",null);b.__decorate([e.property({dependsOn:["portal.restUrl"],readOnly:!0})],l.prototype,"url",null);b.__decorate([e.property()],l.prototype,"username",void 0);b.__decorate([e.property()],l.prototype,"userType",void 0);return l=t=b.__decorate([r.subclass("esri.portal.PortalUser")],l)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.created=null;g.id=null;g.portal=null;g.title=null;g.username=null;return g}a._inheritsLoose(d,h);d.prototype.toJSON=function(){throw new r("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(d,[{key:"url",get:function(){const g=this.get("portal.restUrl");return g?`${g}/content/users/${this.username}/${this.id}`:null}}]);return d}(q.JSONSupport);c.__decorate([f.property({type:Date})],
b.prototype,"created",void 0);c.__decorate([f.property()],b.prototype,"id",void 0);c.__decorate([f.property()],b.prototype,"portal",void 0);c.__decorate([f.property()],b.prototype,"title",void 0);c.__decorate([f.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);c.__decorate([f.property()],b.prototype,"username",void 0);return b=c.__decorate([k.subclass("esri.portal.PortalFolder")],b)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport ./PortalQueryParams".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(t){t=d.call(this,t)||this;t.access=null;t.created=null;t.description=null;t.id=null;t.isInvitationOnly=!1;t.modified=null;t.owner=null;t.portal=null;t.snippet=null;t.sortField=null;t.sortOrder=null;t.tags=null;t.title=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.fetchCategorySchema=function(t){return this.portal._request(this.url+"/categorySchema",t).then(B=>{B=B.categorySchema||[];return B.some(F=>"contentCategorySetsGroupQuery.LivingAtlas"===
F.source)?this._fetchCategorySchemaSet("LivingAtlas",t):B})};u.fetchMembers=function(t){return this.portal._request(this.url+"/users",t)};u.getThumbnailUrl=function(t){let B=this.thumbnailUrl;B&&t&&(B+=`&w=${t}`);return B};u.toJSON=function(){throw new r("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};u.queryItems=function(t,B){t=m.ensureType(h,t);if(5<parseFloat(this.portal.currentVersion))return t=t||new h,this.portal._queryPortal(`/content/groups/${this.id}/search`,
t,"PortalItem",B);t=t?t.clone():new h;t.query="group:"+this.id+(t.query?" "+t.query:"");return this.portal.queryItems(t,B)};u._fetchCategorySchemaSet=function(t,B){return this.portal._fetchSelf(this.portal.authMode,!0,B).then(F=>{if(F=F.contentCategorySetsGroupQuery){const H=new h;H.disableExtraQuery=!0;H.num=1;H.query=F;return this.portal.queryGroups(H,B)}throw new r("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(F=>{if(F.total){F=F.results[0];const H=
new h;H.num=1;H.query=`typekeywords:"${t}"`;return F.queryItems(H,B)}throw new r("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(F=>F.total?F.results[0].fetchData("json",B).then(H=>(H=H&&H.categorySchema)&&H.length?H:[]):[])};a._createClass(g,[{key:"thumbnailUrl",get:function(){const t=this.url,B=this.thumbnail;return t&&B?this.portal._normalizeUrl(`${t}/info/${B}?f=json`):null}},{key:"url",get:function(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+
this.id:null}}]);return g}(q.JSONSupport);c.__decorate([f.property()],b.prototype,"access",void 0);c.__decorate([f.property({type:Date})],b.prototype,"created",void 0);c.__decorate([f.property()],b.prototype,"description",void 0);c.__decorate([f.property()],b.prototype,"id",void 0);c.__decorate([f.property()],b.prototype,"isInvitationOnly",void 0);c.__decorate([f.property({type:Date})],b.prototype,"modified",void 0);c.__decorate([f.property()],b.prototype,"owner",void 0);c.__decorate([f.property()],
b.prototype,"portal",void 0);c.__decorate([f.property()],b.prototype,"snippet",void 0);c.__decorate([f.property()],b.prototype,"sortField",void 0);c.__decorate([f.property()],b.prototype,"sortOrder",void 0);c.__decorate([f.property()],b.prototype,"tags",void 0);c.__decorate([f.property()],b.prototype,"thumbnail",void 0);c.__decorate([f.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);c.__decorate([f.property()],b.prototype,"title",void 0);
c.__decorate([f.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);return b=c.__decorate([k.subclass("esri.portal.PortalGroup")],b)})},"esri/core/loadAll":function(){define(["exports","./maybe","./Collection","./Loadable","./asyncUtils"],function(a,c,b,l,m){async function f(k,r){await k.load();return e(k,r)}async function e(k,r){const p=[],w=(...q)=>{for(const h of q)c.isNone(h)||(Array.isArray(h)?w(...h):b.isCollection(h)?h.forEach(d=>w(d)):l.isLoadable(h)&&p.push(h))};
r(w);let n=null;await m.map(p,async q=>{!1!==(await m.result("loadAll"in q&&"function"===typeof q.loadAll?q.loadAll():q.load())).ok||n||(n=q)});if(n)throw n.loadError;return k}a.default=f;a.loadAll=f;a.loadAllChildren=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./promiseUtils"],function(a,c){a.assertResult=function(b){if(!0===b.ok)return b.value;throw b.error;};a.forEach=function(b,l,m){return c.eachAlways(b.map((f,e)=>l.apply(m,[f,e])))};
a.map=function(b,l,m){return c.eachAlways(b.map((f,e)=>l.apply(m,[f,e]))).then(f=>f.map(e=>e.value))};a.result=function(b){return b.then(l=>({ok:!0,value:l})).catch(l=>({ok:!1,error:l}))};a.resultOrAbort=function(b){return b.then(l=>({ok:!0,value:l})).catch(l=>{c.throwIfAbortError(l);return{ok:!1,error:l}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/promiseUtils ../core/JSONSupport ../geometry/Extent ../assets ../core/Loadable ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){var y;l=y=function(x){function z(v){v=x.call(this,v)||this;v.access=null;v.accessInformation=null;v.applicationProxies=null;v.avgRating=null;v.categories=null;v.created=null;v.culture=null;v.description=null;v.extent=null;v.groupCategories=null;v.id=null;v.itemControl=null;v.licenseInfo=null;v.modified=null;v.name=null;v.numComments=null;v.numRatings=null;v.numViews=null;v.owner=null;v.ownerFolder=null;v.portal=null;v.screenshots=null;v.size=
null;v.snippet=null;v.sourceJSON=null;v.tags=null;v.title=null;v.type=null;v.typeKeywords=null;v.url=null;return v}c._inheritsLoose(z,x);z.from=function(v){return k.ensureClass(y,v)};var D=z.prototype;D.destroy=function(){this.portal=null};D.readExtent=function(v){return v&&v.length?new B(v[0][0],v[0][1],v[1][0],v[1][1]):null};D.load=function(v){this.portal||(this.portal=C.getDefault());const G=this.portal.load(v).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,
{signal:f.isSome(v)?v.signal:null}):{}).then(I=>{this.sourceJSON=I;this.read(I)});this.addResolvingPromise(G);return u.resolve(this)};D.addRating=function(v){const G={method:"post",query:{}};v instanceof E&&(v=v.rating);isNaN(v)||"number"!==typeof v||(G.query.rating=v);return this.portal._request(this.itemUrl+"/addRating",G).then(()=>new E({rating:v,created:new Date}))};D.clone=function(){const v={access:this.access,accessInformation:this.accessInformation,applicationProxies:m.clone(this.applicationProxies),
avgRating:this.avgRating,categories:m.clone(this.categories),created:m.clone(this.created),culture:this.culture,description:this.description,extent:m.clone(this.extent),groupCategories:m.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:m.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:m.clone(this.screenshots),
size:this.size,snippet:this.snippet,tags:m.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:m.clone(this.typeKeywords),url:this.url};this.loaded&&(v.loadStatus="loaded");return(new y({sourceJSON:this.sourceJSON})).set(v)};D.createPostQuery=function(){const v=this.toJSON();for(const G in v)"tags"===G&&null!==v[G]&&(v[G]=v[G].join(", ")),"typeKeywords"===G&&null!==v[G]&&(v[G]=v[G].join(", ")),"extent"===G&&v[G]&&(v[G]=JSON.stringify(v[G]));return v};D.deleteRating=
function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};D.fetchData=function(v="json",G){return this.portal._request(this.itemUrl+"/data",{responseType:v,...G})};D.fetchRating=function(v){return this.portal._request(this.itemUrl+"/rating",v).then(G=>null!=G.rating?(G.created=new Date(G.created),new E(G)):null)};D.fetchRelatedItems=function(v,G){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:v,...G},y)};D.getThumbnailUrl=function(v){let G=
this.thumbnailUrl;G&&v&&(G+=`&w=${v}`);return G};D.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0}).then(v=>{this.sourceJSON=v;this.read(v);return this})};D.update=function(v){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const G=v&&v.data,I={method:"post"};I.query=this.createPostQuery();for(const O in I.query)null===I.query[O]&&(I.query[O]="");I.query.clearEmptyFields=!0;null!=G&&("string"===typeof G?I.query.text=G:"object"===typeof G&&(I.query.text=
JSON.stringify(G)));return this.portal._request(`${this.userItemUrl}/update`,I).then(()=>this.reload())}):u.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};D.updateThumbnail=function(v){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const G=v.thumbnail,I=v.filename,O={method:"post"};if("string"===typeof G)h.isDataProtocol(G)?O.query={data:G}:O.query={url:h.makeAbsolute(G)},f.isSome(I)&&(O.query.filename=I);else{const L=new FormData;
f.isSome(I)?L.append("file",G,I):L.append("file",G);O.body=L}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,O).then(()=>this.reload())}):u.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};D.fetchResources=async function(v={},G){return(await new Promise(function(I,O){a(["./support/resourceUtils"],I,O)})).fetchResources(this,v,G)};D.addResource=async function(v,G,I){const O=await new Promise(function(L,N){a(["./support/resourceUtils"],
L,N)});v.portalItem=this;return O.addOrUpdateResource(v,"add",G,I)};D.removeResource=async function(v,G){const I=await new Promise(function(O,L){a(["./support/resourceUtils"],O,L)});if(v.portalItem&&v.portalItem.itemUrl!==this.itemUrl)throw new q("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return I.removeResource(this,v,G)};D.removeAllResources=async function(v){return(await new Promise(function(G,I){a(["./support/resourceUtils"],
G,I)})).removeAllResources(this,v)};D.resourceFromPath=function(v){return new A({portalItem:this,path:v})};D.toJSON=function(){var v=this.extent;v={created:this.created&&this.created.getTime(),description:this.description,extent:v&&[[v.xmin,v.ymin],[v.xmax,v.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,
url:this.url};return m.fixJson(v)};z.fromJSON=function(v){if(!v)return null;if(v.declaredClass)throw Error("JSON object is already hydrated");return new y({sourceJSON:v})};D._getPostQuery=function(){const v=this.toJSON();for(const G in v)"tags"===G&&null!==v[G]&&(v[G]=v[G].join(", ")),"typeKeywords"===G&&null!==v[G]&&(v[G]=v[G].join(", ")),"extent"===G&&v[G]&&(v[G]=JSON.stringify(v[G]));return v};c._createClass(z,[{key:"displayName",get:function(){const v=this.type,G=this.typeKeywords||[];let I=v;
"Feature Service"===v||"Feature Collection"===v?I=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===v?I=-1<G.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<G.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===v?I="Scene Layer":"Scene Package"===v?I="Scene Layer Package":"Stream Service"===v?I="Feature Layer":"Geoprocessing Service"===v&&this.portal&&this.portal.isPortal?I=-1<G.indexOf("Web Tool")?
"Tool":"Geoprocessing Service":"Geocoding Service"===v?I="Locator":"Geoenrichment Service"===v?I="GeoEnrichment Service":"Microsoft Powerpoint"===v?I="Microsoft PowerPoint":"GeoJson"===v?I="GeoJSON":"Globe Service"===v?I="Globe Layer":"Vector Tile Service"===v?I="Tile Layer":"netCDF"===v?I="NetCDF":"Map Service"===v?I=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))&&-1===G.indexOf("Relational")?"Tile Layer":"Map Image Layer":v&&-1<v.toLowerCase().indexOf("add in")?
I=v.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===v?I="Big Data File Share":"Compact Tile Package"===v&&(I="Tile Package (tpkx)");return I}},{key:"iconUrl",get:function(){var v=this.type&&this.type.toLowerCase()||"";const G=this.typeKeywords||[];let I=!1,O=!1,L=!1,N=!1,R=!1,K=!1;0<v.indexOf("service")||"feature collection"===v||"kml"===v||"wms"===v||"wmts"===v||"wfs"===v?(I=-1<G.indexOf("Hosted Service"),"feature service"===v||"feature collection"===v||"kml"===v||"wfs"===v?(O=-1<G.indexOf("Table"),
L=-1<G.indexOf("Route Layer"),N=-1<G.indexOf("Markup"),R=-1!==G.indexOf("Spatiotemporal"),K=-1!==G.indexOf("UtilityNetwork"),v=R&&O?"spatiotemporaltable":O?"table":L?"routelayer":N?"markup":R?"spatiotemporal":I?"featureshosted":K?"utilitynetwork":"features"):v="map service"===v||"wms"===v||"wmts"===v?I||-1<G.indexOf("Tiled")||"wmts"===v?"maptiles":"mapimages":"scene service"===v?-1<G.indexOf("Line")?"sceneweblayerline":-1<G.indexOf("3DObject")?"sceneweblayermultipatch":-1<G.indexOf("Point")?"sceneweblayerpoint":
-1<G.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<G.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<G.indexOf("Polygon")?"sceneweblayerpolygon":-1<G.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===v?-1<G.indexOf("Elevation 3D Layer")?"elevationlayer":-1<G.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===v?"streamlayer":"vector tile service"===v?"vectortile":"datastore catalog service"===v?"datastorecollection":"geocoding service"===v?"geocodeservice":
"geoprocessing service"===v?-1<G.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"knowledge graph service"===v?"knowledgegraph":"layers"):v="web map"===v||"cityengine web scene"===v?"maps":"web scene"===v?-1<G.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===v||"mobile application"===v||"application"===v||"operation view"===v||"desktop application"===v?"apps":"map document"===v||"map package"===v||"published map"===v||"scene document"===
v||"globe document"===v||"basemap package"===v||"mobile basemap package"===v||"mobile map package"===v||"project package"===v||"project template"===v||"pro map"===v||"layout"===v||"layer"===v&&-1<G.indexOf("ArcGIS Pro")||"explorer map"===v&&G.indexOf("Explorer Document")?"mapsgray":"service definition"===v||"csv"===v||"shapefile"===v||"cad drawing"===v||"geojson"===v||"360 vr experience"===v||"netcdf"===v||"administrative report"===v?"datafiles":"explorer add in"===v||"desktop add in"===v||"windows viewer add in"===
v||"windows viewer configuration"===v?"appsgray":"arcgis pro add in"===v||"arcgis pro configuration"===v?"addindesktop":"rule package"===v||"file geodatabase"===v||"sqlite geodatabase"===v||"csv collection"===v||"kml collection"===v||"windows mobile package"===v||"map template"===v||"desktop application template"===v||"gml"===v||"arcpad package"===v||"code sample"===v||"form"===v||"document link"===v||"operations dashboard add in"===v||"rules package"===v||"image"===v||"workflow manager package"===
v||"explorer map"===v&&-1<G.indexOf("Explorer Mapping Application")||-1<G.indexOf("Document")?"datafilesgray":"network analysis service"===v||"geoprocessing service"===v||"geodata service"===v||"geometry service"===v||"geoprocessing package"===v||"locator package"===v||"geoprocessing sample"===v||"workflow manager service"===v?"toolsgray":"layer"===v||"layer package"===v||"explorer layer"===v?"layersgray":"scene package"===v?"scenepackage":"mobile scene package"===v?"mobilescenepackage":"tile package"===
v||"compact tile package"===v?"tilepackage":"task file"===v?"taskfile":"report template"===v?"report-template":"statistical data collection"===v?"statisticaldatacollection":"insights workbook"===v?"workbook":"insights model"===v?"insightsmodel":"insights page"===v?"insightspage":"insights theme"===v?"insightstheme":"hub initiative"===v?"hubinitiative":"hubpage"===v?"hubpage":"hub event"===v?"hubevent":"hub site application"===v?"hubsite":"relational database connection"===v?"relationaldatabaseconnection":
"big data file share"===v?"datastorecollection":"image collection"===v?"imagecollection":"style"===v?"style":"desktop style"===v?"desktopstyle":"dashboard"===v?"dashboard":"raster function template"===v?"rasterprocessingtemplate":"vector tile package"===v?"vectortilepackage":"ortho mapping project"===v?"orthomappingproject":"ortho mapping template"===v?"orthomappingtemplate":"solution"===v?"solutions":"geopackage"===v?"geopackage":"deep learning package"===v?"deeplearningpackage":"real time analytic"===
v?"realtimeanalytics":"big data analytic"===v?"bigdataanalytics":"feed"===v?"feed":"excalibur imagery project"===v?"excaliburimageryproject":"notebook"===v?"notebook":"storymap"===v?"storymap":"survey123 add in"===v?"survey123addin":"mission"===v?"mission":"mission report"===v?"missionreport":"quickcapture project"===v?"quickcaptureproject":"pro report"===v?"proreport":"urban model"===v?"urbanmodel":"web experience"===v?"experiencebuilder":"web experience template"===v?"webexperiencetemplate":"workflow"===
v?"workflow":"insights script"===v?"insightsscript":"kernel gateway connection"===v?"kernelgatewayconnection":"hub initiative template"===v?"hubinitiativetemplate":"storymap theme"===v?"storymaptheme":"maps";return v?F.getAssetUrl("esri/images/portal/"+v+"16.png"):null}},{key:"isLayer",get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)}},{key:"itemUrl",get:function(){const v=
this.get("portal.restUrl");return v?v+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){const v=this.itemUrl,G=this.thumbnail;return v&&G?this.portal._normalizeUrl(`${v}/info/${G}?f=json`):null}},{key:"userItemUrl",get:function(){const v=this.get("portal.restUrl");if(!v)return null;const G=this.owner||this.get("portal.user.username");return G?`${v}/content/users/${this.ownerFolder?`${G}/${this.ownerFolder}`:G}/items/${this.id}`:null}}]);return z}(t.JSONSupportMixin(H));b.__decorate([r.property({type:["private",
"shared","org","public"]})],l.prototype,"access",void 0);b.__decorate([r.property()],l.prototype,"accessInformation",void 0);b.__decorate([r.property({json:{read:{source:"appProxies"}}})],l.prototype,"applicationProxies",void 0);b.__decorate([r.property()],l.prototype,"avgRating",void 0);b.__decorate([r.property()],l.prototype,"categories",void 0);b.__decorate([r.property({type:Date})],l.prototype,"created",void 0);b.__decorate([r.property()],l.prototype,"culture",void 0);b.__decorate([r.property()],
l.prototype,"description",void 0);b.__decorate([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],l.prototype,"displayName",null);b.__decorate([r.property({type:B})],l.prototype,"extent",void 0);b.__decorate([w.reader("extent")],l.prototype,"readExtent",null);b.__decorate([r.property()],l.prototype,"groupCategories",void 0);b.__decorate([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],l.prototype,"iconUrl",null);b.__decorate([r.property()],l.prototype,"id",void 0);b.__decorate([r.property({dependsOn:["type"],
readOnly:!0})],l.prototype,"isLayer",null);b.__decorate([r.property()],l.prototype,"itemControl",void 0);b.__decorate([r.property({dependsOn:["portal.restUrl","id"],readOnly:!0})],l.prototype,"itemUrl",null);b.__decorate([r.property()],l.prototype,"licenseInfo",void 0);b.__decorate([r.property({type:Date})],l.prototype,"modified",void 0);b.__decorate([r.property()],l.prototype,"name",void 0);b.__decorate([r.property()],l.prototype,"numComments",void 0);b.__decorate([r.property()],l.prototype,"numRatings",
void 0);b.__decorate([r.property()],l.prototype,"numViews",void 0);b.__decorate([r.property()],l.prototype,"owner",void 0);b.__decorate([r.property()],l.prototype,"ownerFolder",void 0);b.__decorate([r.property({type:C})],l.prototype,"portal",void 0);b.__decorate([r.property()],l.prototype,"screenshots",void 0);b.__decorate([r.property()],l.prototype,"size",void 0);b.__decorate([r.property()],l.prototype,"snippet",void 0);b.__decorate([r.property()],l.prototype,"sourceJSON",void 0);b.__decorate([r.property()],
l.prototype,"tags",void 0);b.__decorate([r.property()],l.prototype,"thumbnail",void 0);b.__decorate([r.property({dependsOn:["itemUrl","thumbnail","portal.credential.token"],readOnly:!0})],l.prototype,"thumbnailUrl",null);b.__decorate([r.property()],l.prototype,"title",void 0);b.__decorate([r.property()],l.prototype,"type",void 0);b.__decorate([r.property()],l.prototype,"typeKeywords",void 0);b.__decorate([r.property()],l.prototype,"url",void 0);b.__decorate([r.property({dependsOn:["portal.restUrl",
"portal.user.username","owner","ownerFolder","id"],readOnly:!0})],l.prototype,"userItemUrl",null);return l=y=b.__decorate([n.subclass("esri.portal.PortalItem")],l)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){const g=f.getLogger("esri.portal.PortalItemResource");l=function(u){function t(F){F=u.call(this,F)||this;F.portalItem=null;return F}c._inheritsLoose(t,u);var B=t.prototype;B.normalizeCtorArgs=function(F){return F&&F.portalItem&&F.path?{...F,path:this.normalizePath(F.path,F.portalItem)}:F};B._castPath=function(F){return this.normalizePath(F,this.portalItem)};B.fetch=function(F="json",H){const C=this.url;if(m.isNone(C))throw new w("portal-item-resource:fetch",
"Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(C,{responseType:F,signal:m.get(H,"signal")})};B.update=async function(F,H){return(await new Promise(function(C,A){a(["./support/resourceUtils"],C,A)})).addOrUpdateResource(this,"update",F,H)};B.hasPath=function(){return m.isSome(this.path)};B.normalizePath=function(F,H){if(m.isNone(F))return F;F=F.replace(/^\/+/,"");m.isSome(H)&&n.isAbsolute(F)&&(F=n.makeRelative(F,H.itemUrl));return F.replace(/^\/+/,
"").replace(/^(\.\/)?resources\//,"")};c._createClass(t,[{key:"path",set:function(F){m.isSome(F)&&n.isAbsolute(F)?g.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",F)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);return t}(d);b.__decorate([e.property()],l.prototype,
"portalItem",void 0);b.__decorate([e.property({type:String,value:null})],l.prototype,"path",null);b.__decorate([k.cast("path")],l.prototype,"_castPath",null);b.__decorate([e.property({type:String,readOnly:!0,dependsOn:["portalItem","path"]})],l.prototype,"url",null);b.__decorate([e.property({type:String,readOnly:!0,dependsOn:["portalItem","path"]})],l.prototype,"itemRelativeUrl",null);return l=b.__decorate([p.subclass("esri.portal.PortalItemResource")],l)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.created=null;d.rating=null;return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property()],b.prototype,"created",void 0);c.__decorate([f.property()],b.prototype,"rating",void 0);return b=c.__decorate([k.subclass("esri.portal.PortalRating")],b)})},"esri/support/basemapDefinitions":function(){define(["exports","../intl/messages","../assets"],function(a,c,b){b={streets:{id:"streets",thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets.jpg"),
baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",thumbnailUrl:b.getAssetUrl("esri/images/basemap/satellite.jpg"),baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,
visibility:!0,opacity:1}]},hybrid:{id:"hybrid",thumbnailUrl:b.getAssetUrl("esri/images/basemap/hybrid.jpg"),baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",thumbnailUrl:b.getAssetUrl("esri/images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",
title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",thumbnailUrl:b.getAssetUrl("esri/images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",thumbnailUrl:b.getAssetUrl("esri/images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",thumbnailUrl:b.getAssetUrl("esri/images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",thumbnailUrl:b.getAssetUrl("esri/images/basemap/oceans.jpg"),baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",thumbnailUrl:b.getAssetUrl("esri/images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",thumbnailUrl:b.getAssetUrl("esri/images/basemap/osm.jpg"),baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",
styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/gray-vector.jpg"),
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",
thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-vector.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/topo-vector.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-relief.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",
title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/hybrid.jpg"),
title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/satellite.jpg"),title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/gray-vector.jpg"),title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/dark-gray.jpg"),title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",
title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-navigation.jpg"),title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-vector.jpg"),title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-night.jpg"),
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/streets-relief.jpg"),title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/topo.jpg"),title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",
title:"World Topographic Map"}]},"arcgis-oceans":{thumbnailUrl:b.getAssetUrl("esri/images/basemap/oceans.jpg"),title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",
title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};
a.esriBasemapDefinitions=b;a.getBasemapTitle=async function(l){if(l){var m=-1<l.indexOf("-vector")?l.slice(0,l.indexOf("-vector")):l,f=await c.fetchMessageBundle("esri/t9n/basemaps");return f[l]||f[m]}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/lang ../../core/object ../../core/maybe ../../core/accessorSupport/extensions/serializableProperty/writer ../../core/Error".split(" "),function(a,c,b,l,m,f){function e(p){return!("feature"!==
p.type||p.url||!p.source||"memory"!==p.source.type)}const k=new Set("bing-maps open-street-map tile unknown unsupported vector-tile web-tile".split(" ")),r=new Set("csv feature geo-rss group kml tile unknown unsupported vector-tile web-tile".split(" "));a.disableRestrictedWriting=function(p){k.add(p);r.add(p)};a.enableRestrictedWriting=function(p){k.delete(p);r.delete(p)};a.getLayerJSON=function(p,w,n){if(!("write"in p&&p.write))return n&&n.messages&&n.messages.push(new f("layer:unsupported",`Layers (${p.title}, ${p.id}) of type '${p.declaredClass}' cannot be persisted`,
{layer:p})),null;if(n.restrictedWebMapWriting){var q="basemap"===n.layerContainerType?k:"operational-layers"===n.layerContainerType?r:null;q=l.isSome(q)?q.has(p.type)&&!e(p):!0}else q=!0;if(q)return w={},p.write(w,n)?w:null;if(l.isSome(w)){n=w=c.clone(w);if(e(p)){if(q=(q=b.getDeepValue("featureCollection.layers",n))&&q[0]&&q[0].layerDefinition)"maxScale"in p&&(q.maxScale=m.numberToJSON(p.maxScale)),"minScale"in p&&(q.minScale=m.numberToJSON(p.minScale))}else"group"!==p.type&&("maxScale"in p&&(n.maxScale=
m.numberToJSON(p.maxScale)),"minScale"in p&&(n.minScale=m.numberToJSON(p.minScale)));"blendMode"in p&&(n.blendMode=p.blendMode,"normal"===n.blendMode&&delete n.blendMode);n.opacity=m.numberToJSON(p.opacity);n.title=p.title||"Layer";n.visibility=p.visible;if("legendEnabled"in p&&"wmts"!==p.type)if(e(p)){if(n=n.featureCollection)n.showLegend=p.legendEnabled}else n.showLegend=p.legendEnabled}return w};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/compilerUtils ./core/lang ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/Error ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./core/Collection ./Color ./webdoc/support/opacityUtils ./core/collectionUtils ./core/Loadable ./core/loadAll ./ground/NavigationConstraint".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y){function x(v){return"elevation"===v.type||v&&"createElevationSampler"in v}var z;const D=e.getLogger("esri.Ground");l=z=function(v){function G(O){var L=v.call(this,O)||this;L.opacity=1;L.surfaceColor=null;L.navigationConstraint=null;L.layers=new B;L.layers.on("after-add",N=>{N=N.item;N.parent&&N.parent!==c._assertThisInitialized(L)&&"remove"in N.parent&&N.parent.remove(N);N.parent=c._assertThisInitialized(L);"elevation"!==N.type&&"base-elevation"!==
N.type&&D.error(`Layer '${N.title}, id:${N.id}' of type '${N.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});L.layers.on("after-remove",N=>{N.item.parent=null});return L}c._inheritsLoose(G,v);var I=G.prototype;I.initialize=function(){this.when().catch(O=>{D.error("#load()","Failed to load ground",O)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};I.destroy=function(){const O=this.layers.removeAll();
for(const L of O)L.destroy();this.layers.destroy()};I.normalizeCtorArgs=function(O){O&&"resourceInfo"in O&&(this._set("resourceInfo",O.resourceInfo),O={...O},delete O.resourceInfo);return O};I.writeLayers=function(O,L,N,R){const K=[];O&&(R={...R,layerContainerType:"ground"},O.forEach(U=>{if("write"in U){const P={};m.typeCast(U)().write(P,R)&&K.push(P)}else R&&R.messages&&R.messages.push(new q("layer:unsupported",`Layers (${U.title}, ${U.id}) of type '${U.declaredClass}' cannot be persisted in the ground`,
{layer:U}))}));L.layers=K};I.load=function(O){this.addResolvingPromise(this._loadFromSource(O));return u.resolve(this)};I.loadAll=function(){return E.loadAll(this,O=>{O(this.layers)})};I.queryElevation=async function(O,L){await this.load({signal:null==L?void 0:L.signal});var {ElevationQuery:N}=await new Promise(function(K,U){a(["./layers/support/ElevationQuery"],K,U)});u.throwIfAborted(L);N=new N;const R=this.layers.filter(x).toArray();return N.queryAll(R,O,L)};I.createElevationSampler=async function(O,
L){await this.load({signal:null==L?void 0:L.signal});var {ElevationQuery:N}=await new Promise(function(K,U){a(["./layers/support/ElevationQuery"],K,U)});u.throwIfAborted(L);N=new N;const R=this.layers.filter(x).toArray();return N.createSamplerAll(R,O,L)};I.clone=function(){const O={opacity:this.opacity,surfaceColor:f.clone(this.surfaceColor),navigationConstraint:f.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(O.loadStatus="loaded");return(new z({resourceInfo:this.resourceInfo})).set(O)};
I.read=function(O,L){this.resourceInfo||this._set("resourceInfo",{data:O,context:L});v.prototype.read.call(this,O,L)};I._loadFromSource=function(O){const L=this.resourceInfo;return L?this._loadLayersFromJSON(L.data,L.context,O):u.resolve(null)};I._loadLayersFromJSON=function(O,L,N){const R=L&&L.origin||"web-scene",K=L&&L.portal||null,U=L&&L.url||null;return(new Promise(function(P,J){a(["./layers/support/layersCreator"],P,J)})).then(({populateOperationalLayers:P})=>{u.throwIfAborted(N);const J=[];
O.layers&&Array.isArray(O.layers)&&J.push(P(this.layers,O.layers,{context:{origin:R,url:U,portal:K,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return u.eachAlways(J)}).then(()=>{})};c._createClass(G,[{key:"layers",set:function(O){this._set("layers",C.referenceSetter(O,this._get("layers")))}}]);return G}(t.JSONSupportMixin(A));b.__decorate([r.property({json:{read:!1}})],l.prototype,"layers",null);b.__decorate([n.writer("layers")],l.prototype,"writeLayers",null);
b.__decorate([r.property({readOnly:!0})],l.prototype,"resourceInfo",void 0);b.__decorate([r.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:k.Integer,read:{reader:H.transparencyToOpacity,source:"transparency"},write:{writer:(v,G)=>{G.transparency=H.opacityToTransparency(v)},target:"transparency"}}})],l.prototype,"opacity",void 0);b.__decorate([r.property({type:F,json:{type:[k.Integer],write:(v,G)=>{G.surfaceColor=v.toJSON().slice(0,3)}}})],l.prototype,"surfaceColor",void 0);b.__decorate([r.property({type:y.NavigationConstraint,
json:{write:!0}})],l.prototype,"navigationConstraint",void 0);return l=z=b.__decorate([w.subclass("esri.Ground")],l)})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,c){a.neverReached=function(b){};a.neverReachedSilent=function(b){};a.tuple=(...b)=>b;a.typeCast=function(b){return()=>b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./core/maybe","./core/accessorSupport/ensureType","./colorUtils",
"./core/mathUtils"],function(a,c,b,l,m){function f(r){return m.clamp(b.ensureInteger(r),0,255)}function e(r,p,w){r=Number(r);return isNaN(r)?w:r<p?p:r>w?w:r}let k=function(){function r(w){this.b=this.g=this.r=255;this.a=1;w&&this.setColor(w)}r.blendColors=function(w,n,q,h=new r){h.r=Math.round(w.r+(n.r-w.r)*q);h.g=Math.round(w.g+(n.g-w.g)*q);h.b=Math.round(w.b+(n.b-w.b)*q);h.a=w.a+(n.a-w.a)*q;return h._sanitize()};r.fromRgb=function(w,n){var q=w.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(q){w=q[2].split(/\s*,\s*/);q=q[1];if("rgb"===q&&3===w.length||"rgba"===q&&4===w.length)return q=w[0],"%"===q.charAt(q.length-1)?(q=w.map(h=>2.56*parseFloat(h)),4===w.length&&(q[3]=parseFloat(w[3])),r.fromArray(q,n)):r.fromArray(w.map(h=>parseFloat(h)),n);if("hsl"===q&&3===w.length||"hsla"===q&&4===w.length)return r.fromArray(l.hsla2rgba(parseFloat(w[0]),parseFloat(w[1])/100,parseFloat(w[2])/100,parseFloat(w[3])),n)}return null};r.fromHex=function(w,n=new r){const q=4===w.length?4:8,h=(1<<q)-1;
let d=Number("0x"+w.substr(1));if(isNaN(d))return null;["b","g","r"].forEach(g=>{const u=d&h;d>>=q;n[g]=4===q?17*u:u});n.a=1;return n};r.fromArray=function(w,n=new r){n._set(Number(w[0]),Number(w[1]),Number(w[2]),Number(w[3]));isNaN(n.a)&&(n.a=1);return n._sanitize()};r.fromString=function(w,n){const q=l.getNamedColor(w);return q&&r.fromArray(q,n)||r.fromRgb(w,n)||r.fromHex(w,n)};r.fromJSON=function(w){return w&&new r([w[0],w[1],w[2],w[3]/255])};r.toUnitRGB=function(w){return c.isSome(w)?[w.r/255,
w.g/255,w.b/255]:null};r.toUnitRGBA=function(w){return c.isSome(w)?[w.r/255,w.g/255,w.b/255,null!=w.a?w.a:1]:null};var p=r.prototype;p.setColor=function(w){if("string"===typeof w)r.fromString(w,this);else if(Array.isArray(w))r.fromArray(w,this);else{var n,q,h,d;this._set(null!=(n=w.r)?n:0,null!=(q=w.g)?q:0,null!=(h=w.b)?h:0,null!=(d=w.a)?d:1);w instanceof r||this._sanitize()}return this};p.toRgb=function(){return[this.r,this.g,this.b]};p.toRgba=function(){return[this.r,this.g,this.b,this.a]};p.toHex=
function(){const w=this.r.toString(16),n=this.g.toString(16),q=this.b.toString(16);return`#${2>w.length?"0"+w:w}${2>n.length?"0"+n:n}${2>q.length?"0"+q:q}`};p.toCss=function(w=!1){const n=this.r+", "+this.g+", "+this.b;return w?`rgba(${n}, ${this.a})`:`rgb(${n})`};p.toString=function(){return this.toCss(!0)};p.toJSON=function(){return this.toArray()};p.toArray=function(w=0){const n=f(this.r),q=f(this.g),h=f(this.b);return 0===w||1!==this.a?[n,q,h,f(255*this.a)]:[n,q,h]};p.clone=function(){return new r(this.toRgba())};
p.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};p._sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this};p._set=function(w,n,q,h){this.r=w;this.g=n;this.b=q;this.a=h};a._createClass(r,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return r}();k.prototype.declaredClass="esri.Color";return k})},"esri/colorUtils":function(){define(["exports"],
function(a){function c(m){var f;return null!=(f=l[m])?f:null}function b(m,f,e){0>e&&++e;1<e&&--e;const k=6*e;return 1>k?m+(f-m)*k:1>2*e?f:2>3*e?m+(f-m)*(2/3-e)*6:m}const l={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],
aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,
134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,
105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,
1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,
205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,
232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,
90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};a.getNamedColor=c;a.getNamedColorCopy=function(m){return(m=c(m))?[...m]:m};a.hex2rgba=function(m){var f=5<m.length;const e=f?8:4,k=(1<<e)-1,r=f?1:17;f=f?9===m.length:5===m.length;
m=Number("0x"+m.substr(1));if(isNaN(m))return null;const p=[0,0,0,1];f&&(f=m&k,m>>=e,p[3]=r*f/255);f=m&k;m>>=e;p[2]=r*f;f=m&k;m>>=e;p[1]=r*f;f=m&k;m>>=e;p[0]=r*f;return p};a.hsla2rgba=function(m,f,e,k=1){m=(m%360+360)%360/360;f=.5>=e?e*(f+1):e+f-e*f;e=2*e-f;return[Math.round(256*b(e,f,m+1/3)),Math.round(256*b(e,f,m)),Math.round(256*b(e,f,m-1/3)),k]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/mathUtils":function(){define(["exports"],function(a){function c(w,n,q){return w<n?n:w>
q?q:w}function b(w,n,q){return w+(n-w)*q}function l(w){m[0]=w;return m[0]}const m=new Float32Array(1),f=Number.isFinite||function(w){return"number"===typeof w&&window.isFinite(w)},e=Number.isNaN||function(w){return w!==w},k=Math.sign||function(w){return+(0<w)-+(0>w)||+w},r=Math.log2||function(w){return Math.log(w)/Math.LN2},p=l(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=p;a.acosClamped=function(w){return Math.acos(c(w,-1,1))};a.asinClamped=function(w){return Math.asin(c(w,-1,1))};a.clamp=c;a.clampFloat32=
function(w){return l(Math.max(-p,Math.min(w,p)))};a.deg2rad=function(w){return w*Math.PI/180};a.floatEqualAbsolute=function(w,n,q=1E-6){return e(w)||e(n)?!1:(w>n?w-n:n-w)<=q};a.floatEqualRelative=function(w,n,q=1E-6){if(e(w)||e(n))return!1;if(w===n)return!0;const h=Math.abs(w-n),d=Math.abs(w),g=Math.abs(n);if(0===w||0===n||1E-12>d&&1E-12>g){if(h>.01*q)return!1}else if(h/(d+g)>q)return!1;return!0};a.glClamp=function(w,n,q){return Math.min(Math.max(w,n),q)};a.isFinite=f;a.isNaN=e;a.isPowerOfTwo=function(w){return 0===
(w&w-1)};a.lerp=b;a.log2=r;a.nextHighestPowerOfTen=function(w){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(w)))};a.nextHighestPowerOfTwo=function(w){--w;for(let n=1;32>n;n<<=1)w|=w>>n;return w+1};a.nextPowerOfTwo=function(w){w--;w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;w++;return w};a.rad2deg=function(w){return 180*w/Math.PI};a.reciprocalClamped=function(w,n=1E-6){return(0>w?-1:1)/Math.max(Math.abs(w),n)};a.scale=function(w,n,q,h,d){return b(h,d,(w-n)/(q-n))};a.sign=k;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,c){a.opacityToTransparency=function(b){b=c.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};a.transparencyToOpacity=function(b){return Math.max(0,Math.min(1-b/100,1))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.NavigationConstraint=h=function(d){function g(u){u=d.call(this,u)||this;u.type="none";return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({type:this.type})};return g}(q.JSONSupport);b.__decorate([k.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=h=b.__decorate([r.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","./property","../../jsonMap"],function(a,c,b){a.enumeration=function(l,m={ignoreUnknown:!0}){l=l instanceof b.JSONMap?l:new b.JSONMap(l,m);l={type:null!=m&&m.ignoreUnknown?l.apiValues:String,readOnly:null==m?void 0:m.readOnly,json:{type:l.jsonValues,read:null!=m&&m.readOnly?!1:{reader:l.read},write:{writer:l.write}}};void 0!==(null==m?void 0:m.default)&&(l.json.default=m.default);return c.property(l)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Collection ./Handles".split(" "),function(a,c,b,l,m,f){let e=function(k){function r(w){w=k.call(this,w)||this;w._handles=new f;w.root=null;return w}a._inheritsLoose(r,k);var p=r.prototype;p.initialize=function(){this._handles.add(this.rootCollectionNames.map(w=>this.watch("root."+w,()=>this.updateCollections(),
!0)));this.updateCollections()};p.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null};p.updateCollections=function(){this._collections=this.rootCollectionNames.map(w=>this.get("root."+w)).filter(w=>null!=w);this.refresh()};p.refresh=function(){const w=this._handles;w.remove("collections");const n=[];let q=0;for(const h of this._collections)q=this._processCollection(n,q,h);this.splice(q,this.length);for(const h of n)w.add(h.on("after-changes",()=>this.refresh()),
"collections")};p._createNewInstance=function(w){return new m(w)};p._processCollection=function(w,n,q){if(!q)return n;w.push(q);q.forEach(h=>{if(h){if(!this.itemFilterFunction||this.itemFilterFunction(h)){const d=this.indexOf(h,n);0<=d?d!==n&&this.reorder(h,n):this.add(h,n);++n}this.getChildrenFunction&&(n=this._processCollection(w,n,this.getChildrenFunction(h)))}});return n};return r}(m);c.__decorate([b.property()],e.prototype,"rootCollectionNames",void 0);c.__decorate([b.property()],e.prototype,
"root",void 0);c.__decorate([b.property()],e.prototype,"getChildrenFunction",void 0);c.__decorate([b.property()],e.prototype,"itemFilterFunction",void 0);return e=c.__decorate([l.subclass("esri.core.CollectionFlattener")],e)})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Accessor ./Collection".split(" "),function(a,c,b,l,m,f,e){f=function(k){function r(w){w=k.call(this,
w)||this;w._groups=new Map;return w}a._inheritsLoose(r,k);var p=r.prototype;p.destroy=function(){this.removeAll()};p.add=function(w,n){if(!this._isHandle(w)&&!Array.isArray(w)&&!e.isCollection(w))return this;const q=this._getOrCreateGroup(n);Array.isArray(w)||e.isCollection(w)?w.forEach(h=>this._isHandle(h)&&q.push(h)):q.push(w);this.notifyChange("size");return this};p.forEach=function(w,n){if("function"===typeof w)this._groups.forEach(q=>q.forEach(w));else{const q=this._getGroup(w);q&&n&&q.forEach(n)}};
p.has=function(w){return this._groups.has(this._ensureGroupKey(w))};p.remove=function(w){if(Array.isArray(w)||e.isCollection(w))return w.forEach(this.remove,this),this;if(!this.has(w))return this;const n=this._getGroup(w);for(let q=0;q<n.length;q++)n[q].remove();this._deleteGroup(w);this.notifyChange("size");return this};p.removeAll=function(){this._groups.forEach(w=>{for(let n=0;n<w.length;n++)w[n].remove()});this._groups.clear();this.notifyChange("size");return this};p._isHandle=function(w){return w&&
!!w.remove};p._getOrCreateGroup=function(w){if(this.has(w))return this._getGroup(w);const n=[];this._groups.set(this._ensureGroupKey(w),n);return n};p._getGroup=function(w){return b.assumeNonNull(this._groups.get(this._ensureGroupKey(w)))};p._deleteGroup=function(w){return this._groups.delete(this._ensureGroupKey(w))};p._ensureGroupKey=function(w){return w||"_default_"};a._createClass(r,[{key:"size",get:function(){let w=0;this._groups.forEach(n=>{w+=n.length});return w}}]);return r}(f);c.__decorate([l.property({readOnly:!0})],
f.prototype,"size",null);return f=c.__decorate([m.subclass("esri.core.Handles")],f)})},"esri/support/basemapUtils":function(){define("exports ../core/Logger ../core/accessorSupport/ensureType ../core/urlUtils ../core/Collection ./basemapDefinitions ../Basemap".split(" "),function(a,c,b,l,m,f,e){function k(A,E){var y;let x;if("string"===typeof A){if(!(A in f.esriBasemapDefinitions))return E=Object.keys(f.esriBasemapDefinitions).map(z=>`"${z}"`).join(", "),H.warn(`Unable to find basemap definition for: ${A}. Try one of these: ${E}`),
null;E&&(x=E[A]);x||(x=e.fromId(A),E&&(E[A]=x))}else x=b.ensureType(e,A);null!=(y=x)&&y.destroyed&&(H.warn("The provided basemap is already destroyed",{basemap:x}),x=null);return x}function r(A,E){const y=new m;A.forEach(x=>{const z=E.find(D=>B(h(x),h(D)))||x;y.some(D=>D===z)?y.push(x):y.push(z)});return y}function p(A){if(w(A.url))return!0;if("vector-tile"===A.type)for(const E in A.sourceNameToSource){const y=A.sourceNameToSource[E];if(w(null==y?void 0:y.sourceUrl))return!0}return!1}function w(A){if(!A)return!1;
A=new l.Url(l.makeAbsolute(A));return C.test(A.authority)}function n(A){return A?!A.loaded&&A.resourceInfo?d(A.resourceInfo.data):{baseLayers:q(A.baseLayers),referenceLayers:q(A.referenceLayers)}:null}function q(A){return(m.isCollection(A)?A.toArray():A).map(h)}function h(A){return{type:A.type,url:F("urlTemplate"in A&&A.urlTemplate||A.url||"styleUrl"in A&&A.styleUrl),minScale:"minScale"in A&&null!=A.minScale?A.minScale:0,maxScale:"maxScale"in A&&null!=A.maxScale?A.maxScale:0,opacity:null!=A.opacity?
A.opacity:1,visible:null!=A.visible?!!A.visible:!0}}function d(A){return A?{baseLayers:g(A.baseMapLayers.filter(E=>!E.isReference)),referenceLayers:g(A.baseMapLayers.filter(E=>E.isReference))}:null}function g(A){return A.map(E=>{{let y;switch(E.layerType){case "VectorTileLayer":y="vector-tile";break;case "ArcGISTiledMapServiceLayer":y="tile";break;default:y="unknown"}E={type:y,url:F(E.templateUrl||E.urlTemplate||E.styleUrl||E.url),minScale:null!=E.minScale?E.minScale:0,maxScale:null!=E.maxScale?E.maxScale:
0,opacity:null!=E.opacity?E.opacity:1,visible:null!=E.visibility?!!E.visibility:!0}}return E})}function u(A,E,y){return null!=A!==(null!=E)?"not-equal":A?t(A.baseLayers,E.baseLayers)?t(A.referenceLayers,E.referenceLayers)?"equal":y.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function t(A,E){if(A.length!==E.length)return!1;for(let y=0;y<A.length;y++)if(!B(A[y],E[y]))return!1;return!0}function B(A,E){return A.type===E.type&&A.url===E.url&&A.minScale===E.minScale&&A.maxScale===
E.maxScale&&A.visible===E.visible&&A.opacity===E.opacity}function F(A){return A?l.normalize(A).replace(/^\s*https?:/i,"").toLowerCase():""}const H=c.getLogger("esri.support.basemapUtils"),C=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(A,E=null){A=k(A);if(!A)return null;const y=new e({id:A.id,title:A.title,baseLayers:A.baseLayers.slice(),referenceLayers:A.referenceLayers.slice()});E&&(y.baseLayers=r(y.baseLayers,E.baseLayers),y.referenceLayers=r(y.referenceLayers,
E.referenceLayers));y.load().catch(()=>{});y.portalItem=A.portalItem;return y};a.contentEquals=function(A,E){if(A===E)return!0;A=n(A);E=n(E);return"equal"===u(A,E,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(A){for(const E in A){const y=A[E];!1===(null==y?void 0:y.destroyed)&&y.destroy();delete A[E]}};a.ensureType=k;a.getWellKnownBasemapId=function(A){let E=null;A=n(A);const y=!A.baseLayers.length;for(const z in f.esriBasemapDefinitions){var x=d(f.esriBasemapDefinitions[z]);
x=u(A,x,{mustMatchReferences:y});if("equal"===x){E=z;break}"base-layers-equal"===x&&(E=z)}return E};a.hasDeveloperBasemapLayer=function(A){return!(null==A||!A.baseLayers.concat(A.referenceLayers).some(p))};a.isDeveloperBasemapLayer=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/groundUtils":function(){define(["exports","../core/Logger","../core/accessorSupport/ensureType","../Ground"],function(a,c,b,l){const m=c.getLogger("esri.support.groundUtils"),f={"world-elevation":{id:"worldElevation",
url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(e){let k;"string"===typeof e?e in f?k=new l({resourceInfo:{data:{layers:[f[e]]}}}):m.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):
k=b.ensureType(l,e);return k};a.groundElevationLayers=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Collection ../core/collectionUtils ../layers/Layer".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){function u(B,F,H){if(B)for(let A=0,E=B.length;A<E;A++){var C=B.getItemAt(A);if(C[F]===H||C&&"group"===C.type&&(C=u(C.layers,F,H)))return C}}const t=m.getLogger("esri.support.LayersMixin");a.LayersMixin=B=>{B=function(F){function H(...A){var E=F.call(this,...A)||this;E.layers=new h;E.layers.on("before-add",y=>{y=y.item;y.parent&&"remove"in y.parent&&y.parent.remove(y)});E.layers.on("after-add",y=>{y=y.item;y.parent=c._assertThisInitialized(E);E.layerAdded(y);
"elevation"!==y.type&&"base-elevation"!==y.type||t.error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)});E.layers.on("after-remove",y=>{y=y.item;y.parent=null;E.layerRemoved(y)});return E}c._inheritsLoose(H,F);var C=H.prototype;C.destroy=function(){const A=this.layers.removeAll();for(const E of A)this.layerRemoved(E),E.destroy();this.layers.destroy()};C.add=function(A,E){const y=this.layers;E=y.getNextIndex(E);A instanceof
g?A.parent===this?this.reorder(A,E):y.add(A,E):q.isPromiseLike(A)?A.then(x=>{this.destroyed||this.add(x,E)}):t.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};C.addMany=function(A,E){const y=this.layers;E=y.getNextIndex(E);A.slice().forEach(x=>{x.parent===this?this.reorder(x,E):(y.add(x,E),E+=1)})};C.findLayerById=function(A){return u(this.layers,"id",A)};C.findLayerByUid=function(A){return u(this.layers,"uid",A)};C.remove=function(A){return this.layers.remove(A)};
C.removeMany=function(A){return this.layers.removeMany(A)};C.removeAll=function(){return this.layers.removeAll()};C.reorder=function(A,E){return this.layers.reorder(A,E)};C.layerAdded=function(A){};C.layerRemoved=function(A){};c._createClass(H,[{key:"layers",set:function(A){this._set("layers",d.referenceSetter(A,this._get("layers")))}}]);return H}(B);b.__decorate([e.property()],B.prototype,"layers",null);return B=b.__decorate([r.subclass("esri.support.LayersMixin")],B)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../config ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../geometry/SpatialReference ../geometry/Extent ../geometry ../core/Evented ../core/Identifiable ../request ../core/Loadable".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){let C=0;const A=f.getLogger("esri.layers.Layer");l=function(E){function y(){var z=E.apply(this,arguments)||this;z.attributionDataUrl=null;z.fullExtent=new g(-180,-90,180,90,d.WGS84);z.id=Date.now().toString(16)+"-layer-"+C++;z.legendEnabled=!0;z.listMode="show";z.opacity=1;z.parent=null;z.popupEnabled=!0;z.attributionVisible=!0;z.spatialReference=d.WGS84;z.title=null;z.type=null;z.url=null;z.visible=!0;return z}c._inheritsLoose(y,E);y.fromArcGISServerUrl=
async function(z){z="string"===typeof z?{url:z}:z;const D=await new Promise(function(v,G){a(["./support/arcgisLayers"],v,G)});try{return await D.fromUrl(z)}catch(v){throw A.error("#fromArcGISServerUrl({ url: '"+z.url+"'})","Failed to create layer from arcgis server url",v),v;}};y.fromPortalItem=async function(z){z="portalItem"in z?z:{portalItem:z};const D=await new Promise(function(v,G){a(["../portal/support/portalLayers"],v,G)});try{return await D.fromItem(z)}catch(v){throw z=z&&z.portalItem,A.error("#fromPortalItem()",
"Failed to create layer from portal item (portal: '"+(z&&z.portal&&z.portal.url||m.portalUrl)+"', id: '"+(z&&z.id||"unset")+"')",v),v;}};var x=y.prototype;x.initialize=function(){this.when().catch(z=>{var D,v;f.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(D=this.title)?D:"no title"}', id: '${null!=(v=this.id)?v:"no id"}')`,{error:z})})};x.destroy=function(){if(this.parent){const z=this.parent;"layers"in z&&z.layers.includes(this)?z.layers.remove(this):"tables"in
z&&z.tables.includes(this)?z.tables.remove(this):"baseLayers"in z&&z.baseLayers.includes(this)?z.baseLayers.remove(this):"baseLayers"in z&&z.referenceLayers.includes(this)&&z.referenceLayers.remove(this)}};x.fetchAttributionData=async function(){const z=this.attributionDataUrl;if(this.hasAttributionData&&z)return(await F(z,{query:{f:"json"},responseType:"json"})).data;throw new w("layer:no-attribution-data","Layer does not have attribution data");};c._createClass(y,[{key:"hasAttributionData",get:function(){return null!=
this.attributionDataUrl}},{key:"parsedUrl",get:function(){const z=this.url;return z?n.urlToObject(z):null}}]);return y}(t.EventedMixin(B.IdentifiableMixin(H)));b.__decorate([k.property({type:String})],l.prototype,"attributionDataUrl",void 0);b.__decorate([k.property({type:g})],l.prototype,"fullExtent",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["attributionDataUrl"]})],l.prototype,"hasAttributionData",null);b.__decorate([k.property({type:String})],l.prototype,"id",void 0);b.__decorate([k.property({type:Boolean,
nonNullable:!0})],l.prototype,"legendEnabled",void 0);b.__decorate([k.property({type:["show","hide","hide-children"]})],l.prototype,"listMode",void 0);b.__decorate([k.property({type:Number,range:{min:0,max:1},nonNullable:!0})],l.prototype,"opacity",void 0);b.__decorate([k.property()],l.prototype,"parent",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["url"]})],l.prototype,"parsedUrl",null);b.__decorate([k.property({type:Boolean})],l.prototype,"popupEnabled",void 0);b.__decorate([k.property({type:Boolean})],
l.prototype,"attributionVisible",void 0);b.__decorate([k.property({type:d})],l.prototype,"spatialReference",void 0);b.__decorate([k.property({type:String})],l.prototype,"title",void 0);b.__decorate([k.property({type:String,readOnly:!0,json:{read:!1}})],l.prototype,"type",void 0);b.__decorate([k.property()],l.prototype,"url",void 0);b.__decorate([k.property({type:Boolean,nonNullable:!0})],l.prototype,"visible",void 0);return l=b.__decorate([p.subclass("esri.layers.Layer")],l)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/Extent ./geometry/Multipoint ./geometry/Polygon ./geometry/Polyline ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w){const n={base:l,key:"type",typeMap:{extent:f,multipoint:e,point:m,polyline:r,polygon:k}};c=c.ensureOneOfType(n);a.SpatialReference=b;a.BaseGeometry=l;a.Point=m;a.Extent=f;a.Multipoint=e;a.Polygon=k;a.Polyline=r;a.featureGeometryTypeKebabDictionary=p.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=p.isFeatureGeometryType;a.typeKebabDictionary=p.typeKebabDictionary;a.fromJSON=w.fromJSON;a.ensureType=c;a.geometryTypes=n;a.isGeometry=function(q){return q instanceof
l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){function t(F){return(H,C)=>null==H?C:null==C?H:F(H,C)}var B;b=B=function(F){function H(...A){A=F.call(this,...A)||this;A.points=[];A.type="multipoint";return A}a._inheritsLoose(H,F);var C=H.prototype;C.normalizeCtorArgs=function(A,E){if(!A&&!E)return null;const y={};Array.isArray(A)?(y.points=A,y.spatialReference=E):!A||"esri.geometry.SpatialReference"!==A.declaredClass&&null==A.wkid?(A.points&&(y.points=A.points),A.spatialReference&&(y.spatialReference=
A.spatialReference),A.hasZ&&(y.hasZ=A.hasZ),A.hasM&&(y.hasM=A.hasM)):y.spatialReference=A;if(A=y.points&&y.points[0])void 0===y.hasZ&&void 0===y.hasM?(y.hasZ=2<A.length,y.hasM=!1):void 0===y.hasZ?y.hasZ=3<A.length:void 0===y.hasM&&(y.hasM=3<A.length);return y};C.writePoints=function(A,E){E.points=l.clone(this.points)};C.addPoint=function(A){this.clearCache();u.updateSupportFromPoint(this,A);Array.isArray(A)?this.points.push(A):this.points.push(A.toArray());return this};C.clone=function(){const A=
{points:l.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(A.hasZ=!0);this.hasM&&(A.hasM=!0);return new B(A)};C.getPoint=function(A){if(!this._validateInputs(A))return null;A=this.points[A];const E={x:A[0],y:A[1],spatialReference:this.spatialReference};let y=2;this.hasZ&&(E.z=A[2],y=3);this.hasM&&(E.m=A[y]);return new d(E)};C.removePoint=function(A){if(!this._validateInputs(A))return null;this.clearCache();return new d(this.points.splice(A,1)[0],this.spatialReference)};C.setPoint=
function(A,E){if(!this._validateInputs(A))return this;this.clearCache();u.updateSupportFromPoint(this,E);Array.isArray(E)||(E=E.toArray());this.points[A]=E;return this};C.toJSON=function(A){return this.write(null,A)};C._validateInputs=function(A){return null!=A&&0<=A&&A<this.points.length};a._createClass(H,[{key:"extent",get:function(){const A=this.points;if(!A.length)return null;const E=new g,y=this.hasZ,x=this.hasM,z=y?3:2;var D=A[0];const v=t(Math.min),G=t(Math.max);let [I,O]=D,[L,N]=D,R,K,U,P;
for(let J=0,S=A.length;J<S;J++){D=A[J];const [W,M]=D;I=v(I,W);O=v(O,M);L=G(L,W);N=G(N,M);if(y&&2<D.length){const T=D[2];R=v(R,T);U=G(U,T)}x&&D.length>z&&(D=D[z],K=v(K,D),P=G(P,D))}E.xmin=I;E.ymin=O;E.xmax=L;E.ymax=N;E.spatialReference=this.spatialReference;y?(E.zmin=R,E.zmax=U):(E.zmin=null,E.zmax=null);x?(E.mmin=K,E.mmax=P):(E.mmin=null,E.mmax=null);return E}}]);return H}(h);c.__decorate([e.property({dependsOn:["points","hasZ","hasM","spatialReference"],autoTracked:!1})],b.prototype,"cache",void 0);
c.__decorate([e.property({dependsOn:["cache"],autoTracked:!1})],b.prototype,"extent",null);c.__decorate([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);c.__decorate([p.writer("points")],b.prototype,"writePoints",null);b=B=c.__decorate([r.subclass("esri.geometry.Multipoint")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(c,b,l=!1){let {hasM:m,
hasZ:f}=c;Array.isArray(b)?4!==b.length||m||f?3===b.length&&l&&!m?(f=!0,m=!1):3===b.length&&m&&f&&(f=m=!1):f=m=!0:(f=!f&&b.hasZ&&(!m||b.hasM),m=!m&&b.hasM&&(!f||b.hasZ));c.hasZ=f;c.hasM=m};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects ./Extent ./support/zmUtils ./support/coordsUtils ./support/centroid ./support/extentUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){var y;b=y=function(x){function z(...v){v=x.call(this,...v)||this;v.rings=[];v.type="polygon";return v}a._inheritsLoose(z,x);z.fromExtent=function(v){var G=v.clone().normalize();v=v.spatialReference;let I=!1,O=!1;G.map(L=>{L.hasZ&&(I=!0);L.hasM&&(O=!0)});G={rings:G.map(function(L){const N=[[L.xmin,L.ymin],[L.xmin,L.ymax],[L.xmax,L.ymax],[L.xmax,L.ymin],[L.xmin,L.ymin]];if(I&&L.hasZ){var R=L.zmin+.5*(L.zmax-L.zmin);for(let K=0;K<N.length;K++)N[K].push(R)}if(O&&
L.hasM)for(L=L.mmin+.5*(L.mmax-L.mmin),R=0;R<N.length;R++)N[R].push(L);return N}),spatialReference:v};I&&(G.hasZ=!0);O&&(G.hasM=!0);return new y(G)};var D=z.prototype;D.normalizeCtorArgs=function(v,G){let I=null,O,L,N=null;v&&!Array.isArray(v)?(I=v.rings?v.rings:null,G||(v.spatialReference?G=v.spatialReference:v.rings||(G=v)),O=v.hasZ,L=v.hasM):I=v;I=I||[];G=G||h.WGS84;I.length&&I[0]&&null!=I[0][0]&&"number"===typeof I[0][0]&&(I=[I]);if(N=I[0]&&I[0][0])void 0===O&&void 0===L?(O=2<N.length,L=!1):void 0===
O?O=!L&&3<N.length:void 0===L&&(L=!O&&3<N.length);return{rings:I,spatialReference:G,hasZ:O,hasM:L}};D.writeRings=function(v,G){G.rings=l.clone(this.rings)};D.addRing=function(v){if(v){this.clearCache();var G=this.rings,I=G.length;if(Array.isArray(v[0]))G[I]=v.concat();else{const O=[];for(let L=0,N=v.length;L<N;L++)O[L]=v[L].toArray();G[I]=O}return this}};D.clone=function(){const v=new y;v.spatialReference=this.spatialReference;v.rings=l.clone(this.rings);v.hasZ=this.hasZ;v.hasM=this.hasM;return v};
D.contains=function(v){if(!v)return!1;g.canProject(v,this.spatialReference)&&(v=g.project(v,this.spatialReference));return t.polygonContainsPoint(this,v)};D.isClockwise=function(v){v=Array.isArray(v[0])?v:v.map(G=>this.hasZ?this.hasM?[G.x,G.y,G.z,G.m]:[G.x,G.y,G.z]:[G.x,G.y]);return C.isClockwise(v,this.hasM,this.hasZ)};D.getPoint=function(v,G){if(!this._validateInputs(v,G))return null;v=this.rings[v][G];G=this.hasZ;const I=this.hasM;return G&&!I?new u(v[0],v[1],v[2],void 0,this.spatialReference):
I&&!G?new u(v[0],v[1],void 0,v[2],this.spatialReference):G&&I?new u(v[0],v[1],v[2],v[3],this.spatialReference):new u(v[0],v[1],this.spatialReference)};D.insertPoint=function(v,G,I){if(!this._validateInputs(v,G,!0))return this;this.clearCache();H.updateSupportFromPoint(this,I);Array.isArray(I)||(I=I.toArray());this.rings[v].splice(G,0,I);return this};D.removePoint=function(v,G){if(!this._validateInputs(v,G))return null;this.clearCache();return new u(this.rings[v].splice(G,1)[0],this.spatialReference)};
D.removeRing=function(v){if(!this._validateInputs(v,null))return null;this.clearCache();v=this.rings.splice(v,1)[0];const G=this.spatialReference;return v.map(I=>new u(I,G))};D.setPoint=function(v,G,I){if(!this._validateInputs(v,G))return this;this.clearCache();H.updateSupportFromPoint(this,I);Array.isArray(I)||(I=I.toArray());this.rings[v][G]=I;return this};D._validateInputs=function(v,G,I=!1){return null==v||0>v||v>=this.rings.length||null!=G&&(v=this.rings[v],I&&(0>G||G>v.length)||!I&&(0>G||G>=
v.length))?!1:!0};D.toJSON=function(v){return this.write(null,v)};a._createClass(z,[{key:"centroid",get:function(){const v=A.polygonCentroid(this);if(!v||isNaN(v[0])||isNaN(v[1])||this.hasZ&&isNaN(v[2]))return null;const G=new u;G.x=v[0];G.y=v[1];G.spatialReference=this.spatialReference;this.hasZ&&(G.z=v[2]);return G}},{key:"extent",get:function(){const {spatialReference:v}=this;var G=E.getPolygonExtent(this);if(!G)return null;G=new F(G);G.spatialReference=v;return G}},{key:"isSelfIntersecting",get:function(){return B.isSelfIntersecting(this.rings)}}]);
return z}(d);c.__decorate([e.property({dependsOn:["hasM","hasZ","rings"],autoTracked:!1})],b.prototype,"cache",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],b.prototype,"centroid",null);c.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],b.prototype,"extent",null);c.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],b.prototype,"isSelfIntersecting",null);c.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
b.prototype,"rings",void 0);c.__decorate([p.writer("rings")],b.prototype,"writeRings",null);b=y=c.__decorate([r.subclass("esri.geometry.Polygon")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,c){function b(e,k){const r=k[0]-e[0],p=k[1]-e[1];return 2<e.length&&2<k.length?(e=e[2]-k[2],Math.sqrt(r*r+p*p+e*e)):Math.sqrt(r*r+p*p)}function l(e,k,r){const p=e[0]+r*(k[0]-e[0]),w=e[1]+r*(k[1]-e[1]);
return 2<e.length&&2<k.length?[p,w,e[2]+r*(k[2]-e[2])]:[p,w]}function m(e,k,r){const p=e.length;let w=0,n=0,q=0;for(let h=0;h<p;h++){const d=e[h],g=e[(h+1)%p];let u=2;w+=d[0]*g[1]-g[0]*d[1];2<d.length&&2<g.length&&r&&(n+=d[0]*g[2]-g[0]*d[2],u=3);d.length>u&&g.length>u&&k&&(q+=d[0]*g[u]-g[0]*d[u])}return 0>=w&&0>=n&&0>=q}function f(e,k){if(k=c.getInfo(k)){var r=k.valid[0],p=k.valid[1],w=p-r;for(const n of e){let q=Infinity,h=-Infinity;n.forEach(d=>{let g=d[0];for(;g<r;)g+=w;for(;g>p;)g-=w;q=Math.min(q,
g);h=Math.max(h,g);d[0]=g});e=h-q;w-e<e&&n.forEach(d=>{0>d[0]&&(d[0]+=w)})}}}a.closeRings=function(e){if("rings"in e)for(const k of e.rings)3>k.length||k[0][0]===k[k.length-1][0]&&k[0][1]===k[k.length-1][1]||k.push([k[0][0],k[0][1]])};a.closeRingsAndFixWinding=function(e){if("rings"in e){for(var k of e.rings)3>k.length||k[0][0]===k[k.length-1][0]&&k[0][1]===k[k.length-1][1]||k.push([k[0][0],k[0][1]]);if(0<e.rings.length&&!m(e.rings[0],e.hasM,e.hasZ))for(k=0;k<e.rings.length;++k)e.rings[k]=e.rings[k].reverse()}};
a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(e,k,r,p){let w=Infinity,n=-Infinity;e.forEach(h=>{let d=h.pos[0];for(;d<k;)d+=p;for(;d>r;)d-=p;w=Math.min(w,d);n=Math.max(n,d);h.unnormalizedPos[0]=d;h.unnormalizedPos[1]=h.pos[1];2<h.pos.length&&(h.unnormalizedPos[2]=h.pos[2]);3<h.pos.length&&(h.unnormalizedPos[3]=h.pos[3])});const q=n-w;p-q<q&&e.forEach(h=>{0>h.unnormalizedPos[0]&&(h.unnormalizedPos[0]+=p)})};a.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;
const k=e.hasZ,r=e.hasM;if("point"===e.type)return r&&k?[e.x,e.y,e.z,e.m]:k?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){e=e.clone().normalize();if(!e)return null;let p=!1,w=!1;e.forEach(n=>{n.hasZ&&(p=!0);n.hasM&&(w=!0)});return e.map(n=>{const q=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];if(p&&n.hasZ){var h=
.5*(n.zmax-n.zmin);for(let d=0;d<q.length;d++)q[d].push(h)}if(w&&n.hasM)for(n=.5*(n.mmax-n.mmin),h=0;h<q.length;h++)q[h].push(n);return q})}return null};a.getLength=b;a.getMidpoint=function(e,k){return l(e,k,.5)};a.getPathLength=function(e){const k=e.length;let r=0;for(let p=0;p<k-1;++p)r+=b(e[p],e[p+1]);return r};a.getPointOnPath=function(e,k){if(0>=k)return e[0];const r=e.length;let p=0;for(let w=0;w<r-1;++w){const n=b(e[w],e[w+1]);if(k-p<n)return l(e[w],e[w+1],(k-p)/n);p+=n}return e[r-1]};a.getRingArea=
function(e){const k=e.length;let r=0;for(let p=0;p<k;p++){const w=e[p],n=e[(p+1)%k];r+=w[0]*n[1]-n[0]*w[1]}return r};a.isClockwise=m;a.projectPointOnLine=function(e,k,r,p){const [w,n]=k,[q,h]=r[p],[d,g]=r[p+1];k=d-q;r=g-h;p=Math.min(1,Math.max(0,((w-q)*k+(n-h)*r)/(k*k+r*r)));e[0]=q+k*p;e[1]=h+r*p;return e};a.unnormalizeGeometryOnDatelineCrossing=function(e){if("polygon"!==e.type&&"polyline"!==e.type)return e;f("polygon"===e.type?e.rings:e.paths,e.spatialReference);return e};a.unnormalizeVerticesOnDatelineCrossing=
f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,c){function b(f,e){if(!f||!f.length)return null;const k=[],r=[],p=e?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let n=0,q=f.length;n<q;n++){var w=l(f[n],e,p);w&&r.push(w)}r.sort((n,q)=>{let h=n[2]-q[2];0===h&&e&&(h=n[4]-q[4]);return h});r.length&&(w=6*r[0][2],k[0]=r[0][0]/w,k[1]=r[0][1]/w,e&&(w=6*
r[0][4],k[2]=0!==w?r[0][3]/w:0),k[0]<p[0]||k[0]>p[1]||k[1]<p[2]||k[1]>p[3]||e&&(k[2]<p[4]||k[2]>p[5]))&&(k.length=0);if(!k.length)if(f=f[0]&&f[0].length?m(f[0],e):null)k[0]=f[0],k[1]=f[1],e&&2<f.length&&(k[2]=f[2]);else return null;return k}function l(f,e,k){let r=0,p=0,w=0,n=0,q=0;for(let h=0;h<f.length;h++){const d=f[h],[g,u,t]=d,B=f[(h+1)%f.length],[F,H,C]=B;let A=g*H-F*u;n+=A;r+=(g+F)*A;p+=(u+H)*A;e&&2<d.length&&2<B.length&&(A=g*C-F*t,w+=(t+C)*A,q+=A);g<k[0]&&(k[0]=g);g>k[1]&&(k[1]=g);u<k[2]&&
(k[2]=u);u>k[3]&&(k[3]=u);e&&(t<k[4]&&(k[4]=t),t>k[5]&&(k[5]=t))}0<n&&(n*=-1);0<q&&(q*=-1);if(!n)return null;f=[r,p,.5*n];e&&(f[3]=w,f[4]=.5*q);return f}function m(f,e){const k=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let p=0,w=0,n=0,q=0;for(let d=0,g=f.length;d<g-1;d++){var h=f[d];const u=f[d+1];if(h&&u){k[0]=h[0];k[1]=h[1];r[0]=u[0];r[1]=u[1];e&&2<h.length&&2<u.length&&(k[2]=h[2],r[2]=u[2]);const t=c.getLength(k,r);t&&(p+=t,h=c.getMidpoint(h,u),w+=t*h[0],n+=t*h[1],e&&2<h.length&&(q+=t*h[2]))}}return 0<
p?e?[w/p,n/p,q/p]:[w/p,n/p]:f.length?f[0]:null}a.extentCentroid=function(f){return f?f.hasZ?[f.xmax-f.xmin/2,f.ymax-f.ymin/2,f.zmax-f.zmin/2]:[f.xmax-f.xmin/2,f.ymax-f.ymin/2]:null};a.lineCentroid=m;a.polygonCentroid=function(f){return f?b(f.rings,f.hasZ):null};a.ringsCentroid=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,c){function b(r,p=!1,w=!1){return p?w?{xmin:r[0],ymin:r[1],zmin:r[2],mmin:r[3],
xmax:r[4],ymax:r[5],zmax:r[6],mmax:r[7]}:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5]}:w?{xmin:r[0],ymin:r[1],mmin:r[2],xmax:r[3],ymax:r[4],mmax:r[5]}:{xmin:r[0],ymin:r[1],xmax:r[2],ymax:r[3]}}function l(r){const {hasZ:p,hasM:w,points:n}=r;return b(c.getPointsBounds(k,n,p,w),p,w)}function m(r){const {x:p,y:w,z:n,m:q}=r;r=null!=q;return null!=n?r?{xmin:p,ymin:w,zmin:n,mmin:q,xmax:p,ymax:w,zmax:n,mmax:q}:{xmin:p,ymin:w,zmin:n,xmax:p,ymax:w,zmax:n}:r?{xmin:p,ymin:w,mmin:q,xmax:p,ymax:w,
mmax:q}:{xmin:p,ymin:w,xmax:p,ymax:w}}function f(r){const {hasZ:p,hasM:w,rings:n}=r;return(r=c.getRingsOrPathsBounds(k,n,p,w))?b(r,p,w):null}function e(r){const {hasZ:p,hasM:w,paths:n}=r;return(r=c.getRingsOrPathsBounds(k,n,p,w))?b(r,p,w):null}const k=[];a.getGeometryExtent=function(r){return r?void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax?r:void 0!==r.x&&void 0!==r.y?m(r):void 0!==r.rings?f(r):void 0!==r.paths?e(r):void 0!==r.points?l(r):null:null};a.getMultipointExtent=l;a.getPointExtent=
m;a.getPolygonExtent=f;a.getPolylineExtent=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function c(r){return void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax}function b(r){return(p,w)=>null==p?w:null==w?p:r(p,w)}function l(r,p,w,n){const q=w?3:2;if(!p.length||!p[0].length)return null;let [h,d]=p[0][0],[g,u]=p[0][0],t=void 0,B=void 0,F=void 0;var H=void 0;for(let C=0;C<p.length;C++){const A=p[C];
for(let E=0;E<A.length;E++){const y=A[E],[x,z]=y;h=e(h,x);d=e(d,z);g=k(g,x);u=k(u,z);if(w&&2<y.length){const D=y[2];t=e(t,D);B=k(B,D)}n&&y.length>q&&(H=y[q],F=e(t,H),H=k(B,H))}}if(w){if(n)return r[0]=h,r[1]=d,r[2]=t,r[3]=F,r[4]=g,r[5]=u,r[6]=B,r[7]=H,r.length=8,r;r[0]=h;r[1]=d;r[2]=t;r[3]=g;r[4]=u;r[5]=B;r.length=6;return r}if(n)return r[0]=h,r[1]=d,r[2]=F,r[3]=g,r[4]=u,r[5]=H,r.length=6,r;r[0]=h;r[1]=d;r[2]=g;r[3]=u;r.length=4;return r}function m(r,p,w,n,q,h){w=p.xmin;n=p.xmax;const d=p.ymin,g=p.ymax;
let u=p.zmin,t=p.zmax,B=p.mmin;p=p.mmax;if(q){u=u||0;t=t||0;if(h)return r[0]=w,r[1]=d,r[2]=u,r[3]=B||0,r[4]=n,r[5]=g,r[6]=t,r[7]=p||0,r;r[0]=w;r[1]=d;r[2]=u;r[3]=n;r[4]=g;r[5]=t;return r}if(h)return r[0]=w,r[1]=d,r[2]=B||0,r[3]=n,r[4]=g,r[5]=p||0,r;r[0]=w;r[1]=d;r[2]=n;r[3]=g;return r}function f(r,p,w,n,q,h){const d=w?3:2;n=n&&h;w=w&&q;if(!p.length||!p[0].length)return null;let [g,u]=p[0],[t,B]=p[0],F=void 0,H=void 0,C=void 0;var A=void 0;for(let E=0;E<p.length;E++){const y=p[E],[x,z]=y;g=e(g,x);
u=e(u,z);t=k(t,x);B=k(B,z);if(w&&2<y.length){const D=y[2];F=e(F,D);H=k(H,D)}n&&y.length>d&&(A=y[d],C=e(F,A),A=k(H,A))}if(q){F=F||0;H=H||0;if(h)return r[0]=g,r[1]=u,r[2]=F,r[3]=C||0,r[4]=t,r[5]=B,r[6]=H,r[7]=A||0,r;r[0]=g;r[1]=u;r[2]=F;r[3]=t;r[4]=B;r[5]=H;return r}if(h)return r[0]=g,r[1]=u,r[2]=C||0,r[3]=t,r[4]=B,r[5]=A||0,r;r[0]=g;r[1]=u;r[2]=t;r[3]=B;return r}const e=b(Math.min),k=b(Math.max);a.getBoundsXY=function(r,p){if(void 0!==p.paths)return l(r,p.paths,!1,!1);if(void 0!==p.rings)return l(r,
p.rings,!1,!1);if(void 0!==p.points)return f(r,p.points,!1,!1,!1,!1);if(c(p))return m(r,p);void 0!==p.x&&void 0!==p.y&&(r[0]=p.x,r[1]=p.y,r[2]=p.x,r[3]=p.y);return r};a.getBoundsXYZ=function(r,p){if(void 0!==p.paths)return l(r,p.paths,!0,!1);if(void 0!==p.rings)return l(r,p.rings,!0,!1);if(void 0!==p.points)return f(r,p.points,!0,!1,!0,!1);if(c(p))return m(r,p,!0,!1,!0,!1);void 0!==p.x&&void 0!==p.y&&(r[0]=p.x,r[1]=p.y,r[2]=p.z,r[3]=p.x,r[4]=p.y,r[5]=p.z);return r};a.getExtentBounds=m;a.getPointsBounds=
f;a.getPointsBoundsCenterX=function(r){if(!r.length||!r[0].length)return null;let [p]=r[0],[w]=r[0];for(let n=0;n<r.length;n++){const [q]=r[n];p=e(p,q);w=k(w,q)}return p+.5*(w-p)};a.getPointsBoundsWidth=function(r){if(!r.length||!r[0].length)return null;let [p]=r[0],[w]=r[0];for(let n=0;n<r.length;n++){const [q]=r[n];p=e(p,q);w=k(w,q)}return w-p};a.getRingsOrPathsBounds=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils ./support/extentUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){var F;b=F=function(H){function C(...E){E=H.call(this,...E)||this;E.paths=[];E.type="polyline";return E}a._inheritsLoose(C,H);var A=C.prototype;A.normalizeCtorArgs=function(E,y){let x=null,z,D,v=null;E&&!Array.isArray(E)?(x=E.paths?E.paths:null,y||(E.spatialReference?y=E.spatialReference:E.paths||(y=E)),z=E.hasZ,D=E.hasM):x=E;x=x||[];y=y||h.WGS84;x.length&&x[0]&&null!=x[0][0]&&"number"===typeof x[0][0]&&(x=[x]);if(v=x[0]&&x[0][0])void 0===z&&void 0===
D?(z=2<v.length,D=!1):void 0===z?z=!D&&3<v.length:void 0===D&&(D=!z&&3<v.length);return{paths:x,spatialReference:y,hasZ:z,hasM:D}};A.writePaths=function(E,y){y.paths=l.clone(this.paths)};A.addPath=function(E){if(E){this.clearCache();var y=this.paths,x=y.length;if(Array.isArray(E[0]))y[x]=E.concat();else{const z=[];for(let D=0,v=E.length;D<v;D++)z[D]=E[D].toArray();y[x]=z}return this}};A.clone=function(){const E=new F;E.spatialReference=this.spatialReference;E.paths=l.clone(this.paths);E.hasZ=this.hasZ;
E.hasM=this.hasM;return E};A.getPoint=function(E,y){if(!this._validateInputs(E,y))return null;E=this.paths[E][y];y=this.hasZ;const x=this.hasM;return y&&!x?new g(E[0],E[1],E[2],void 0,this.spatialReference):x&&!y?new g(E[0],E[1],void 0,E[2],this.spatialReference):y&&x?new g(E[0],E[1],E[2],E[3],this.spatialReference):new g(E[0],E[1],this.spatialReference)};A.insertPoint=function(E,y,x){if(!this._validateInputs(E,y,!0))return this;this.clearCache();t.updateSupportFromPoint(this,x);Array.isArray(x)||
(x=x.toArray());this.paths[E].splice(y,0,x);return this};A.removePath=function(E){if(!this._validateInputs(E,null))return null;this.clearCache();E=this.paths.splice(E,1)[0];const y=this.spatialReference;return E.map(x=>new g(x,y))};A.removePoint=function(E,y){if(!this._validateInputs(E,y))return null;this.clearCache();return new g(this.paths[E].splice(y,1)[0],this.spatialReference)};A.setPoint=function(E,y,x){if(!this._validateInputs(E,y))return this;this.clearCache();t.updateSupportFromPoint(this,
x);Array.isArray(x)||(x=x.toArray());this.paths[E][y]=x;return this};A._validateInputs=function(E,y,x=!1){return null==E||0>E||E>=this.paths.length||null!=y&&(E=this.paths[E],x&&(0>y||y>E.length)||!x&&(0>y||y>=E.length))?!1:!0};A.toJSON=function(E){return this.write(null,E)};a._createClass(C,[{key:"extent",get:function(){const {spatialReference:E}=this;var y=B.getPolylineExtent(this);if(!y)return null;y=new u(y);y.spatialReference=E;return y}}]);return C}(d);c.__decorate([e.property({dependsOn:["hasM",
"hasZ","paths"],autoTracked:!1})],b.prototype,"cache",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],b.prototype,"extent",null);c.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);c.__decorate([p.writer("paths")],b.prototype,"writePaths",null);b=F=c.__decorate([r.subclass("esri.geometry.Polyline")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/typeUtils":function(){define(["exports",
"../../core/jsonMap"],function(a,c){const b=c.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});c=c.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=b;a.isFeatureGeometryType=function(l){return"point"===l||"multipoint"===l||"polyline"===l||"polygon"===
l};a.typeKebabDictionary=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Geometry ../Point ../Extent ../Multipoint ../Polygon ../Polyline".split(" "),function(a,c,b,l,m,f,e){function k(d){return void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax}function r(d){return void 0!==d.points}function p(d){return void 0!==d.x&&void 0!==d.y}function w(d){return void 0!==d.paths}function n(d){return void 0!==d.rings}function q(d){return d?
d instanceof c?d:p(d)?b.fromJSON(d):w(d)?e.fromJSON(d):n(d)?f.fromJSON(d):r(d)?m.fromJSON(d):k(d)?l.fromJSON(d):null:null}const h={esriGeometryPoint:b,esriGeometryPolyline:e,esriGeometryPolygon:f,esriGeometryEnvelope:l,esriGeometryMultipoint:m};a.fromJSON=q;a.fromJson=function(d){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(g){console.warn(g.stack)}return q(d)};a.getGeometryType=function(d){return d&&h[d]||null};a.getJsonType=function(d){return d?p(d)?"esriGeometryPoint":
w(d)?"esriGeometryPolyline":n(d)?"esriGeometryPolygon":k(d)?"esriGeometryEnvelope":r(d)?"esriGeometryMultipoint":null:null};a.isExtent=k;a.isMesh=function(d){return void 0!==d.vertexAttributes};a.isMultipoint=r;a.isPoint=p;a.isPolygon=n;a.isPolyline=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,c,b,l){let m=0;const f=e=>{e=function(k){function r(...p){p=
k.call(this,...p)||this;Object.defineProperty(c._assertThisInitialized(p),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+m++});return p}c._inheritsLoose(r,k);return r}(e);return e=b.__decorate([l.subclass("esri.core.Identifiable")],e)};a.Identifiable=function(e){function k(){return e.apply(this,arguments)||this}c._inheritsLoose(k,e);return k}(f(function(){return function(){}}()));a.Identifiable=b.__decorate([l.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=
f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ../core/collectionUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){function d(u,
t,B){if(u)for(let H=0,C=u.length;H<C;H++){var F=u.getItemAt(H);if(F[t]===B||F&&"group"===F.type&&(F=d(F.tables,t,B)))return F}}const g=m.getLogger("esri.support.TablesMixin");a.TablesMixin=u=>{u=function(t){function B(...H){var C=t.call(this,...H)||this;C.tables=new q;C.tables.on("after-add",A=>{A=A.item;A.parent&&A.parent!==c._assertThisInitialized(C)&&"tables"in A.parent&&A.parent.tables.remove(A);A.parent=c._assertThisInitialized(C);"feature"!==A.type&&g.error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as a table and will therefore be ignored.`)});
C.tables.on("after-remove",A=>{A.item.parent=null});return C}c._inheritsLoose(B,t);var F=B.prototype;F.destroy=function(){const H=this.tables.removeAll();for(const C of H)C.destroy();this.tables.destroy()};F.findTableById=function(H){return d(this.tables,"id",H)};F.findTableByUid=function(H){return d(this.tables,"uid",H)};c._createClass(B,[{key:"tables",set:function(H){this._set("tables",h.referenceSetter(H,this._get("tables")))}}]);return B}(u);b.__decorate([e.property()],u.prototype,"tables",null);
return u=b.__decorate([r.subclass("esri.support.TablesMixin")],u)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/maybe ./core/Logger ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/support/jsonUtils ./geometry ./Camera".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){function u(){return{enabled:!this.camera}}var t;b=t=function(B){function F(C){C=B.call(this,C)||this;C.rotation=0;C.scale=0;C.targetGeometry=null;C.camera=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H.castRotation=function(C){C%=360;0>C&&(C+=360);return C};H.clone=function(){return new t({rotation:this.rotation,scale:this.scale,targetGeometry:l.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:l.isSome(this.camera)?this.camera.clone():
null})};return F}(q.JSONSupport);c.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],b.prototype,"rotation",void 0);c.__decorate([e.cast("rotation")],b.prototype,"castRotation",null);c.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],b.prototype,"scale",void 0);c.__decorate([f.property({types:d.geometryTypes,json:{read:h.fromJSON,
write:!0,origins:{"web-scene":{read:h.fromJSON,write:{overridePolicy:u}}}}})],b.prototype,"targetGeometry",void 0);c.__decorate([f.property({type:g,json:{write:!0}})],b.prototype,"camera",void 0);return b=t=c.__decorate([r.subclass("esri.Viewpoint")],b)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/Point ./core/mathUtils ./views/3d/support/mathUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=B=function(F){function H(...A){A=F.call(this,...A)||this;A.position=new g([0,0,0]);A.heading=0;A.tilt=0;A.fov=55;return A}a._inheritsLoose(H,F);var C=H.prototype;C.normalizeCtorArgs=function(A,E,y,x){return A&&"object"===typeof A&&("x"in A||Array.isArray(A))?(A={position:A},null!=E&&(A.heading=E),null!=y&&(A.tilt=y),null!=x&&(A.fov=x),A):A};C.writePosition=function(A,E,y,x){const z=A.clone();z.x=m.ensureNumber(A.x||0);z.y=m.ensureNumber(A.y||0);
z.z=A.hasZ?m.ensureNumber(A.z||0):A.z;E[y]=z.write(null,x)};C.readPosition=function(A,E){const y=new g;y.read(A,E);y.x=m.ensureNumber(y.x||0);y.y=m.ensureNumber(y.y||0);y.z=y.hasZ?m.ensureNumber(y.z||0):y.z;return y};C.equals=function(A){return A?this.tilt===A.tilt&&this.heading===A.heading&&this.fov===A.fov&&this.position.equals(A.position):!1};C.clone=function(){return new B({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};return H}(d.JSONSupport);c.__decorate([f.property({type:g,
json:{write:{isRequired:!0}}})],b.prototype,"position",void 0);c.__decorate([w.writer("position")],b.prototype,"writePosition",null);c.__decorate([r.reader("position")],b.prototype,"readPosition",null);c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(F=>t.cyclicalDeg.normalize(m.ensureNumber(F)))],b.prototype,"heading",void 0);c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(F=>u.clamp(m.ensureNumber(F),-180,180))],
b.prototype,"tilt",void 0);c.__decorate([f.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0);return b=B=c.__decorate([p.subclass("esri.Camera")],b)})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3f64","../../../chunks/vec3"],function(a,c,b,l){function m(d){for(const g in d){const u=d[g];u instanceof Function&&(d[g]=u.bind(d))}return d}let f=function(){function d(u,t){this.min=u;this.max=t;this.range=
t-u}var g=d.prototype;g.ndiff=function(u,t=0){return Math.ceil((u-t)/this.range)*this.range+t};g._normalize=function(u,t,B,F=0,H=!1){B-=F;B<u?B+=this.ndiff(u-B):B>t&&(B-=this.ndiff(B-t));H&&B===t&&(B=u);return B+F};g.normalize=function(u,t=0,B=!1){return this._normalize(this.min,this.max,u,t,B)};g.clamp=function(u,t=0){return c.clamp(u-t,this.min,this.max)+t};g.monotonic=function(u,t,B){return u<t?t:t+this.ndiff(u-t,B)};g.minimalMonotonic=function(u,t,B){return this._normalize(u,u+this.range,t,B)};
g.center=function(u,t,B){t=this.monotonic(u,t,B);return this.normalize((u+t)/2,B)};g.diff=function(u,t,B){return this.monotonic(u,t,B)-u};g.shortestSignedDiff=function(u,t){u=this.normalize(u);t=this.normalize(t);const B=t-u;u=t<u?this.minimalMonotonic(u,t)-u:t-this.minimalMonotonic(t,u);return Math.abs(B)<Math.abs(u)?B:u};g.contains=function(u,t,B){t=this.minimalMonotonic(u,t);B=this.minimalMonotonic(u,B);return B>u&&B<t};return d}();const e=b.create(),k=b.create(),r=m(new f(0,2*Math.PI)),p=m(new f(-Math.PI,
Math.PI)),w=m(new f(0,360)),n=b.create(),q=b.create(),h=b.create();a.Cyclical=f;a.angle=function(d,g,u){d=l.normalize(q,d);g=l.normalize(h,g);const t=c.acosClamped(l.dot(d,g));return u&&(d=l.cross(n,d,g),0>l.dot(d,u))?-t:t};a.bilerp=function(d,g,u,t,B,F){d+=(g-d)*B;return d+(u+(t-u)*B-d)*F};a.cartesianToSpherical=function(d,g){const u=l.length(d),t=c.asinClamped(d[2]/u);l.set(g,u,t,Math.atan2(d[1]/u,d[0]/u));return g};a.cosCapped=function(d,g){return d>g?Math.cos(g):Math.cos(d)};a.cyclical2PI=r;a.cyclicalDeg=
w;a.cyclicalPI=p;a.directionFromTo=function(d,g,u){const t=u[0]-g[0],B=u[1]-g[1];g=u[2]-g[2];u=t*t+B*B+g*g;if(!u)return d[0]=0,d[1]=0,d[2]=0,d;u=1/Math.sqrt(u);d[0]=t*u;d[1]=B*u;d[2]=g*u;return d};a.fovx2fovy=function(d,g,u){return 2*Math.atan(u*Math.tan(.5*d)/g)};a.fovy2fovx=function(d,g,u){return 2*Math.atan(g*Math.tan(.5*d)/u)};a.makeOrthonormal=function(d,g,u){u=u||d;const t=l.dot(d,g);l.set(u,d[0]-t*g[0],d[1]-t*g[1],d[2]-t*g[2]);l.normalize(u,u)};a.makePiecewiseLinearFunction=function(d){const g=
d.length;return function(u){if(u<=d[0][0])return d[0][1];if(u>=d[g-1][0])return d[g-1][1];let t=1;for(;u>d[t][0];)t++;const B=d[t][0];u=(B-u)/(B-d[t-1][0]);return u*d[t-1][1]+(1-u)*d[t][1]}};a.maxScale=function(d){return Math.sqrt(Math.max(Math.max(d[0]*d[0]+d[4]*d[4]+d[8]*d[8],d[1]*d[1]+d[5]*d[5]+d[9]*d[9]),d[2]*d[2]+d[6]*d[6]+d[10]*d[10]))};a.moduloPositive=function(d,g){return(d%g+g)%g};a.planeFromPoints=function(d,g,u,t){l.subtract(e,g,d);l.subtract(k,u,d);l.cross(t,e,k);l.normalize(t,t);t[3]=
-l.dot(d,t)};a.scaleFromMatrix=function(d,g){l.set(d,Math.sqrt(g[0]*g[0]+g[4]*g[4]+g[8]*g[8]),Math.sqrt(g[1]*g[1]+g[5]*g[5]+g[9]*g[9]),Math.sqrt(g[2]*g[2]+g[6]*g[6]+g[10]*g[10]));return d};a.slerp=function(d,g,u,t=b.create()){const B=l.length(d);var F=l.length(g),H=l.dot(d,g)/(B*F);if(.9999999999999999>H){H=Math.acos(H);const C=((1-u)*B+u*F)/Math.sin(H);F=C/F*Math.sin(u*H);l.scale(q,d,C/B*Math.sin((1-u)*H));l.scale(h,g,F);return l.add(t,q,h)}return l.lerp(t,d,g,u)};a.sphericalToCartesian=function(d,
g){const u=d[0],t=d[1];d=d[2];const B=Math.cos(t);l.set(g,u*B*Math.cos(d),u*B*Math.sin(d),u*Math.sin(t))};a.tangentFrame=function(d,g,u){Math.abs(d[0])>Math.abs(d[1])?l.set(g,0,1,0):l.set(g,1,0,0);l.cross(u,d,g);l.normalize(g,g);l.cross(g,u,d);l.normalize(u,u)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function c(){return[0,0,0]}function b(t){return[t[0],t[1],t[2]]}function l(t,B,F){return[t,B,F]}function m(t){const B=c(),F=
Math.min(3,t.length);for(let H=0;H<F;++H)B[H]=t[H];return B}function f(t,B){return new Float64Array(t,B,3)}function e(){return c()}function k(){return[1,1,1]}function r(){return[1,0,0]}function p(){return[0,1,0]}function w(){return[0,0,1]}const n=c(),q=k(),h=r(),d=p(),g=w();var u=Object.freeze({__proto__:null,create:c,clone:b,fromValues:l,fromArray:m,createView:f,zeros:e,ones:k,unitX:r,unitY:p,unitZ:w,ZEROS:n,ONES:q,UNIT_X:h,UNIT_Y:d,UNIT_Z:g});a.ONES=q;a.UNIT_X=h;a.UNIT_Y=d;a.UNIT_Z=g;a.ZEROS=n;
a.clone=b;a.create=c;a.createView=f;a.fromArray=m;a.fromValues=l;a.ones=k;a.unitX=r;a.unitY=p;a.unitZ=w;a.vec3f64=u;a.zeros=e})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,c,b){function l(M){const T=M[0],X=M[1];M=M[2];return Math.sqrt(T*T+X*X+M*M)}function m(M,T){M[0]=T[0];M[1]=T[1];M[2]=T[2];return M}function f(M,T,X,fa){M[0]=T;M[1]=X;M[2]=fa;return M}function e(M,T,X){M[0]=T[0]+X[0];M[1]=T[1]+X[1];M[2]=T[2]+X[2];return M}function k(M,T,X){M[0]=T[0]-X[0];M[1]=
T[1]-X[1];M[2]=T[2]-X[2];return M}function r(M,T,X){M[0]=T[0]*X[0];M[1]=T[1]*X[1];M[2]=T[2]*X[2];return M}function p(M,T,X){M[0]=T[0]/X[0];M[1]=T[1]/X[1];M[2]=T[2]/X[2];return M}function w(M,T){M[0]=Math.ceil(T[0]);M[1]=Math.ceil(T[1]);M[2]=Math.ceil(T[2]);return M}function n(M,T){M[0]=Math.floor(T[0]);M[1]=Math.floor(T[1]);M[2]=Math.floor(T[2]);return M}function q(M,T,X){M[0]=Math.min(T[0],X[0]);M[1]=Math.min(T[1],X[1]);M[2]=Math.min(T[2],X[2]);return M}function h(M,T,X){M[0]=Math.max(T[0],X[0]);
M[1]=Math.max(T[1],X[1]);M[2]=Math.max(T[2],X[2]);return M}function d(M,T){M[0]=Math.round(T[0]);M[1]=Math.round(T[1]);M[2]=Math.round(T[2]);return M}function g(M,T,X){M[0]=T[0]*X;M[1]=T[1]*X;M[2]=T[2]*X;return M}function u(M,T,X,fa){M[0]=T[0]+X[0]*fa;M[1]=T[1]+X[1]*fa;M[2]=T[2]+X[2]*fa;return M}function t(M,T){const X=T[0]-M[0],fa=T[1]-M[1];M=T[2]-M[2];return Math.sqrt(X*X+fa*fa+M*M)}function B(M,T){const X=T[0]-M[0],fa=T[1]-M[1];M=T[2]-M[2];return X*X+fa*fa+M*M}function F(M){const T=M[0],X=M[1];
M=M[2];return T*T+X*X+M*M}function H(M,T){M[0]=-T[0];M[1]=-T[1];M[2]=-T[2];return M}function C(M,T){M[0]=1/T[0];M[1]=1/T[1];M[2]=1/T[2];return M}function A(M,T){var X=T[0];const fa=T[1],ia=T[2];X=X*X+fa*fa+ia*ia;0<X&&(X=1/Math.sqrt(X),M[0]=T[0]*X,M[1]=T[1]*X,M[2]=T[2]*X);return M}function E(M,T){return M[0]*T[0]+M[1]*T[1]+M[2]*T[2]}function y(M,T,X){const fa=T[0],ia=T[1];T=T[2];const ja=X[0],ta=X[1];X=X[2];M[0]=ia*X-T*ta;M[1]=T*ja-fa*X;M[2]=fa*ta-ia*ja;return M}function x(M,T,X,fa){const ia=T[0],
ja=T[1];T=T[2];M[0]=ia+fa*(X[0]-ia);M[1]=ja+fa*(X[1]-ja);M[2]=T+fa*(X[2]-T);return M}function z(M,T,X,fa,ia,ja){const ta=ja*ja,Aa=ta*(2*ja-3)+1,Z=ta*(ja-2)+ja,V=ta*(ja-1);ja=ta*(3-2*ja);M[0]=T[0]*Aa+X[0]*Z+fa[0]*V+ia[0]*ja;M[1]=T[1]*Aa+X[1]*Z+fa[1]*V+ia[1]*ja;M[2]=T[2]*Aa+X[2]*Z+fa[2]*V+ia[2]*ja;return M}function D(M,T,X,fa,ia,ja){var ta=1-ja,Aa=ta*ta;const Z=ja*ja,V=Aa*ta;Aa*=3*ja;ta*=3*Z;ja*=Z;M[0]=T[0]*V+X[0]*Aa+fa[0]*ta+ia[0]*ja;M[1]=T[1]*V+X[1]*Aa+fa[1]*ta+ia[1]*ja;M[2]=T[2]*V+X[2]*Aa+fa[2]*
ta+ia[2]*ja;return M}function v(M,T){T=T||1;const X=2*b.RANDOM()*Math.PI,fa=2*b.RANDOM()-1,ia=Math.sqrt(1-fa*fa)*T;M[0]=Math.cos(X)*ia;M[1]=Math.sin(X)*ia;M[2]=fa*T;return M}function G(M,T,X){const fa=T[0],ia=T[1];T=T[2];M[0]=X[0]*fa+X[4]*ia+X[8]*T+X[12];M[1]=X[1]*fa+X[5]*ia+X[9]*T+X[13];M[2]=X[2]*fa+X[6]*ia+X[10]*T+X[14];return M}function I(M,T,X){const fa=T[0],ia=T[1];T=T[2];M[0]=fa*X[0]+ia*X[3]+T*X[6];M[1]=fa*X[1]+ia*X[4]+T*X[7];M[2]=fa*X[2]+ia*X[5]+T*X[8];return M}function O(M,T,X){const fa=X[0],
ia=X[1],ja=X[2],ta=T[0],Aa=T[1];T=T[2];let Z=ia*T-ja*Aa,V=ja*ta-fa*T,ba=fa*Aa-ia*ta;X=2*X[3];M[0]=ta+Z*X+2*(ia*ba-ja*V);M[1]=Aa+V*X+2*(ja*Z-fa*ba);M[2]=T+ba*X+2*(fa*V-ia*Z);return M}function L(M,T,X,fa){const ia=[],ja=[];ia[0]=T[0]-X[0];ia[1]=T[1]-X[1];ia[2]=T[2]-X[2];ja[0]=ia[0];ja[1]=ia[1]*Math.cos(fa)-ia[2]*Math.sin(fa);ja[2]=ia[1]*Math.sin(fa)+ia[2]*Math.cos(fa);M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function N(M,T,X,fa){const ia=[],ja=[];ia[0]=T[0]-X[0];ia[1]=T[1]-X[1];ia[2]=
T[2]-X[2];ja[0]=ia[2]*Math.sin(fa)+ia[0]*Math.cos(fa);ja[1]=ia[1];ja[2]=ia[2]*Math.cos(fa)-ia[0]*Math.sin(fa);M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function R(M,T,X,fa){const ia=[],ja=[];ia[0]=T[0]-X[0];ia[1]=T[1]-X[1];ia[2]=T[2]-X[2];ja[0]=ia[0]*Math.cos(fa)-ia[1]*Math.sin(fa);ja[1]=ia[0]*Math.sin(fa)+ia[1]*Math.cos(fa);ja[2]=ia[2];M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function K(M,T){m(S,M);m(W,T);A(S,S);A(W,W);M=E(S,W);return 1<M?0:-1>M?Math.PI:Math.acos(M)}
function U(M){return"vec3("+M[0]+", "+M[1]+", "+M[2]+")"}function P(M,T){return M[0]===T[0]&&M[1]===T[1]&&M[2]===T[2]}function J(M,T){const X=M[0],fa=M[1];M=M[2];const ia=T[0],ja=T[1];T=T[2];return Math.abs(X-ia)<=b.EPSILON*Math.max(1,Math.abs(X),Math.abs(ia))&&Math.abs(fa-ja)<=b.EPSILON*Math.max(1,Math.abs(fa),Math.abs(ja))&&Math.abs(M-T)<=b.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))}const S=c.create(),W=c.create();c=Object.freeze({__proto__:null,length:l,copy:m,set:f,add:e,subtract:k,multiply:r,
divide:p,ceil:w,floor:n,min:q,max:h,round:d,scale:g,scaleAndAdd:u,distance:t,squaredDistance:B,squaredLength:F,negate:H,inverse:C,normalize:A,dot:E,cross:y,lerp:x,hermite:z,bezier:D,random:v,transformMat4:G,transformMat3:I,transformQuat:O,rotateX:L,rotateY:N,rotateZ:R,angle:K,str:U,exactEquals:P,equals:J,sub:k,mul:r,div:p,dist:t,sqrDist:B,len:l,sqrLen:F});a.add=e;a.angle=K;a.bezier=D;a.ceil=w;a.copy=m;a.cross=y;a.dist=t;a.distance=t;a.div=p;a.divide=p;a.dot=E;a.equals=J;a.exactEquals=P;a.floor=n;
a.hermite=z;a.inverse=C;a.len=l;a.length=l;a.lerp=x;a.max=h;a.min=q;a.mul=r;a.multiply=r;a.negate=H;a.normalize=A;a.random=v;a.rotateX=L;a.rotateY=N;a.rotateZ=R;a.round=d;a.scale=g;a.scaleAndAdd=u;a.set=f;a.sqrDist=B;a.sqrLen=F;a.squaredDistance=B;a.squaredLength=F;a.str=U;a.sub=k;a.subtract=k;a.transformMat3=I;a.transformMat4=G;a.transformQuat=O;a.vec3=c})},"esri/chunks/common":function(){define(["exports"],function(a){function c(r){return r*f}function b(r){return r*e}function l(r,p){return Math.abs(r-
p)<=1E-6*Math.max(1,Math.abs(r),Math.abs(p))}const m=Math.random,f=Math.PI/180,e=180/Math.PI;var k=Object.freeze({__proto__:null,EPSILON:1E-6,RANDOM:m,toRadian:c,toDegree:b,equals:l});a.EPSILON=1E-6;a.RANDOM=m;a.common=k;a.equals=l;a.toDegree=b;a.toRadian=c})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){a.OperationalLayer=B=>{B=function(F){function H(){var A=F.apply(this,arguments)||this;A.title=null;return A}c._inheritsLoose(H,F);var C=H.prototype;C.writeListMode=function(A,E,y,x){x&&"ground"===x.layerContainerType?E[y]=A:A&&g.willPropertyWrite(this,y,{},x)&&(E[y]=A)};C.writeOperationalLayerType=function(A,E,y,x){!A||x&&"tables"===x.layerContainerType||(E.layerType=A)};C.writeTitle=function(A,E){E.title=A||"Layer"};C.read=function(A,E){E&&(E.layer=this);
d.readLoadable(this,A,y=>F.prototype.read.call(this,A,y),E)};C.write=function(A,E){if(E&&E.origin){const x=`${E.origin}/${E.layerContainerType||"operational-layers"}`;var y=u.supportedTypes[x];y=y&&y[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===x&&(y=!1);if(!y)return E.messages&&E.messages.push(new w("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${x}'`,
{layer:this})),null}A=F.prototype.write.call(this,A,{...E,layer:this});E=!!E&&!!E.messages&&!!E.messages.filter(x=>x instanceof w&&"web-document-write:property-required"===x.name).length;return!this.url&&E?null:A};C.beforeSave=function(){};return H}(B);b.__decorate([e.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],B.prototype,"id",void 0);b.__decorate([e.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,
write:!1}}}})],B.prototype,"listMode",void 0);b.__decorate([p.writer("listMode")],B.prototype,"writeListMode",null);b.__decorate([e.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],B.prototype,"operationalLayerType",void 0);b.__decorate([p.writer("operationalLayerType")],B.prototype,"writeOperationalLayerType",null);b.__decorate([e.property(t.opacity)],B.prototype,"opacity",void 0);b.__decorate([e.property({type:String,
json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],B.prototype,"title",void 0);b.__decorate([p.writer("title")],B.prototype,"writeTitle",null);b.__decorate([e.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],B.prototype,"visible",void 0);return B=b.__decorate([r.subclass("esri.layers.mixins.OperationalLayer")],
B)};a.isOperationalLayer=function(B){return"operationalLayerType"in B};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,
PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,
ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,
BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/commonProperties":function(){define("exports ../../core/accessorSupport/utils ../../chunks/persistableUrlUtils ../../core/accessorSupport/write ../../webdoc/support/opacityUtils ../../TimeExtent ../../symbols/support/ElevationInfo".split(" "),
function(a,c,b,l,m,f,e){const k={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader(h,d){if(null==d.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled"))c.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0);else return d.screenSizePerspective}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer(h,d,g,u){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&h?d[g]=h:l.willPropertyWrite(this,"screenSizePerspectiveEnabled",
{},u)&&(d[g]=h)}}}}}},r={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(h,d){return!d.disablePopup}},write:{enabled:!0,writer(h,d,g){d[g]=!h}}}},p={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};b={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:b.write}}};const w={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};e={value:null,type:e,json:{origins:{service:{name:"elevationInfo",write:!0}},
name:"layerDefinition.elevationInfo",write:!0}};const n={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},q={...n,json:{...n.json,origins:{"web-document":{...n.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(h,d,g){if((!g||"service"===g.origin)&&d.drawingInfo&&void 0!==
d.drawingInfo.transparency)return m.transparencyToOpacity(d.drawingInfo.transparency);if(d.layerDefinition&&d.layerDefinition.drawingInfo&&void 0!==d.layerDefinition.drawingInfo.transparency)return m.transparencyToOpacity(d.layerDefinition.drawingInfo.transparency)}}}};a.combinedViewLayerTimeExtentProperty={type:f,dependsOn:"view.timeExtent layer.timeExtent layer.timeInfo layer.timeOffset layer.timeOffset.value layer.timeOffset.unit layer.useViewTime".split(" "),readOnly:!0,get(){var h,d;if(null==
(h=this.layer)||!h.timeInfo)return null;h=null==(d=this.view)?void 0:d.timeExtent;d=this.layer.timeExtent;d=this.layer.useViewTime?h&&d?h.intersection(d):h||d:d;if(!d||d.isEmpty)return d;d=(h=this.layer.timeOffset)?d.offset(-h.value,h.unit):d;h=this._get("timeExtent");return d.equals(h)?h:d}};a.elevationInfo=e;a.labelsVisible=p;a.legendEnabled=w;a.opacity=n;a.opacityDrawingInfo=q;a.popupEnabled=r;a.readOnlyService=function(h){return{type:h,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};
a.screenSizePerspectiveEnabled=k;a.url=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe","../core/urlUtils"],function(a,c,b){function l(q,h){var d=h&&h.url&&h.url.path;q&&d&&(q=b.makeAbsolute(q,d,{preserveProtocolRelative:!0}),h.portalItem&&h.readResourcePaths&&(d=b.makeRelative(q,h.portalItem.itemUrl),w.test(d)&&h.readResourcePaths.push(h.portalItem.resourceFromPath(d).path)));return r(q,h&&h.portal)}function m(q,
h){if(!q)return q;!b.isAbsolute(q)&&h&&h.blockedRelativeUrls&&h.blockedRelativeUrls.push(q);let d=b.makeAbsolute(q);if(h){var g=h.verifyItemRelativeUrls&&h.verifyItemRelativeUrls.rootPath||h.url&&h.url.path;g&&(g=r(g,h.portal),d=b.makeRelative(r(d,h.portal),g,g),d!==q&&h.verifyItemRelativeUrls&&h.verifyItemRelativeUrls.writtenUrls.push(d))}q=d;d=(h=h&&h.portal)&&!h.isPortal&&h.urlKey&&h.customBaseUrl?b.changeDomain(q,`${h.urlKey}.${h.customBaseUrl}`,h.portalHostname):q;b.isAbsolute(d)&&(d=b.normalize(d));
return d}function f(q,h,d){return l(q,d)}function e(q,h,d,g){q=m(q,g);void 0!==q&&(h[d]=q)}function k(q){q=c.isSome(q)?q.match(p):null;return c.isSome(q)?q[1]:null}function r(q,h){if(!h||h.isPortal||!h.urlKey||!h.customBaseUrl)return q;const d=`${h.urlKey}.${h.customBaseUrl}`;return b.hasSameOrigin(b.appUrl,`${b.appUrl.scheme}://${d}`)?b.changeDomain(q,h.portalHostname,d):b.changeDomain(q,d,h.portalHostname)}const p=/\/items\/([^\/]+)\/resources\//,w=/^\.\/resources\//;var n=Object.freeze({__proto__:null,
fromJSON:l,toJSON:m,read:f,write:e,itemIdFromResourceUrl:k});a.fromJSON=l;a.itemIdFromResourceUrl=k;a.persistableUrlUtils=n;a.read=f;a.toJSON=m;a.write=e})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./layers/support/timeUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(B){function F(C){C=B.call(this,C)||this;C.end=null;C.start=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H.readEnd=function(C,A){return null!=A.end?new Date(A.end):null};H.writeEnd=function(C,A){A.end=C?C.getTime():null};H.readStart=function(C,A){return null!=A.start?new Date(A.start):null};H.writeStart=function(C,A){A.start=C?C.getTime():null};H.clone=function(){return new g({end:this.end,start:this.start})};H.expandTo=function(C){if(this.isEmpty||
this.isAllTime)return this.clone();const A=this.start?d.truncateDate(this.start,C):null;C=this.end?d.offsetDate(d.truncateDate(this.end,C),1,C):null;return new g({start:A,end:C})};H.intersection=function(C){var A,E,y,x,z,D,v,G;if(!C)return this.clone();if(this.isEmpty||C.isEmpty)return g.empty;if(this.isAllTime)return C.clone();if(C.isAllTime)return this.clone();const I=null!=(A=null==(E=this.start)?void 0:E.getTime())?A:-Infinity;A=null!=(y=null==(x=this.end)?void 0:x.getTime())?y:Infinity;y=null!=
(z=null==(D=C.start)?void 0:D.getTime())?z:-Infinity;C=null!=(v=null==(G=C.end)?void 0:G.getTime())?v:Infinity;let O,L;y>=I&&y<=A?O=y:I>=y&&I<=C&&(O=I);A>=y&&A<=C?L=A:C>=I&&C<=A&&(L=C);return isNaN(O)||isNaN(L)?g.empty:(v=new g,v.start=-Infinity===O?null:new Date(O),v.end=Infinity===L?null:new Date(L),v)};H.offset=function(C,A){if(this.isEmpty||this.isAllTime)return this.clone();const E=new g,{start:y,end:x}=this;y&&(E.start=d.offsetDate(y,C,A));x&&(E.end=d.offsetDate(x,C,A));return E};H.equals=function(C){if(!C)return!1;
const A=this.start?this.start.getTime():this.start,E=this.end?this.end.getTime():this.end,y=C.start?C.start.getTime():C.start;C=C.end?C.end.getTime():C.end;return A===y&&E===C};H.union=function(C){if(!C||C.isEmpty)return this.clone();if(this.isEmpty)return C.clone();if(this.isAllTime||C.isAllTime)return u.clone();const A=this.start&&C.start?new Date(Math.min(this.start.getTime(),C.start.getTime())):null;C=this.end&&C.end?new Date(Math.max(this.end.getTime(),C.end.getTime())):null;return new g({start:A,
end:C})};a._createClass(F,[{key:"isAllTime",get:function(){return this.equals(g.allTime)}},{key:"isEmpty",get:function(){return this.equals(g.empty)}}],[{key:"allTime",get:function(){return u}},{key:"empty",get:function(){return t}}]);return F}(h.JSONSupport);c.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);c.__decorate([k.reader("end")],b.prototype,"readEnd",null);c.__decorate([p.writer("end")],b.prototype,"writeEnd",null);c.__decorate([f.property({dependsOn:["start",
"end"],readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);c.__decorate([f.property({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);c.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);c.__decorate([k.reader("start")],b.prototype,"readStart",null);c.__decorate([p.writer("start")],b.prototype,"writeStart",null);b=g=c.__decorate([r.subclass("esri.TimeExtent")],b);const u=new b,t=new b({start:void 0,end:void 0});return b})},
"esri/layers/support/timeUtils":function(){define(["exports","../../core/has","../../core/jsonMap"],function(a,c,b){const l={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",
setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};c=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",
esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});a.Milliseconds=function(m){return m};a.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.offsetDate=function(m,f,e){m=new Date(m.getTime());if(f&&e){const {getter:k,setter:r,multiplier:p}=l[e];m[r](m[k]()+f*p)}return m};a.timeUnitKebabDictionary=c;a.truncateDate=function(m,f){switch(f){case "milliseconds":return new Date(m.getTime());
case "seconds":return new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds());case "minutes":return new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes());case "hours":return new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours());case "days":return new Date(m.getFullYear(),m.getMonth(),m.getDate());case "weeks":return new Date(m.getFullYear(),m.getMonth(),m.getDate()-m.getDay());case "months":return new Date(m.getFullYear(),m.getMonth(),
1);case "years":return new Date(m.getFullYear(),0,1);case "decades":return new Date(m.getFullYear()-m.getFullYear()%10,0,1);case "centuries":return new Date(m.getFullYear()-m.getFullYear()%100,0,1);default:return null}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;b=k.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});k=new k.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});d=t=function(B){function F(){var C=B.apply(this,arguments)||this;C.offset=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H.readFeatureExpressionInfo=function(C,A){if(null!=C)return C;
if(A.featureExpression&&0===A.featureExpression.value)return{expression:"0"}};H.writeFeatureExpressionInfo=function(C,A,E,y){A[E]=C.write(null,y);"0"===C.expression&&(A.featureExpression={value:0})};H.write=function(C,A){return this.offset||this.mode||this.featureExpressionInfo||this.unit?B.prototype.write.call(this,C,A):null};H.clone=function(){return new t({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};
a._createClass(F,[{key:"mode",get:function(){return this._isOverridden("mode")?this._get("mode"):l.isSome(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(C){this._override("mode",C)}},{key:"unit",set:function(C){this._set("unit",C)}}]);return F}(d.JSONSupport);c.__decorate([e.property({type:g,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0);c.__decorate([r.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,
"readFeatureExpressionInfo",null);c.__decorate([w.writer("featureExpressionInfo",{featureExpressionInfo:{type:g},"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null);c.__decorate([e.property({type:b.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:b.jsonValues,read:b.read,write:{writer:b.write,isRequired:!0}}})],d.prototype,"mode",null);c.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"offset",void 0);c.__decorate([e.property({type:u.supportedUnits,
json:{type:String,read:k.read,write:k.write}})],d.prototype,"unit",null);return d=t=c.__decorate([p.subclass("esri.layers.support.ElevationInfo")],d)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../layers/support/fieldUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(){return d.apply(this,arguments)||this}a._inheritsLoose(g,d);var u=g.prototype;u.collectRequiredFields=async function(t,B){return q.collectArcadeFieldNames(t,B,this.expression)};u.clone=function(){return new h({expression:this.expression,title:this.title})};return g}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,
"title",void 0);return b=h=c.__decorate([k.subclass("esri.layers.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/object ../../core/maybe ../../core/Error ../../core/promiseUtils ./domains ../../support/arcadeOnDemand".split(" "),function(a,c,b,l,m,f,e,k){function r(M,T,X){if(M)for(const fa of M)(M=(M=b.getDeepValue(fa,T))&&"function"!==typeof M&&q(X,M))&&b.setDeepValue(fa,M.name,T)}function p(M,T){if(!M||!T)return[];N.clear();w(N,
M,T);return Array.from(N).sort()}function w(M,T,X){if(X)if(T&&T.length)if(X.includes("*"))for(const {name:fa}of T)M.add(fa);else for(const fa of X)n(M,T,fa);else if(X.includes("*"))M.clear(),M.add("*");else for(const fa of X)M.add(fa)}function n(M,T,X){T&&T.length?(T=q(T,X))&&M.add(T.name):"string"===typeof X&&M.add(X)}function q(M,T){if("string"!==typeof T)return null;if(null!=M){T=T.toLowerCase();for(const X of M)if(X&&X.name.toLowerCase()===T)return X}return null}async function h(M,T,X){if(X){var {arcadeUtils:fa}=
await k.loadArcade();X=fa.extractFieldNames(X);for(const ia of X)n(M,T,ia)}}function d(M,T){for(const X of M)if(X&&X.valueType&&X.valueType===T)return X.name;return null}async function g(M,T){if(T){var {fields:X}=T;if(T=b.getDeepValue("elevationInfo.featureExpressionInfo",T))return T.collectRequiredFields(M,X)}}async function u(M,T,X){X.outStatistic.onStatisticValueExpression?h(M,T,X.outStatistic.onStatisticValueExpression):M.add(X.outStatistic.onStatisticField)}async function t(M,T){const {labelingInfo:X,
fields:fa}=T;X&&X.length&&await f.all(X.map(ia=>B(M,fa,ia)))}async function B(M,T,X){if(X){var fa=X.getLabelExpression();X=X.where;"arcade"===fa.type?await h(M,T,fa.expression):(fa=fa.expression.match(/{[^}]*}/g))&&fa.forEach(ia=>{n(M,T,ia.slice(1,-1))});fa=/['"]+/g;X&&(X=X.split(" "),3===X.length&&n(M,T,X[0].replace(fa,"")),7===X.length&&(n(M,T,X[0].replace(fa,"")),n(M,T,X[4].replace(fa,""))))}}function F(M){return"number"===typeof M&&!isNaN(M)&&isFinite(M)}function H(M){return null===M||F(M)}function C(M){return null===
M||R(M)}function A(M){return null!=M&&"string"===typeof M}function E(M){return null===M||A(M)}function y(){return!0}function x(M,T){let X;switch(M.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":X=M.nullable?C:R;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":X=M.nullable?H:F;break;case "string":case "esriFieldTypeString":X=M.nullable?
E:A;break;default:X=y}return 1===arguments.length?X:X(T)}function z(M){return null!=M&&U.has(M.type)}function D(M,T){return M.nullable&&null===T?null:z(M)&&!v(M.type,Number(T))?c.NumericRangeValidationError.OUT_OF_RANGE:x(M,T)?M.domain?e.validateDomainValue(M.domain,T):null:c.TypeValidationError.INVALID_TYPE}function v(M,T){return(M="string"===typeof M?G(M):M)?M.isInteger?R(T)&&T>=M.min&&T<=M.max:T>=M.min&&T<=M.max:!1}function G(M){switch(M){case "esriFieldTypeSmallInteger":case "small-integer":return P;
case "esriFieldTypeInteger":case "integer":return J;case "esriFieldTypeSingle":case "single":return S;case "esriFieldTypeDouble":case "double":return W}}function I(M,T,X){if(!T||!T.attributes||!M){if(l.isSome(X))for(var fa of M)X.add(fa);return!0}T=T.attributes;fa=!1;for(const ia of M)if(!(ia in T))if(fa=!0,l.isSome(X))X.add(ia);else break;return fa}const O="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
L=["field","normalizationField"],N=new Set,R=(()=>"isInteger"in Number?Number.isInteger:M=>"number"===typeof M&&isFinite(M)&&Math.floor(M)===M)(),K=["integer","small-integer","single","double"],U=new Set([...K,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);(c.NumericRangeValidationError||(c.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";(c.TypeValidationError||(c.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";
const P={min:-32768,max:32767,isInteger:!0},J={min:-2147483648,max:2147483647,isInteger:!0},S={min:-3.4E38,max:1.2E38,isInteger:!1},W={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};c.collectArcadeFieldNames=h;c.collectElevationFields=g;c.collectFeatureReductionFields=async function(M,T,X){T&&X&&"cluster"===X.type&&X.fields&&await f.all(X.fields.map(fa=>u(M,T.fields,fa)))};c.collectField=n;c.collectFields=w;c.collectFilterFields=async function(M,T,X){if(T&&X&&(X.where&&"1\x3d1"!==X.where||
X.timeExtent)&&(T.timeInfo&&X.timeExtent&&w(M,T.fields,[T.timeInfo.startField,T.timeInfo.endField]),l.isSome(X.where)&&X.where)){X=(await new Promise(function(fa,ia){a(["../../core/sql/WhereClause"],fa,ia)})).WhereClause.create(X.where,T.fieldsIndex);if(!X.isStandardized)throw new m("fieldUtils:collectFilterFields","Where clause is not standardized");w(M,T.fields,X.fieldNames)}};c.collectLabelingFields=t;c.doubleRange=W;c.featureHasFields=function(M,T){return!I(M,T,null)};c.fixFields=p;c.fixRendererFields=
function(M,T){if(null!=M&&null!=T)for(const X of Array.isArray(M)?M:[M])if(r(O,X,T),"visualVariables"in X&&X.visualVariables)for(const fa of X.visualVariables)r(L,fa,T)};c.fixTimeInfoFields=function(M,T){if(null!=M&&null!=T)if("startField"in M){var X=q(T,M.startField);T=q(T,M.endField);M.startField=X&&X.name||null;M.endField=T&&T.name||null}else X=q(T,M.startTimeField),T=q(T,M.endTimeField),M.startTimeField=X&&X.name||null,M.endTimeField=T&&T.name||null};c.getDisplayFieldName=function({displayField:M,
fields:T}){if(M)return M;if(!T||!T.length)return null;if(!(M=d(T,"name-or-title")||d(T,"unique-identifier")||d(T,"type-or-category")))a:{for(const X of T)if(X&&X.name&&(T=X.name.toLowerCase(),-1<T.indexOf("name")||-1<T.indexOf("title"))){M=X.name;break a}M=null}return M};c.getElevationFields=async function(M){if(!M)return[];const T=new Set;await g(T,M);return Array.from(T).sort()};c.getExpressionFields=async function(M,T){const X=new Set;for(const fa of T)await h(X,M.fields,fa);return Array.from(X).sort()};
c.getFeatureEditFields=function(M){if(!M)return[];const T="editFieldsInfo"in M&&M.editFieldsInfo;return T?p(M.fields,[T&&T.creatorField,T&&T.creationDateField,T&&T.editorField,T&&T.editDateField]):[]};c.getFeatureGeometryFields=function(M){if(!M)return[];const T="geometryProperties"in M&&M.geometryProperties;return T?p(M.fields,[T&&T.shapeAreaFieldName,T&&T.shapeLengthFieldName]):[]};c.getField=q;c.getFieldDefaultValue=function(M){const T=M.defaultValue;if(void 0!==T&&x(M,T))return T;if(M.nullable)return null};
c.getFieldRange=function(M){const T=e.getDomainRange(M.domain);if(T)return T;if(z(M))return G(M.type)};c.getLabelingFields=async function(M){if(!M)return[];const T=new Set;await t(T,M);return Array.from(T).sort()};c.getNumericTypeForValue=function(M){if(!F(M))return null;if(R(M)){if(M>=P.min&&M<=P.max)return"esriFieldTypeSmallInteger";if(M>=J.min&&M<=J.max)return"esriFieldTypeInteger"}return M>=S.min&&M<=S.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};c.getTimeFields=async function(M){if(!M)return[];
const T="timeInfo"in M&&M.timeInfo;return T?p(M.fields,[M.trackIdField,T.startField,T.endField]):[]};c.hasField=function(M,T){if(!M||!T||"string"!==typeof T)return!1;T=T.toLowerCase();for(const X of M)if(X&&X.name.toLowerCase()===T)return!0;return!1};c.integerRange=J;c.isDateField=function(M){return null!=M&&("date"===M.type||"esriFieldTypeDate"===M.type)};c.isNumberInRange=v;c.isNumericField=z;c.isStringField=function(M){return null!=M&&("string"===M.type||"esriFieldTypeString"===M.type)};c.isValidFieldValue=
function(M,T){return null===D(M,T)};c.isValueMatchingFieldType=x;c.numericTypes=K;c.packFields=function(M,T,X=1){if(!T||!M)return[];if(T.includes("*"))return["*"];T=p(M,T);return T.length/M.length>=X?["*"]:T};c.populateMissingFields=I;c.rendererFields=O;c.sanitizeNullFieldValue=function(M){return null==M||"number"===typeof M&&isNaN(M)?null:M};c.singleRange=S;c.smallIntegerRange=P;c.unpackFieldNames=function(M,T){return l.isNone(T)||l.isNone(M)?[]:T.includes("*")?M.map(X=>X.name):T};c.validateFieldValue=
D;c.validationErrorToString=function(M,T,X){switch(M){case e.DomainValidationError.INVALID_CODED_VALUE:return`Value ${X} is not in the coded domain - field: ${T.name}, domain: ${JSON.stringify(T.domain)}`;case e.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${X} is out of the range of valid values - field: ${T.name}, domain: ${JSON.stringify(T.domain)}`;case c.TypeValidationError.INVALID_TYPE:return`Value ${X} is not a valid value for the field type - field: ${T.name}, type: ${T.type}, nullable: ${T.nullable}`;
case c.NumericRangeValidationError.OUT_OF_RANGE:{const {min:fa,max:ia}=G(T.type);return`Value ${X} is out of range for the number type - field: ${T.name}, type: ${T.type}, value range is ${fa} to ${ia}`}}};c.visualVariableFields=L;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./Domain ./CodedValueDomain ./InheritedDomain ./RangeDomain".split(" "),function(a,c,b,l,m,f){function e(k,r){switch(k.type){case "range":{const p=
"range"in k?k.range[1]:k.maxValue;if(+r<("range"in k?k.range[0]:k.minValue)||+r>p)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==k.codedValues||k.codedValues.every(p=>null==p||p.code!==r))return a.DomainValidationError.INVALID_CODED_VALUE}return null}(function(k){k.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";k.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError=
{}));c={key:"type",base:b,typeMap:{range:f,"coded-value":l,inherited:m}};a.DomainBase=b;a.CodedValueDomain=l;a.InheritedDomain=m;a.RangeDomain=f;a.fromJSON=function(k){if(!k||!k.type)return null;switch(k.type){case "range":return f.fromJSON(k);case "codedValue":return l.fromJSON(k);case "inherited":return m.fromJSON(k)}return null};a.getDomainRange=function(k){if(k&&"range"===k.type)return{min:"range"in k?k.range[0]:k.minValue,max:"range"in k?k.range[1]:k.maxValue}};a.isValidDomainValue=function(k,
r){return null===e(k,r)};a.types=c;a.validateDomainValue=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=new e.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});q=function(h){function d(g){g=h.call(this,g)||this;g.name=null;g.type=null;return g}a._inheritsLoose(d,h);return d}(q.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],q.prototype,"name",void 0);c.__decorate([k.enumeration(b)],q.prototype,"type",void 0);return q=c.__decorate([r.subclass("esri.layers.support.Domain")],q)})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./CodedValue ./Domain".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(B){B=g.call(this,B)||this;B.codedValues=null;B.type="coded-value";return B}a._inheritsLoose(u,g);var t=u.prototype;t.getName=function(B){let F=null;if(this.codedValues){const H=String(B);this.codedValues.some(C=>{String(C.code)===H&&(F=C.name);return!!F})}return F};t.clone=function(){return new d({codedValues:l.clone(this.codedValues),name:this.name})};return u}(h);c.__decorate([e.property({type:[q["default"]],json:{write:!0}})],
b.prototype,"codedValues",void 0);c.__decorate([k.enumeration({codedValue:"coded-value"})],b.prototype,"type",void 0);return b=d=c.__decorate([r.subclass("esri.layers.support.CodedValueDomain")],b)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.CodedValue=h=function(d){function g(u){u=d.call(this,u)||this;u.name=null;u.code=null;return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({name:this.name,code:this.code})};return g}(q.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([e.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=h=b.__decorate([r.subclass("esri.layers.support.CodedValue")],
a.CodedValue);a.default=a.CodedValue;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="inherited";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q};return d}(n);c.__decorate([e.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.maxValue=null;g.minValue=null;g.type="range";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return d}(n);c.__decorate([f.property({type:Number,json:{type:[Number],read:{source:"range",reader(h,d){return d.range&&d.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(h,d,g){d[g]=[this.minValue||0,h]}}}})],b.prototype,"maxValue",void 0);c.__decorate([f.property({type:Number,json:{type:[Number],read:{source:"range",reader(h,d){return d.range&&d.range[0]}},write:{target:"range",writer(h,d,g){d[g]=[h,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);c.__decorate([e.enumeration({range:"range"})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.layers.support.RangeDomain")],b)})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/maybe ../core/promiseUtils ../geometry/SpatialReference ../geometry".split(" "),
function(a,c,b,l,m,f){async function e(){k||(k=(async()=>{const p=await new Promise(function(w,n){a(["./arcadeUtils"],w,n)});await p.arcade.load();return{arcade:p.arcade,arcadeUtils:p,Dictionary:p.Dictionary,Feature:p.arcadeFeature}})());return k}let k;f=(p,w,n)=>r.create(p,w,n,null,["$feature","$view"]);let r=function(){function p(n,q,h,d,g,u,t,B){this.script=n;this.evaluate=g;this.fields=t;this._syntaxTree=d;this._arcade=q;this._arcadeDictionary=h;this._arcadeFeature=u;this._spatialReference=B;
this._referencesGeometry=q.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}p.create=async function(n,q,h,d,g,u){const {arcade:t,Feature:B,Dictionary:F}=await e(),H=m.fromJSON(q);q=t.parseScript(n,u);g=g.reduce((x,z)=>({...x,[z]:null}),{});let C=null;b.isSome(d)&&(C=new F(d),C.immutable=!0,g.$config=null);d=t.scriptUsesGeometryEngine(q)&&t.enableGeometrySupport();u=t.scriptUsesFeatureSet(q)&&t.enableFeatureSetSupport();const A=t.scriptIsAsync(q)&&
t.enableAsyncSupport();g={vars:g,spatialReference:H,useAsync:!!A};const E=new F;E.immutable=!1;E.setField("scale",0);const y=t.compileScript(q,g);await l.all([d,u,A]);return new p(n,t,F,q,x=>{"$view"in x&&x.$view&&(E.setField("scale",x.$view.scale),x.$view=E);C&&(x.$config=C);return y({vars:x,spatialReference:H})},new B,h,H)};var w=p.prototype;w.repurposeFeature=function(n){n.geometry&&!n.geometry.spatialReference&&(n.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(n.geometry,
n.attributes,{fields:this.fields});return this._arcadeFeature};w.repurposeAdapter=function(n){this._arcadeFeature.repurposeFromAdapter(n,{fields:this.fields});return this._arcadeFeature};w.createDictionary=function(){return new this._arcadeDictionary};w.referencesMember=function(n){return this._arcade.referencesMember(this._syntaxTree,n)};w.referencesFunction=function(n){return this._arcade.referencesFunction(this._syntaxTree,n)};w.referencesGeometry=function(){return this._referencesGeometry};w.referencesScale=
function(){return this._referencesScale};w.extractFieldLiterals=function(n){return this._arcade.extractFieldLiterals(this._syntaxTree,n)};return p}();c.ArcadeExpression=r;c.createDictionaryExpression=(p,w,n,q)=>r.create(p,w,n,q,["$feature","$view"]);c.createLabelExpression=(p,w,n)=>r.create(p,w,n,null,["$feature"]);c.createRendererExpression=f;c.createVVExpression=f;c.default=r;c.loadArcade=e;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports",
"../../renderers/support/lengthUtils"],function(a,c){const b=function(){const l=Object.keys(c.meterIn);l.sort();return l}();a.getMetersPerUnit=function(l){return 1/(c.meterIn[l]||1)};a.supportedUnits=b;a.supportsUnit=function(l){return null!=c.meterIn[l]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../geometry/support/Ellipsoid","../../core/unitUtils"],function(a,c,b){c={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,
"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};
a.meterIn=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/support/WKIDUnitConversion ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/projectionEllipsoid".split(" "),function(a,c,b,l,m,f,e,k){function r(v){if(v=D[v])return v;throw Error("unknown measure");}function p(v){return z[v].baseUnit}function w(v,G=null){G=G||r(v);return z[G].baseUnit===v}function n(v,
G,I){if(G===I)return v;const O=r(G);if(O!==r(I))throw Error("incompatible units");v=w(G,O)?v:v*z[O].units[G].inBaseUnits;return w(I,O)?v:v/z[O].units[I].inBaseUnits}function q(v,G){return 3E3>n(v,G,"meters")?"meters":"kilometers"}function h(v,G){return 1E5>n(v,G,"meters")?"meters":"kilometers"}function d(v,G){return 1E3>n(v,G,"feet")?"feet":"miles"}function g(v,G){return 1E5>n(v,G,"feet")?"feet":"miles"}function u(v){return x.fromJSON(v.toLowerCase())||null}function t(v,G=e.earth.metersPerDegree){return B(v,
!0)||G}function B(v,G=!1){let I,O,L=null;null!=v&&("object"===typeof v?(I=v.wkid,O=v.wkt):"number"===typeof v?I=v:"string"===typeof v&&(O=v));if(I){if(m.isWKIDFromMars(I))return e.mars.metersPerDegree;if(m.isWKIDFromMoon(I))return e.moon.metersPerDegree;L=A.values[A[I]];!L&&G&&y.has(I)&&(L=H)}else O&&(-1!==O.search(/^PROJCS/i)?(v=C.exec(O))&&v[1]&&(L=parseFloat(v[1].split(",")[1])):-1!==O.search(/^GEOCCS/i)&&(v=E.exec(O))&&v[1]&&(L=parseFloat(v[1].split(",")[1])));return L}function F(v){let G,I,O=
null;null!=v&&("object"===typeof v?(G=v.wkid,I=v.wkt):"number"===typeof v?G=v:"string"===typeof v&&(I=v));G?O=A.units[A[G]]:I&&-1!==I.search(/^PROJCS/i)&&(v=C.exec(I))&&v[1]&&(O=(v=/[\\"\\']{1}([^\\"\\']+)/.exec(v[1]))&&v[1]);return O?u(O):null}const H=e.earth.radius*Math.PI/200,C=/UNIT\[([^\]]+)\]\]$/i,A=l,E=/UNIT\[([^\]]+)\]/i,y=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),x=b.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",
yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});c={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},
kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};b={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},
"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(v=>v*v)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const z={length:{baseUnit:"meters",units:c},area:{baseUnit:"square-meters",units:b},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},
"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},D=function(){const v={};for(const G in z)for(const I in z[G].units)v[I]=G;return v}();a.baseUnitForMeasure=p;a.baseUnitForUnit=function(v){return p(r(v))};a.convertUnit=n;a.getDefaultUnitSystem=function(v){if(!v)return null;switch(F(v)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=B;a.getMetersPerUnitForSR=t;a.getMetersPerVerticalUnitForSR=function(v){if(v&&"object"===typeof v&&!m.isEarth(v))return 1;v=t(v);return 1E5<v?1:v};a.getUnitString=F;a.getVerticalUnitStringForSR=function(v){const G=t(v),I=v instanceof f?k.getReferenceEllipsoid(v).metersPerDegree:1E5;return G>=I?"meters":F(v)};a.inchesPerMeter=39.37;a.isBaseUnit=w;a.isMeasurementSystem=function(v){return"imperial"===
v||"metric"===v};a.lengthToDegrees=function(v,G,I){return n(v,G,"meters")/(I*Math.PI/180)};a.measureForUnit=r;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.preferredImperialAreaUnit=function(v,G){return 1E6>n(v,G,"square-feet")?"square-feet":"square-miles"};
a.preferredImperialLengthUnit=d;a.preferredImperialVerticalLengthUnit=g;a.preferredLengthUnit=function(v,G,I){switch(I){case "metric":return q(v,G);case "imperial":return d(v,G);default:return I}};a.preferredMetricAreaUnit=function(v,G){return 3E6>n(v,G,"square-meters")?"square-meters":"square-kilometers"};a.preferredMetricLengthUnit=q;a.preferredMetricVerticalLengthUnit=h;a.preferredVerticalLengthUnit=function(v,G,I){switch(I){case "metric":return h(v,G);case "imperial":return g(v,G);default:return I}};
a.unitFromRESTJSON=u;a.unitToRESTJSON=function(v){return x.toJSON(v)||null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./support/spatialReferenceUtils","./SpatialReference","./support/Ellipsoid"],function(a,c,b,l){function m(p){return new b({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${p.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const f=m(l.earth),e=m(l.mars),k=m(l.moon),r=new b({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${l.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});a.SphericalECEFSpatialReference=f;a.SphericalPCPFMars=e;a.SphericalPCPFMoon=k;a.WGS84ECEFSpatialReference=r;a.createSphericalPCPF=m;a.getReferenceEllipsoid=function(p){return p&&(c.isMars(p)||p===e)?l.mars:p&&(c.isMoon(p)||p===k)?l.moon:l.earth};a.getReferenceEllipsoidFromWKID=function(p){return c.isWKIDFromMars(p)?l.mars:c.isWKIDFromMoon(p)?l.moon:l.earth};a.getSphericalPCPF=function(p){return p&&(c.isMars(p)||p===e)?e:p&&(c.isMoon(p)||p===k)?k:f};a.getSphericalPCPFForEllipsoid=function(p){return p&&
p===l.mars?e:p&&p===l.moon?k:f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../portal/Portal ../../portal/PortalItem".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){const F=f.getLogger("esri.layers.mixins.PortalLayer");c.PortalLayer=H=>{H=function(C){function A(){var y=C.apply(this,arguments)||this;y.resourceReferences={portalItem:null,paths:[]};return y}b._inheritsLoose(A,C);var E=A.prototype;E.destroy=function(){var y;null==(y=this.portalItem)?void 0:y.destroy();this.portalItem=null};E.readPortalItem=function(y,x,z){if(x.itemId)return new B({id:x.itemId,portal:z&&z.portal})};E.writePortalItem=function(y,x){y&&
y.id&&(x.itemId=y.id)};E.loadFromPortal=async function(y,x){if(this.portalItem&&this.portalItem.id)try{const z=await new Promise(function(D,v){a(["../../portal/support/layersLoader"],D,v)});u.throwIfAborted(x);return await z.load({instance:this,supportedTypes:y.supportedTypes,validateItem:y.validateItem,supportsData:y.supportsData},x)}catch(z){throw F.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${z}`),z;}};E.read=function(y,x){x&&(x.layer=this);C.prototype.read.call(this,
y,x)};E.write=function(y,x){const z=x&&x.portal,D=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||t.getDefault());return z&&D&&!h.hasSamePortal(D.restUrl,z.restUrl)?(x.messages&&x.messages.push(new q("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,
{layer:this})),null):C.prototype.write.call(this,y,{...x,layer:this})};b._createClass(A,[{key:"portalItem",set:function(y){y!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",y))}}]);return A}(H);l.__decorate([k.property({type:B})],H.prototype,"portalItem",null);l.__decorate([p.reader("web-document","portalItem",["itemId"])],H.prototype,"readPortalItem",null);l.__decorate([n.writer("web-document","portalItem",{itemId:{type:String}})],H.prototype,"writePortalItem",
null);l.__decorate([k.property()],H.prototype,"resourceReferences",void 0);return H=l.__decorate([w.subclass("esri.layers.mixins.PortalLayer")],H)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){a.ScaleRangeLayer=q=>{q=function(h){function d(){var g=h.apply(this,arguments)||this;g.minScale=0;g.maxScale=0;return g}c._inheritsLoose(d,h);c._createClass(d,[{key:"scaleRangeId",get:function(){return`${this.minScale},${this.maxScale}`}}]);return d}(q);b.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],q.prototype,"minScale",void 0);b.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],q.prototype,"maxScale",void 0);b.__decorate([e.property({readOnly:!0,
dependsOn:["minScale","maxScale"]})],q.prototype,"scaleRangeId",null);return q=b.__decorate([r.subclass("esri.layers.mixins.ScaleRangeLayer")],q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){a.RefreshableLayer=q=>{q=function(h){function d(){var g=h.apply(this,arguments)||this;g.refreshInterval=0;return g}c._inheritsLoose(d,h);d.prototype.refresh=function(){this.emit("refresh")};return d}(q);b.__decorate([e.property({type:Number,cast:h=>.1<=h?h:0>=h?0:.1,json:{write:!0,origins:{"web-document":{write:!0}}}})],q.prototype,"refreshInterval",void 0);return q=b.__decorate([r.subclass("esri.layers.mixins.RefreshableLayer")],q)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/has ../../core/promiseUtils ../../core/Collection ../../portal/PortalItem ../../renderers/support/styleUtils ./lazyLayerLoader ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers".split(" "),function(a,c,b,l,m,f,e,k,r){async function p(A,E,y){if(E){var x=[];for(const z of E)E=w(z,y),"GroupLayer"===z.layerType?x.push(d(E,z,y)):x.push(E);x=await b.eachAlways(x);for(const z of x)!z.value||
y.filter&&!y.filter(z.value)||A.add(z.value)}}async function w(A,E){const y=await q(A,E);return n(y,A,E)}async function n(A,E,y){A=new A;A.read(E,y.context);"group"===A.type&&h(E)&&await g(A,E,y.context);await f.loadStyleRenderer(A,y.context);return A}async function q(A,E){var y=E.context;switch(y.origin){case "web-scene":switch(y.layerContainerType){case "basemap":var x=B;break;case "ground":x=t;break;default:x=u}break;default:switch(y.layerContainerType){case "basemap":x=C;break;case "tables":x=
H;break;default:x=F}}var z=x;x=A.layerType||A.type;!x&&E&&E.defaultLayerType&&(x=E.defaultLayerType);E=(E=z[x])?e.layerLookupMap[E]:e.layerLookupMap.UnknownLayer;y=y&&y.portal;"Feature Collection"===A.type?A.itemId&&(y=new m({id:A.itemId,portal:y}),await y.load(),y=(await r.selectLayerClassPath(y)).className||"UnknownLayer",E=e.layerLookupMap[y]):"ArcGISFeatureLayer"===x&&(await k.isMapNotesLayer(A,y)?E=e.layerLookupMap.MapNotesLayer:await k.isRouteLayer(A,y)?E=e.layerLookupMap.RouteLayer:h(A)&&(E=
e.layerLookupMap.GroupLayer));A.wmtsInfo&&A.wmtsInfo.url&&A.wmtsInfo.layerIdentifier&&(E=e.layerLookupMap.WMTSLayer);return E()}function h(A){if("ArcGISFeatureLayer"!==A.layerType||"Feature Collection"===A.type)return!1;A=A.featureCollection;return!!(A&&A.layers&&1<A.layers.length)}async function d(A,E,y){const x=new l;E=p(x,Array.isArray(E.layers)?E.layers:[],y);A=await A;await E;if("group"===A.type)return A.layers.addMany(x),A}async function g(A,E,y){const x=await (0,e.layerLookupMap.FeatureLayer)();
E=E.featureCollection;const z=E.showLegend;E=E.layers.map(D=>{const v=new x;v.read(D,y);null!=z&&v.read({showLegend:z},y);return v});A.layers.addMany(E)}const u={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},t={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},B={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",
VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},F={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",
WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},H={ArcGISFeatureLayer:"FeatureLayer"},C={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",
OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/Warning","../../core/promiseUtils","../../core/asyncUtils"],function(a,c,b,l){a.loadStyleRenderer=async function(m,
f,e){var k=m&&m.getAtOrigin&&m.getAtOrigin("renderer",f.origin);k&&"unique-value"===k.type&&k.styleOrigin&&(k=await l.result(k.populateFromStyle()),b.throwIfAborted(e),!1===k.ok&&(e=k.error,f&&f.messages&&f.messages.push(new c("renderer:style-reference",`Failed to create unique value renderer from style reference: ${e.message}`,{error:e,context:f})),m.clear("renderer",f.origin)))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/lazyLayerLoader":function(){define(["require",
"exports"],function(a,c){function b(l){return Object.freeze({__proto__:null,"default":l})}c.layerLookupMap={BingMapsLayer:async()=>(await new Promise(function(l,m){a(["../BingMapsLayer"],function(f){l(b(f))},m)})).default,BuildingSceneLayer:async()=>(await new Promise(function(l,m){a(["../BuildingSceneLayer"],function(f){l(b(f))},m)})).default,CSVLayer:async()=>(await new Promise(function(l,m){a(["../CSVLayer"],function(f){l(b(f))},m)})).default,ElevationLayer:async()=>(await new Promise(function(l,
m){a(["../ElevationLayer"],function(f){l(b(f))},m)})).default,FeatureLayer:async()=>(await new Promise(function(l,m){a(["../FeatureLayer"],function(f){l(b(f))},m)})).default,GroupLayer:async()=>(await new Promise(function(l,m){a(["../GroupLayer"],function(f){l(b(f))},m)})).default,GeoRSSLayer:async()=>(await new Promise(function(l,m){a(["../GeoRSSLayer"],function(f){l(b(f))},m)})).default,ImageryLayer:async()=>(await new Promise(function(l,m){a(["../ImageryLayer"],function(f){l(b(f))},m)})).default,
ImageryTileLayer:async()=>(await new Promise(function(l,m){a(["../ImageryTileLayer"],function(f){l(b(f))},m)})).default,IntegratedMeshLayer:async()=>(await new Promise(function(l,m){a(["../IntegratedMeshLayer"],function(f){l(b(f))},m)})).default,KMLLayer:async()=>(await new Promise(function(l,m){a(["../KMLLayer"],function(f){l(b(f))},m)})).default,MapImageLayer:async()=>(await new Promise(function(l,m){a(["../MapImageLayer"],function(f){l(b(f))},m)})).default,MapNotesLayer:async()=>(await new Promise(function(l,
m){a(["../MapNotesLayer"],function(f){l(b(f))},m)})).default,OpenStreetMapLayer:async()=>(await new Promise(function(l,m){a(["../OpenStreetMapLayer"],function(f){l(b(f))},m)})).default,PointCloudLayer:async()=>(await new Promise(function(l,m){a(["../PointCloudLayer"],function(f){l(b(f))},m)})).default,RouteLayer:async()=>(await new Promise(function(l,m){a(["../RouteLayer"],function(f){l(b(f))},m)})).default,SceneLayer:async()=>(await new Promise(function(l,m){a(["../SceneLayer"],function(f){l(b(f))},
m)})).default,StreamLayer:async()=>(await new Promise(function(l,m){a(["../StreamLayer"],function(f){l(b(f))},m)})).default,TileLayer:async()=>(await new Promise(function(l,m){a(["../TileLayer"],function(f){l(b(f))},m)})).default,UnknownLayer:async()=>(await new Promise(function(l,m){a(["../UnknownLayer"],function(f){l(b(f))},m)})).default,UnsupportedLayer:async()=>(await new Promise(function(l,m){a(["../UnsupportedLayer"],function(f){l(b(f))},m)})).default,VectorTileLayer:async()=>(await new Promise(function(l,
m){a(["../VectorTileLayer"],function(f){l(b(f))},m)})).default,WebTileLayer:async()=>(await new Promise(function(l,m){a(["../WebTileLayer"],function(f){l(b(f))},m)})).default,WMSLayer:async()=>(await new Promise(function(l,m){a(["../WMSLayer"],function(f){l(b(f))},m)})).default,WMTSLayer:async()=>(await new Promise(function(l,m){a(["../WMTSLayer"],function(f){l(b(f))},m)})).default};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports",
"../PortalItem","./portalItemUtils"],function(a,c,b){async function l(m,f,e,k){return!m.layerType||"ArcGISFeatureLayer"!==m.layerType||m.url?!1:m.featureCollectionType&&m.featureCollectionType===e?!0:m.itemId?(m=new c({id:m.itemId,portal:f}),await m.load(),"Feature Collection"===m.type&&b.hasTypeKeyword(m,k)):!1}a.isMapNotesLayer=function(m,f){return l(m,f,"notes","Map Notes")};a.isRouteLayer=function(m,f){return l(m,f,"route","Route Layer")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalItemUtils":function(){define(["exports"],
function(a){function c(b,l){return b.typeKeywords?-1<b.typeKeywords.indexOf(l):!1}a.addTypeKeyword=function(b,l){if(!c(b,l)){const m=b.typeKeywords;m?m.push(l):b.typeKeywords=[l]}};a.hasTypeKeyword=c;a.removeTypeKeyword=function(b,l){if(b=b.typeKeywords)l=b.indexOf(l),-1<l&&b.splice(l,1)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/maybe ../../core/Error ../../core/promiseUtils ../../request ../PortalItem ./portalItemUtils ../../layers/support/lazyLayerLoader".split(" "),
function(a,c,b,l,m,f,e,k){function r(C){switch(C.type){case "Map Service":return w(C);case "Feature Service":return n(C);case "Feature Collection":return h(C);case "Scene Service":return q(C);case "Image Service":return d(C);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};default:return l.reject(new b("portal:unknown-item-type",
"Unknown item type '${type}'",{type:C.type}))}}function p(C){return(0,k.layerLookupMap[C.className])().then(A=>({constructor:A,properties:C.properties}))}function w(C){return g(C).then(A=>A?{className:"TileLayer"}:{className:"MapImageLayer"})}function n(C){return u(C).then(A=>{if("object"===typeof A){const E={};null!=A.id&&(E.layerId=A.id);return{className:"FeatureLayer",properties:E}}return{className:"GroupLayer"}})}function q(C){return u(C).then(A=>{if("object"===typeof A){const E={};null!=A.id?
(E.layerId=A.id,A=`${C.url}/layers/${A.id}`):A=C.url;if(Array.isArray(C.typeKeywords)&&0<C.typeKeywords.length){const y={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const x of Object.keys(y))if(-1!==C.typeKeywords.indexOf(x))return{className:y[x]}}return H(A).then(y=>{let x="SceneLayer";const z={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",
Building:"BuildingSceneLayer"};y&&y.layerType&&z[y.layerType]&&(x=z[y.layerType]);return{className:x,properties:E}})}return{className:"GroupLayer"}})}async function h(C){await C.load();if(e.hasTypeKeyword(C,"Map Notes"))return{className:"MapNotesLayer"};if(e.hasTypeKeyword(C,"Route Layer"))return{className:"RouteLayer"};C=await C.fetchData();return 1===F(C)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function d(C){var A,E,y;await C.load();const x=null!=(A=null==(E=C.typeKeywords)?void 0:
E.map(z=>z.toLowerCase()))?A:[];if(-1<x.indexOf("elevation 3d layer"))return{className:"ElevationLayer"};if(-1<x.indexOf("tiled imagery"))return{className:"ImageryTileLayer"};A=await C.fetchData();A=null==A?void 0:A.layerType;return"ArcGISTiledImageServiceLayer"===A?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===A?{className:"ImageryLayer"}:"map"===(null==(y=(await H(C.url)).cacheType)?void 0:y.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function g(C){return H(C.url).then(A=>
A.tileInfo)}function u(C){return!C.url||C.url.match(/\/\d+$/)?l.resolve({}):C.load().then(()=>C.fetchData()).then(A=>0<F(A)?t(A):H(C.url).then(t))}function t(C){return 1===F(C)?{id:c.unwrap(B(C))}:!1}function B(C){const A=C.layers;return A&&A.length?A[0].id:(C=C.tables)&&C.length?C[0].id:null}function F(C){var A,E,y,x;const z=null!=(A=null==C?void 0:null==(E=C.layers)?void 0:E.length)?A:0;C=null!=(y=null==C?void 0:null==(x=C.tables)?void 0:x.length)?y:0;return z+C}function H(C){return m(C,{responseType:"json",
query:{f:"json"}}).then(A=>A.data)}a.fromItem=function(C){!C.portalItem||C.portalItem instanceof f||(C={...C,portalItem:new f(C.portalItem)});return C.portalItem.load().then(r).then(p).then(A=>l.resolve(new A.constructor({portalItem:C.portalItem,...A.properties})))};a.selectLayerClassPath=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/object ../core/maybe ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/extensions/serializableProperty/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../geometry/SpatialReference ../geometry/Extent ../core/Collection ./support/fieldUtils ../PopupTemplate ../request ../chunks/symbols ../core/Handles ./Layer ../renderers/Renderer ../renderers/ClassBreaksRenderer ../renderers/UniqueValueRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/SimpleRenderer ../renderers/support/types ../renderers/support/jsonUtils ../core/MultiOriginJSONSupport ./support/arcgisLayerUrl ../geometry/HeightModelInfo ./support/commonProperties ./mixins/OperationalLayer ./support/FieldsIndex ../form/FormTemplate ../tasks/support/FeatureSet ./graphics/sources/MemorySource ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./support/TimeInfo ./mixins/TemporalLayer ./support/FeatureIndex ./support/FeatureReduction ./support/LabelClass ./support/FeatureReductionCluster ./support/FeatureReductionSelection ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/labelingInfo ./support/Relationship ../chunks/DataLayerSource ../renderers/support/styleUtils ../support/popupUtils ../tasks/support/AttachmentQuery ../tasks/support/Query ../tasks/support/RelationshipQuery".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I,O,L,N,R,K,U,P,J,S,W,M,T,X,fa,ia,ja,ta,Aa,Z,V,ba,Q,Y,aa,ha,ka,la,na,pa,ua,za,wa,Da,Ea,Ha,Ga,Ja,Qa,Pa,Na){function Ba(Fa,Ka,sa){return!(Fa&&Fa.hasOwnProperty(Ka)?!Fa[Ka]:!sa)}function Ra(Fa,Ka,sa){return Fa&&Fa.hasOwnProperty(Ka)?Fa[Ka]:sa}function Ta(Fa,Ka,sa){Fa=!(null==sa||!sa.writeLayerSchema);return{enabled:Fa,ignoreOrigin:Fa}}const Za=new p.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),$a={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},cb=e.getLogger("esri.layers.FeatureLayer");l=wa.defineFieldProperties();D=function(Fa){function Ka(...ca){ca=Fa.call(this,...ca)||this;ca._handles=new z;ca.capabilities=null;ca.charts=null;ca.copyright=null;ca.displayField=null;ca.definitionExpression=null;ca.dynamicDataSource=null;ca.editFieldsInfo=
null;ca.editingEnabled=!0;ca.editingInfo=null;ca.elevationInfo=null;ca.featureReduction=null;ca.fields=null;ca.formTemplate=null;ca.fullExtent=null;ca.gdbVersion=null;ca.geometryProperties=null;ca.geometryType=null;ca.hasM=void 0;ca.hasZ=void 0;ca.heightModelInfo=null;ca.historicMoment=null;ca.isTable=!1;ca.labelsVisible=!0;ca.labelingInfo=null;ca.layerId=void 0;ca.legendEnabled=!0;ca.minScale=0;ca.maxScale=0;ca.globalIdField=null;ca.objectIdField=null;ca.outFields=null;ca.path=null;ca.popupEnabled=
!0;ca.popupTemplate=null;ca.relationships=null;ca.sourceJSON=null;ca.returnM=void 0;ca.returnZ=void 0;ca.screenSizePerspectiveEnabled=!0;ca.serviceDefinitionExpression=null;ca.spatialReference=F.WGS84;ca.templates=null;ca.timeInfo=null;ca.title=null;ca.sublayerTitleMode="item-title";ca.trackIdField=null;ca.type="feature";ca.typeIdField=null;ca.types=null;ca.indexes=new (C.ofType(aa.FeatureIndex));ca.userIsAdmin=!1;ca.version=void 0;ca.visible=!0;return ca}c._inheritsLoose(Ka,Fa);var sa=Ka.prototype;
sa.destroy=function(){var ca;null==(ca=this.source)?void 0:ca.destroy();this._handles&&(this._handles.destroy(),this._handles=null)};sa.normalizeCtorArgs=function(ca,ea){return"string"===typeof ca?{url:ca,...ea}:ca};sa.load=function(ca){const ea=f.isSome(ca)?ca.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(ea).then(ra=>this._initLayerProperties(ra)));else return ca=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},
ca).catch(ra=>ra).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const ra=await this._fetchFirstLayerId(ea);null!=ra&&(this.layerId=ra)}if(!this.url&&!this._hasMemorySource())throw new d("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(ea))}),this.addResolvingPromise(ca),B.resolve(this)};sa.readCapabilities=function(ca,ea){ea=ea.layerDefinition||
ea;return{attachment:this._readAttachmentCapabilities(ea.attachmentProperties),data:this._readDataCapabilities(ea),metadata:this._readMetadataCapabilities(ea),operations:this._readOperationsCapabilities(ea.capabilities||ca,ea),query:this._readQueryCapabilities(ea),queryRelated:this._readQueryRelatedCapabilities(ea),editing:this._readEditingCapabilities(ea)}};sa.readEditingEnabled=function(ca,ea){return this._readEditingEnabled(ea,!1)};sa.readEditingEnabledFromWebMap=function(ca,ea,ra){return this._readEditingEnabled(ea,
!0,ra)};sa.writeEditingEnabled=function(ca,ea){this._writeEditingEnabled(ca,ea,!1)};sa.writeEditingEnabledToWebMap=function(ca,ea,ra,xa){this._writeEditingEnabled(ca,ea,!0,xa)};sa.readEditingInfo=function(ca,ea){({editingInfo:ca}=ea);return ca?{lastEditDate:null!=ca.lastEditDate?new Date(ca.lastEditDate):null}:null};sa.readFeatureReduction=function(ca,ea){return pa.read(ca,ea)};sa.writeWebSceneFeatureReduction=function(ca,ea,ra,xa){pa.writeTarget(ca,ea,"layerDefinition.featureReduction",xa)};sa.readIsTable=
function(ca,ea){ea=ea&&ea.layerDefinition||ea;return"Table"===ea.type||!ea.geometryType};sa.writeIsTable=function(ca,ea,ra,xa){null!=xa&&xa.writeLayerSchema&&m.setDeepValue(ra,ca?"Table":"Feature Layer",ea)};sa.readMinScale=function(ca,ea){return ea.effectiveMinScale||ca||0};sa.readMaxScale=function(ca,ea){return ea.effectiveMaxScale||ca||0};sa.readGlobalIdFieldFromService=function(ca,ea){ea=ea.layerDefinition||ea;if(ea.globalIdField)return ea.globalIdField;if(ea.fields)for(const ra of ea.fields)if("esriFieldTypeGlobalID"===
ra.type)return ra.name};sa.readObjectIdFieldFromService=function(ca,ea){ea=ea.layerDefinition||ea;if(ea.objectIdField)return ea.objectIdField;if(ea.fields)for(const ra of ea.fields)if("esriFieldTypeOID"===ra.type)return ra.name};sa.readRenderer=function(ca,ea,ra){ea=ea.layerDefinition||ea;if(ca=ea.drawingInfo&&ea.drawingInfo.renderer||void 0)return(ca=U.read(ca,ea,ra)||void 0)||cb.error("Failed to create renderer",{rendererDefinition:ea.drawingInfo.renderer,layer:this,context:ra}),ca;if(ea.defaultSymbol)return ea.types&&
ea.types.length?new I({defaultSymbol:Sa(ea.defaultSymbol,ea,ra),field:ea.typeIdField,uniqueValueInfos:ea.types.map(xa=>({id:xa.id,symbol:Sa(xa.symbol,xa,ra)}))}):new R({symbol:Sa(ea.defaultSymbol,ea,ra)})};sa.castSource=function(ca){return ca?Array.isArray(ca)||ca instanceof C?new ia["default"]({layer:this,items:ca}):ca:null};sa.readSource=function(ca,ea){ca=fa.fromJSON(ea.featureSet);return new ia["default"]({layer:this,items:ca&&ca.features||[]})};sa.readServiceDefinitionExpression=function(ca,
ea){return ea.definitionQuery||ea.definitionExpression};sa.readTemplates=function(ca,ea){var ra=ea.editFieldsInfo;ea=ra&&ra.creatorField;ra=ra&&ra.editorField;ca=ca&&ca.map(xa=>ua.fromJSON(xa));this._fixTemplates(ca,ea);this._fixTemplates(ca,ra);return ca};sa.readTitle=function(ca,ea){ca=ea.layerDefinition&&ea.layerDefinition.name||ea.name;ea=ea.title||ea.layerDefinition&&ea.layerDefinition.title;if(ca){ea=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?
J.titleFromUrlAndName(this.url,ca):ca;if(!ca&&this.url){const ra=J.parse(this.url);f.isSome(ra)&&(ca=ra.title)}if(!ca)return;"item-title-and-service-name"===this.sublayerTitleMode&&ea&&ea!==ca&&(ca=ea+" - "+ca);return J.cleanTitle(ca)}if("item-title"===this.sublayerTitleMode&&ea)return ea};sa.readTitleFromWebMap=function(ca,ea){return ea.title||ea.layerDefinition&&ea.layerDefinition.name};sa.readTypeIdField=function(ca,ea){ea=ea.layerDefinition||ea;if(ca=ea.typeIdField)if(ea=A.getField(ea.fields,
ca))ca=ea.name;return ca};sa.readTypes=function(ca,ea){ea=ea.layerDefinition||ea;ca=ea.types;const ra=(ea=ea.editFieldsInfo)&&ea.creatorField,xa=ea&&ea.editorField;return ca&&ca.map(Ca=>{Ca=za.fromJSON(Ca);this._fixTemplates(Ca.templates,ra);this._fixTemplates(Ca.templates,xa);return Ca})};sa.writeUrl=function(ca,ea,ra,xa){J.writeUrlWithLayerId(this,ca,null,ea,xa)};sa.readVersion=function(ca,ea){return ea.currentVersion?ea.currentVersion:ea.hasOwnProperty("capabilities")||ea.hasOwnProperty("drawingInfo")||
ea.hasOwnProperty("hasAttachments")||ea.hasOwnProperty("htmlPopupType")||ea.hasOwnProperty("relationships")||ea.hasOwnProperty("timeInfo")||ea.hasOwnProperty("typeIdField")||ea.hasOwnProperty("types")?10:9.3};sa.readVisible=function(ca,ea){if(ea.layerDefinition&&null!=ea.layerDefinition.defaultVisibility)return!!ea.layerDefinition.defaultVisibility;if(null!=ea.visibility)return!!ea.visibility};sa.addAttachment=function(ca,ea){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>
{if(!("addAttachment"in this.source))throw new d("FeatureLayer","Layer source does not support addAttachment capability");return this.source.addAttachment(ca,ea)})};sa.updateAttachment=function(ca,ea,ra){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>{if(!("updateAttachment"in this.source))throw new d("FeatureLayer","Layer source does not support updateAttachment capability");return this.source.updateAttachment(ca,ea,ra)})};sa.applyEdits=async function(ca,ea){const ra=await new Promise(function(xa,
Ca){a(["./graphics/editingSupport"],xa,Ca)});await this.load();return ra.applyEdits(this,this.source,ca,ea)};sa.on=function(ca,ea){return Fa.prototype.on.call(this,ca,ea)};sa.createPopupTemplate=function(ca){return Ja.createPopupTemplate(this,ca)};sa.createGraphicsSource=async function(ca){if(this._hasMemorySource())return this.emit("graphics-source-create",{graphicsSource:this.source}),this.source.load({signal:ca});const ea=await new Promise(function(ra,xa){a(["./graphics/sources/FeatureLayerSource"],
function(Ca){ra(Object.freeze({__proto__:null,"default":Ca}))},xa)});B.throwIfAborted(ca);ca=await (new ea.default({layer:this})).load({signal:ca});this.emit("graphics-source-create",{graphicsSource:ca});return ca};sa.createQuery=function(){const ca=new Pa,ea=this.get("capabilities.data");ca.dynamicDataSource=this.dynamicDataSource;ca.gdbVersion=this.gdbVersion;ca.historicMoment=this.historicMoment;ca.returnGeometry=!0;ea&&(ea.supportsZ&&null!=this.returnZ&&(ca.returnZ=this.returnZ),ea.supportsM&&
null!=this.returnM&&(ca.returnM=this.returnM));ca.outFields=["*"];ca.where=this.definitionExpression||"1\x3d1";const {timeOffset:ra,timeExtent:xa}=this;ca.timeExtent=null!=ra&&null!=xa?xa.offset(-ra.value,ra.unit):xa||null;ca.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return ca};sa.deleteAttachments=function(ca,ea){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>{if(!("deleteAttachments"in this.source))throw new d("FeatureLayer","Layer source does not support deleteAttachments capability");
return this.source.deleteAttachments(ca,ea)})};sa.fetchRecomputedExtents=function(ca){return this.load({signal:null==ca?void 0:ca.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(ca);throw new d("FeatureLayer","Layer source does not support fetchUpdates capability");})};sa.getFeatureType=function(ca){const {typeIdField:ea,types:ra}=this;if(!ea||!ca)return null;const xa=ca.attributes?ca.attributes[ea]:void 0;if(null==xa)return null;let Ca=null;ra.some(La=>
{const {id:Ma}=La;if(null==Ma)return!1;Ma.toString()===xa.toString()&&(Ca=La);return!!Ca});return Ca};sa.getFieldDomain=function(ca,ea){return(ea=this.getFeatureType(ea&&ea.feature))&&(ea=ea.domains&&ea.domains[ca])&&"inherited"!==ea.type?ea:this._getLayerDomain(ca)};sa.getField=function(ca){return this.fieldsIndex.get(ca)};sa.queryAttachments=function(ca,ea){ca=Qa.from(ca);return this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new d("FeatureLayer","this layer doesn't support attachments");
const {attachmentTypes:ra,objectIds:xa,globalIds:Ca,num:La,size:Ma,start:Xa,where:bb}=ca;if(!this.get("capabilities.operations.supportsQueryAttachments")){const ab=ra&&ra.length,gb=Ca&&Ca.length,da=Ma&&Ma.length;if(xa&&1<xa.length||ab||gb||da||La||Xa||bb)throw new d("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",ca);}if(!(xa&&xa.length||bb))throw new d("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",ca);if(!("queryAttachments"in
this.source))throw new d("FeatureLayer","Layer source does not support queryAttachments capability",ca);return this.source.queryAttachments(ca)})};sa.queryFeatures=function(ca,ea){return this.load().then(()=>this.source.queryFeatures(Pa.from(ca)||this.createQuery(),ea)).then(ra=>{if(ra&&ra.features)for(const xa of ra.features)xa.layer=xa.sourceLayer=this;return ra})};sa.queryObjectIds=function(ca,ea){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Pa.from(ca)||
this.createQuery(),ea);throw new d("FeatureLayer","Layer source does not support queryObjectIds capability");})};sa.queryFeatureCount=function(ca,ea){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Pa.from(ca)||this.createQuery(),ea);throw new d("FeatureLayer","Layer source does not support queryFeatureCount capability");})};sa.queryExtent=function(ca,ea){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Pa.from(ca)||
this.createQuery(),ea);throw new d("FeatureLayer","Layer source does not support queryExtent capability");})};sa.queryRelatedFeatures=function(ca,ea){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Na.from(ca),ea);throw new d("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};sa.queryRelatedFeaturesCount=function(ca,ea){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Na.from(ca),
ea);throw new d("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");})};sa.read=function(ca,ea){const ra=ca.featureCollection;if(ra){const xa=ra.layers;xa&&1===xa.length&&(Fa.prototype.read.call(this,xa[0],ea),null!=ra.showLegend&&Fa.prototype.read.call(this,{showLegend:ra.showLegend},ea))}Fa.prototype.read.call(this,ca,ea);ea&&"service"===ea.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};sa.write=function(ca,ea){var ra,xa;
ea={...ea,writeLayerSchema:null!=(ra=null==(xa=ea)?void 0:xa.writeLayerSchema)?ra:this._hasMemorySource()};ra=ea.origin;xa=ea.layerContainerType;const Ca=ea.messages;if(this.isTable){if("web-scene"===ra||"web-map"===ra&&"tables"!==xa)return Ca&&Ca.push(new d("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return Ca&&Ca.push(new d("layer:unsupported",
`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===ra&&"tables"===xa)return Ca&&Ca.push(new d("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return Fa.prototype.write.call(this,ca,ea)};sa._readEditingEnabled=function(ca,ea,ra){var xa;
let Ca=null==(xa=ca.layerDefinition)?void 0:xa.capabilities;if(Ca)return this._hasEditingCapability(Ca);Ca=ca.capabilities;return ea&&"web-map"===(null==ra?void 0:ra.origin)&&!this._hasMemorySource()&&Ca?this._hasEditingCapability(Ca):!0};sa._hasEditingCapability=function(ca){return ca.toLowerCase().split(",").map(ea=>ea.trim()).includes("editing")};sa._writeEditingEnabled=function(ca,ea,ra,xa){if(!ca){var Ca,La;ca=null!=(Ca=this.capabilities)&&null!=(La=Ca.operations)&&La.supportsSync?"Query,Sync":
"Query";m.setDeepValue("layerDefinition.capabilities",ca,ea);!ra||null!=xa&&xa.writeLayerSchema||(ea.capabilities=ca)}};sa._checkAttachmentSupport=function(ca){const {attributes:ea}=ca,{objectIdField:ra}=this;if(!this.get("capabilities.data.supportsAttachment"))return B.reject(new d("FeatureLayer","this layer doesn't support attachments"));if(!ca)return B.reject(new d("FeatureLayer","A feature is required to add/delete/update attachments"));if(!ea)return B.reject(new d("FeatureLayer","'attributes' are required on a feature to query attachments"));
if(!ea[ra])return B.reject(new d("FeatureLayer",`feature is missing the identifying attribute ${ra}`))};sa._getLayerDomain=function(ca){return(ca=this.fieldsIndex.get(ca))?ca.domain:null};sa._fetchFirstLayerId=function(ca){return y(this.url,{query:{f:"json",...this.customParameters},responseType:"json",signal:ca}).then(ea=>{if(ea=ea.data){if(Array.isArray(ea.layers)&&0<ea.layers.length)return ea.layers[0].id;if(Array.isArray(ea.tables)&&0<ea.tables.length)return ea.tables[0].id}})};sa._initLayerProperties=
async function(ca){this._set("source",ca);ca.sourceJSON&&(this.sourceJSON=ca.sourceJSON,this.read(ca.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();A.fixRendererFields(this.renderer,this.fields);A.fixTimeInfoFields(this.timeInfo,this.fields);return Ga.loadStyleRenderer(this,{origin:"service"})};sa._verifyFields=function(){const ca=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+
ca+")");this.isTable||this._hasMemorySource()||-1!==ca.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(ea){return"geometry"===ea.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ca+")")};sa._fixTemplates=function(ca,ea){ca&&ca.forEach(ra=>{(ra=ra.prototype&&ra.prototype.attributes)&&ea&&delete ra[ea]})};sa._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new d("feature-layer:mixed-source-and-url",
"FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new d("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};sa._initMemorySource=function(ca){ca.forEach(ea=>{ea.layer=this;ea.sourceLayer=this});this._handles.add([ca.on("after-add",ea=>{ea.item.layer=this;ea.item.sourceLayer=this}),ca.on("after-remove",ea=>{ea.item.layer=null;ea.item.sourceLayer=null})],"fl-source")};sa._resetMemorySource=function(ca){ca.forEach(ea=>
{ea.layer=null;ea.sourceLayer=null});this._handles.remove("fl-source")};sa._hasMemorySource=function(){return!(this.url||!this.source)};sa._readAttachmentCapabilities=function(ca){const ea={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};ca&&Array.isArray(ca)&&ca.forEach(ra=>{const xa=$a[ra.name];xa&&(ea[xa]=!!ra.isEnabled)});return ea};sa._readDataCapabilities=function(ca){return{isVersioned:Ba(ca,"isDataVersioned",!1),supportsAttachment:Ba(ca,"hasAttachments",
!1),supportsM:Ba(ca,"hasM",!1),supportsZ:Ba(ca,"hasZ",!1)}};sa._readMetadataCapabilities=function(ca){return{supportsAdvancedFieldProperties:Ba(ca,"supportsFieldDescriptionProperty",!1)}};sa._readOperationsCapabilities=function(ca,ea){ca=ca?ca.toLowerCase().split(",").map(Xa=>Xa.trim()):[];const ra=-1!==ca.indexOf("editing");let xa=ra&&-1!==ca.indexOf("create"),Ca=ra&&-1!==ca.indexOf("delete"),La=ra&&-1!==ca.indexOf("update");const Ma=-1!==ca.indexOf("changetracking");!ra||xa||Ca||La||(xa=Ca=La=!0);
return{supportsCalculate:Ba(ea,"supportsCalculate",!1),supportsTruncate:Ba(ea,"supportsTruncate",!1),supportsValidateSql:Ba(ea,"supportsValidateSql",!1),supportsAdd:xa,supportsDelete:Ca,supportsEditing:ra,supportsChangeTracking:Ma,supportsQuery:-1!==ca.indexOf("query"),supportsQueryAttachments:Ba(ea.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Ba(ea,"supportsAttachmentsResizing",!1),supportsSync:-1!==ca.indexOf("sync"),supportsUpdate:La,supportsExceedsLimitStatistics:Ba(ea,
"supportsExceedsLimitStatistics",!1)}};sa._readQueryCapabilities=function(ca){const ea=ca.advancedQueryCapabilities,ra=ca.ownershipBasedAccessControlForFeatures,xa=ca.archivingInfo,Ca=(ca.supportedQueryFormats||"").split(",").reduce((La,Ma)=>{(Ma=Ma.toLowerCase().trim())&&La.add(Ma);return La},new Set);return{supportsStatistics:Ba(ea,"supportsStatistics",ca.supportsStatistics),supportsPercentileStatistics:Ba(ea,"supportsPercentileStatistics",!1),supportsCentroid:Ba(ea,"supportsReturningGeometryCentroid",
!1),supportsDistance:Ba(ea,"supportsQueryWithDistance",!1),supportsDistinct:Ba(ea,"supportsDistinct",ca.supportsAdvancedQueries),supportsExtent:Ba(ea,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ba(ea,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ba(ea,"supportsHavingClause",!1),supportsOrderBy:Ba(ea,"supportsOrderBy",ca.supportsAdvancedQueries),supportsPagination:Ba(ea,"supportsPagination",!1),supportsQuantization:Ba(ca,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ba(ca,
"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ba(ca,"supportsReturningQueryGeometry",!1),supportsResultType:Ba(ea,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ba(ea,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ba(ea,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ba(ca,"useStandardizedQueries",!1),supportsQueryByOthers:Ba(ra,"allowOthersToQuery",!0),supportsHistoricMoment:Ba(xa,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:Ca.has("pbf"),
supportsDisjointSpatialRelationship:Ba(ea,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ba(ea,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:Ra(ca,"maxRecordCountFactor",void 0),maxRecordCount:Ra(ca,"maxRecordCount",void 0),standardMaxRecordCount:Ra(ca,"standardMaxRecordCount",void 0),tileMaxRecordCount:Ra(ca,"tileMaxRecordCount",void 0)}};sa._readQueryRelatedCapabilities=function(ca){ca=ca.advancedQueryCapabilities;const ea=Ba(ca,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ba(ca,
"supportsQueryRelatedPagination",!1),supportsCount:ea,supportsOrderBy:ea}};sa._readEditingCapabilities=function(ca){const ea=ca.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ba(ca,"allowGeometryUpdates",!0),supportsGlobalId:Ba(ca,"supportsApplyEditsWithGlobalIds",!1),supportsRollbackOnFailure:Ba(ca,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ba(ca,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ba(ca,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ba(ea,
"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ba(ea,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ba(ea,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ba(ea,"allowOthersToUpdate",!0)}};c._createClass(Ka,[{key:"createQueryVersion",get:function(){this.definitionExpression;this.dynamicDataSource;this.timeExtent;this.timeOffset;this.geometryType;this.gdbVersion;this.historicMoment;this.returnZ;this.capabilities;this.returnM;return(this._get("createQueryVersion")||0)+1}},{key:"fieldsIndex",
get:function(){return new T(this.fields||[])}},{key:"parsedUrl",get:function(){const ca=this.url?g.urlToObject(this.url):null;null!=ca&&(null!=this.dynamicDataSource?ca.path=g.join(ca.path,"dynamicLayer"):null!=this.layerId&&(ca.path=g.join(ca.path,this.layerId.toString())));return ca}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(ca){A.fixRendererFields(ca,this.fields);this._set("renderer",ca)}},{key:"source",set:function(ca){const ea=
this._get("source");ea!==ca&&(ea&&ea instanceof C&&this._resetMemorySource(ea),ca&&ca instanceof C&&this._initMemorySource(ca),this._set("source",ca))}},{key:"url",set:function(ca){ca=J.sanitizeUrlWithLayerId(this,ca,cb);this._set("url",ca.url);null!=ca.layerId&&this._set("layerId",ca.layerId)}}]);return Ka}(ta.BlendLayer(Y.TemporalLayer(ba.ScaleRangeLayer(V.RefreshableLayer(ja.ArcGISService(M.OperationalLayer(Z.PortalLayer(P.MultiOriginJSONMixin(Aa.CustomParametersMixin(D))))))))));b.__decorate([k.property({readOnly:!0,
json:{read:!1}})],D.prototype,"capabilities",void 0);b.__decorate([w.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
D.prototype,"readCapabilities",null);b.__decorate([k.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],D.prototype,"charts",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:"definitionExpression dynamicDataSource timeExtent timeOffset geometryType gdbVersion historicMoment returnZ capabilities returnM".split(" ")})],D.prototype,"createQueryVersion",null);b.__decorate([k.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],
D.prototype,"copyright",void 0);b.__decorate([k.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],D.prototype,"displayField",void 0);b.__decorate([k.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],D.prototype,"definitionExpression",void 0);b.__decorate([k.property({types:x.symbolTypes,readOnly:!0})],
D.prototype,"defaultSymbol",void 0);b.__decorate([k.property({type:Ha.DataLayerSource})],D.prototype,"dynamicDataSource",void 0);b.__decorate([k.property({readOnly:!0})],D.prototype,"editFieldsInfo",void 0);b.__decorate([k.property({type:Boolean})],D.prototype,"editingEnabled",void 0);b.__decorate([w.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],D.prototype,"readEditingEnabled",null);b.__decorate([w.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],
D.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([h.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],D.prototype,"writeEditingEnabled",null);b.__decorate([h.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],D.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([k.property({readOnly:!0})],D.prototype,"editingInfo",void 0);b.__decorate([w.reader("editingInfo")],D.prototype,
"readEditingInfo",null);b.__decorate([k.property(W.elevationInfo)],D.prototype,"elevationInfo",void 0);b.__decorate([k.property({types:{key:"type",base:ha["default"],typeMap:{selection:na,cluster:la}},json:{write:{target:"layerDefinition.featureReduction"}}})],D.prototype,"featureReduction",void 0);b.__decorate([w.reader("featureReduction",["layerDefinition.featureReduction"])],D.prototype,"readFeatureReduction",null);b.__decorate([h.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:pa.webSceneFeatureReductionTypes}})],
D.prototype,"writeWebSceneFeatureReduction",null);b.__decorate([k.property({...l.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{read:!0},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ta}}}}})],D.prototype,"fields",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["fields"]})],D.prototype,"fieldsIndex",null);b.__decorate([k.property({type:X,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"formTemplate",void 0);
b.__decorate([k.property({type:H,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],D.prototype,"fullExtent",void 0);b.__decorate([k.property()],D.prototype,"gdbVersion",void 0);b.__decorate([k.property({readOnly:!0})],D.prototype,"geometryProperties",void 0);b.__decorate([k.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:Za.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ta,
writer(Fa,Ka,sa){(Fa=Fa?Za.toJSON(Fa):null)&&m.setDeepValue(sa,Fa,Ka)}}}},read:{source:"layerDefinition.geometryType",reader:Za.read}}})],D.prototype,"geometryType",void 0);b.__decorate([k.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],D.prototype,"hasM",void 0);b.__decorate([k.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],D.prototype,"hasZ",void 0);b.__decorate([k.property({readOnly:!0,type:S})],
D.prototype,"heightModelInfo",void 0);b.__decorate([k.property({type:Date})],D.prototype,"historicMoment",void 0);b.__decorate([k.property({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],D.prototype,"id",void 0);b.__decorate([k.property({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],D.prototype,"isTable",void 0);b.__decorate([w.reader("service","isTable",["type","geometryType"]),w.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],
D.prototype,"readIsTable",null);b.__decorate([h.writer("web-map","isTable")],D.prototype,"writeIsTable",null);b.__decorate([k.property(W.labelsVisible)],D.prototype,"labelsVisible",void 0);b.__decorate([k.property({type:[ka],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Da.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Da.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],D.prototype,
"labelingInfo",void 0);b.__decorate([k.property(W.opacityDrawingInfo)],D.prototype,"opacity",void 0);b.__decorate([k.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],D.prototype,"layerId",void 0);b.__decorate([k.property(W.legendEnabled)],D.prototype,"legendEnabled",void 0);b.__decorate([k.property({type:["show","hide"]})],D.prototype,"listMode",void 0);b.__decorate([k.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},
write:{target:"layerDefinition.minScale"}}})],D.prototype,"minScale",void 0);b.__decorate([w.reader("service","minScale",["minScale","effectiveMinScale"])],D.prototype,"readMinScale",null);b.__decorate([k.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}})],D.prototype,"maxScale",void 0);b.__decorate([w.reader("service","maxScale",["maxScale","effectiveMaxScale"])],D.prototype,"readMaxScale",null);
b.__decorate([k.property({type:String})],D.prototype,"globalIdField",void 0);b.__decorate([w.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),w.reader("service","globalIdField",["globalIdField","fields"])],D.prototype,"readGlobalIdFieldFromService",null);b.__decorate([k.property({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ta}}}}})],D.prototype,"objectIdField",void 0);b.__decorate([w.reader("objectIdField",["layerDefinition.objectIdField",
"layerDefinition.fields"]),w.reader("service","objectIdField",["objectIdField","fields"])],D.prototype,"readObjectIdFieldFromService",null);b.__decorate([k.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],D.prototype,"operationalLayerType",void 0);b.__decorate([k.property(l.outFields)],D.prototype,"outFields",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["layerId","dynamicDataSource"]})],D.prototype,"parsedUrl",null);b.__decorate([k.property({type:String,json:{origins:{"web-scene":{read:!0,
write:!0}},read:!1}})],D.prototype,"path",void 0);b.__decorate([k.property(W.popupEnabled)],D.prototype,"popupEnabled",void 0);b.__decorate([k.property({type:E,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],D.prototype,"popupTemplate",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["fields","title"]})],D.prototype,"defaultPopupTemplate",null);b.__decorate([k.property({type:[Ea],readOnly:!0})],D.prototype,"relationships",void 0);b.__decorate([k.property({types:K.rendererTypes,
json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:K.webSceneRendererTypes,write:{target:"layerDefinition.drawingInfo.renderer",writer:U.write}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Fa,Ka,sa){return{ignoreOrigin:null==sa?void 0:sa.writeLayerSchema}},writer:U.write}}})],D.prototype,"renderer",null);b.__decorate([w.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),w.reader("renderer",["layerDefinition.drawingInfo.renderer",
"layerDefinition.defaultSymbol"])],D.prototype,"readRenderer",null);b.__decorate([k.property()],D.prototype,"sourceJSON",void 0);b.__decorate([k.property({type:Boolean})],D.prototype,"returnM",void 0);b.__decorate([k.property({type:Boolean})],D.prototype,"returnZ",void 0);b.__decorate([k.property(W.screenSizePerspectiveEnabled)],D.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([k.property()],D.prototype,"source",null);b.__decorate([r.cast("source")],D.prototype,"castSource",null);b.__decorate([w.reader("portal-item",
"source",["featureSet"]),w.reader("web-map","source",["featureSet"])],D.prototype,"readSource",null);b.__decorate([k.property({readOnly:!0})],D.prototype,"serviceDefinitionExpression",void 0);b.__decorate([w.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],D.prototype,"readServiceDefinitionExpression",null);b.__decorate([k.property({type:F,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],
D.prototype,"spatialReference",void 0);b.__decorate([k.property({type:[ua]})],D.prototype,"templates",void 0);b.__decorate([w.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],D.prototype,"readTemplates",null);b.__decorate([k.property({type:Q})],D.prototype,"timeInfo",void 0);b.__decorate([k.property()],D.prototype,"title",void 0);b.__decorate([w.reader("service","title",["name"]),w.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],
D.prototype,"readTitle",null);b.__decorate([w.reader("web-map","title",["layerDefinition.name","title"])],D.prototype,"readTitleFromWebMap",null);b.__decorate([k.property({type:String})],D.prototype,"sublayerTitleMode",void 0);b.__decorate([k.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],D.prototype,"trackIdField",void 0);b.__decorate([k.property({json:{read:!1}})],D.prototype,"type",void 0);b.__decorate([k.property({type:String})],D.prototype,"typeIdField",void 0);b.__decorate([w.reader("service",
"typeIdField"),w.reader("typeIdField",["layerDefinition.typeIdField"])],D.prototype,"readTypeIdField",null);b.__decorate([k.property({type:[za]})],D.prototype,"types",void 0);b.__decorate([w.reader("service","types",["types"]),w.reader("types",["layerDefinition.types"])],D.prototype,"readTypes",null);b.__decorate([k.property({readOnly:!0,json:{write:!1}})],D.prototype,"serverGens",void 0);b.__decorate([k.property({type:C.ofType(aa.FeatureIndex),readOnly:!0})],D.prototype,"indexes",void 0);b.__decorate([k.property(W.url)],
D.prototype,"url",null);b.__decorate([h.writer("url")],D.prototype,"writeUrl",null);b.__decorate([k.property({readOnly:!0})],D.prototype,"userIsAdmin",void 0);b.__decorate([k.property({json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"version",void 0);b.__decorate([w.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],D.prototype,"readVersion",null);b.__decorate([k.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],
D.prototype,"visible",void 0);b.__decorate([w.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],D.prototype,"readVisible",null);D=b.__decorate([q.subclass("esri.layers.FeatureLayer")],D);const Sa=n.createTypeReader({types:x.symbolTypesRenderer});return D})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./core/Collection ./layers/support/fieldUtils ./popup/content/Content ./popup/content/AttachmentsContent ./popup/content/CustomContent ./popup/FieldInfo ./popup/content/FieldsContent ./popup/content/support/mediaInfoTypes ./popup/content/MediaContent ./popup/content/TextContent ./popup/content ./popup/ExpressionInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I,O,L,N){var R;b=t.ofType({key:"type",defaultKeyValue:"button",base:O,typeMap:{button:L,toggle:N}});const K={base:F,key:"type",typeMap:{media:x,custom:C,text:z,attachments:H,fields:E}},U=m.getLogger("esri.PopupTemplate"),P=["attachments","fields","media","text"];m=R=function(J){function S(){var M=J.apply(this,arguments)||this;M.actions=null;M.content="";M.expressionInfos=null;M.fieldInfos=null;M.layerOptions=null;M.lastEditInfoEnabled=
!0;M.outFields=null;M.overwriteActions=!1;M.returnGeometry=!1;M.title="";M.relatedRecordsInfo=null;return M}a._inheritsLoose(S,J);var W=S.prototype;W.castContent=function(M){if(Array.isArray(M))return M.map(T=>f.ensureOneOfType(K,T));if("string"===typeof M||"function"===typeof M||M instanceof HTMLElement||g.isPromiseLike(M))return M;U.error("content error","unsupported content value",{value:M});return null};W.readContent=function(M,T){({popupElements:M}=T);return Array.isArray(M)&&0<M.length?this._readPopupInfoElements(T):
this._readPopupInfo(T)};W.writeContent=function(M,T){"string"===typeof M?T.description=M:Array.isArray(M)&&(T.popupElements=M.filter(X=>-1!==P.indexOf(X.type)).map(X=>X&&X.toJSON()),T.popupElements.forEach(X=>{"attachments"===X.type?this._writeAttachmentContent(T):"media"===X.type?this._writeMediaContent(X,T):"text"===X.type&&this._writeTextContent(X,T)}))};W.writeFieldInfos=function(M,T){var {content:X}=this;X=Array.isArray(X)?X:null;if(M){const fa=X?X.some(ia=>"fields"===ia.type&&(!ia.fieldInfos||
0===ia.fieldInfos.length)):!1;T.fieldInfos=M.filter(Boolean).map(ia=>{ia=ia.toJSON();fa||(ia.visible=!1);return ia})}if(X)for(const fa of X)"fields"===fa.type&&this._writeFieldsContent(fa,T)};W.writeLayerOptions=function(M,T){T.layerOptions=!M||null===M.showNoDataRecords&&null===M.returnTopmostRaster?null:M.toJSON()};W.writeTitle=function(M,T){T.title=M||""};W.clone=function(){var {actions:M}=this;M=M?l.clone(M.toArray()):[];return new R({actions:M,content:Array.isArray(this.content)?l.clone(this.content):
this.content,expressionInfos:Array.isArray(this.expressionInfos)?l.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?l.clone(this.fieldInfos):null,layerOptions:this.layerOptions?l.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?l.clone(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?l.clone(this.relatedRecordsInfo):
null})};W.collectRequiredFields=async function(M,T){await this._collectExpressionInfoFields(M,T,this.expressionInfos);B.collectFields(M,T,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])};W.getRequiredFields=async function(M){const T=new Set;await this.collectRequiredFields(T,M);return[...T].sort()};W._writeFieldsContent=function(M,T){Array.isArray(M.fieldInfos)&&M.fieldInfos.length&&(M=l.clone(M.fieldInfos),
Array.isArray(T.fieldInfos)?M.forEach(X=>{const fa=T.fieldInfos.find(ia=>ia.fieldName.toLowerCase()===X.fieldName.toLowerCase());fa?fa.visible=!0:T.fieldInfos.push(X)}):T.fieldInfos=M)};W._writeAttachmentContent=function(M){M.showAttachments||(M.showAttachments=!0)};W._writeTextContent=function(M,T){!T.description&&M.text&&(T.description=M.text)};W._writeMediaContent=function(M,T){Array.isArray(M.mediaInfos)&&M.mediaInfos.length&&(M=l.clone(M.mediaInfos),Array.isArray(T.mediaInfos)?T.mediaInfos=[...T.mediaInfos,
...M]:T.mediaInfos=M)};W._readPopupInfoElements=function({description:M,mediaInfos:T,popupElements:X}){var fa=!1,ia=!1;return X.map(ja=>{if("media"===ja.type)return ja.mediaInfos||!T||ia||(ja.mediaInfos=T,ia=!0),x.fromJSON(ja);if("text"===ja.type)return ja.text||!M||fa||(ja.text=M,fa=!0),z.fromJSON(ja);if("attachments"===ja.type)return H.fromJSON(ja);if("fields"===ja.type)return E.fromJSON(ja)}).filter(Boolean)};W._readPopupInfo=function({description:M,mediaInfos:T,showAttachments:X}){const fa=[];
M?fa.push(new z({text:M})):fa.push(new E);Array.isArray(T)&&T.length&&fa.push(x.fromJSON({mediaInfos:T}));X&&fa.push(H.fromJSON({displayType:"list"}));return fa.length?fa:M};W._getContentElementFields=function(M){if(!M||"attachments"===M.type)return[];if("custom"===M.type)return M.outFields||[];if("fields"===M.type)return this._getFieldInfoFields(M.fieldInfos||this.fieldInfos);if("media"===M.type)return(M.mediaInfos||[]).reduce((T,X)=>[...T,...this._getMediaInfoFields(X)],[]);if("text"===M.type)return this._extractFieldNames(M.text)};
W._getMediaInfoFields=function(M){const {caption:T,title:X,value:fa}=M,{fields:ia=[],normalizeField:ja,tooltipField:ta,sourceURL:Aa,linkURL:Z}=fa||{};M=[...this._extractFieldNames(X),...this._extractFieldNames(T),...this._extractFieldNames(Aa),...this._extractFieldNames(Z),...ia];ja&&M.push(ja);ta&&M.push(ta);return M};W._getContentFields=function(M){return"string"===typeof M?this._extractFieldNames(M):Array.isArray(M)?M.reduce((T,X)=>[...T,...this._getContentElementFields(X)],[]):[]};W._collectExpressionInfoFields=
async function(M,T,X){X&&await g.all(X.map(fa=>B.collectArcadeFieldNames(M,T,fa.expression)))};W._getFieldInfoFields=function(M){return M?M.filter(T=>"undefined"===typeof T.visible?!0:!!T.visible).map(T=>T.fieldName).filter(T=>-1===T.indexOf("relationships/")&&-1===T.indexOf("expression/")):[]};W._getActionsFields=function(M){return M?M.toArray().reduce((T,X)=>[...T,...this._getActionFields(X)],[]):[]};W._getActionFields=function(M){const {className:T,title:X,type:fa}=M;M="button"===fa||"toggle"===
fa?M.image:"";return[...this._extractFieldNames(X),...this._extractFieldNames(T),...this._extractFieldNames(M)]};W._getTitleFields=function(M){return"string"===typeof M?this._extractFieldNames(M):[]};W._extractFieldNames=function(M){if(!M||"string"!==typeof M)return[];M=M.match(/{[^}]*}/g);if(!M)return[];const T=/\{(\w+):.+\}/;return(M=M.filter(X=>!(0===X.indexOf("{relationships/")||0===X.indexOf("{expression/"))).map(X=>X.replace(T,"{$1}")))?M.map(X=>X.slice(1,-1)):[]};return S}(u.JSONSupport);c.__decorate([e.property({type:b})],
m.prototype,"actions",void 0);c.__decorate([e.property()],m.prototype,"content",void 0);c.__decorate([k.cast("content")],m.prototype,"castContent",null);c.__decorate([p.reader("content",["description","popupElements","mediaInfos","showAttachments"])],m.prototype,"readContent",null);c.__decorate([n.writer("content",{popupElements:{type:t.ofType(D.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:t.ofType(y.types)},description:{type:String}})],m.prototype,"writeContent",null);c.__decorate([e.property({type:[v],
json:{write:!0}})],m.prototype,"expressionInfos",void 0);c.__decorate([e.property({type:[A]})],m.prototype,"fieldInfos",void 0);c.__decorate([n.writer("fieldInfos")],m.prototype,"writeFieldInfos",null);c.__decorate([e.property({type:G})],m.prototype,"layerOptions",void 0);c.__decorate([n.writer("layerOptions")],m.prototype,"writeLayerOptions",null);c.__decorate([e.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],m.prototype,"lastEditInfoEnabled",
void 0);c.__decorate([e.property()],m.prototype,"outFields",void 0);c.__decorate([e.property()],m.prototype,"overwriteActions",void 0);c.__decorate([e.property()],m.prototype,"returnGeometry",void 0);c.__decorate([e.property({json:{type:String}})],m.prototype,"title",void 0);c.__decorate([n.writer("title")],m.prototype,"writeTitle",null);c.__decorate([e.property({type:I,json:{write:!0}})],m.prototype,"relatedRecordsInfo",void 0);return m=R=c.__decorate([w.subclass("esri.PopupTemplate")],m)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.type=null;return d}a._inheritsLoose(h,q);return h}(n.JSONSupport);c.__decorate([f.property({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.displayType=null;g.type="attachments";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({displayType:this.displayType})};return d}(n);c.__decorate([f.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);c.__decorate([f.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.popup.content.AttachmentsContent")],
b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,
u)||this;u.creator=null;u.destroyer=null;u.outFields=null;u.type="custom";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?l.clone(this.outFields):null})};return g}(q);c.__decorate([e.property()],b.prototype,"creator",void 0);c.__decorate([e.property()],b.prototype,"destroyer",void 0);c.__decorate([e.property()],b.prototype,"outFields",void 0);c.__decorate([e.property({type:["custom"],readOnly:!0})],
b.prototype,"type",void 0);return b=h=c.__decorate([r.subclass("esri.popup.content.CustomContent")],b)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/FieldInfoFormat".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(B){B=u.call(this,B)||this;B.fieldName=null;B.format=null;B.isEditable=!1;B.label=null;B.stringFieldOption="text-box";B.statisticType=null;B.tooltip=null;B.visible=!0;return B}a._inheritsLoose(t,u);t.prototype.clone=function(){return new g({fieldName:this.fieldName,format:this.format?l.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,
tooltip:this.tooltip,visible:this.visible})};return t}(h.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);c.__decorate([e.property({type:d,json:{write:!0}})],b.prototype,"format",void 0);c.__decorate([e.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([r.enumeration(new k.JSONMap({richtext:"rich-text",textarea:"text-area",
textbox:"text-box"}),{default:"text-box"})],b.prototype,"stringFieldOption",void 0);c.__decorate([e.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=g=c.__decorate([p.subclass("esri.popup.FieldInfo")],b)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../core/date ../../intl/date ../../intl/number".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(F){F=u.call(this,F)||this;F.dateFormat=null;F.digitSeparator=!1;F.places=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.clone=function(){return new g({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};B.format=function(F){return this.dateFormat?h.formatDate(F,h.convertDateFormatToIntlOptions(this.dateFormat)):d.formatNumber(F,d.convertNumberFormatToIntlOptions(this))};return t}(n.JSONSupport);
c.__decorate([e.enumeration(q.dictionary)],b.prototype,"dateFormat",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);c.__decorate([f.property({type:m.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=g=c.__decorate([k.subclass("esri.popup.support.FieldInfoFormat")],b)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,c){const b={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};c=c.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const l=c.toJSON.bind(c),m=c.fromJSON.bind(c);a.dictionary=c;a.formats=b;a.fromJSON=m;a.getFormat=function(f){return b[f]};a.toJSON=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content ../FieldInfo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(F){F=u.call(this,F)||this;F.fieldInfos=null;F.type="fields";return F}a._inheritsLoose(t,u);var B=t.prototype;B.writeFieldInfos=function(F,H){H.fieldInfos=F&&F.map(C=>C.toJSON())};B.clone=function(){return new g({fieldInfos:Array.isArray(this.fieldInfos)?l.clone(this.fieldInfos):null})};return t}(h);c.__decorate([e.property({type:[d]})],b.prototype,"fieldInfos",void 0);c.__decorate([p.writer("fieldInfos")],b.prototype,"writeFieldInfos",
null);c.__decorate([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=g=c.__decorate([r.subclass("esri.popup.content.FieldsContent")],b)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../mixins/MediaInfo ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo".split(" "),function(a,c,b,l,m,f,e){c={base:c,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":l,
"line-chart":f,"pie-chart":e,image:m}};a.default=c;a.types=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.altText=null;d.caption="";d.title="";d.type=null;return d}a._inheritsLoose(h,q);return h}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);c.__decorate([f.property({type:["image","bar-chart",
"column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.type="bar-chart";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return g}(n);c.__decorate([f.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:q.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=h=c.__decorate([k.subclass("esri.popup.content.BarChartMediaInfo")],
b)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,c,b,l,m,f,e,k,
r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.type=null;g.value=null;return g}a._inheritsLoose(d,h);return d}(n);c.__decorate([f.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);c.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"value",void 0);return b=c.__decorate([k.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/lang ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ./ChartMediaInfoValueSeries".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.fields=[];t.normalizeField=null;t.series=[];t.tooltipField=null;return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({fields:l.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return u}(q.JSONSupport);c.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],
b.prototype,"normalizeField",void 0);c.__decorate([e.property({type:[h],json:{read:!1}})],b.prototype,"series",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=d=c.__decorate([r.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/aliasOf ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.tooltip=null;u.value=null;u.x=null;u.y=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({tooltip:this.tooltip,value:this.value})};return g}(q);c.__decorate([f.property()],b.prototype,"tooltip",void 0);c.__decorate([f.property()],b.prototype,"value",void 0);c.__decorate([e.aliasOf("value")],b.prototype,"x",void 0);c.__decorate([e.aliasOf("tooltip")],b.prototype,"y",void 0);
return b=h=c.__decorate([r.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["exports","./property"],function(a,c){a.aliasOf=function(b,l){return c.property({aliasOf:l?{...l,source:b}:b})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,c){c=c.strict()({barchart:"bar-chart",columnchart:"column-chart",
linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.type="column-chart";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return g}(n);c.__decorate([f.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:q.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=h=c.__decorate([k.subclass("esri.popup.content.ColumnChartMediaInfo")],
b)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=
d.call(this,u)||this;u.refreshInterval=null;u.type="image";u.value=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return g}(n);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);c.__decorate([f.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);
c.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"value",void 0);return b=h=c.__decorate([k.subclass("esri.popup.content.ImageMediaInfo")],b)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.linkURL=null;g.sourceURL=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({linkURL:this.linkURL,sourceURL:this.sourceURL})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=q=c.__decorate([k.subclass("esri.popup.content.support.ImageMediaInfoValue")],
b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=
d.call(this,u)||this;u.type="line-chart";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return g}(n);c.__decorate([f.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:q.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=h=c.__decorate([k.subclass("esri.popup.content.LineChartMediaInfo")],b)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.type="pie-chart";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return g}(n);c.__decorate([f.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:q.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=h=c.__decorate([k.subclass("esri.popup.content.PieChartMediaInfo")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content ./BarChartMediaInfo ./ColumnChartMediaInfo ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){var C;b=C=function(A){function E(x){x=A.call(this,x)||this;x.activeMediaInfoIndex=null;x.mediaInfos=null;x.type="media";return x}a._inheritsLoose(E,A);var y=E.prototype;y.readMediaInfos=function(x){return x&&x.map(z=>{if("image"===z.type)return t.fromJSON(z);if("barchart"===z.type)return g.fromJSON(z);if("columnchart"===z.type)return u.fromJSON(z);if("linechart"===z.type)return B.fromJSON(z);if("piechart"===z.type)return F.fromJSON(z)}).filter(Boolean)};
y.writeMediaInfos=function(x,z){z.mediaInfos=x&&x.map(D=>D.toJSON())};y.clone=function(){return new C({activeMediaInfoIndex:this.activeMediaInfoIndex,mediaInfos:this.mediaInfos?l.clone(this.mediaInfos):null})};return E}(d);c.__decorate([e.property()],b.prototype,"activeMediaInfoIndex",void 0);c.__decorate([e.property({types:[H.types]})],b.prototype,"mediaInfos",void 0);c.__decorate([r.reader("mediaInfos")],b.prototype,"readMediaInfos",null);c.__decorate([w.writer("mediaInfos")],b.prototype,"writeMediaInfos",
null);c.__decorate([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=C=c.__decorate([p.subclass("esri.popup.content.MediaContent")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.text=null;g.type="text";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({text:this.text})};return d}(n);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([f.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.popup.content.TextContent")],b)})},"esri/popup/content":function(){define("exports ./content/Content ./content/AttachmentsContent ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,c,b,l,m,f,e){const k={base:null,key:"type",typeMap:{attachment:b,media:f,text:e,field:m}};a.BaseContent=c;a.AttachmentsContent=b;a.CustomContent=l;a.FieldsContent=m;a.MediaContent=f;a.TextContent=e;a.isContent=function(r){return r instanceof c};a.persistableTypes=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.name=null;g.title=null;g.expression=null;g.returnType=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",
void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([f.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=q=c.__decorate([k.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.returnTopmostRaster=null;g.showNoDataRecords=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return d}(n.JSONSupport);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,
"showNoDataRecords",void 0);return b=q=c.__decorate([k.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.showRelatedRecords=null;t.orderByFields=null;return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?l.clone(this.orderByFields):null})};return u}(q.JSONSupport);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);c.__decorate([e.property({type:[h],json:{write:!0}})],
b.prototype,"orderByFields",void 0);return b=d=c.__decorate([r.subclass("esri.popup.RelatedRecordsInfo")],b)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.field=null;g.order=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({field:this.field,order:this.order})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([f.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=q=c.__decorate([k.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Identifiable".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=
d.call(this,u)||this;u.active=!1;u.className=null;u.disabled=!1;u.id=null;u.indicator=!1;u.title=null;u.type=null;u.visible=!0;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return g}(q.IdentifiableMixin(n));c.__decorate([f.property()],b.prototype,"active",void 0);c.__decorate([f.property()],b.prototype,"className",void 0);c.__decorate([f.property()],
b.prototype,"disabled",void 0);c.__decorate([f.property()],b.prototype,"id",void 0);c.__decorate([f.property()],b.prototype,"indicator",void 0);c.__decorate([f.property()],b.prototype,"title",void 0);c.__decorate([f.property()],b.prototype,"type",void 0);c.__decorate([f.property()],b.prototype,"visible",void 0);return b=h=c.__decorate([k.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ActionBase".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.image=null;g.type="button";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return d}(n);c.__decorate([f.property()],b.prototype,"image",void 0);return b=q=c.__decorate([k.subclass("esri.support.Action.ActionButton")],b)})},
"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ActionBase".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.image=
null;g.type="toggle";g.value=!1;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return d}(n);c.__decorate([f.property()],b.prototype,"image",void 0);c.__decorate([f.property()],b.prototype,"value",void 0);return b=q=c.__decorate([k.subclass("esri.support.Action.ActionToggle")],b)})},"esri/chunks/symbols":function(){define("exports ../core/accessorSupport/ensureType ../core/accessorSupport/extensions/serializableProperty/reader ../core/Error ../symbols/Symbol ../symbols/CIMSymbol ../symbols/Symbol3DLayer ../symbols/ExtrudeSymbol3DLayer ../symbols/SimpleLineSymbol ../symbols/FillSymbol ../symbols/FillSymbol3DLayer ../symbols/Font ../symbols/IconSymbol3DLayer ../symbols/LineSymbol3DLayer ../symbols/ObjectSymbol3DLayer ../symbols/PathSymbol3DLayer ../symbols/TextSymbol3DLayer ../symbols/WaterSymbol3DLayer ../symbols/Symbol3D ./LineCallout3DBorder ../symbols/callouts/LineCallout3D ../symbols/support/Symbol3DVerticalOffset ../symbols/LabelSymbol3D ../symbols/LineSymbol3D ../symbols/MarkerSymbol ../symbols/MeshSymbol3D ../symbols/PictureFillSymbol ../symbols/PictureMarkerSymbol ../symbols/PointSymbol3D ../symbols/PolygonSymbol3D ../symbols/SimpleFillSymbol ../symbols/SimpleMarkerSymbol ../symbols/TextSymbol ../symbols/WebStyleSymbol".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I,O,L,N){function R(J,S=!1,W=!1,M=!0){if(!J)return{symbol:null};if(U(J)||J instanceof N)M=J.clone();else if("cim"===J.type)M=v.fromCIMSymbol(J);else if(J instanceof r)M=E.fromSimpleLineSymbol(J);else if(J instanceof O)M=v.fromSimpleMarkerSymbol(J);else if(J instanceof D)M=v.fromPictureMarkerSymbol(J);else if(J instanceof I)M=G.fromSimpleFillSymbol(J);else if(J instanceof L)M=M?A.fromTextSymbol(J):v.fromTextSymbol(J);else return{error:new l("symbol-conversion:unsupported-2d-symbol",
`2D symbol of type '${J.type||J.declaredClass}' is unsupported in 3D`,{symbol:J})};S&&(M.id=J.id);if(W&&U(M))for(J=0;J<M.symbolLayers.length;++J)M.symbolLayers.getItemAt(J)._ignoreDrivers=!0;return{symbol:M}}function K(J,S,W){if(!J)return null;if(!(!W||"web-scene"!==W.origin||J instanceof B||J instanceof N)){const M="cim"!==J.type?R(J):{symbol:null,error:new l("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:J})};if(M.symbol)return M.symbol.write(S,W);W.messages&&
W.messages.push(new l("symbol:unsupported",`Symbols of type '${J.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:J,context:W,error:M.error}));return null}return W&&"web-map"===W.origin&&"web-style"===J.type?(W.messages&&W.messages.push(new l("symbol:unsupported",`Symbols of type '${J.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:J,context:W})),null):J.write(S,
W)}function U(J){if(!J)return!1;switch(J.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}}e={base:m,key:"type",typeMap:{"simple-fill":I,"picture-fill":z,"picture-marker":D,"simple-line":r,"simple-marker":O,text:L,"label-3d":A,"line-3d":E,"mesh-3d":x,"point-3d":v,"polygon-3d":G,"web-style":N,cim:f},errorContext:"symbol"};const P=b.createTypeReader({types:e});b={base:m,key:"type",typeMap:{"simple-fill":I,"picture-fill":z,"picture-marker":D,
"simple-line":r,"simple-marker":O,text:L,"line-3d":E,"mesh-3d":x,"point-3d":v,"polygon-3d":G,"web-style":N,cim:f},errorContext:"symbol"};f={base:m,key:"type",typeMap:{text:L,"label-3d":A},errorContext:"symbol"};z={base:m,key:"type",typeMap:{"label-3d":A,"line-3d":E,"mesh-3d":x,"point-3d":v,"polygon-3d":G,"web-style":N},errorContext:"symbol"};x={base:m,key:"type",typeMap:{"line-3d":E,"mesh-3d":x,"point-3d":v,"polygon-3d":G,"web-style":N},errorContext:"symbol"};k={base:m,key:"type",typeMap:{"label-3d":A},
errorContext:"symbol"};c=c.ensureOneOfType(e);a.ensureType=c;a.fromJSON=function(J,S){return P(J,null,S)};a.isSymbol=function(J){return J instanceof m};a.isSymbol2D=function(J){if(!J)return!1;switch(J.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=U;a.readSymbol=P;a.symbolTypes=e;a.symbolTypes3D=z;a.symbolTypesLabel=f;a.symbolTypesLabel3D=k;a.symbolTypesRenderer=b;a.symbolTypesRenderer3D=
x;a.to3D=R;a.write=function(J,S,W,M){(J=K(J,{},M))&&(S[W]=J)}})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color".split(" "),function(a,c,b,l,m,f,e,k,
r,p,w,n,q,h){b=new e.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let d=0;q=function(g){function u(B){B=g.call(this,B)||this;B.id=`sym${d++}`;B.type=null;return B}a._inheritsLoose(u,g);var t=u.prototype;
t.readColor=function(B){return B&&null!=B[0]?[B[0],B[1],B[2],B[3]/255]:B};t.collectRequiredFields=async function(B,F){};t.hash=function(){return JSON.stringify(this.toJSON())};t.clone=function(){};a._createClass(u,[{key:"color",set:function(B){this._set("color",B)}}]);return u}(q.JSONSupport);c.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:b.write}}})],q.prototype,"type",void 0);c.__decorate([f.property({type:h,value:new h([0,0,0,1]),json:{write:{allowNull:!0}}})],
q.prototype,"color",null);c.__decorate([k.reader("color")],q.prototype,"readColor",null);return q=c.__decorate([r.subclass("esri.symbols.Symbol")],q)})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=B=function(F){function H(A){A=F.call(this,A)||this;A.data=null;A.type="cim";return A}a._inheritsLoose(H,F);var C=H.prototype;C.readData=function(A,E){return E};C.writeData=function(A,E){if(A)for(const y in A)E[y]=A[y]};C.collectRequiredFields=async function(A,E){if("CIMSymbolReference"===this.data.type){var y=this.data.primitiveOverrides;y&&(y=y.map(x=>u.collectArcadeFieldNames(A,E,x.valueExpressionInfo.expression)),await g.all(y))}};C.clone=function(){return new B({data:l.clone(this.data)})};
C.hash=function(){return m.numericHash(JSON.stringify(this.data)).toString()};return H}(t);c.__decorate([k.property({json:{write:!1}})],b.prototype,"color",void 0);c.__decorate([k.property({json:{write:!0}})],b.prototype,"data",void 0);c.__decorate([p.reader("data",["symbol"])],b.prototype,"readData",null);c.__decorate([n.writer("data")],b.prototype,"writeData",null);c.__decorate([r.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],b.prototype,"type",void 0);return b=B=c.__decorate([w.subclass("esri.symbols.CIMSymbol")],
b)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;
g.enabled=!0;g.type=null;return g}a._inheritsLoose(d,h);d.prototype.writeEnabled=function(g,u,t){g||(u[t]=g)};return d}(q.JSONSupport);c.__decorate([f.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);c.__decorate([r.writer("enabled")],b.prototype,"writeEnabled",null);c.__decorate([f.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.symbols.Symbol3DLayer")],
b)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;
b=g=function(u){function t(B){B=u.call(this,B)||this;B.type="extrude";B.size=1;B.material=null;B.castShadows=!0;B.edges=null;return B}a._inheritsLoose(t,u);t.prototype.clone=function(){return new g({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return t}(q);c.__decorate([k.enumeration({Extrude:"extrude"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:Number,
json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],b.prototype,"size",void 0);c.__decorate([e.property({type:d["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([e.property(h.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=g=c.__decorate([r.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)})},"esri/symbols/edges/utils":function(){define(["exports",
"./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,c,b,l){a.symbol3dEdgesProperty={types:{key:"type",base:c,typeMap:{solid:l,sketch:b}},json:{write:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ../../core/screenUtils ../support/materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){b=function(u){function t(F){F=u.call(this,F)||this;F.color=new h([0,0,0,1]);F.extensionLength=0;F.size=d.px2pt(1);return F}a._inheritsLoose(t,u);var B=t.prototype;B.clone=function(){};B.cloneProperties=function(){return{color:l.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return t}(q.JSONSupport);c.__decorate([e.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);c.__decorate([e.property(g.colorAndTransparencyProperty)],
b.prototype,"color",void 0);c.__decorate([e.property({...g.screenSizeProperty,json:{write:{overridePolicy(u){return{enabled:!!u}}}}})],b.prototype,"extensionLength",void 0);c.__decorate([e.property(g.screenSizeProperty)],b.prototype,"size",void 0);return b=c.__decorate([r.subclass("esri.symbols.edges.Edges3D")],b)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function c(l){return l?72*l/96:0}const b=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(l){return l};
a.castRenderScreenPointArray3=function(l){return l};a.castScreenPointArray=function(l){return l};a.createRenderScreenPoint=function(l=0,m=0){return{x:l,y:m}};a.createRenderScreenPointArray=function(l=0,m=0){return[l,m]};a.createRenderScreenPointArray3=function(l=0,m=0,f=0){return[l,m,f]};a.createScreenPoint=function(l=0,m=0){return{x:l,y:m}};a.createScreenPointArray=function(l=0,m=0){return[l,m]};a.pt2px=function(l){return l?l/72*96:0};a.px2pt=c;a.screenPointArrayToObject=function(l,m){return m?(m.x=
l[0],m.y=l[1],m):{x:l[0],y:l[1]}};a.screenPointObjectToArray=function(l,m){return m?(m[0]=l.x,m[1]=l.y,2<m.length&&(m[2]=0),m):[l.x,l.y]};a.toPt=function(l){if("string"===typeof l){if(b.test(l)){var m=l.match(b),f=Number(m[1]);m=m[3]&&m[3].toLowerCase();l="-"===l.charAt(0);f="px"===m?c(f):f;return l?-f:f}console.warn("screenUtils.toPt: input not recognized!");return null}return l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../core/accessorSupport/ensureType","../../Color","../../core/screenUtils","../../webdoc/support/opacityUtils"],function(a,c,b,l,m){const f={type:Number,cast:l.toPt,json:{write:!0}},e={type:[Number],cast(k){return null!=k?k:Array.isArray(k)?k.map(l.toPt):null},json:{read:!1,write:!1}};a.colorAndTransparencyProperty={type:b,json:{type:[c.Integer],default:null,read:{source:["color","transparency"],reader:function(k,r){k=null!=r.transparency?m.transparencyToOpacity(r.transparency):1;return(r=r.color)&&
Array.isArray(r)?new b([r[0]||0,r[1]||0,r[2]||0,k]):null}},write:{target:{color:{type:[c.Integer]},transparency:{type:c.Integer}},writer:function(k,r){r.color=k.toJSON().slice(0,3);k=m.opacityToTransparency(k.a);0!==k&&(r.transparency=k)}}}};a.screenSizeProperty=f;a.stipplePatternProperty=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Edges3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="sketch";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q(this.cloneProperties())};return d}(n);c.__decorate([e.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Edges3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="solid";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q(this.cloneProperties())};return d}(n);c.__decorate([e.enumeration({solid:"solid"},{readOnly:!0})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.symbols.support.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;a.Symbol3DMaterial=g=function(u){function t(){var B=u.apply(this,arguments)||this;B.color=null;return B}c._inheritsLoose(t,u);t.prototype.clone=function(){return new g({color:m.isSome(this.color)?this.color.clone():null})};return t}(h.JSONSupport);b.__decorate([k.property(d.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=g=b.__decorate([p.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);
a.default=a.Symbol3DMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=new k.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});d=u=function(t){function B(...H){H=t.call(this,...H)||this;
H.type="simple-line";H.style="solid";H.cap="round";H.join="round";H.marker=null;H.miterLimit=2;return H}a._inheritsLoose(B,t);var F=B.prototype;F.normalizeCtorArgs=function(H,C,A,E,y,x){if(H&&"string"!==typeof H)return H;const z={};null!=H&&(z.style=H);null!=C&&(z.color=C);null!=A&&(z.width=h.toPt(A));null!=E&&(z.cap=E);null!=y&&(z.join=y);null!=x&&(z.miterLimit=h.toPt(x));return z};F.clone=function(){var H;return new u({color:l.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,
miterLimit:this.miterLimit,marker:null==(H=this.marker)?void 0:H.clone()})};F.hash=function(){var H,C;return`${t.prototype.hash.call(this)}.${null==(H=this.color)?void 0:H.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(C=this.marker)?void 0:C.hash()}`};return B}(d);c.__decorate([r.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);c.__decorate([e.property({type:b.apiValues,json:{read:b.read,write:b.write}})],d.prototype,"style",void 0);c.__decorate([e.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(t,B,F)=>({enabled:"round"!==t&&(null==F||null==F.origin)})}}})],d.prototype,"cap",void 0);c.__decorate([e.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,B,F)=>({enabled:"round"!==t&&(null==F||null==F.origin)})}}})],d.prototype,"join",void 0);c.__decorate([e.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":g}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"marker",void 0);
c.__decorate([e.property({type:Number,json:{read:!1,write:!1}})],d.prototype,"miterLimit",void 0);return d=u=c.__decorate([p.subclass("esri.symbols.SimpleLineSymbol")],d)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ../core/screenUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.type="simple-line";g.width=.75;return g}a._inheritsLoose(d,h);d.prototype.hash=function(){return`${this.type}.${this.width}`};return d}(n);c.__decorate([e.enumeration({esriSLS:"simple-line"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([f.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=c.__decorate([k.subclass("esri.symbols.LineSymbol")],b)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(t){function B(H){H=t.call(this,H)||this;H.placement="begin-end";H.type="line-marker";H.style="arrow";return H}a._inheritsLoose(B,t);var F=B.prototype;F.writeStyle=function(H,C,A,E){C[A]="web-map"===(null==E?void 0:E.origin)?"arrow":H};F.readColor=function(H){return H&&null!=H[0]?[H[0],H[1],H[2],H[3]/255]:H};F.writeColor=function(H,C,A,E){"web-map"!==(null==E?void 0:E.origin)&&(C[A]=H)};F.clone=function(){return new u({color:l.clone(this.color),
placement:this.placement,style:this.style})};F.hash=function(){var H;return`${this.placement}.${null==(H=this.color)?void 0:H.hash()}.${this.style}`};a._createClass(B,[{key:"color",set:function(H){this._set("color",H)}}]);return B}(d.JSONSupport);c.__decorate([e.property({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],b.prototype,"placement",void 0);c.__decorate([k.enumeration({"line-marker":"line-marker"},{readOnly:!0}),e.property({json:{origins:{"web-map":{write:!1}}}})],
b.prototype,"type",void 0);c.__decorate([e.property({type:"arrow circle square diamond cross x".split(" ")})],b.prototype,"style",void 0);c.__decorate([w.writer("style")],b.prototype,"writeStyle",null);c.__decorate([e.property({type:g,value:null,json:{write:{allowNull:!0}}})],b.prototype,"color",null);c.__decorate([r.reader("color")],b.prototype,"readColor",null);c.__decorate([w.writer("color")],b.prototype,"writeColor",null);return b=u=c.__decorate([p.subclass("esri.symbols.LineSymbolMarker")],b)})},
"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ./SimpleLineSymbol".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.outline=null;g.type=null;return g}a._inheritsLoose(d,
h);d.prototype.hash=function(){return`${this.type}.${this.outline&&this.outline.hash()}`};return d}(n);c.__decorate([f.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([f.property({type:["simple-fill","picture-fill"],readOnly:!0})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.symbols.FillSymbol")],b)})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./edges/utils ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){var F;b=F=function(H){function C(A){A=H.call(this,A)||this;A.type="fill";A.material=null;A.pattern=null;A.castShadows=!0;A.outline=null;A.edges=null;return A}a._inheritsLoose(C,H);C.prototype.clone=function(){return new F({edges:l.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,pattern:l.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:l.isSome(this.outline)?
this.outline.clone():null})};C.fromSimpleFillSymbol=function(A){return new F({material:{color:(A.color||u.transparentWhite).clone()},pattern:A.style&&"solid"!==A.style?new d({style:A.style}):null,outline:A.outline?new B["default"]({size:A.outline.width||0,color:(A.outline.color||u.white).clone()}):null})};return C}(q);c.__decorate([k.enumeration({Fill:"fill"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:t["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([e.property(g.symbol3dPatternProperty)],
b.prototype,"pattern",void 0);c.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([e.property({type:B["default"],json:{write:!0}})],b.prototype,"outline",void 0);c.__decorate([e.property(h.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=F=c.__decorate([r.subclass("esri.symbols.FillSymbol3DLayer")],b)})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Pattern3D ./styles".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.type="style";u.style="solid";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({style:this.style})};return g}(n);c.__decorate([f.property({type:["style"]})],b.prototype,"type",void 0);c.__decorate([f.property({type:q,json:{read:!0,write:!0}})],b.prototype,"style",void 0);return b=h=c.__decorate([k.subclass("esri.symbols.patterns.StylePattern3D")],b)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){return q.call(this,d)||this}a._inheritsLoose(h,q);h.prototype.clone=function(){};return h}(n.JSONSupport);c.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./Pattern3D","./StylePattern3D"],function(a,c,b){function l(m,f,e){if(!m)return m;switch(m.type){case "style":return f=new b,f.read(m,e),f}}c={types:{key:"type",base:c,typeMap:{style:b}},json:{read:l,write:!0}};a.read=l;a.symbol3dPatternProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,c){const b=new c("white"),l=new c("black");c=new c([255,
255,255,0]);a.black=l;a.isBlack=function(m){return 0===m.r&&0===m.g&&0===m.b};a.transparentWhite=c;a.white=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Symbol3DMaterial".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;a.Symbol3DFillMaterial=d=function(g){function u(){return g.apply(this,arguments)||this}c._inheritsLoose(u,g);u.prototype.clone=function(){return new d({color:m.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};return u}(h["default"]);b.__decorate([r.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=d=b.__decorate([p.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);a.default=a.Symbol3DFillMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ../../core/screenUtils ./materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;a.Symbol3DOutline=t=function(B){function F(){var H=B.apply(this,arguments)||this;H.color=new d([0,0,0,1]);H.size=g.px2pt(1);H.stipplePattern=null;H.stippleOffColor=null;return H}c._inheritsLoose(F,B);F.prototype.clone=function(){return new t({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};
return F}(h.JSONSupport);b.__decorate([k.property(u.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([k.property(u.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([k.property(u.stipplePatternProperty)],a.Symbol3DOutline.prototype,"stipplePattern",void 0);b.__decorate([k.property({type:d})],a.Symbol3DOutline.prototype,"stippleOffColor",void 0);a.Symbol3DOutline=t=b.__decorate([p.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);
a.default=a.Symbol3DOutline;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../core/screenUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;
b=h=function(d){function g(t){t=d.call(this,t)||this;t.decoration="none";t.family="sans-serif";t.size=9;t.style="normal";t.weight="normal";return t}a._inheritsLoose(g,d);var u=g.prototype;u.castSize=function(t){return q.toPt(t)};u.clone=function(){return new h({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};u.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return g}(n.JSONSupport);c.__decorate([m.property({type:["underline",
"line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);c.__decorate([m.property({type:Number,json:{write:{overridePolicy(d,g,u){return{enabled:!u||!u.textSymbol3D}}}}})],b.prototype,"size",void 0);c.__decorate([f.cast("size")],b.prototype,"castSize",null);c.__decorate([m.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);
c.__decorate([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=h=c.__decorate([k.subclass("esri.symbols.Font")],b)})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DMaterial ./support/colors ./support/Symbol3DOutline ./support/IconSymbol3DLayerResource ./support/Symbol3DAnchorPosition2D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){function F(y){const x="width"in y?y.width:y.size,z="height"in y?y.height:y.size,D=H(y.xoffset);y=H(y.yoffset);return(D||y)&&x&&z?{x:-D/x,y:y/z}:null}function H(y){return isFinite(y)?y:0}var C;const A=m.getLogger("esri.symbols.IconSymbol3DLayer");b=C=function(y){function x(z){z=y.call(this,z)||this;z.material=null;z.resource=null;z.type="icon";z.size=12;z.anchor="center";z.anchorPosition=void 0;z.outline=void 0;return z}a._inheritsLoose(x,y);x.prototype.clone=
function(){return new C({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,outline:l.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};x.fromSimpleMarkerSymbol=function(z){const D=z.color||g.white,v=F(z),G=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||g.white).clone()}:null;var I=C,O=z.size;{z=z.style;
const L=E[z];L?z=L:(A.warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),z="circle")}return new I({size:O,resource:{primitive:z},material:{color:D},outline:G,anchor:v?"relative":void 0,anchorPosition:v})};x.fromPictureMarkerSymbol=function(z){const D=!z.color||g.isBlack(z.color)?g.white:z.color,v=F(z);return new C({size:z.width<=z.height?z.height:z.width,resource:{href:z.url},material:{color:D.clone()},anchor:v?"relative":void 0,anchorPosition:v})};x.fromCIMSymbol=function(z){return new C({resource:{href:p.makeData({mediaType:"application/json",
data:JSON.stringify(z.data)})}})};return x}(q);c.__decorate([e.property({type:d["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([e.property({type:t["default"],json:{write:!0}})],b.prototype,"resource",void 0);c.__decorate([k.enumeration({Icon:"icon"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property(h.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([k.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),e.property({json:{default:"center"}})],b.prototype,"anchor",void 0);c.__decorate([e.property({type:B.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:y=>new B.Symbol3DAnchorPosition2D({x:y[0],y:y[1]})},write:{writer:(y,x)=>{x.anchorPosition=[y.x,y.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);c.__decorate([e.property({type:u["default"],
json:{write:!0}})],b.prototype,"outline",void 0);b=C=c.__decorate([r.subclass("esri.symbols.IconSymbol3DLayer")],b);const E={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return b})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../chunks/persistableUrlUtils ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;l=k.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=t=function(B){function F(C){return B.call(this,C)||this}c._inheritsLoose(F,B);var H=F.prototype;H.readHref=function(C,A,E){return C?g.fromJSON(C,E):A.dataURI};H.writeHref=function(C,A,E,y){C&&(q.isDataProtocol(C)?A.dataURI=C:(A.href=g.toJSON(C,y),q.isAbsolute(A.href)&&(A.href=q.normalize(A.href))))};H.clone=function(){return new t({href:this.href,
primitive:this.primitive})};return F}(u.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([p.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([n.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([r.enumeration(l)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=t=b.__decorate([w.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.default=a.IconSymbol3DLayerResource;a.defaultPrimitive="circle";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.Symbol3DAnchorPosition2D=h=function(d){function g(){var u=d.apply(this,arguments)||this;u.x=0;u.y=0;return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({x:this.x,y:this.y})};return g}(q);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=h=b.__decorate([r.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);a.default=a.Symbol3DAnchorPosition2D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol3DLayer ../core/screenUtils ./support/materialUtils ./support/Symbol3DMaterial ./support/colors".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=B=function(F){function H(C){C=F.call(this,C)||this;C.material=null;C.type="line";C.join="miter";C.cap="butt";C.size=d.px2pt(1);C.stipplePattern=null;C.stippleOffColor=null;return C}a._inheritsLoose(H,F);H.prototype.clone=function(){return new B({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?
this.stippleOffColor.clone():null})};H.fromSimpleLineSymbol=function(C){return new B({size:C.width||1,cap:C.cap||"butt",join:C.join||"miter",material:{color:(C.color||t.white).clone()}})};return H}(h);c.__decorate([e.property({type:u["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([k.enumeration({Line:"line"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);c.__decorate([e.property({type:["butt",
"square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);c.__decorate([e.property(g.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([e.property(g.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);c.__decorate([e.property({type:q})],b.prototype,"stippleOffColor",void 0);return b=B=c.__decorate([r.subclass("esri.symbols.LineSymbol3DLayer")],b)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/Symbol3DMaterial ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(t){function B(F){F=t.call(this,F)||this;F.material=null;F.castShadows=!0;F.resource=null;F.type="object";F.width=void 0;F.height=void 0;F.depth=void 0;F.anchor=void 0;F.anchorPosition=void 0;F.heading=void 0;F.tilt=void 0;F.roll=void 0;return F}a._inheritsLoose(B,t);B.prototype.clone=function(){return new u({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),
depth:this.depth,enabled:this.enabled,height:this.height,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(B,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return B}(q);c.__decorate([e.property({type:h["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([e.property({type:d["default"],json:{write:!0}})],b.prototype,"resource",void 0);c.__decorate([k.enumeration({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);c.__decorate([k.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),e.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);c.__decorate([e.property({type:g.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:t=>new g.Symbol3DAnchorPosition3D({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,B)=>{B.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,
"heading",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=u=c.__decorate([r.subclass("esri.symbols.ObjectSymbol3DLayer")],b)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../chunks/persistableUrlUtils ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;l=k.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=g=function(u){function t(){return u.apply(this,arguments)||this}c._inheritsLoose(t,u);t.prototype.clone=function(){return new g({href:this.href,primitive:this.primitive})};return t}(d.JSONSupport);b.__decorate([e.property({type:String,json:{read:h.read,write:h.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);b.__decorate([r.enumeration(l)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=g=b.__decorate([p.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.default=a.ObjectSymbol3DLayerResource;a.defaultPrimitive="sphere";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.Symbol3DAnchorPosition3D=h=function(d){function g(){var u=d.apply(this,arguments)||this;u.x=0;u.y=0;u.z=0;return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({x:this.x,y:this.y,z:this.z})};return g}(q);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=h=b.__decorate([r.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);a.default=a.Symbol3DAnchorPosition3D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(F){F=u.call(this,F)||this;F.material=null;F.castShadows=!0;F.type="path";F.profile="circle";F.join="miter";F.cap="butt";F.width=void 0;F.height=void 0;F.anchor="center";F.profileRotation="all";return F}a._inheritsLoose(t,u);var B=t.prototype;B.readSize=function(F,H){return H.height||H.width?F:H.size};B.clone=function(){return new g({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};a._createClass(t,[{key:"size",get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(F){this.height=this.width=F}}]);return t}(h);c.__decorate([e.property({type:d["default"],json:{write:!0}})],b.prototype,"material",void 0);
c.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([k.enumeration({Path:"path"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:Number})],b.prototype,"size",null);c.__decorate([r.reader("size")],b.prototype,"readSize",null);c.__decorate([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);c.__decorate([e.property({type:["miter","bevel","round"],
json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);c.__decorate([e.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);c.__decorate([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],
b.prototype,"anchor",void 0);c.__decorate([e.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=g=c.__decorate([p.subclass("esri.symbols.PathSymbol3DLayer")],b)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DMaterial ./Font ./support/Symbol3DHalo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){var F;b=F=function(H){function C(E){E=H.call(this,E)||this;E._userSize=void 0;E.halo=null;E.material=null;E.text=void 0;E.type="text";return E}a._inheritsLoose(C,H);var A=C.prototype;A.writeFont=function(E,y,x,z){y.font=E.write({},{...z,textSymbol3D:!0});delete y.font.size};A.clone=function(){return new F({enabled:this.enabled,font:this.font&&l.clone(this.font),halo:this.halo&&l.clone(this.halo),material:m.isSome(this.material)?this.material.clone():
null,size:this.size,text:this.text})};C.fromTextSymbol=function(E){var y=E.haloColor;var x=E.haloSize;y=y&&0<x?{color:l.clone(y),size:x}:null;x=E.font?E.font.clone():new t;return new F({size:x.size,font:x,halo:y,material:E.color?{color:E.color.clone()}:null,text:E.text})};a._createClass(C,[{key:"font",get:function(){return this._get("font")||null},set:function(E){E&&this._userSize&&(E.size=this._userSize);this._set("font",E)}},{key:"size",get:function(){return null!=this._userSize?this._userSize:
this.font&&null!=this.font.size?this.font.size:9},set:function(E){this._userSize=E;this.font&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return C}(d);c.__decorate([k.property({type:t,json:{write:!0}})],b.prototype,"font",null);c.__decorate([w.writer("font")],b.prototype,"writeFont",null);c.__decorate([k.property({type:B["default"],json:{write:!0}})],b.prototype,"halo",void 0);c.__decorate([k.property({type:u["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([k.property(g.screenSizeProperty),
k.property({dependsOn:["font.size"]})],b.prototype,"size",null);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([r.enumeration({Text:"text"},{readOnly:!0})],b.prototype,"type",void 0);return b=F=c.__decorate([p.subclass("esri.symbols.TextSymbol3DLayer")],b)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ./materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;a.Symbol3DHalo=u=function(t){function B(){var F=t.apply(this,arguments)||this;F.color=new d([0,0,0,1]);F.size=0;return F}c._inheritsLoose(B,t);B.prototype.clone=function(){return new u({color:m.clone(this.color),size:this.size})};return B}(h.JSONSupport);b.__decorate([k.property(g.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([k.property(g.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
u=b.__decorate([p.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);a.default=a.Symbol3DHalo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol3DLayer".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(u){function t(B){B=u.call(this,B)||this;B.color=g.clone();B.type="water";B.waterbodySize="medium";B.waveDirection=null;B.waveStrength="moderate";return B}a._inheritsLoose(t,u);t.prototype.clone=function(){return new d({color:l.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return t}(h);c.__decorate([e.property({type:q,nonNullable:!0,json:{type:[f.Integer],write:(u,t,B)=>
t[B]=u.toArray(1),default:()=>g.clone(),defaultEquals:u=>u.toCss(!0)===g.toCss(!0)}})],b.prototype,"color",void 0);c.__decorate([k.enumeration({Water:"water"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);c.__decorate([e.property({type:Number,json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);c.__decorate([e.property({type:["calm","rippled","slight","moderate"],
json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);b=d=c.__decorate([r.subclass("esri.symbols.WaterSymbol3DLayer")],b);const g=new q([0,119,190]);return b})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/Warning ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../core/Collection ./Symbol ./Symbol3DLayer ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ../core/collectionUtils ../portal/Portal ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G){const I={icon:H,object:y,line:E,path:x,fill:F,extrude:B,text:z,water:D};b=g.ofType({base:t,key:"type",typeMap:I,errorContext:"symbol-layer"});const O=l.getLogger("esri.symbols.Symbol3D");l=function(L){function N(K){K=L.call(this,K)||this;K.styleOrigin=null;K.thumbnail=null;K.type=null;const U=K.__accessor__&&K.__accessor__.metadatas&&K.__accessor__.metadatas.symbolLayers;K._set("symbolLayers",new (U&&U.type||g));return K}a._inheritsLoose(N,
L);var R=N.prototype;R.readStyleOrigin=function(K,U,P){if(K.styleUrl&&K.name)return U=d.fromJSON(K.styleUrl,P),new v({styleUrl:U,name:K.name});if(K.styleName&&K.name)return new v({portal:P&&P.portal||A.getDefault(),styleName:K.styleName,name:K.name});P&&P.messages&&P.messages.push(new r("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:P,definition:K}))};R.writeStyleOrigin=function(K,U,P,J){K.styleUrl&&K.name?(P=d.toJSON(K.styleUrl,
J),n.isAbsolute(P)&&(P=n.normalize(P)),U.styleOrigin={styleUrl:P,name:K.name}):K.styleName&&K.name&&(K.portal&&J&&J.portal&&!n.hasSamePortal(K.portal.restUrl,J.portal.restUrl)?J&&J.messages&&J.messages.push(new r("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):U.styleOrigin={styleName:K.styleName,name:K.name})};R.normalizeCtorArgs=function(K){return K instanceof t||K&&I[K.type]?{symbolLayers:[K]}:
Array.isArray(K)?{symbolLayers:K}:K};a._createClass(N,[{key:"color",get:function(){return null},set:function(K){O.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(K){C.referenceSetter(K,this._get("symbolLayers"))}}]);return N}(u);c.__decorate([m.property({json:{read:!1,write:!1}})],l.prototype,"color",null);c.__decorate([m.property({type:b,nonNullable:!0,json:{write:!0}}),f.cast(C.castForReferenceSetter)],
l.prototype,"symbolLayers",null);c.__decorate([m.property({type:v})],l.prototype,"styleOrigin",void 0);c.__decorate([k.reader("styleOrigin")],l.prototype,"readStyleOrigin",null);c.__decorate([w.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],l.prototype,"writeStyleOrigin",null);c.__decorate([m.property({type:G["default"],json:{read:!1}})],l.prototype,"thumbnail",void 0);c.__decorate([m.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],l.prototype,"type",void 0);return l=c.__decorate([p.subclass("esri.symbols.Symbol3D")],l)})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../portal/Portal".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(){var u=d.apply(this,arguments)||this;u.portal=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return g}(n);c.__decorate([f.property({type:String})],b.prototype,"name",void 0);c.__decorate([f.property({type:String})],b.prototype,"styleUrl",void 0);c.__decorate([f.property({type:String})],b.prototype,"styleName",void 0);
c.__decorate([f.property({type:q})],b.prototype,"portal",void 0);return b=h=c.__decorate([k.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.Thumbnail=h=function(d){function g(){return d.apply(this,arguments)||this}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({url:this.url})};return g}(q);b.__decorate([e.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=h=b.__decorate([r.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);a.default=a.Thumbnail;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color ../symbols/support/materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;a.LineCallout3DBorder$2=u=function(t){function B(){var F=t.apply(this,arguments)||this;F.color=new d("white");return F}c._inheritsLoose(B,t);B.prototype.clone=function(){return new u({color:m.clone(this.color)})};return B}(h.JSONSupport);b.__decorate([k.property(g.colorAndTransparencyProperty)],a.LineCallout3DBorder$2.prototype,"color",void 0);a.LineCallout3DBorder$2=u=b.__decorate([p.subclass("esri.symbols.callouts.LineCallout3DBorder")],a.LineCallout3DBorder$2);
b=a.LineCallout3DBorder$2;l=Object.freeze({__proto__:null,get LineCallout3DBorder(){return a.LineCallout3DBorder$2},"default":b});a.LineCallout3DBorder=l;a.LineCallout3DBorder$1=b})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../Color ../../core/screenUtils ../support/materialUtils ./Callout3D ../../chunks/LineCallout3DBorder".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=B=function(F){function H(C){C=F.call(this,C)||this;C.type="line";C.color=new h([0,0,0,1]);C.size=d.px2pt(1);C.border=null;return C}a._inheritsLoose(H,F);H.prototype.clone=function(){return new B({color:l.clone(this.color),size:this.size,border:l.clone(this.border)})};a._createClass(H,[{key:"visible",get:function(){return 0<this.size&&m.isSome(this.color)&&0<this.color.a}}]);return H}(u);c.__decorate([r.enumeration({line:"line"},{readOnly:!0})],
b.prototype,"type",void 0);c.__decorate([k.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);c.__decorate([k.property(g.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([k.property({type:t.LineCallout3DBorder$1,json:{write:!0}})],b.prototype,"border",void 0);c.__decorate([k.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=B=c.__decorate([p.subclass("esri.symbols.callouts.LineCallout3D")],b)})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.visible=!0;return d}a._inheritsLoose(h,q);h.prototype.clone=function(){};return h}(n.JSONSupport);c.__decorate([f.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);c.__decorate([f.property({readOnly:!0})],b.prototype,"visible",void 0);return b=c.__decorate([k.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./materialUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;a.Symbol3DVerticalOffset=d=function(g){function u(){var t=g.apply(this,arguments)||this;t.screenLength=0;t.minWorldLength=0;return t}c._inheritsLoose(u,g);u.prototype.clone=function(){return new d({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return u}(q.JSONSupport);b.__decorate([e.property(h.screenSizeProperty)],a.Symbol3DVerticalOffset.prototype,"screenLength",void 0);b.__decorate([e.property({type:Number,
json:{write:!0,default:0}})],a.Symbol3DVerticalOffset.prototype,"minWorldLength",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],a.Symbol3DVerticalOffset.prototype,"maxWorldLength",void 0);a.Symbol3DVerticalOffset=d=b.__decorate([r.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a.Symbol3DVerticalOffset);a.default=a.Symbol3DVerticalOffset;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./TextSymbol3DLayer ./Symbol3D ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;const B=q.ofType({base:null,key:"type",typeMap:{text:h}});b=t=function(F){function H(A){A=F.call(this,A)||this;A.verticalOffset=null;A.callout=null;A.styleOrigin=null;A.symbolLayers=new B;A.type="label-3d";return A}a._inheritsLoose(H,F);var C=H.prototype;C.supportsCallout=function(){return!0};C.hasVisibleCallout=function(){return g.hasVisibleCallout(this)};C.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)};C.clone=function(){return new t({styleOrigin:l.clone(this.styleOrigin),
symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail),callout:l.clone(this.callout),verticalOffset:l.clone(this.verticalOffset)})};H.fromTextSymbol=function(A){return new t({symbolLayers:[h.fromTextSymbol(A)]})};return H}(d);c.__decorate([e.property({type:u["default"],json:{write:!0}})],b.prototype,"verticalOffset",void 0);c.__decorate([e.property(g.calloutProperty)],b.prototype,"callout",void 0);c.__decorate([e.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);
c.__decorate([e.property({type:B})],b.prototype,"symbolLayers",void 0);c.__decorate([k.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],b.prototype,"type",void 0);return b=t=c.__decorate([r.subclass("esri.symbols.LabelSymbol3D")],b)})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,c,b){function l(m){if(!m)return!1;m=m.verticalOffset;return!m||0>=m.screenLength||0>=m.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:c,
typeMap:{line:b}},json:{write:!0}};a.hasVisibleCallout=function(m){if(!m||!m.supportsCallout||!m.supportsCallout())return!1;const f=m.callout;return f&&f.visible?l(m)?!0:!1:!1};a.hasVisibleVerticalOffset=l;a.isCalloutSupport=function(m){return"point-3d"===m.type||"label-3d"===m.type};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;const t=q.ofType({base:null,key:"type",typeMap:{line:h,path:d}});b=q.ofType({base:null,key:"type",typeMap:{line:h,path:d}});g=u=function(B){function F(H){H=B.call(this,H)||this;H.symbolLayers=new t;H.type="line-3d";return H}a._inheritsLoose(F,B);F.prototype.clone=function(){return new u({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};F.fromSimpleLineSymbol=function(H){return new u({symbolLayers:[h.fromSimpleLineSymbol(H)]})};
return F}(g);c.__decorate([e.property({type:t,json:{type:b}})],g.prototype,"symbolLayers",void 0);c.__decorate([k.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],g.prototype,"type",void 0);return g=u=c.__decorate([r.subclass("esri.symbols.LineSymbol3D")],g)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ../core/screenUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.angle=0;g.type=null;g.xoffset=0;g.yoffset=0;g.size=9;return g}a._inheritsLoose(d,h);d.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return d}(n);c.__decorate([f.property({type:Number,json:{read:h=>h&&-1*h,write:(h,d)=>d.angle=h&&-1*h}})],b.prototype,"angle",void 0);c.__decorate([f.property({type:["simple-marker","picture-marker"],readOnly:!0})],b.prototype,
"type",void 0);c.__decorate([f.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([f.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([f.property({type:Number,cast:h=>"auto"===h?h:q.toPt(h),json:{write:!0}})],b.prototype,"size",void 0);return b=c.__decorate([k.subclass("esri.symbols.MarkerSymbol")],b)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;const u=q.ofType({base:null,key:"type",typeMap:{fill:h}});b=g=function(t){function B(F){F=t.call(this,F)||this;F.symbolLayers=new u;F.type="mesh-3d";return F}a._inheritsLoose(B,t);B.prototype.clone=function(){return new g({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};return B}(d);c.__decorate([e.property({type:u})],b.prototype,"symbolLayers",void 0);c.__decorate([k.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],b.prototype,"type",void 0);return b=g=c.__decorate([r.subclass("esri.symbols.MeshSymbol3D")],b)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./FillSymbol ./support/urlUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(...F){F=u.call(this,...F)||this;F.type="picture-fill";F.url=null;F.xscale=1;F.yscale=1;F.width=12;F.height=12;F.xoffset=0;F.yoffset=0;F.source=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.normalizeCtorArgs=function(F,H,C,A){if(F&&"string"!==typeof F&&null==F.imageData)return F;const E={};F&&(E.url=F);H&&(E.outline=H);null!=C&&(E.width=q.toPt(C));null!=A&&(E.height=q.toPt(A));return E};B.clone=function(){const F=new g({color:l.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});F._set("source",l.clone(this.source));return F};B.hash=function(){var F;return`${u.prototype.hash.call(this)}.${null==(F=this.color)?void 0:F.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return t}(h);c.__decorate([k.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],
b.prototype,"type",void 0);c.__decorate([e.property(d.urlPropertyDefinition)],b.prototype,"url",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0);c.__decorate([e.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([e.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([e.property({type:Number,
cast:q.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([e.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([e.property(d.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=g=c.__decorate([r.subclass("esri.symbols.PictureFillSymbol")],b)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,c,b){function l(k,r,p){return r.imageData?c.makeData({mediaType:r.contentType||
"image/png",isBase64:!0,data:r.imageData}):m(r.url,p)}function m(k,r){return!r||"service"!==r.origin&&"portal-item"!==r.origin||!r.layer||"feature"!==r.layer.type&&"stream"!==r.layer.type||c.isAbsolute(k)||!r.layer.parsedUrl?b.fromJSON(k,r):c.join(r.layer.parsedUrl.path,"images",k)}function f(k,r,p,w){c.isDataProtocol(k)?(k=c.dataComponents(k),r.contentType=k.mediaType,r.imageData=k.data,p&&p.imageData===r.imageData&&p.url&&b.write(p.url,r,"url",w)):b.write(k,r,"url",w)}const e={json:{read:{source:["imageData",
"url"],reader:l},write:{writer(k,r,p,w){f(k,r,this.source,w)}}}};a.read=m;a.readImageDataOrUrl=l;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(k,r,p){k={};r.imageData&&(k.imageData=r.imageData);r.contentType&&(k.contentType=r.contentType);r.url&&(k.url=m(r.url,p));return k}}}};a.urlPropertyDefinition=e;a.writeImageDataAndUrl=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(t){function B(...H){H=t.call(this,...H)||this;H.color=null;H.type="picture-marker";H.url=null;H.source=null;H.height=12;H.width=12;H.size=null;return H}a._inheritsLoose(B,t);var F=B.prototype;F.normalizeCtorArgs=function(H,C,A){if(H&&"string"!==typeof H&&null==H.imageData)return H;const E={};H&&(E.url=H);null!=C&&(E.width=h.toPt(C));null!=A&&(E.height=h.toPt(A));return E};F.readHeight=function(H,C){return C.size||H};F.readWidth=function(H,
C){return C.size||H};F.clone=function(){const H=new u({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});H._set("source",l.clone(this.source));return H};F.hash=function(){return`${t.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return B}(d);c.__decorate([e.property({json:{write:!1}})],b.prototype,"color",void 0);c.__decorate([k.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property(g.urlPropertyDefinition)],
b.prototype,"url",void 0);c.__decorate([e.property(g.sourcePropertyDefinition)],b.prototype,"source",void 0);c.__decorate([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([r.reader("height",["height","size"])],b.prototype,"readHeight",null);c.__decorate([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([e.property({json:{write:!1}})],b.prototype,"size",void 0);return b=u=c.__decorate([p.subclass("esri.symbols.PictureMarkerSymbol")],
b)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ./Symbol3D ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){var C;const A=d.ofType({base:null,key:"type",typeMap:{icon:g,object:u,text:t}});b=d.ofType({base:null,key:"type",typeMap:{icon:g,object:u}});B=C=function(E){function y(z){z=E.call(this,z)||this;z.verticalOffset=null;z.callout=null;z.symbolLayers=new A;z.type="point-3d";return z}a._inheritsLoose(y,E);var x=y.prototype;x.writeSymbolLayers=function(z,D,v,G){const I=z.filter(O=>"text"!==O.type);G&&G.messages&&I.length<z.length&&(z=z.find(O=>"text"===
O.type),G.messages.push(new w("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:z})));D[v]=I.map(O=>O.write({},G)).toArray()};x.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const z of this.symbolLayers.items)switch(z.type){case "icon":case "text":case "object":continue;default:return!1}return!0};x.hasVisibleCallout=function(){return F.hasVisibleCallout(this)};x.hasVisibleVerticalOffset=function(){return F.hasVisibleVerticalOffset(this)};
x.clone=function(){return new C({verticalOffset:l.clone(this.verticalOffset),callout:l.clone(this.callout),styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};y.fromSimpleMarkerSymbol=function(z){return new C({symbolLayers:[g.fromSimpleMarkerSymbol(z)]})};y.fromPictureMarkerSymbol=function(z){return new C({symbolLayers:[g.fromPictureMarkerSymbol(z)]})};y.fromCIMSymbol=function(z){return new C({symbolLayers:[g.fromCIMSymbol(z)],callout:{type:"line",
size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};y.fromTextSymbol=function(z){return new C({symbolLayers:[t.fromTextSymbol(z)]})};return y}(B);c.__decorate([e.property({type:H["default"],json:{write:!0}})],B.prototype,"verticalOffset",void 0);c.__decorate([e.property(F.calloutProperty)],B.prototype,"callout",void 0);c.__decorate([e.property({type:A,json:{type:b,origins:{"web-scene":{type:b}}}})],B.prototype,"symbolLayers",void 0);c.__decorate([p.writer("web-scene","symbolLayers")],B.prototype,
"writeSymbolLayers",null);c.__decorate([k.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],B.prototype,"type",void 0);return B=C=c.__decorate([r.subclass("esri.symbols.PointSymbol3D")],B)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){var y;b=g.ofType({base:null,key:"type",typeMap:{extrude:u,fill:t,icon:B,line:F,object:H,text:C,water:A}});g=g.ofType({base:null,key:"type",typeMap:{extrude:u,fill:t,icon:B,line:F,object:H,water:A}});E=y=function(x){function z(v){v=x.call(this,v)||this;v.type="polygon-3d";return v}a._inheritsLoose(z,x);var D=z.prototype;D.writeSymbolLayers=function(v,G,I,O){const L=v.filter(N=>"text"!==N.type);O&&O.messages&&L.length<v.length&&(v=v.find(N=>
"text"===N.type),O.messages.push(new n("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:v})));G[I]=L.map(N=>N.write({},O)).toArray()};D.clone=function(){return new y({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};z.fromJSON=function(v){const G=new y;G.read(v);if(2===G.symbolLayers.length&&"fill"===G.symbolLayers.getItemAt(0).type&&"line"===G.symbolLayers.getItemAt(1).type){const I=
G.symbolLayers.getItemAt(0),O=G.symbolLayers.getItemAt(1);!O.enabled||v.symbolLayers&&v.symbolLayers[1]&&!1===v.symbolLayers[1].enable||(I.outline={size:O.size,color:m.isSome(O.material)?O.material.color:null});G.symbolLayers.removeAt(1)}return G};z.fromSimpleFillSymbol=function(v){return new y({symbolLayers:[t.fromSimpleFillSymbol(v)]})};return z}(E);c.__decorate([k.property({type:b,json:{type:g}})],E.prototype,"symbolLayers",void 0);c.__decorate([w.writer("web-scene","symbolLayers")],E.prototype,
"writeSymbolLayers",null);c.__decorate([r.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],E.prototype,"type",void 0);return E=y=c.__decorate([p.subclass("esri.symbols.PolygonSymbol3D")],E)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./SimpleLineSymbol ./FillSymbol".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=new k.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});g=u=function(t){function B(...H){H=t.call(this,...H)||this;H.color=new h([0,0,0,.25]);H.outline=new d;H.type="simple-fill";H.style="solid";return H}a._inheritsLoose(B,t);var F=B.prototype;F.normalizeCtorArgs=
function(H,C,A){if(H&&"string"!==typeof H)return H;const E={};H&&(E.style=H);C&&(E.outline=C);A&&(E.color=A);return E};F.clone=function(){return new u({color:l.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};F.hash=function(){return`${t.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return B}(g);c.__decorate([e.property()],g.prototype,"color",void 0);c.__decorate([e.property()],g.prototype,"outline",void 0);c.__decorate([r.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],g.prototype,"type",void 0);c.__decorate([e.property({type:b.apiValues,json:{read:b.read,write:b.write}})],g.prototype,"style",void 0);return g=u=c.__decorate([p.subclass("esri.symbols.SimpleFillSymbol")],g)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ../core/screenUtils ./SimpleLineSymbol ./MarkerSymbol".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=new k.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});t=B=function(F){function H(...A){A=F.call(this,...A)||this;A.color=new d([255,255,255,.25]);A.type="simple-marker";A.size=12;A.style="circle";A.outline=new u;return A}a._inheritsLoose(H,F);var C=H.prototype;C.normalizeCtorArgs=function(A,E,y,x){if(A&&"string"!==typeof A)return A;
const z={};A&&(z.style=A);null!=E&&(z.size=g.toPt(E));y&&(z.outline=y);x&&(z.color=x);return z};C.writeColor=function(A,E){A&&"x"!==this.style&&"cross"!==this.style&&(E.color=A.toJSON());null===A&&(E.color=null)};C.clone=function(){return new B({angle:this.angle,color:l.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};C.hash=function(){var A;return`${F.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==
(A=this.outline)?void 0:A.hash()}`};a._createClass(H,[{key:"path",set:function(A){this.style="path";this._set("path",A)}}]);return H}(t);c.__decorate([e.property()],t.prototype,"color",void 0);c.__decorate([w.writer("color")],t.prototype,"writeColor",null);c.__decorate([r.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],t.prototype,"type",void 0);c.__decorate([e.property()],t.prototype,"size",void 0);c.__decorate([e.property({type:b.apiValues,json:{read:b.read,write:b.write}})],t.prototype,"style",
void 0);c.__decorate([e.property({type:String,json:{write:!0}})],t.prototype,"path",null);c.__decorate([e.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":u}},json:{default:null,write:!0}})],t.prototype,"outline",void 0);return t=B=c.__decorate([p.subclass("esri.symbols.SimpleMarkerSymbol")],t)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol ../core/screenUtils ./Font".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;b=t=function(B){function F(...C){C=B.call(this,...C)||this;C.backgroundColor=null;C.borderLineColor=null;C.borderLineSize=null;C.font=new u;C.horizontalAlignment="center";C.kerning=!0;C.haloColor=null;C.haloSize=null;C.rightToLeft=null;C.rotated=!1;C.text="";C.type="text";C.verticalAlignment=null;C.xoffset=0;C.yoffset=0;C.angle=0;C.width=null;C.lineWidth=192;C.lineHeight=1;return C}a._inheritsLoose(F,B);var H=F.prototype;H.normalizeCtorArgs=function(C,
A,E){if(C&&"string"!==typeof C)return C;const y={};C&&(y.text=C);A&&(y.font=A);E&&(y.color=E);return y};H.writeLineWidth=function(C,A,E,y){y&&"string"!==typeof y||(A[E]=C)};H.castLineWidth=function(C){return g.toPt(C)};H.writeLineHeight=function(C,A,E,y){y&&"string"!==typeof y||(A[E]=C)};H.clone=function(){return new t({angle:this.angle,backgroundColor:l.clone(this.backgroundColor),borderLineColor:l.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:l.clone(this.color),font:this.font&&
this.font.clone(),haloColor:l.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};H.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return F}(d);c.__decorate([f.property({type:h,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([f.property({type:h,json:{write:!0}})],b.prototype,"borderLineColor",void 0);c.__decorate([f.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);c.__decorate([f.property({type:u,json:{write:!0}})],b.prototype,"font",void 0);c.__decorate([f.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);c.__decorate([f.property({type:h,json:{write:!0}})],b.prototype,"haloColor",void 0);c.__decorate([f.property({type:Number,cast:g.toPt,json:{write:!0}})],
b.prototype,"haloSize",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([k.enumeration({esriTS:"text"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([f.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",
void 0);c.__decorate([f.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([f.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([f.property({type:Number,json:{read:B=>B&&-1*B,write:(B,F)=>F.angle=B&&-1*B}})],b.prototype,"angle",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([f.property({type:Number})],b.prototype,"lineWidth",void 0);c.__decorate([p.writer("lineWidth")],
b.prototype,"writeLineWidth",null);c.__decorate([e.cast("lineWidth")],b.prototype,"castLineWidth",null);c.__decorate([f.property({type:Number})],b.prototype,"lineHeight",void 0);c.__decorate([p.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=t=c.__decorate([r.subclass("esri.symbols.TextSymbol")],b)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../core/promiseUtils ./Symbol ../portal/Portal ./support/Thumbnail".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){function t(){return new Promise(function(H,C){a(["./support/styleUtils"],H,C)})}var B;const F=m.getLogger("esri.symbols.WebStyleSymbol");l=B=function(H){function C(E){E=H.call(this,E)||this;E.styleName=null;E.portal=null;E.styleUrl=null;E.thumbnail=null;E.name=null;E.type="web-style";return E}c._inheritsLoose(C,H);var A=C.prototype;A.read=function(E,y){this.portal=y?y.portal:void 0;H.prototype.read.call(this,E,y)};A.clone=function(){return new B({name:this.name,
styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};A.fetchSymbol=function(E){return this._fetchSymbol("webRef",E)};A.fetchCIMSymbol=function(E){return this._fetchSymbol("cimRef",E)};A._fetchSymbol=async function(E,y){const x=await t();h.throwIfAborted(y);E=x.resolveWebStyleSymbol(this,{portal:this.portal},E,y);E.catch(z=>{F.error("#fetchSymbol()","Failed to create symbol from style",z)});return E};return C}(d);b.__decorate([e.property({json:{write:!1}})],l.prototype,"color",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],l.prototype,"styleName",void 0);b.__decorate([e.property({type:g,json:{write:!1}})],l.prototype,"portal",void 0);b.__decorate([e.property({type:String,json:{read:q.read,write:q.write}})],l.prototype,"styleUrl",void 0);b.__decorate([e.property({type:u["default"],json:{read:!1}})],l.prototype,"thumbnail",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],l.prototype,"name",void 0);b.__decorate([k.enumeration({styleSymbolReference:"web-style"},
{readOnly:!0})],l.prototype,"type",void 0);return l=B=b.__decorate([r.subclass("esri.symbols.WebStyleSymbol")],l)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/AuthoringInfo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=new e.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});n=function(h){function d(u){u=h.call(this,u)||this;u.authoringInfo=null;u.type=null;return u}a._inheritsLoose(d,h);var g=d.prototype;g.getRequiredFields=async function(u){if(!this.collectRequiredFields)return[];const t=new Set;await this.collectRequiredFields(t,u);return Array.from(t).sort()};
g.getSymbol=function(u,t){};g.getSymbolAsync=async function(u,t){};g.getSymbols=function(){return[]};g.getAttributeHash=function(){return JSON.stringify(this)};g.getMeshHash=function(){return JSON.stringify(this)};return d}(n.JSONSupport);c.__decorate([f.property({type:q,json:{write:!0}})],n.prototype,"authoringInfo",void 0);c.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],n.prototype,"type",void 0);return n=c.__decorate([k.subclass("esri.renderers.Renderer")],
n)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;b=new k.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"});k=new k.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});
m="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");h=t=function(B){function F(C){C=B.call(this,C)||this;C.colorRamp=null;C.lengthUnit=null;C.maxSliderValue=null;C.minSliderValue=null;C.visualVariables=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H.readColorRamp=function(C){if(C)return u.fromJSON(C)};H.clone=function(){return new t({classificationMethod:this.classificationMethod,colorRamp:l.clone(this.colorRamp),fields:this.fields&&
this.fields.slice(0),field1:l.clone(this.field1),field2:l.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(C=>C.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})};a._createClass(F,[{key:"classificationMethod",
get:function(){const C=this._get("classificationMethod"),A=this.type;return A&&"relationship"!==A?"class-breaks-size"===A||"class-breaks-color"===A?C||"manual":null:C},set:function(C){this._set("classificationMethod",C)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(C){this._set("fields",C)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(C){this._set("field1",C)}},
{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(C){this._set("field2",C)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(C){this._set("focus",C)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(C){this._set("numClasses",C)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&
"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(C){this._set("statistics",C)}},{key:"standardDeviationInterval",get:function(){const C=this.type;return C&&"relationship"!==C&&"class-breaks-size"!==C&&"class-breaks-color"!==C?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(C){this._set("standardDeviationInterval",C)}},{key:"type",get:function(){return this._get("type")},set:function(C){let A=
C;"classed-size"===C?A="class-breaks-size":"classed-color"===C&&(A="class-breaks-color");this._set("type",A)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(C){this._set("univariateSymbolStyle",C)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(C){this._set("univariateTheme",C)}}]);
return F}(h.JSONSupport);c.__decorate([e.property({type:b.apiValues,value:null,dependsOn:["type"],json:{type:b.jsonValues,read:b.read,write:b.write,origins:{"web-document":{default:"manual",type:b.jsonValues,read:b.read,write:b.write}}}})],h.prototype,"classificationMethod",null);c.__decorate([e.property({types:u.types,json:{write:!0}})],h.prototype,"colorRamp",void 0);c.__decorate([r.reader("colorRamp")],h.prototype,"readColorRamp",null);c.__decorate([e.property({type:[String],value:null,dependsOn:["type"],
json:{write:!0}})],h.prototype,"fields",null);c.__decorate([e.property({type:d["default"],value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"field1",null);c.__decorate([e.property({type:d["default"],value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"field2",null);c.__decorate([e.property({type:["HH","HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],h.prototype,"focus",null);c.__decorate([e.property({type:Number,value:null,dependsOn:["type"],json:{type:f.Integer,
write:!0}})],h.prototype,"numClasses",null);c.__decorate([e.property({type:m,json:{type:m,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],h.prototype,"lengthUnit",void 0);c.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"maxSliderValue",void 0);c.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"minSliderValue",void 0);c.__decorate([e.property({type:Object,value:null,
dependsOn:["type","univariateTheme"],json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"statistics",null);c.__decorate([e.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],h.prototype,"standardDeviationInterval",null);c.__decorate([e.property({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write}})],h.prototype,"type",null);c.__decorate([e.property({type:[g],json:{write:!0}})],h.prototype,
"visualVariables",void 0);c.__decorate([e.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,dependsOn:["type","univariateTheme"],json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"univariateSymbolStyle",null);c.__decorate([e.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"univariateTheme",
null);return h=t=c.__decorate([p.subclass("esri.renderers.support.AuthoringInfo")],h)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./AuthoringInfoClassBreakInfo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;a.AuthoringInfoFieldInfo=g=function(u){function t(B){B=u.call(this,B)||this;B.field="";B.normalizationField="";B.label="";B.classBreakInfos=[];return B}c._inheritsLoose(t,u);t.prototype.clone=function(){return new g({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:m.clone(this.classBreakInfos)})};return t}(h.JSONSupport);b.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"field",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([k.property({type:[d["default"]],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=g=b.__decorate([p.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);a.default=
a.AuthoringInfoFieldInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.AuthoringInfoClassBreakInfo=h=function(d){function g(u){u=d.call(this,u)||this;u.minValue=0;u.maxValue=0;return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({minValue:this.minValue,maxValue:this.maxValue})};return g}(q.JSONSupport);b.__decorate([e.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,
"maxValue",void 0);a.AuthoringInfoClassBreakInfo=h=b.__decorate([r.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],a.AuthoringInfoClassBreakInfo);a.default=a.AuthoringInfoClassBreakInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=new e.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});e=new e.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});l={key(d){return"number"===typeof d?"number":"string"},typeMap:{number:Number,string:String},base:null};const h=["high-to-low","above-and-below","centered-on","extremes"];r=[...new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" "))];
p="seconds minutes hours days months years".split(" ");n=q=function(d){function g(t){t=d.call(this,t)||this;t.endTime=null;t.field=null;t.maxSliderValue=null;t.minSliderValue=null;t.startTime=null;t.type=null;t.units=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.castEndTime=function(t){return"string"===typeof t||"number"===typeof t?t:null};u.castStartTime=function(t){return"string"===typeof t||"number"===typeof t?t:null};u.clone=function(){return new q({endTime:this.endTime,field:this.field,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(g,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(t){this._set("style",t)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(t){this._set("theme",t)}}]);return g}(n.JSONSupport);c.__decorate([m.property({types:l,
json:{write:!0}})],n.prototype,"endTime",void 0);c.__decorate([f.cast("endTime")],n.prototype,"castEndTime",null);c.__decorate([m.property({type:String,json:{write:!0}})],n.prototype,"field",void 0);c.__decorate([m.property({type:Number,json:{write:!0}})],n.prototype,"maxSliderValue",void 0);c.__decorate([m.property({type:Number,json:{write:!0}})],n.prototype,"minSliderValue",void 0);c.__decorate([m.property({types:l,json:{write:!0}})],n.prototype,"startTime",void 0);c.__decorate([f.cast("startTime")],
n.prototype,"castStartTime",null);c.__decorate([m.property({type:b.apiValues,value:null,dependsOn:["type"],json:{type:b.jsonValues,read:b.read,write:b.write}})],n.prototype,"style",null);c.__decorate([m.property({type:r,value:null,dependsOn:["type"],json:{type:r,origins:{"web-scene":{type:h,write:{writer:(d,g)=>{-1<h.indexOf(d)&&(g.theme=d)}}}},write:!0}})],n.prototype,"theme",null);c.__decorate([m.property({type:e.apiValues,json:{type:e.jsonValues,read:e.read,write:e.write}})],n.prototype,"type",
void 0);c.__decorate([m.property({type:p,json:{type:p,write:!0}})],n.prototype,"units",void 0);return n=q=c.__decorate([k.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],n)})},"esri/tasks/support/colorRamps":function(){define(["exports","./ColorRamp","./AlgorithmicColorRamp","./MultipartColorRamp"],function(a,c,b,l){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:l}};a.fromJSON=function(m){return m&&m.type?"algorithmic"===m.type?b.fromJSON(m):"multipart"===m.type?l.fromJSON(m):
null:null};a.types=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,l,m,f,e,
k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.type=null;return d}a._inheritsLoose(h,q);return h}(n.JSONSupport);c.__decorate([f.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.tasks.support.ColorRamp")],b)})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../Color ./ColorRamp".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.algorithm=null;t.fromColor=null;t.toColor=null;t.type="algorithmic";return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({fromColor:l.clone(this.fromColor),toColor:l.clone(this.toColor),algorithm:this.algorithm})};return u}(h);c.__decorate([k.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);c.__decorate([e.property({type:q,
json:{type:[f.Integer],write:!0}})],b.prototype,"fromColor",void 0);c.__decorate([e.property({type:q,json:{type:[f.Integer],write:!0}})],b.prototype,"toColor",void 0);c.__decorate([e.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=d=c.__decorate([r.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)})},"esri/tasks/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ColorRamp ./AlgorithmicColorRamp".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.colorRamps=null;t.type="multipart";return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({colorRamps:l.clone(this.colorRamps)})};return u}(q);c.__decorate([e.property({type:[h],json:{write:!0}})],b.prototype,"colorRamps",void 0);c.__decorate([e.property({type:["multipart"]})],b.prototype,"type",void 0);return b=d=c.__decorate([r.subclass("esri.tasks.support.MultipartColorRamp")],b)})},
"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../support/arcadeOnDemand ../layers/support/fieldUtils ../chunks/symbols ./support/LegendOptions ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x){var z;const D=f.getLogger("esri.renderers.ClassBreaksRenderer");b=new p.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const v=e.ensureType(y);A=z=function(G){function I(L){L=G.call(this,L)||this;L.backgroundFillSymbol=null;L.classBreakInfos=null;L.defaultLabel=null;L.defaultSymbol=null;L.field=null;L.isMaxInclusive=!0;L.legendOptions=null;L.normalizationField=null;L.normalizationTotal=
null;L.type="class-breaks";L.valueExpression=null;L.valueExpressionTitle=null;L._set("classBreakInfos",[]);return L}a._inheritsLoose(I,G);var O=I.prototype;O.readClassBreakInfos=function(L,N,R){if(Array.isArray(L)){var K=N.minValue;return L.map(U=>{const P=new y;P.read(U,R);null==P.minValue&&(P.minValue=K);null==P.maxValue&&(P.maxValue=P.minValue);K=P.maxValue;return P})}};O.writeClassBreakInfos=function(L,N,R,K){L=L.map(U=>U.write({},K));this._areClassBreaksConsecutive()&&L.forEach(U=>delete U.classMinValue);
N[R]=L};O.castField=function(L){return null==L?L:"function"===typeof L?(D.error(".field: field must be a string value"),null):e.ensureString(L)};O.addClassBreakInfo=function(L,N,R){let K=null;K="number"===typeof L?new y({minValue:L,maxValue:N,symbol:H.ensureType(R)}):v(l.clone(L));this.classBreakInfos.push(K);1===this.classBreakInfos.length&&this.notifyChange("minValue")};O.removeClassBreakInfo=function(L,N){const R=this.classBreakInfos.length;for(let K=0;K<R;K++){const U=[this.classBreakInfos[K].minValue,
this.classBreakInfos[K].maxValue];if(U[0]===L&&U[1]===N){this.classBreakInfos.splice(K,1);break}}};O.getBreakIndex=function(L,N){this.valueExpression&&(m.isNone(N)||m.isNone(N.arcade))&&D.warn("");return this.valueExpression?this._getBreakIndexForExpression(L,N):this._getBreakIndexForField(L)};O.getClassBreakInfo=async function(L,N){let R=N;this.valueExpression&&(m.isNone(N)||m.isNone(N.arcade))&&(R={...R,arcade:await B.loadArcade()});L=this.getBreakIndex(L,R);return-1!==L?this.classBreakInfos[L]:
null};O.getSymbol=function(L,N){if(this.valueExpression&&(m.isNone(N)||m.isNone(N.arcade)))D.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return L=this.getBreakIndex(L,N),-1<L?this.classBreakInfos[L].symbol:this.defaultSymbol};O.getSymbolAsync=async function(L,N){let R=N;this.valueExpression&&(m.isNone(N)||m.isNone(N.arcade))&&(R={...R,arcade:await B.loadArcade()});L=this.getBreakIndex(L,R);return-1<L?this.classBreakInfos[L].symbol:this.defaultSymbol};O.getSymbols=
function(){const L=[];this.classBreakInfos.forEach(N=>{N.symbol&&L.push(N.symbol)});this.defaultSymbol&&L.push(this.defaultSymbol);return L};O.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((L,N)=>L+N.getAttributeHash(),"")};O.getMeshHash=function(){const L=JSON.stringify(this.backgroundFillSymbol),N=JSON.stringify(this.defaultSymbol),R=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,K=this.classBreakInfos.reduce((U,P)=>U+P.getMeshHash(),
"");return`${L}.${N}.${K}.${R}.${this.field}.${this.valueExpression}`};O.clone=function(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:l.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,
normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:l.clone(this.visualVariables),legendOptions:l.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};O.collectRequiredFields=async function(L,N){L=[this.collectVVRequiredFields(L,N),this.collectSymbolFields(L,N)];await t.all(L)};O.collectSymbolFields=async function(L,N){const R=[...this.getSymbols().map(K=>K.collectRequiredFields(L,N)),F.collectArcadeFieldNames(L,
N,this.valueExpression)];F.collectField(L,N,this.field);F.collectField(L,N,this.normalizationField);await t.all(R)};O._getBreakIndexForExpression=function(L,N){const {viewingMode:R,scale:K,spatialReference:U,arcade:P}=m.unwrapOr(N,{});var J=this._cache.compiledFunc;N=m.unwrap(P).arcadeUtils;J||(J=N.createSyntaxTree(this.valueExpression),J=N.createFunction(J),this._cache.compiledFunc=J);L=N.executeFunction(J,N.createExecContext(L,N.getViewInfo({viewingMode:R,scale:K,spatialReference:U})));return this._getBreakIndexfromInfos(L)};
O._getBreakIndexForField=function(L){var N=L.attributes;L=this.normalizationType;let R=parseFloat(N[this.field]);if(L){const K=this.normalizationTotal;N=parseFloat(N[this.normalizationField]);if("log"===L)R=Math.log(R)*Math.LOG10E;else if("percent-of-total"===L&&!isNaN(K))R=R/K*100;else if("field"===L&&!isNaN(N)){if(isNaN(R)||isNaN(N))return-1;R/=N}}return this._getBreakIndexfromInfos(R)};O._getBreakIndexfromInfos=function(L){const N=this.isMaxInclusive;if(null!=L&&"number"===typeof L&&!isNaN(L))for(let R=
0;R<this.classBreakInfos.length;R++){const K=[this.classBreakInfos[R].minValue,this.classBreakInfos[R].maxValue];if(K[0]<=L&&(N?L<=K[1]:L<K[1]))return R}return-1};O._areClassBreaksConsecutive=function(){const L=this.classBreakInfos,N=L.length;for(let R=1;R<N;R++)if(L[R-1].maxValue!==L[R].minValue)return!1;return!0};a._createClass(I,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||
0}},{key:"normalizationType",get:function(){let L=this._get("normalizationType");const N=!!this.normalizationField,R=null!=this.normalizationTotal;if(N||R)L=N&&"field"||R&&"percent-of-total"||null,N&&R&&D.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===L||"percent-of-total"===L)L=null;return L},set:function(L){this._set("normalizationType",L)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return I}(E.VisualVariablesMixin(A));
c.__decorate([k.property({readOnly:!0,dependsOn:["valueExpression"]})],A.prototype,"_cache",null);c.__decorate([k.property(x.rendererBackgroundFillSymbolProperty)],A.prototype,"backgroundFillSymbol",void 0);c.__decorate([k.property({type:[y]})],A.prototype,"classBreakInfos",void 0);c.__decorate([n.reader("classBreakInfos")],A.prototype,"readClassBreakInfos",null);c.__decorate([h.writer("classBreakInfos")],A.prototype,"writeClassBreakInfos",null);c.__decorate([k.property({type:String,json:{write:!0}})],
A.prototype,"defaultLabel",void 0);c.__decorate([k.property(x.rendererSymbolProperty)],A.prototype,"defaultSymbol",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],A.prototype,"field",void 0);c.__decorate([r.cast("field")],A.prototype,"castField",null);c.__decorate([k.property({type:Boolean})],A.prototype,"isMaxInclusive",void 0);c.__decorate([k.property({type:C["default"],json:{write:!0}})],A.prototype,"legendOptions",void 0);c.__decorate([k.property({type:Number,readOnly:!0,value:null,
dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],A.prototype,"minValue",null);c.__decorate([k.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0);c.__decorate([k.property({type:Number,cast:G=>e.ensureNumber(G),json:{write:!0}})],A.prototype,"normalizationTotal",void 0);c.__decorate([k.property({type:b.apiValues,value:null,dependsOn:["normalizationField",
"normalizationTotal"],json:{type:b.jsonValues,read:b.read,write:b.write}})],A.prototype,"normalizationType",null);c.__decorate([w.enumeration({classBreaks:"class-breaks"})],A.prototype,"type",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],A.prototype,"valueExpressionTitle",void 0);return A=z=c.__decorate([q.subclass("esri.renderers.ClassBreaksRenderer")],A)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.LegendOptions=h=function(d){function g(){var u=d.apply(this,arguments)||this;u.title=null;return u}c._inheritsLoose(g,d);g.prototype.clone=function(){return new h({title:this.title})};return g}(q.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=h=b.__decorate([r.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);a.default=a.LegendOptions;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../layers/support/fieldUtils ../visualVariables/VisualVariable ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){const C={base:g,key:"type",typeMap:{opacity:t,color:u,rotation:B,size:F}};a.VisualVariablesMixin=A=>{A=function(E){function y(){var z=E.apply(this,arguments)||this;z._vvFactory=new H;return z}c._inheritsLoose(y,E);var x=y.prototype;x.readVisualVariables=function(z,D,v){return this._vvFactory.readVariables(z,D,v)};x.writeVisualVariables=function(z,D,v,G){D[v]=this._vvFactory.writeVariables(z,G)};x.hasVisualVariables=function(z,D){return z?!!this.getVisualVariablesForType(z,
D):!!(this.getVisualVariablesForType("size",D)||this.getVisualVariablesForType("color",D)||this.getVisualVariablesForType("opacity",D)||this.getVisualVariablesForType("rotation",D))};x.getVisualVariablesForType=function(z,D){var v=this.visualVariables;if(v&&(v=v.filter(G=>G.type===z&&("string"===typeof D?G.target===D:!1===D?!G.target:!0)),!v||0!==v.length))return v};x.collectVVRequiredFields=async function(z,D){let v=[];this.visualVariables&&(v=v.concat(this.visualVariables));for(const G of v)G&&
(G.field&&d.collectField(z,D,G.field),G.normalizationField&&d.collectField(z,D,G.normalizationField),G.valueExpression&&await d.collectArcadeFieldNames(z,D,G.valueExpression))};c._createClass(y,[{key:"visualVariables",set:function(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const z of this.visualVariables)if(z.arcadeRequired)return!0;return!1}}]);return y}(A);
b.__decorate([e.property({types:[C],value:null,json:{write:!0}})],A.prototype,"visualVariables",null);b.__decorate([r.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],A.prototype,"readVisualVariables",null);b.__decorate([w.writer("visualVariables")],A.prototype,"writeVisualVariables",null);return A=b.__decorate([p.subclass("esri.renderers.mixins.VisualVariablesMixin")],A)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./support/VisualVariableLegendOptions".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){const d=l.getLogger("esri.renderers.visualVariables.VisualVariable");b=new k.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});q=function(g){function u(B){B=g.call(this,B)||this;B.index=null;B.type=null;B.field=null;B.valueExpression=null;B.valueExpressionTitle=null;B.legendOptions=null;return B}a._inheritsLoose(u,g);var t=u.prototype;t.castField=function(B){return null==B?B:"function"===typeof B?(d.error(".field: field must be a string value"),
null):m.ensureString(B)};t.clone=function(){};t.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(u,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return u}(q.JSONSupport);c.__decorate([f.property()],q.prototype,"index",void 0);c.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],q.prototype,"type",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],q.prototype,"field",void 0);
c.__decorate([e.cast("field")],q.prototype,"castField",null);c.__decorate([f.property({type:String,json:{write:!0}})],q.prototype,"valueExpression",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],q.prototype,"valueExpressionTitle",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression"]})],q.prototype,"arcadeRequired",null);c.__decorate([f.property({type:h,json:{write:!0}})],q.prototype,"legendOptions",void 0);return q=c.__decorate([r.subclass("esri.renderers.visualVariables.VisualVariable")],
q)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../support/LegendOptions".split(" "),function(a,c,
b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(){var g=h.apply(this,arguments)||this;g.showLegend=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({title:this.title,showLegend:this.showLegend})};return d}(n["default"]);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);return b=q=c.__decorate([k.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./VisualVariable ./support/ColorStop".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.type="color";t.normalizationField=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.clone=function(){return new h({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${d.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(t=>t.value||0)};a._createClass(g,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(t){t&&Array.isArray(t)&&(t=t.filter(B=>!!B),t.sort((B,F)=>B.value-F.value));this._set("stops",t)}}]);return g}(n);c.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);c.__decorate([f.property({type:["color"],
json:{type:["colorInfo"]}})],b.prototype,"type",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);c.__decorate([f.property({type:[q],json:{write:!0}})],b.prototype,"stops",null);return b=h=c.__decorate([k.subclass("esri.renderers.visualVariables.ColorVariable")],b)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../Color".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(B){B=g.call(this,B)||this;B.color=null;B.label=null;B.value=null;return B}a._inheritsLoose(u,g);var t=u.prototype;t.writeValue=function(B,F,H){F[H]=null==B?0:B};t.clone=function(){return new d({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return u}(q.JSONSupport);c.__decorate([f.property({type:h,json:{type:[m.Integer],write:!0}})],b.prototype,"color",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([f.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);c.__decorate([r.writer("value")],b.prototype,"writeValue",null);return b=d=c.__decorate([k.subclass("esri.renderers.visualVariables.support.ColorStop")],b)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./VisualVariable ./support/OpacityStop".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.type="opacity";t.normalizationField=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.clone=function(){return new h({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${d.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(t=>t.value||0)};a._createClass(g,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(t){t&&Array.isArray(t)&&(t=t.filter(B=>!!B),t.sort((B,F)=>B.value-F.value));this._set("stops",t)}}]);return g}(n);c.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);c.__decorate([f.property({type:["opacity"],
json:{type:["transparencyInfo"]}})],b.prototype,"type",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);c.__decorate([f.property({type:[q],json:{write:!0}})],b.prototype,"stops",null);return b=h=c.__decorate([k.subclass("esri.renderers.visualVariables.OpacityVariable")],b)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../webdoc/support/opacityUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(F){F=u.call(this,F)||this;F.label=null;F.opacity=null;F.value=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.readOpacity=function(F,H){return d.transparencyToOpacity(H.transparency)};B.writeOpacity=function(F,H,C){H[C]=d.opacityToTransparency(F)};B.clone=function(){return new g({label:this.label,opacity:this.opacity,value:this.value})};return t}(h.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([f.property({type:Number,json:{type:m.Integer,write:{target:"transparency"}}})],b.prototype,"opacity",void 0);c.__decorate([k.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);c.__decorate([p.writer("opacity")],b.prototype,"writeOpacity",null);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=g=c.__decorate([r.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./VisualVariable".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(B){B=g.call(this,B)||this;B.axis=null;B.type="rotation";B.rotationType="geographic";B.valueExpressionTitle=null;return B}a._inheritsLoose(u,g);var t=u.prototype;t.writeValueExpressionTitleWebScene=function(B,F,H,C){C&&C.messages&&C.messages.push(new p("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:C}))};t.clone=function(){return new d({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(u,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return u}(h);c.__decorate([f.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"cache",null);
c.__decorate([f.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],b.prototype,"axis",void 0);c.__decorate([f.property({type:["rotation"],json:{type:["rotationInfo"]}})],b.prototype,"type",void 0);c.__decorate([f.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],b.prototype,"rotationType",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",
void 0);c.__decorate([r.writer("web-scene","valueExpressionTitle")],b.prototype,"writeValueExpressionTitleWebScene",null);return b=d=c.__decorate([k.subclass("esri.renderers.visualVariables.RotationVariable")],b)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/screenUtils ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){function H(z){if(null!=z){if("string"===typeof z||"number"===typeof z)return d.toPt(z);if("size"===z.type){if(B.isSizeVariable(z))return z;z={...z};delete z.type;return new x(z)}}}function C(z,D,v){if("object"!==typeof z)return z;D=new x;D.read(z,v);return D}var A;const E=l.getLogger("esri.renderers.visualVariables.SizeVariable");b=new e.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"});const y=new e.JSONMap({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let x=A=function(z){function D(G){G=z.call(this,G)||this;G.axis=null;G.legendOptions=null;G.normalizationField=null;G.scaleBy=null;G.target=null;G.type="size";G.useSymbolValue=null;G.valueExpression=null;G.valueRepresentation=null;G.valueUnit=null;return G}a._inheritsLoose(D,
z);var v=D.prototype;v.castMaxSize=function(G){return H(G)};v.readMaxSize=function(G,I,O){return C(G,I,O)};v.castMinSize=function(G){return H(G)};v.readMinSize=function(G,I,O){return C(G,I,O)};v.readValueExpression=function(G,I){return G||I.expression&&"$view.scale"};v.writeValueExpressionWebScene=function(G,I,O,L){"$view.scale"===G?L&&L.messages&&(G=this.index,L.messages.push(new w("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof G?G:`visualVariables[${G}]`)+".valueExpression",context:L}))):I[O]=G};v.readValueUnit=function(G){return G?y.read(G):null};v.clone=function(){return new A({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:B.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:B.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(G=>G.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};v.flipSizes=function(){if("clamped-linear"===this.transformationType){const {minSize:G,maxSize:I}=this;this.minSize=I;this.maxSize=G;return this}if("stops"===this.transformationType){const G=this.stops,I=G.map(L=>
L.size).reverse(),O=G.length;for(let L=0;L<O;L++)G[L].size=I[L]}return this};v.getAttributeHash=function(){return`${z.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};v._interpolateData=function(){return this.stops&&this.stops.map(G=>G.value||0)};a._createClass(D,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:F.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(G){E.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");
"view.scale"===G?(this.valueExpression="$view.scale",this._set("expression",G)):this._set("expression",null)}},{key:"index",set:function(G){B.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${G}].maxSize`);B.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${G}].minSize`);this._set("index",G)}},{key:"inputValueType",get:function(){return B.getInputValueType(this)}},{key:"maxDataValue",set:function(G){G&&this.stops&&(E.warn("cannot set maxDataValue when stops is not null."),
G=null);this._set("maxDataValue",G)}},{key:"maxSize",set:function(G){G&&this.stops&&(E.warn("cannot set maxSize when stops is not null."),G=null);this._set("maxSize",G)}},{key:"minDataValue",set:function(G){G&&this.stops&&(E.warn("cannot set minDataValue when stops is not null."),G=null);this._set("minDataValue",G)}},{key:"minSize",set:function(G){G&&this.stops&&(E.warn("cannot set minSize when stops is not null."),G=null);this._set("minSize",G)}},{key:"arcadeRequired",get:function(){return this.valueExpression?
!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(G){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?G&&Array.isArray(G)&&(G=G.filter(I=>!!I),G.sort((I,O)=>I.value-O.value)):G&&(E.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),G=null);this._set("stops",G)}},{key:"transformationType",
get:function(){return B.getTransformationType(this,this.inputValueType)}}]);return D}(g);c.__decorate([m.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],x.prototype,"cache",null);c.__decorate([m.property({type:b.apiValues,json:{type:b.jsonValues,origins:{"web-map":{read:!1}},read:b.read,write:b.write}})],x.prototype,"axis",void 0);c.__decorate([m.property({type:String,value:null,json:{read:!1}})],x.prototype,"expression",null);c.__decorate([m.property()],x.prototype,"index",null);c.__decorate([m.property({type:String,
readOnly:!0,dependsOn:["field","valueExpression"]})],x.prototype,"inputValueType",null);c.__decorate([m.property({type:t,json:{write:!0}})],x.prototype,"legendOptions",void 0);c.__decorate([m.property({type:Number,value:null,json:{write:!0}})],x.prototype,"maxDataValue",null);c.__decorate([m.property({type:Number,value:null,json:{write:!0}})],x.prototype,"maxSize",null);c.__decorate([f.cast("maxSize")],x.prototype,"castMaxSize",null);c.__decorate([k.reader("maxSize")],x.prototype,"readMaxSize",null);
c.__decorate([m.property({type:Number,value:null,json:{write:!0}})],x.prototype,"minDataValue",null);c.__decorate([m.property({type:Number,value:null,json:{write:!0}})],x.prototype,"minSize",null);c.__decorate([f.cast("minSize")],x.prototype,"castMinSize",null);c.__decorate([k.reader("minSize")],x.prototype,"readMinSize",null);c.__decorate([m.property({type:String,json:{write:!0}})],x.prototype,"normalizationField",void 0);c.__decorate([m.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired",
"maxSize.arcadeRequired"]})],x.prototype,"arcadeRequired",null);c.__decorate([m.property({type:String})],x.prototype,"scaleBy",void 0);c.__decorate([m.property({type:[u],value:null,json:{write:!0}})],x.prototype,"stops",null);c.__decorate([m.property({type:["outline"],json:{write:!0}})],x.prototype,"target",void 0);c.__decorate([m.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],x.prototype,"transformationType",null);
c.__decorate([m.property({type:["size"],json:{type:["sizeInfo"]}})],x.prototype,"type",void 0);c.__decorate([m.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],x.prototype,"useSymbolValue",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],x.prototype,"valueExpression",void 0);c.__decorate([k.reader("valueExpression",["valueExpression","expression"])],x.prototype,"readValueExpression",null);c.__decorate([p.writer("web-scene","valueExpression")],x.prototype,"writeValueExpressionWebScene",
null);c.__decorate([m.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],x.prototype,"valueRepresentation",void 0);c.__decorate([m.property({type:y.apiValues,json:{write:y.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],x.prototype,"valueUnit",void 0);c.__decorate([k.reader("valueUnit")],x.prototype,"readValueUnit",null);return x=A=c.__decorate([r.subclass("esri.renderers.visualVariables.SizeVariable")],x)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../core/screenUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.label=null;u.size=null;u.value=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({label:this.label,size:this.size,value:this.value})};return g}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([f.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"size",void 0);c.__decorate([f.property({type:Number,
json:{write:!0}})],b.prototype,"value",void 0);return b=h=c.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./VisualVariableLegendOptions".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(){var g=h.apply(this,arguments)||this;g.customValues=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return d}(n);c.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"customValues",void 0);return b=q=c.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
b)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function c(b){return b.valueExpression?"expression":b.field&&"string"===typeof b.field?"field":"unknown"}a.getInputValueType=c;a.getTransformationType=function(b,l){return"unknown"===(l||c(b))?"constant":b.stops?"stops":null!=b.minSize&&null!=b.maxSize&&null!=b.minDataValue&&null!=b.maxDataValue?"clamped-linear":"unknown"===(b.valueUnit||"unknown")?null!=b.minSize&&null!=b.minDataValue?b.minSize&&
b.minDataValue?"proportional":"additive":"identity":"real-world-size"};a.isSizeVariable=function(b){return b&&"esri.renderers.visualVariables.SizeVariable"===b.declaredClass};a.isValidNumber=function(b){return null!=b&&!isNaN(b)&&isFinite(b)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../core/compilerUtils ../../../core/maybe ../../../core/Logger ../../../Color ../../../Graphic ./sizeVariableUtils ../../support/lengthUtils".split(" "),
function(a,c,b,l,m,f,e,k){function r(H,C,A){if(H="visualVariables"in H&&H.visualVariables?H.visualVariables.filter(I=>"color"===I.type)[0]:H)if("esri.renderers.visualVariables.ColorVariable"!==H.declaredClass)t.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var E="number"===typeof C,y=E?null:C,x=y&&y.attributes,z=E?C:null,D=H.field,{ipData:v,hasExpression:G}=H.cache;C=H.cache.compiledFunc;if(!D&&!G)return(A=H.stops)&&A[0]&&A[0].color;if("number"!==
typeof z)if(G){if(!b.isSome(A)||!b.isSome(A.arcade)){t.error("Use of arcade expressions requires an arcade context");return}z=A.arcade.arcadeUtils;D=z.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});y=z.createExecContext(y,D);C||(C=z.createSyntaxTree(H.valueExpression),C=z.createFunction(C),H.cache.compiledFunc=C);z=z.executeFunction(C,y)}else x&&(z=x[D]);y=H.normalizationField;x=x?parseFloat(x[y]):void 0;if(null!=z&&(!y||E||!isNaN(x)&&0!==x)&&(isNaN(x)||
E||(z/=x),E=u(z,v)))return x=E[0],y=E[1],A=x===y?H.stops[x].color:m.blendColors(H.stops[x].color,H.stops[y].color,E[2],b.isSome(A)?A.color:void 0),new m(A)}}function p(H,C,A){if(H="visualVariables"in H&&H.visualVariables?H.visualVariables.filter(I=>"opacity"===I.type)[0]:H)if("esri.renderers.visualVariables.OpacityVariable"!==H.declaredClass)t.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var E="number"===typeof C,y=E?null:C,x=y&&y.attributes,
z=E?C:null,D=H.field,{ipData:v,hasExpression:G}=H.cache;C=H.cache.compiledFunc;if(!D&&!G)return(H=H.stops)&&H[0]&&H[0].opacity;if("number"!==typeof z)if(G){if(b.isNone(A)||b.isNone(A.arcade)){t.error("Use of arcade expressions requires an arcade context");return}z=A.arcade.arcadeUtils;A=z.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=z.createExecContext(y,A);C||(y=z.createSyntaxTree(H.valueExpression),C=z.createFunction(y),H.cache.compiledFunc=C);z=z.executeFunction(C,
A)}else x&&(z=x[D]);A=H.normalizationField;x=x?parseFloat(x[A]):void 0;if(null!=z&&(!A||E||!isNaN(x)&&0!==x)&&(isNaN(x)||E||(z/=x),E=u(z,v))){A=E[0];x=E[1];if(A===x)return H.stops[A].opacity;A=H.stops[A].opacity;return A+(H.stops[x].opacity-A)*E[2]}}}function w(H,C,A){if(H="visualVariables"in H&&H.visualVariables?H.visualVariables.filter(I=>"rotation"===I.type)[0]:H)if("esri.renderers.visualVariables.RotationVariable"!==H.declaredClass)t.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var E=H.axis||"heading",y="heading"===E&&"arithmetic"===H.rotationType?90:0;E="heading"===E&&"arithmetic"===H.rotationType?-1:1;var x="number"===typeof C?null:C,z=x&&x.attributes,D=H.field,{hasExpression:v}=H.cache;C=H.cache.compiledFunc;var G=0;if(!D&&!v)return G;if(v){if(b.isNone(A)||b.isNone(A.arcade)){t.error("Use of arcade expressions requires an arcade context");return}z=A.arcade.arcadeUtils;A=z.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});
A=z.createExecContext(x,A);C||(C=z.createSyntaxTree(H.valueExpression),C=z.createFunction(C),H.cache.compiledFunc=C);G=z.executeFunction(C,A)}else z&&(G=z[D]||0);return G="number"!==typeof G||isNaN(G)?null:y+E*G}}function n(H,C,A){const E="number"===typeof C;var y=E?null:C;const x=y&&y.attributes;var z=E?C:null;const {isScaleDriven:D}=H.cache;C=H.cache.compiledFunc;if(D)y=b.isSome(A)?A.scale:void 0,A=b.isSome(A)?A.view:void 0,null==y||"3d"===A?(y=A=null,(y=H.stops)?(A=y[0].value,y=y[y.length-1].value):
(A=H.minDataValue||0,y=H.maxDataValue||0),A=(A+y)/2):A=y,z=A;else if(!E)switch(H.inputValueType){case "expression":if(b.isNone(A)||b.isNone(A.arcade)){t.error("Use of arcade expressions requires an arcade context");return}z=A.arcade.arcadeUtils;A=z.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=z.createExecContext(y,A);C||(y=z.createSyntaxTree(H.valueExpression),C=z.createFunction(y),H.cache.compiledFunc=C);z=z.executeFunction(C,A);break;case "field":x&&
(z=x[H.field]);break;case "unknown":z=null}if(!e.isValidNumber(z))return null;if(E||!H.normalizationField)return z;H=x?parseFloat(x[H.normalizationField]):null;return e.isValidNumber(H)&&0!==H?z/H:null}function q(H,C,A){if(H="visualVariables"in H&&H.visualVariables?H.visualVariables.filter(y=>"size"===y.type)[0]:H)if("esri.renderers.visualVariables.SizeVariable"!==H.declaredClass)t.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var E=n(H,C,A);
C=g(E,H,C,A,H.cache.ipData);return null===C||void 0===C||isNaN(C)?0:C}}function h(H,C,A){return null==H?null:e.isSizeVariable(H)?q(H,C,A):e.isValidNumber(H)?H:null}function d(H,C,A){return e.isValidNumber(A)&&H>A?A:e.isValidNumber(C)&&H<C?C:H}function g(H,C,A,E,y){switch(C.transformationType){case "additive":return E=h(C.minSize,A,E),C=H+(E||C.minDataValue);case "constant":return H=(H=C.stops)&&H.length&&H[0].size,null==H&&(H=C.minSize),C=h(H,A,E);case "clamped-linear":y=(H-C.minDataValue)/(C.maxDataValue-
C.minDataValue);var x=h(C.minSize,A,E);A=h(C.maxSize,A,E);E=b.isSome(E)?E.shape:void 0;H<=C.minDataValue?C=x:H>=C.maxDataValue?C=A:"area"===C.scaleBy&&E?(H=(C="circle"===E)?F*Math.pow(x/2,2):x*x,H+=y*((C?F*Math.pow(A/2,2):A*A)-H),C=C?2*Math.sqrt(H/F):Math.sqrt(H)):C=x+y*(A-x);return C;case "proportional":return y=b.isSome(E)?E.shape:void 0,H/=C.minDataValue,x=h(C.minSize,A,E),C=h(C.maxSize,A,E),E=null,E="circle"===y?2*Math.sqrt(H*Math.pow(x/2,2)):"square"===y||"diamond"===y||"image"===y?Math.sqrt(H*
Math.pow(x,2)):H*x,C=d(E,x,C);case "stops":{const [z,D,v]=u(H,y);z===D?C=h(C.stops[z].size,A,E):(H=h(C.stops[z].size,A,E),C=h(C.stops[D].size,A,E),C=H+(C-H)*v)}return C;case "real-world-size":return y=(b.isSome(E)&&E.resolution?E.resolution:1)*k.meterIn[C.valueUnit],x=h(C.minSize,A,E),E=h(C.maxSize,A,E),{valueRepresentation:C}=C,A=null,A="area"===C?2*Math.sqrt(H/F)/y:"radius"===C||"distance"===C?2*H/y:H/y,C=d(A,x,E);case "identity":return H;case "unknown":return null}}function u(H,C){if(C){var A=
0,E=C.length-1;C.some((y,x)=>{if(H<y)return E=x,!0;A=x;return!1});return[A,E,(H-C[A])/(C[E]-C[A])]}}const t=l.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),B=new f,F=Math.PI;a.getAllSizes=function(H,C,A){const E=["proportional","proportional","proportional"];for(const y of H)switch(H=y.useSymbolValue?"symbol-value":q(y,C,A),y.axis){case "width":E[0]=H;break;case "depth":E[1]=H;break;case "height":E[2]=H;break;case "width-and-depth":E[0]=H;E[1]=H;break;case "all":case void 0:case null:E[0]=
H;E[1]=H;E[2]=H;break;default:c.neverReached(y.axis)}return E};a.getColor=r;a.getOpacity=p;a.getRotationAngle=w;a.getSize=q;a.getSizeForValue=g;a.getSizeFromNumberOrVariable=h;a.getSizeRangeAtScale=function(H,C,A){const {isScaleDriven:E}=H.cache;if(!(E&&"3d"===A||C))return null;A={scale:C,view:A};C=h(H.minSize,B,A);H=h(H.maxSize,B,A);if(null!=C||null!=H)return C>H&&(A=H,H=C,C=A),{minSize:C,maxSize:H}};a.getVisualVariableValues=function(H,C,A){if(H.visualVariables){var E=[],y=[],x=[],z=[],D=[];for(const v of H.visualVariables)switch(v.type){case "color":y.push(v);
break;case "opacity":x.push(v);break;case "rotation":D.push(v);break;case "size":z.push(v)}y.forEach(v=>{const G=r(v,C,A);E.push({variable:v,value:G})});x.forEach(v=>{const G=p(v,C,A);E.push({variable:v,value:G})});D.forEach(v=>{const G=w(v,C,A);E.push({variable:v,value:G})});z.forEach(v=>{const G=q(v,C,A);E.push({variable:v,value:G})});return E.filter(v=>null!=v.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/maybe ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/support/jsonUtils ./geometry ./PopupTemplate ./chunks/symbols ./core/uid".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){var F;b=F=function(H){function C(...E){E=H.call(this,...E)||this;E.isAggregate=!1;E.layer=null;E.popupTemplate=null;E.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(E),"uid",{value:B.generateUID(),configurable:!0});return E}a._inheritsLoose(C,H);var A=C.prototype;A.normalizeCtorArgs=function(E,y,x,z){return E&&!E.declaredClass?E:{geometry:E,symbol:y,attributes:x,popupTemplate:z}};A.getEffectivePopupTemplate=function(E=!1){return this.popupTemplate?
this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:E&&"defaultPopupTemplate"in this.sourceLayer&&m.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};A.getAttribute=function(E){return this.attributes&&this.attributes[E]};A.setAttribute=function(E,y){if(this.attributes){const x=this.getAttribute(E);this.attributes[E]=y;this._notifyLayer("attributes",x,y,E)}else this.attributes=
{[E]:y},this._notifyLayer("attributes",void 0,y,E)};A.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};A.toJSON=function(){return{geometry:m.isSome(this.geometry)?this.geometry.toJSON():null,symbol:m.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};A.clone=function(){return new F(this.cloneProperties())};
A.cloneProperties=function(){return{attributes:l.clone(this.attributes),geometry:l.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:l.clone(this.symbol),visible:this.visible}};A._notifyLayer=function(E,y,x,z){this.layer&&"graphicChanged"in this.layer&&(y={graphic:this,property:E,oldValue:y,newValue:x},"attributes"===E&&(y.attributeName=z),this.layer.graphicChanged(y))};a._createClass(C,[{key:"attributes",set:function(E){const y=
this._get("attributes");y!==E&&(this._set("attributes",E),this._notifyLayer("attributes",y,E))}},{key:"geometry",set:function(E){const y=this._get("geometry");y!==E&&(this._set("geometry",E),this._notifyLayer("geometry",y,E))}},{key:"symbol",set:function(E){const y=this._get("symbol");y!==E&&(this._set("symbol",E),this._notifyLayer("symbol",y,E))}},{key:"visible",set:function(E){const y=this._get("visible");y!==E&&(this._set("visible",E),this._notifyLayer("visible",y,E))}}]);return C}(h.JSONSupport);
c.__decorate([k.property({value:null})],b.prototype,"attributes",null);c.__decorate([k.property({value:null,types:g.geometryTypes,json:{read:d.fromJSON}})],b.prototype,"geometry",null);c.__decorate([k.property({type:Boolean})],b.prototype,"isAggregate",void 0);c.__decorate([k.property()],b.prototype,"layer",void 0);c.__decorate([k.property({type:u})],b.prototype,"popupTemplate",void 0);c.__decorate([k.property()],b.prototype,"sourceLayer",void 0);c.__decorate([k.property({value:null,types:t.symbolTypes})],
b.prototype,"symbol",null);c.__decorate([k.property({type:Boolean,value:!0})],b.prototype,"visible",null);b=F=c.__decorate([p.subclass("esri.Graphic")],b);(b||(b={})).generateUID=B.generateUID;return b})},"esri/core/uid":function(){define(["exports"],function(a){let c=0;a.generateUID=function(){return c++};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/Warning ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){const t=l.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),B={color:h,size:u,opacity:d,rotation:g},F=new e.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),H=/^\[([^\]]+)\]$/i;b=function(C){function A(){var y=C.apply(this,arguments)||this;y.colorVariables=null;y.opacityVariables=null;y.rotationVariables=null;y.sizeVariables=null;return y}a._inheritsLoose(A,C);var E=A.prototype;E.readVariables=
function(y,x,z){const {rotationExpression:D,rotationType:v}=x;if(x=(x=D&&D.match(H))&&x[1])y||(y=[]),y.push({type:"rotationInfo",rotationType:v,field:x});if(y)return y.map(G=>{var I=F.read(G.type);const O=B[I];O||(t.warn(`Unknown variable type: ${I}`),z&&z.messages&&z.messages.push(new k("visual-variable:unsupported",`visualVariable of type '${I}' is not supported`,{definition:G,context:z})));I=new O;I.read(G,z);return I})};E.writeVariables=function(y,x){const z=[];for(const D of y)(y=D.toJSON(x))&&
z.push(y);return z};E._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(A,[{key:"visualVariables",set:function(y){this._resetVariables();if((y=y&&y.filter(z=>!!z))&&y.length){for(var x of y)switch(x.type){case "color":this.colorVariables.push(x);break;case "opacity":this.opacityVariables.push(x);break;case "rotation":this.rotationVariables.push(x);break;case "size":this.sizeVariables.push(x)}this.sizeVariables.length&&
this.sizeVariables.some(z=>!!z.target)&&y.sort((z,D)=>{let v=null;return v=z.target===D.target?0:z.target?1:-1});for(x=0;x<y.length;x++)y[x].index=x}this._set("visualVariables",y)}}]);return A}(q);c.__decorate([f.property()],b.prototype,"visualVariables",null);return b=c.__decorate([r.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../chunks/symbols".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.description=null;t.label=null;t.minValue=null;t.maxValue=0;t.symbol=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.clone=function(){return new h({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};u.getMeshHash=function(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`};return g}(n.JSONSupport);
c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([f.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);c.__decorate([f.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);c.__decorate([f.property({types:q.symbolTypesRenderer,
json:{origins:{"web-scene":{types:q.symbolTypesRenderer3D,write:q.write}},write:q.write}})],b.prototype,"symbol",void 0);return b=h=c.__decorate([k.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define(["exports","../../symbols/Symbol","../../symbols/PolygonSymbol3D","../../chunks/symbols"],function(a,c,b,l){const m={types:l.symbolTypesRenderer,json:{write:{writer:l.write},origins:{"web-scene":{types:l.symbolTypesRenderer3D,write:{writer:l.write}}}}};
a.rendererBackgroundFillSymbolProperty={types:{base:c,key:"type",typeMap:{"simple-fill":l.symbolTypes.typeMap["simple-fill"],"picture-fill":l.symbolTypes.typeMap["picture-fill"],"polygon-3d":l.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:l.write},origins:{"web-scene":{type:b,write:{writer:l.write}}}}};a.rendererSymbolProperty=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/object ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../core/promiseUtils ../support/arcadeOnDemand ../layers/support/fieldUtils ../portal/Portal ../symbols/WebStyleSymbol ../chunks/symbols ./support/LegendOptions ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ../core/accessorSupport/diffUtils ./support/UniqueValueInfo ../symbols/support/styleUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I,O){var L;const N=e.getLogger("esri.renderers.UniqueValueRenderer"),R=k.ensureType(I);b=L=function(K){function U(J){J=K.call(this,J)||this;J._valueInfoMap={};J._isDefaultSymbolDerived=!1;J.type="unique-value";J.backgroundFillSymbol=null;J.field=null;J.field2=null;J.field3=null;J.valueExpression=null;J.valueExpressionTitle=null;J.legendOptions=null;J.defaultLabel=null;J.fieldDelimiter=null;J.portal=null;J.styleOrigin=null;J.diff=
{uniqueValueInfos(S,W){if(S||W){if(!S||!W)return{type:"complete",oldValue:S,newValue:W};var M=!1,T={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let X=0;X<W.length;X++){const fa=S.find(ia=>ia.value===W[X].value);fa?G.diff(fa,W[X])?(T.changed.push({type:"complete",oldValue:fa,newValue:W[X]}),M=!0):T.unchanged.push({oldValue:fa,newValue:W[X]}):(T.added.push(W[X]),M=!0)}for(let X=0;X<S.length;X++)W.find(fa=>fa.value===S[X].value)||(T.removed.push(S[X]),M=!0);return M?T:void 0}}};
J._set("uniqueValueInfos",[]);return J}a._inheritsLoose(U,K);var P=U.prototype;P.castField=function(J){return null==J||"function"===typeof J?J:k.ensureString(J)};P.writeField=function(J,S,W,M){"string"===typeof J?S[W]=J:M&&M.messages?M.messages.push(new d("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):N.error(".field: cannot write field to JSON since it's not a string value")};P.readPortal=function(J,S,W){return W.portal||A.getDefault()};P.readStyleOrigin=
function(J,S,W){if(S.styleName)return Object.freeze({styleName:S.styleName});if(S.styleUrl)return J=B.fromJSON(S.styleUrl,W),Object.freeze({styleUrl:J})};P.writeStyleOrigin=function(J,S,W,M){J.styleName?S.styleName=J.styleName:J.styleUrl&&(S.styleUrl=B.toJSON(J.styleUrl,M))};P.addUniqueValueInfo=function(J,S){this.styleOrigin?N.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(J="object"===typeof J?R(J):new I({value:J,symbol:y.ensureType(S)}),
this.uniqueValueInfos.push(J),this._valueInfoMap[J.value]=J)};P.removeUniqueValueInfo=function(J){if(this.styleOrigin)N.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let S=0;S<this.uniqueValueInfos.length;S++)if(this.uniqueValueInfos[S].value===J+""){delete this._valueInfoMap[J];this.uniqueValueInfos.splice(S,1);break}};P.getUniqueValueInfo=async function(J,S){let W=S;this.valueExpression&&(f.isNone(S)||f.isNone(S.arcade))&&
(W={...W,arcade:await H.loadArcade()});return this._getUniqueValueInfo(J,W)};P.getSymbol=function(J,S){if(this.valueExpression&&(f.isNone(S)||f.isNone(S.arcade)))N.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(J=this._getUniqueValueInfo(J,S))&&J.symbol||this.defaultSymbol};P.getSymbolAsync=async function(J,S){this.valueExpression&&(f.isNone(S)||f.isNone(S.arcade))&&(S={...S,arcade:await H.loadArcade()});return(J=this._getUniqueValueInfo(J,S))&&J.symbol||
this.defaultSymbol};P.getSymbols=function(){const J=[];for(const S of this.uniqueValueInfos)S.symbol&&J.push(S.symbol);this.defaultSymbol&&J.push(this.defaultSymbol);return J};P.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((J,S)=>J+S.getAttributeHash(),"")};P.getMeshHash=function(){const J=JSON.stringify(this.backgroundFillSymbol),S=JSON.stringify(this.defaultSymbol),W=this.uniqueValueInfos.reduce((M,T)=>M+T.getMeshHash(),"");return`${J}.${S}.${W}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};
P.clone=function(){const J=new L({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:l.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:l.clone(this.visualVariables),legendOptions:l.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:l.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&
(J._isDefaultSymbolDerived=!0);J._set("portal",this.portal);const S=l.clone(this.uniqueValueInfos);this.styleOrigin&&(J._set("styleOrigin",Object.freeze(l.clone(this.styleOrigin))),Object.freeze(S));J._set("uniqueValueInfos",S);J._updateValueInfoMap();return J};P.collectRequiredFields=async function(J,S){J=[this.collectVVRequiredFields(J,S),this.collectSymbolFields(J,S)];await F.all(J)};P.collectSymbolFields=async function(J,S){const W=[...this.getSymbols().map(M=>M.collectRequiredFields(J,S)),C.collectArcadeFieldNames(J,
S,this.valueExpression)];C.collectField(J,S,this.field);C.collectField(J,S,this.field2);C.collectField(J,S,this.field3);await F.all(W)};P.populateFromStyle=function(){return O.fetchStyle(this.styleOrigin,{portal:this.portal}).then(J=>{const S=[];this._valueInfoMap={};J&&J.data&&Array.isArray(J.data.items)&&J.data.items.forEach(W=>{var M=new E({styleUrl:J.styleUrl,styleName:J.styleName,portal:this.portal,name:W.name});this.defaultSymbol||W.name!==J.data.defaultItem||(this.defaultSymbol=M,this._isDefaultSymbolDerived=
!0);M=new I({value:W.name,symbol:M});S.push(M);this._valueInfoMap[W.name]=M});this._set("uniqueValueInfos",Object.freeze(S));!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};P._updateValueInfoMap=function(){this._valueInfoMap={};this.uniqueValueInfos.forEach(J=>this._valueInfoMap[J.value+""]=J)};P._getUniqueValueInfo=function(J,S){return this.valueExpression?this._getUnqiueValueInfoForExpression(J,
S):this._getUnqiueValueInfoForFields(J)};P._getUnqiueValueInfoForExpression=function(J,S){const {viewingMode:W,scale:M,spatialReference:T,arcade:X}=f.unwrapOr(S,{});var fa=this._cache.compiledFunc;S=f.unwrap(X).arcadeUtils;fa||(fa=S.createSyntaxTree(this.valueExpression),fa=S.createFunction(fa),this._cache.compiledFunc=fa);J=S.executeFunction(fa,S.createExecContext(J,S.getViewInfo({viewingMode:W,scale:M,spatialReference:T})));return this._valueInfoMap[J+""]};P._getUnqiueValueInfoForFields=function(J){const S=
this.field,W=J.attributes;if("function"!==typeof S&&this.field2){J=this.field2;var M=this.field3;const T=[];S&&T.push(W[S]);J&&T.push(W[J]);M&&T.push(W[M]);M=T.join(this.fieldDelimiter||"")}else"function"===typeof S?M=S(J):S&&(M=W[S]);return this._valueInfoMap[M+""]};U.fromPortalStyle=function(J,S){const W=new L(S&&S.properties);W._set("styleOrigin",Object.freeze({styleName:J}));W._set("portal",S&&S.portal||A.getDefault());S=W.populateFromStyle();S.catch(M=>{N.error(`#fromPortalStyle('${J}'[, ...])`,
"Failed to create unique value renderer from style name",M)});return S};U.fromStyleUrl=function(J,S){S=new L(S&&S.properties);S._set("styleOrigin",Object.freeze({styleUrl:J}));S=S.populateFromStyle();S.catch(W=>{N.error(`#fromStyleUrl('${J}'[, ...])`,"Failed to create unique value renderer from style URL",W)});return S};a._createClass(U,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"defaultSymbol",set:function(J){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",J)}},{key:"uniqueValueInfos",
set:function(J){this.styleOrigin?N.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",J),this._updateValueInfoMap())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return U}(D.VisualVariablesMixin(z));c.__decorate([r.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"_cache",null);c.__decorate([w.enumeration({uniqueValue:"unique-value"})],
b.prototype,"type",void 0);c.__decorate([r.property(v.rendererBackgroundFillSymbolProperty)],b.prototype,"backgroundFillSymbol",void 0);c.__decorate([r.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],b.prototype,"field",void 0);c.__decorate([p.cast("field")],b.prototype,"castField",null);c.__decorate([h.writer("field")],b.prototype,"writeField",null);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"field2",void 0);c.__decorate([r.property({type:String,
json:{write:!0}})],b.prototype,"field3",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);c.__decorate([r.property({type:x["default"],json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",void 0);c.__decorate([r.property(m.deepMerge({...v.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],b.prototype,"defaultSymbol",null);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"fieldDelimiter",void 0);c.__decorate([r.property({type:A,readOnly:!0})],b.prototype,"portal",void 0);c.__decorate([n.reader("portal",["styleName"])],b.prototype,"readPortal",null);c.__decorate([r.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],b.prototype,"styleOrigin",void 0);c.__decorate([n.reader("styleOrigin",["styleName","styleUrl"])],b.prototype,"readStyleOrigin",null);c.__decorate([h.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],b.prototype,"writeStyleOrigin",null);c.__decorate([r.property({type:[I],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],b.prototype,"uniqueValueInfos",null);return b=L=c.__decorate([q.subclass("esri.renderers.UniqueValueRenderer")],
b)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../maybe","./utils","../Accessor","../Collection"],function(a,c,b,l,m){function f(h){return h instanceof m?Object.keys(h.items):h instanceof l?b.getProperties(h).keys():h?Object.keys(h):[]}function e(h,d){return h instanceof m?h.items[d]:h[d]}function k(h,d){return Array.isArray(h)&&Array.isArray(d)?h.length!==d.length:!1}function r(h){return h?h.declaredClass:null}function p(h,d){const g=h.diff;if(g&&"function"===typeof g)return g(h,
d);const u=f(h),t=f(d);if(0!==u.length||0!==t.length){if(!u.length||!t.length||k(h,d))return{type:"complete",oldValue:h,newValue:d};var B=t.filter(C=>-1===u.indexOf(C)),F=u.filter(C=>-1===t.indexOf(C));F=u.filter(C=>-1<t.indexOf(C)&&e(h,C)!==e(d,C)).concat(B,F).sort();if((B=r(h))&&-1<q.indexOf(B)&&F.length)return{type:"complete",oldValue:h,newValue:d};var H;B=h instanceof l&&d instanceof l;for(const C of F){F=e(h,C);const A=e(d,C);!(B||"function"!==typeof F&&"function"!==typeof A)||F===A||null==F&&
null==A||(F=g&&g[C]&&"function"===typeof g[C]?g[C](F,A):"object"===typeof F&&"object"===typeof A&&r(F)===r(A)?p(F,A):{type:"complete",oldValue:F,newValue:A},c.isSome(F)&&(c.isSome(H)?H.diff[C]=F:H={type:"partial",diff:{[C]:F}}))}return H}}function w(h,d){if(c.isNone(h))return!1;d=d.split(".");for(const g of d){if("complete"===h.type)break;if("partial"===h.type){if(h=h.diff[g],!h)return!1}else return!1}return!0}function n(h){if(c.isNone(h))return!0;switch(h.type){case "complete":return!1;case "collection":for(const d of h.added)if(!n(d))return!1;
for(const d of h.removed)if(!n(d))return!1;for(const d of h.changed)if(!n(d))return!1;return!0;case "partial":for(const d in h.diff)if(!n(h.diff[d]))return!1;return!0}}const q=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(h,d){if("function"!==typeof h&&"function"!==typeof d&&(h||d))return!h||!d||"object"===typeof h&&"object"===typeof d&&r(h)!==r(d)?{type:"complete",oldValue:h,newValue:d}:p(h,d)};
a.hasDiff=w;a.hasDiffAny=function(h,d){for(const g of d)if(w(h,g))return!0;return!1};a.isEmpty=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../chunks/symbols".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.description=null;t.label=null;t.symbol=null;t.value=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.clone=function(){return new h({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};u.getMeshHash=function(){const t=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${t}`};return g}(n.JSONSupport);c.__decorate([f.property({type:String,
json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([f.property({types:q.symbolTypesRenderer,json:{origins:{"web-scene":{types:q.symbolTypesRenderer3D,write:q.write}},write:q.write}})],b.prototype,"symbol",void 0);c.__decorate([f.property({type:[String,Number],json:{type:String,write:{writer:(d,g)=>{g.value=null==d?void 0:d.toString()}}}})],b.prototype,"value",void 0);return b=h=c.__decorate([k.subclass("esri.renderers.support.UniqueValueInfo")],
b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../core/Error ../../core/urlUtils ../../chunks/persistableUrlUtils ../../core/promiseUtils ../../request ../../portal/PortalQueryParams ../../portal/Portal ./StyleOrigin ./Thumbnail ../../chunks/symbols ../../core/devEnvironmentUtils ../../support/featureFlags".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){function h(E,y){return C(E,y).then(x=>({data:x.data,baseUrl:b.removeFile(E),styleUrl:E}))}function d(E,y,x){y=y.portal||k.getDefault();
let z;const D=`${y.url} - ${y.user&&y.user.username} - ${E}`;A[D]||(A[D]=g(E,y,x).then(v=>{z=v;return v.fetchData()}).then(v=>({data:v,baseUrl:z.itemUrl,styleName:E})));return A[D]}function g(E,y,x){return y.load(x).then(()=>{const z=new e({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${E}"`});return y.queryItems(z,x)}).then(({results:z})=>{let D=null;const v=E.toLowerCase();if(z&&Array.isArray(z))for(const G of z)if(G.typeKeywords.some(I=>I.toLowerCase()===
v)&&"Style"===G.type&&"esri_en"===G.owner){D=G;break}if(!D)throw new c("symbolstyleutils:style-not-found",`The style '${E}' could not be found`,{styleName:E});return D.load(x)})}function u(E,y,x){return E.styleUrl?h(E.styleUrl,x):E.styleName?d(E.styleName,y,x):m.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function t(E,y,x,z,D){var v=E.data;const G={portal:x.portal,url:b.urlToObject(E.baseUrl),origin:"portal-item"};v=v.items.find(R=>
R.name===y);if(!v)return m.reject(new c("symbolstyleutils:symbol-name-not-found",`The symbol name '${y}' could not be found`,{symbolName:y}));let I=l.fromJSON(F(v,z),G),O=v.thumbnail&&v.thumbnail.href;const L=v.thumbnail&&v.thumbnail.imageData;n.isDevEnvironment()&&(I=n.adjustStaticAGOUrl(I),O=n.adjustStaticAGOUrl(O));const N={portal:x.portal,url:b.urlToObject(b.removeFile(I)),origin:"portal-item"};return C(I,D).then(R=>{R="cimRef"===z?B(R.data):R.data;if((R=w.fromJSON(R,N))&&w.isSymbol3D(R)){if(O){const K=
l.fromJSON(O,G);R.thumbnail=new p["default"]({url:K})}else L&&(R.thumbnail=new p["default"]({url:`data:image/png;base64,${L}`}));E.styleUrl?R.styleOrigin=new r({portal:x.portal,styleUrl:E.styleUrl,name:y}):E.styleName&&(R.styleOrigin=new r({portal:x.portal,styleName:E.styleName,name:y}))}return R})}function B(E){return null===E||"CIMSymbolReference"===E.type?E:{type:"CIMSymbolReference",symbol:E}}function F(E,y){if("cimRef"===y)return E.cimRef;if(E.formatInfos&&!q.enableWebStyleForceWOSR())for(const x of E.formatInfos)if("gltf"===
x.type)return x.href;return E.webRef}function H(E,y,x){const z="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson".replace(/\{SymbolName\}/gi,E.name);return C(z,x).then(D=>{D=B(D.data);return w.fromJSON(D,{portal:y.portal,url:b.urlToObject(b.removeFile(z)),origin:"portal-item"})})}function C(E,y){y={responseType:"json",query:{f:"json"},...y};return f(b.normalize(E),y)}const A={};a.fetchStyle=u;a.fetchSymbolFromStyle=
t;a.resolveWebStyleSymbol=function(E,y,x,z){return E.name?E.styleName&&"Esri2DPointSymbolsStyle"===E.styleName?H(E,y,z):u(E,y,z).then(D=>t(D,E.name,y,x,z)):m.reject(new c("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};a.styleNameFromItem=function(E){for(const y of E.typeKeywords)if(/^Esri.*Style$/.test(y)&&"Esri Style"!==y)return y};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/devEnvironmentUtils":function(){define(["exports","./global"],
function(a,c){const b=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,m=/^[\w-]*\.mapsdevext.arcgis.com$/,f=/^[\w-]*\.mapsqa.arcgis.com$/,e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,b,l,/^jsapps.esri.com$/,m,f];a.adjustStaticAGOUrl=function(k,r){return k?(r=r||c.location.hostname)?null!=r.match(b)||null!=r.match(m)?k.replace("static.arcgis.com","staticdev.arcgis.com"):null!=r.match(l)||null!=r.match(f)?k.replace("static.arcgis.com","staticqa.arcgis.com"):k:k:k};a.isDevEnvironment=function(k){k=
k||c.location.hostname;return e.some(r=>{var p;return null!=(null==(p=k)?void 0:p.match(r))})};a.isTelemetryDevEnvironment=function(k){k=k||c.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(e).some(r=>{var p;return null!=(null==(p=k)?void 0:p.match(r))})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,c){function b(l){return!!c(`enable-feature:${l}`)}a.disableContextNavigation=()=>b("disable-context-navigation");
a.enableWebStyleForceWOSR=()=>b("force-wosr");a.hasEnableFeature=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../support/arcadeOnDemand ../layers/support/fieldUtils ../Color ../symbols/CIMSymbol ../request ./Renderer ./mixins/VisualVariablesMixin ../core/LRUCache".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y){var x;const z=e.getLogger("esri.renderers.DictionaryRenderer");b=x=function(D){function v(I){I=D.call(this,I)||this;I._ongoingRequests=new Map;I._symbolCache=new y(100);I.config=null;I.fieldMap=null;I.scaleExpression=null;I.scaleExpressionTitle=null;I.url=null;I.type="dictionary";return I}a._inheritsLoose(v,D);var G=v.prototype;G.writeData=function(I,O){I&&(O.scalingExpressionInfo={expression:I,returnType:"number"})};G.writeVisualVariables=
function(I,O,L,N){null!=N&&N.origin||D.prototype.writeVisualVariables.call(this,I,O,L,N)};G.clone=function(){return new x({config:l.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:l.clone(this.fieldMap),url:l.clone(this.url),visualVariables:l.clone(this.visualVariables)})};G.getSymbolAsync=async function(I,O){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(O));try{var L=await this._dictionaryPromise}catch(P){if(u.isAbortError(P))return this._dictionaryPromise=
null}var N={};if(this.fieldMap)for(var R of this._symbolFields){var K=this.fieldMap[R];N[R]=K&&null!==I.attributes[K]&&void 0!==I.attributes[K]?""+I.attributes[K]:""}I=L(N,O);if(!I||"string"!==typeof I)return null;const U=f.numericHash(I).toString();if(L=this._symbolCache.get(U))return L.catch(()=>{this._symbolCache.pop(U)}),L;N=I.split(";");I=[];L=[];for(const P of N)if(P&&0!==P.length)if(-1!==P.indexOf("po:"))K=P.substr(3).split("|"),3===K.length&&(N=K[0],R=K[1],K=K[2],"DashTemplate"===R?K=K.split(" ").map(J=>
Number(J)):"Color"===R?(K=(new F(K)).toRgba(),K=[K[0],K[1],K[2],255*K[3]]):K=Number(K),L.push({primitiveName:N,propertyName:R,value:K}));else if(-1!==P.indexOf("|"))for(const J of P.split("|"))this._itemNames.has(J)&&I.push(J);else this._itemNames.has(P)&&I.push(P);O=this._cimPartsToCIMSymbol(I,L,O);this._symbolCache.put(U,O,1);return O};G.collectRequiredFields=async function(I,O){await this.collectVVRequiredFields(I,O);this.scaleExpression&&await B.collectArcadeFieldNames(I,O,this.scaleExpression);
O=O.map(L=>L.name);for(const L in this.fieldMap)0>O.indexOf(this.fieldMap[L])||I.add(this.fieldMap[L])};G.fetchResources=async function(I){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var O=m.isSome(I)?I.abortOptions:null;O=C(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...O});var [{data:L}]=await u.all([O,t.loadArcade()]);if(!L)throw this._dictionaryPromise=null,new q("esri.renderers.DictionaryRenderer","Bad dictionary data!");
O=L.expression;var N=L.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+L.cimRefTemplateUrl;this._itemNames=new Set(L.itemsNames);this._symbolFields=N.symbol;L={};if(this.config){const U=this.config;for(var R in U)L[R]=U[R]}for(var K of N.configuration)L.hasOwnProperty(K.name)||(L[K.name]=K.value);R=[];if(m.isSome(I)&&I.fields&&this.fieldMap)for(const U of this._symbolFields){const P=this.fieldMap[U];K=I.fields.filter(J=>J.name===P);0<K.length&&R.push({...K[0],name:U})}return this._dictionaryPromise=
t.createDictionaryExpression(O,m.isSome(I)?I.spatialReference:null,R,L).then(U=>{const P={scale:0};return(J,S)=>{J=U.repurposeFeature({geometry:null,attributes:J});P.scale=m.isSome(S)?S.scale:void 0;return U.evaluate({$feature:J,$view:P})}}).catch(U=>{z.error("Creating dictinoary expression failed:",U);return null})}z.error("no valid URL!")};G.getSymbol=function(){return null};G.getSymbols=function(){return[]};G.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((I,
O)=>I+O.getAttributeHash(),"")};G.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};G.getSymbolFields=function(){return this._symbolFields};G._getSymbolPart=async function(I,O){if(this._ongoingRequests.has(I))return this._ongoingRequests.get(I).then(N=>N.data);const L=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,I);O=C(L,{responseType:"json",query:{f:"json"},...O});this._ongoingRequests.set(I,O);try{return(await O).data}catch(N){return this._ongoingRequests.delete(I),
u.reject(N)}};G._combineSymbolParts=function(I,O){if(!I||0===I.length)return null;if(1===I.length)return{type:"CIMSymbolReference",symbol:I[0],primitiveOverrides:O};const L={...I[0],symbolLayers:[]};for(const N of I)L.symbolLayers.unshift(...N.symbolLayers);return{type:"CIMSymbolReference",symbol:L,primitiveOverrides:O}};G._cimPartsToCIMSymbol=async function(I,O,L){const N=Array(I.length);for(let R=0;R<I.length;R++)N[R]=this._getSymbolPart(I[R],L);I=await u.all(N);return new H({data:this._combineSymbolParts(I,
O)})};a._createClass(v,[{key:"arcadeRequired",get:function(){return!0}}]);return v}(E.VisualVariablesMixin(A));c.__decorate([r.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],b.prototype,"config",void 0);c.__decorate([r.property({type:Object,json:{write:!0}})],b.prototype,"fieldMap",void 0);c.__decorate([r.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],b.prototype,"scaleExpression",void 0);c.__decorate([n.writer("scaleExpression")],
b.prototype,"writeData",null);c.__decorate([r.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(D){return{enabled:!!D&&!!this.scaleExpression}}}}})],b.prototype,"scaleExpressionTitle",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"url",void 0);c.__decorate([n.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=x=c.__decorate([w.subclass("esri.renderers.DictionaryRenderer")],
b)})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,c){return function(){function b(m,f){this._storage=new c.MemCacheStorage;this._storage.maxSize=m;f&&this._storage.registerRemoveFunc("",f)}var l=b.prototype;l.put=function(m,f,e){this._storage.put(m,f,e,1)};l.pop=function(m){return this._storage.pop(m)};l.get=function(m){return this._storage.get(m)};l.clear=function(){this._storage.clearAll()};l.destroy=function(){this._storage.clearAll()};
a._createClass(b,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(m){this._storage.maxSize=m}}]);return b}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./PooledArray"],function(a,c,b){let l=function(){function f(k,r,p){this._namespace=k;this._storage=r;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";p&&(this._storage.registerRemoveFunc(this._namespace,p),this._removeFunc=!0)}var e=
f.prototype;e.resetHitRate=function(){this._hit=this._miss=0};e.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};e.put=function(k,r,p,w=0){this._storage.put(this._namespace+k,r,p,w)};e.get=function(k){k=this._storage.get(this._namespace+k);void 0===k?++this._miss:++this._hit;return k};e.pop=function(k){k=this._storage.pop(this._namespace+k);void 0===k?++this._miss:++this._hit;return k};e.updateSize=
function(k,r,p){this._storage.updateSize(this._namespace+k,r,p)};e.clear=function(){this._storage.clear(this._namespace)};e.clearAll=function(){this._storage.clearAll()};e.getStats=function(){return this._storage.getStats()};e.resetStats=function(){this._storage.resetStats()};c._createClass(f,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",
get:function(){return this._storage.maxSize}}]);return f}(),m=function(){function f(k=10485760){this._maxSize=k;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=[];this._users=new b}var e=f.prototype;e.register=function(k){this._users.push(k)};e.deregister=function(k){this._users.removeUnordered(k)};e.registerRemoveFunc=function(k,r){this._removeFuncs.push([k,r])};e.deregisterRemoveFunc=function(k){this._removeFuncs=this._removeFuncs.filter(r=>r[0]!==k)};e.put=function(k,r,p,w){const n=
this._db.get(k);n&&(this._size-=n.size,this._db.delete(k),n.entry!==r&&this._notifyRemoved(k,n.entry));p>this._maxSize?this._notifyRemoved(k,r):void 0===r?console.warn("Refusing to cache undefined entry "):!p||0>p?console.warn("Refusing to cache entry with invalid size "+p):(w=1+Math.max(w,-3)- -3,this._db.set(k,{entry:r,size:p,lifetime:w,lives:w}),this._size+=p,this._checkSizeLimit())};e.updateSize=function(k,r,p){const w=this._db.get(k);w&&w.entry===r&&(this._size-=w.size,p>this._maxSize?this._notifyRemoved(k,
r):(w.size=p,this._size+=p,this._checkSizeLimit()))};e.pop=function(k){const r=this._db.get(k);if(r)return this._size-=r.size,this._db.delete(k),++this._hit,r.entry;++this._miss};e.get=function(k){const r=this._db.get(k);if(void 0===r)++this._miss;else return this._db.delete(k),r.lives=r.lifetime,this._db.set(k,r),++this._hit,r.entry};e.getStats=function(){const k={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},
r={},p=[];this._db.forEach((q,h)=>{const d=q.lifetime;p[d]=(p[d]||0)+q.size;this._users.forAll(g=>{g=g.namespace;h.startsWith(g)&&(r[g]=(r[g]||0)+q.size)})});const w={};this._users.forAll(q=>{const h=q.namespace;!isNaN(q.hitRate)&&0<q.hitRate?(r[h]=r[h]||0,w[h]=Math.round(100*q.hitRate)+"%"):w[h]="0%"});var n=Object.keys(r);n.forEach(q=>r[q]=r[q]/this._size*100);n.sort((q,h)=>r[h]-r[q]);n.forEach(q=>k[q]=Math.round(r[q])+"% / "+w[q]);for(n=p.length-1;0<=n;--n){const q=p[n];q&&(k["Priority "+(n+-3-
1)]=Math.round(q/this.size*100)+"%")}return k};e.resetStats=function(){this._hit=this._miss=0;this._users.forAll(k=>k.resetHitRate())};e.clear=function(k){this._db.forEach((r,p)=>{p.startsWith(k)&&(this._size-=r.size,this._db.delete(p),this._notifyRemoved(p,r.entry))})};e.clearAll=function(){this._db.forEach((k,r)=>this._notifyRemoved(r,k.entry));this._size=0;this._db.clear()};e._getHitRate=function(){return this._hit/(this._hit+this._miss)};e._notifyRemoved=function(k,r){this._removeFuncs.forEach(p=>
{if(k.startsWith(p[0]))p[1](r)})};e._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [k,r]of this._db)if(this._db.delete(k),1>=r.lives?(this._size-=r.size,this._notifyRemoved(k,r.entry)):(--r.lives,this._db.set(k,r)),this._size<=.9*this.maxSize)break};c._createClass(f,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(k){this._maxSize=Math.max(k,0);this._checkSizeLimit()}}]);return f}();a.MIN_PRIORITY=-3;a.MemCache=
l;a.MemCacheStorage=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../layers/support/fieldUtils ../Color ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){var C;b=C=function(A){function E(x){x=A.call(this,x)||this;x.attributes=null;x.backgroundColor=new d([0,0,0,0]);x.blendDots=!0;x.dotBlendingEnabled=!0;x.dotShape="square";x.dotSize=1;x.legendOptions=null;x.outline=new g;x.dotValue=null;x.referenceDotValue=null;x.referenceScale=null;x.seed=1;x.type="dot-density";return x}a._inheritsLoose(E,A);var y=E.prototype;y.calculateDotValue=function(x){if(null==this.referenceScale)return this.dotValue;x=x/this.referenceScale*
this.dotValue;return 1>x?1:x};y.getSymbol=function(){return new u({outline:this.outline})};y.getSymbolAsync=async function(){return this.getSymbol()};y.getSymbols=function(){return[this.getSymbol()]};y.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((x,z)=>x+z.getAttributeHash(),"")};y.getMeshHash=function(){return JSON.stringify(this.outline)};y.clone=function(){return new C({attributes:l.clone(this.attributes),backgroundColor:l.clone(this.backgroundColor),dotBlendingEnabled:l.clone(this.dotBlendingEnabled),
dotShape:l.clone(this.dotShape),dotSize:l.clone(this.dotSize),dotValue:l.clone(this.dotValue),legendOptions:l.clone(this.legendOptions),outline:l.clone(this.outline),referenceScale:l.clone(this.referenceScale),visualVariables:l.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};y.getControllerHash=function(){const x=this.attributes.map(D=>D.field||D.valueExpression||""),z=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${x}-${z}`};y.collectRequiredFields=
async function(x,z){await this.collectVVRequiredFields(x,z);for(const D of this.attributes)D.valueExpression&&await h.collectArcadeFieldNames(x,z,D.valueExpression),D.field&&x.add(D.field)};return E}(B.VisualVariablesMixin(t));c.__decorate([e.property({type:[F],json:{write:!0}})],b.prototype,"attributes",void 0);c.__decorate([e.property({type:d,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([e.property({type:Boolean}),k.aliasOf("dotBlendingEnabled")],b.prototype,"blendDots",
void 0);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([e.property({type:String,json:{write:!1}})],b.prototype,"dotShape",void 0);c.__decorate([e.property({type:Number,json:{write:!1}})],b.prototype,"dotSize",void 0);c.__decorate([e.property({type:H,json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([e.property({type:g,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([e.property({type:Number,
json:{write:!0}})],b.prototype,"dotValue",void 0);c.__decorate([e.property({type:Number}),k.aliasOf("dotValue")],b.prototype,"referenceDotValue",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"seed",void 0);c.__decorate([r.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=C=c.__decorate([p.subclass("esri.renderers.DotDensityRenderer")],b)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;const g=l.getLogger("esri.renderers.support.AttributeColorInfo");b=d=function(u){function t(F){F=u.call(this,F)||this;F.color=null;F.field=null;F.label=null;F.valueExpression=null;F.valueExpressionTitle=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.castField=function(F){return null==F?F:"function"===typeof F?(g.error(".field: field must be a string value"),null):m.ensureString(F)};B.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};
B.clone=function(){return new d({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return t}(q.JSONSupport);c.__decorate([f.property({type:h,json:{type:[Number],write:!0}})],b.prototype,"color",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([e.cast("field")],b.prototype,"castField",null);c.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);return b=d=c.__decorate([r.subclass("esri.renderers.support.AttributeColorInfo")],b)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(){var g=h.apply(this,arguments)||this;g.unit=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({unit:this.unit})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=q=c.__decorate([k.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../layers/support/fieldUtils ../Color ./Renderer ./support/HeatmapColorStop".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(t){function B(H){H=t.call(this,H)||this;H.blurRadius=10;H.colorStops=[new g({ratio:0,color:new h("rgba(255, 140, 0, 0)")}),new g({ratio:.75,color:new h("rgba(255, 140, 0, 1)")}),new g({ratio:.9,color:new h("rgba(255, 0,   0, 1)")})];H.field=null;H.fieldOffset=0;H.maxPixelIntensity=100;H.minPixelIntensity=0;H.type="heatmap";return H}a._inheritsLoose(B,t);var F=B.prototype;F.collectRequiredFields=async function(H,C){const A=this.field;A&&
"string"===typeof A&&q.collectField(H,C,A)};F.getAttributeHash=function(){return null};F.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};F.clone=function(){return new u({blurRadius:this.blurRadius,colorStops:l.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};return B}(d);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"blurRadius",void 0);c.__decorate([e.property({type:[g],
json:{write:!0}})],b.prototype,"colorStops",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([e.property({type:Number,json:{write:{overridePolicy:(t,B,F)=>({enabled:null==F})}}})],b.prototype,"fieldOffset",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"maxPixelIntensity",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"minPixelIntensity",void 0);c.__decorate([k.enumeration({heatmap:"heatmap"})],
b.prototype,"type",void 0);return b=u=c.__decorate([r.subclass("esri.renderers.HeatmapRenderer")],b)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.color=null;u.ratio=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({color:this.color,ratio:this.ratio})};return g}(n.JSONSupport);c.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"color",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"ratio",void 0);return b=h=c.__decorate([k.subclass("esri.renderers.support.HeatmapColorStop")],
b)})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,
c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(t){function B(H){H=t.call(this,H)||this;H.description=null;H.label=null;H.symbol=null;H.type="simple";return H}a._inheritsLoose(B,t);var F=B.prototype;F.collectRequiredFields=async function(H,C){await q.all([this.collectSymbolFields(H,C),this.collectVVRequiredFields(H,C)])};F.collectSymbolFields=async function(H,C){await q.all(this.getSymbols().map(A=>A.collectRequiredFields(H,C)))};F.getSymbol=function(H,C){return this.symbol};F.getSymbolAsync=async function(H,
C){return this.symbol};F.getSymbols=function(){return this.symbol?[this.symbol]:[]};F.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((H,C)=>H+C.getAttributeHash(),"")};F.getMeshHash=function(){return this.getSymbols().reduce((H,C)=>H+=JSON.stringify(C),"")};F.clone=function(){return new u({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:l.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};
a._createClass(B,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return B}(d.VisualVariablesMixin(h));c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([e.property(g.rendererSymbolProperty)],b.prototype,"symbol",void 0);c.__decorate([k.enumeration({simple:"simple"})],b.prototype,"type",void 0);return b=u=c.__decorate([r.subclass("esri.renderers.SimpleRenderer")],
b)})},"esri/renderers/support/types":function(){define("exports ../Renderer ../ClassBreaksRenderer ../UniqueValueRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../SimpleRenderer".split(" "),function(a,c,b,l,m,f,e,k){const r={key:"type",base:c,typeMap:{simple:k,"unique-value":l,"class-breaks":b},errorContext:"renderer"};a.rendererTypes={key:"type",base:c,typeMap:{heatmap:e,simple:k,"unique-value":l,"class-breaks":b,"dot-density":f,dictionary:m},errorContext:"renderer"};a.webSceneRendererTypes=
r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/jsonUtils":function(){define("exports ../../core/has ../../core/object ../../core/Warning ../../core/accessorSupport/extensions/serializableProperty/reader ../../core/Error ./types".split(" "),function(a,c,b,l,m,f,e){function k(w,n){if(!n||"web-scene"!==n.origin)return!0;switch(w.type){case "simple":case "unique-value":case "class-breaks":return!0;case "heatmap":case "dictionary":case "dot-density":return!1;default:return!1}}
function r(w,n,q){return w?w&&(w.styleName||w.styleUrl)&&"uniqueValue"!==w.type?(q&&q.messages&&q.messages.push(new l("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+w.type+"'",{definition:w,context:q})),null):p(w,n,q):null}const p=m.createTypeReader({types:e.rendererTypes});a.fromJSON=function(w,n){return r(w,null,n)};a.read=r;a.write=function(w,n,q,h){w?k(w,h)?w=w.write({},h):(h.messages&&h.messages.push(new f("renderer:unsupported",`Renderer of type '${w.declaredClass}' are not supported in scenes.`,
{renderer:w,context:h})),w=null):w=null;w&&b.setDeepValue(q,w,n)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/utils ./accessorSupport/decorators/subclass ./accessorSupport/PropertyOrigin ./Accessor ./accessorSupport/write ./ReadOnlyMultiOriginJSONSupport".split(" "),function(a,c,b,l,m,f,e,k,r){const p=n=>{n=function(q){function h(...g){return q.call(this,
...g)||this}c._inheritsLoose(h,q);var d=h.prototype;d.clear=function(g,u="user"){return l.getProperties(this).store.delete(g,f.nameToId(u))};d.write=function(g={},u){g=g||{};k.write(this,g,u);return g};d.setAtOrigin=function(g,u,t){l.getProperties(this).setAtOrigin(g,u,f.nameToId(t))};d.removeOrigin=function(g){const u=l.getProperties(this).store;g=f.nameToId(g);const t=u.keys(g);for(const B of t)u.originOf(B)===g&&u.set(B,u.get(B,g),6)};d.updateOrigin=function(g,u){const t=l.getProperties(this).store;
u=f.nameToId(u);const B=this.get(g);for(let F=u+1;F<f.OriginIdNum;++F)t.delete(g,F);t.set(g,B,u)};d.toJSON=function(g){return this.write({},g)};return h}(n);n=b.__decorate([m.subclass("esri.core.WriteableMultiOriginJSONSupport")],n);n.prototype.toJSON.isDefaultToJSON=!0;return n},w=n=>{n=function(q){function h(...d){return q.call(this,...d)||this}c._inheritsLoose(h,q);return h}(p(r.ReadOnlyMultiOriginJSONMixin(n)));return n=b.__decorate([m.subclass("esri.core.MultiOriginJSONSupport")],n)};a.MultiOriginJSONSupport=
function(n){function q(){return n.apply(this,arguments)||this}c._inheritsLoose(q,n);return q}(w(e));a.MultiOriginJSONSupport=b.__decorate([m.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/utils ./accessorSupport/decorators/subclass ./accessorSupport/PropertyOrigin ./Accessor ./accessorSupport/read ./accessorSupport/MultiOriginStore".split(" "),
function(a,c,b,l,m,f,e,k,r,p){const w=n=>{n=function(q){function h(...g){g=q.call(this,...g)||this;const u=l.assumeNonNull(m.getProperties(c._assertThisInitialized(g))),t=u.metadatas,B=u.store,F=new p;u.store=F;B.keys().forEach(H=>{F.set(H,B.get(H),0)});Object.keys(t).forEach(H=>{u.internalGet(H)&&F.set(H,u.internalGet(H),0)});return g}c._inheritsLoose(h,q);var d=h.prototype;d.read=function(g,u){r.read(this,g,u)};d.getAtOrigin=function(g,u){const t=m.getProperties(this).store,B=e.nameToId(u);if("string"===
typeof g)return t.get(g,B);const F={};g.forEach(H=>{F[H]=t.get(H,B)});return F};d.originOf=function(g){return e.idToName(this.originIdOf(g))};d.originIdOf=function(g){return m.getProperties(this).store.originOf(g)};d.revert=function(g,u){const t=m.getProperties(this).store,B=e.nameToId(u),F=m.getProperties(this);("string"===typeof g?"*"===g?t.keys(B):[g]:g).forEach(H=>{F.propertyInvalidated(H);t.revert(H,B);F.propertyCommitted(H)})};return h}(n);return n=b.__decorate([f.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],
n)};a.ReadOnlyMultiOriginJSONSupport=function(n){function q(){return n.apply(this,arguments)||this}c._inheritsLoose(q,n);return q}(w(k));a.ReadOnlyMultiOriginJSONSupport=b.__decorate([f.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,c,b){return function(){function l(){this._propertyOriginMap=
new Map;this._originStores=Array(b.OriginIdNum);this._values=new Map}var m=l.prototype;m.clone=function(f){const e=new l;var k=this._originStores[0];k&&k.forEach((r,p)=>{e.set(p,a.clone(r),0)});for(let r=2;r<b.OriginIdNum;r++)(k=this._originStores[r])&&k.forEach((p,w)=>{f&&f.has(w)||e.set(w,a.clone(p),r)});return e};m.get=function(f,e){return(e=void 0===e?this._values:this._originStores[e])?e.get(f):void 0};m.keys=function(f){return(f=null==f?this._values:this._originStores[f])?[...f.keys()]:[]};
m.set=function(f,e,k=6){var r=this._originStores[k];r||(r=new Map,this._originStores[k]=r);r.set(f,e);return!this._values.has(f)||c.assumeNonNull(this._propertyOriginMap.get(f))<=k?(r=this._values.get(f),this._values.set(f,e),this._propertyOriginMap.set(f,k),r!==e):!1};m.delete=function(f,e=6){var k=this._originStores[e];if(k){var r=k.get(f);k.delete(f);if(this._values.has(f)&&this._propertyOriginMap.get(f)===e)for(this._values.delete(f),--e;0<=e;e--)if((k=this._originStores[e])&&k.has(f)){this._values.set(f,
k.get(f));this._propertyOriginMap.set(f,e);break}return r}};m.has=function(f,e){return(e=void 0===e?this._values:this._originStores[e])?e.has(f):!1};m.revert=function(f,e){for(;0<e&&!this.has(f,e);)--e;var k=this._originStores[e];k=k&&k.get(f);const r=this._values.get(f);this._values.set(f,k);this._propertyOriginMap.set(f,e);return r!==k};m.originOf=function(f){return this._propertyOriginMap.get(f)||0};m.forEach=function(f){this._values.forEach(f)};return l}()})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports",
"../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,c,b,l){function m(p){p=b.urlToObject(p);p=p.path.match(k)||p.path.match(r);if(!p)return null;const [,w,n,q,h]=p;p=n.indexOf("/");return{title:f(-1!==p?n.slice(p+1):n),serverType:q,sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:w}}}function f(p){p=p.replace(/\s*[/_]+\s*/g," ");return p[0].toUpperCase()+p.slice(1)}const e="MapServer ImageServer FeatureServer SceneServer StreamServer VectorTileServer".split(" "),
k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),r=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");a.cleanTitle=f;a.isArcGISUrl=function(p){return!!k.test(p)};a.isHostedAgolService=function(p){if(!p)return!1;p=p.toLowerCase();const w=-1!==p.indexOf(".arcgis.com/");p=-1!==p.indexOf("//services")||-1!==p.indexOf("//tiles")||-1!==p.indexOf("//features");return w&&p};a.isHostedSecuredProxyService=
function(p,w){return w&&p&&-1!==p.toLowerCase().indexOf(w.toLowerCase())};a.isServerOrServicesAGOLUrl=function(p){if(!p)return!1;p=(new b.Url(b.makeAbsolute(p))).authority.toLowerCase();return"server.arcgisonline.com"===p||"services.arcgisonline.com"===p};a.isWmsServer=function(p){if(!p)return!1;var w=p.toLowerCase();p=-1!==w.indexOf("/services/");const n=-1!==w.indexOf("/mapserver/wmsserver"),q=-1!==w.indexOf("/imageserver/wmsserver");w=-1!==w.indexOf("/wmsserver");return p&&(n||q||w)};a.parse=m;
a.sanitizeUrl=function(p,w){return p?b.removeTrailingSlash(b.removeQueryParameters(p,w)):p};a.sanitizeUrlWithLayerId=function(p,w,n){if(!w)return{url:w};w=b.removeQueryParameters(w,n);n=b.urlToObject(w);n=m(n.path);let q;c.isSome(n)&&(null!=n.sublayer&&null==p.layerId&&(q=n.sublayer),w=n.url.path);return{url:b.removeTrailingSlash(w),layerId:q}};a.serverTypes=e;a.titleFromUrlAndName=function(p,w){const n=[];p&&(p=m(p),c.isSome(p)&&p.title&&n.push(p.title));w&&(w=f(w),n.push(w));if(2===n.length){if(-1!==
n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")};a.writeUrlWithLayerId=function(p,w,n,q,h){l.write(w,q,"url",h);q.url&&null!=p.layerId&&(q.url=b.join(q.url,n,p.layerId.toString()))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/Warning ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/arrayUtils ../core/JSONSupport ../core/unitUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){function t(A,E){return new r("height-unit:unsupported",`Height unit of value '${A}' is not supported`,E)}function B(A,E){return new r("height-model:unsupported",`Height model of value '${A}' is not supported`,E)}var F;const H=e.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});b=H.jsonValues.slice();d.removeUnordered(b,"orthometric");const C=e.strict()({meter:"meters",foot:"feet","us-foot":"us-feet",
"clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});e=F=function(A){function E(x){x=A.call(this,x)||this;x.heightModel=
"gravity-related-height";x.heightUnit="meters";x.vertCRS=null;return x}a._inheritsLoose(E,A);var y=E.prototype;y.writeHeightModel=function(x,z,D){return H.write(x,z,D)};y.readHeightModel=function(x,z,D){if(z=H.read(x))return z;D&&D.messages&&D.messages.push(B(x,{context:D}));return null};y.readHeightUnit=function(x,z,D){if(z=C.read(x))return z;D&&D.messages&&D.messages.push(t(x,{context:D}));return null};y.readHeightUnitService=function(x,z,D){if(z=u.unitFromRESTJSON(x)||C.read(x))return z;D&&D.messages&&
D.messages.push(t(x,{context:D}));return null};y.readVertCRS=function(x,z){return z.vertCRS||z.ellipsoid||z.geoid};y.clone=function(){return new F({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};y.equals=function(x){return x?this===x?!0:this.heightModel===x.heightModel&&this.heightUnit===x.heightUnit&&this.vertCRS===x.vertCRS:!1};E.deriveUnitFromSR=function(x,z){z=u.getVerticalUnitStringForSR(z);return new F({heightModel:x.heightModel,heightUnit:z,vertCRS:x.vertCRS})};
y.write=function(x,z){z={origin:"web-scene",...z};return A.prototype.write.call(this,x,z)};E.fromJSON=function(x){if(!x)return null;const z=new F;z.read(x,{origin:"web-scene"});return z};return E}(g.JSONSupport);c.__decorate([f.property({type:H.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b,default:"ellipsoidal"}}}})],e.prototype,"heightModel",void 0);c.__decorate([w.writer("web-scene","heightModel")],e.prototype,"writeHeightModel",null);c.__decorate([k.reader(["web-scene","service"],
"heightModel")],e.prototype,"readHeightModel",null);c.__decorate([f.property({type:C.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:C.jsonValues,write:C.write}}}})],e.prototype,"heightUnit",void 0);c.__decorate([k.reader("web-scene","heightUnit")],e.prototype,"readHeightUnit",null);c.__decorate([k.reader("service","heightUnit")],e.prototype,"readHeightUnitService",null);c.__decorate([f.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],e.prototype,"vertCRS",
void 0);c.__decorate([k.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],e.prototype,"readVertCRS",null);return e=F=c.__decorate([p.subclass("esri.geometry.HeightModelInfo")],e)})},"esri/layers/support/FieldsIndex":function(){define(function(){return function(){function a(b){this.fields=b;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(b){var l=[];for(const m of b)if(b=m&&m.name){const f=b.toLowerCase().trim();this._fieldsMap.set(b,m);this._fieldsMap.set(f,m);
l.push(f);if("date"===m.type||"esriFieldTypeDate"===m.type)this.dateFields.push(m),this._dateFieldsSet.add(m)}l.sort();this.uid=l.join(",")}}var c=a.prototype;c.destroy=function(){this._fieldsMap.clear()};c.has=function(b){return null!=this.get(b)};c.get=function(b){return null!=b?this._fieldsMap.get(b)||this._fieldsMap.get(b.toLowerCase().trim()):void 0};c.isDateField=function(b){return this._dateFieldsSet.has(this.get(b))};c.normalizeFieldName=function(b){if(b=this.get(b))return b.name};return a}()})},
"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./ExpressionInfo ./support/elements ./elements/GroupElement".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;const F=u.buildTypeMaps(t);b=B=function(H){function C(E){E=H.call(this,E)||this;E.description=null;E.elements=null;E.expressionInfos=null;E.title=null;return E}a._inheritsLoose(C,H);var A=C.prototype;A.castElements=function(E){return u.ensureType(E,F)};A.readElements=function(E,y){return u.fromJSON(y.formElements,F)};A.writeElements=function(E,y){y.formElements=u.toJSON(E,F)};A.clone=function(){return new B({description:this.description,expressionInfos:l.clone(this.expressionInfos),
elements:l.clone(this.elements),title:this.title})};return C}(d.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([f.property({json:{write:!0}})],b.prototype,"elements",void 0);c.__decorate([e.cast("elements")],b.prototype,"castElements",null);c.__decorate([r.reader("elements",["formElements"])],b.prototype,"readElements",null);c.__decorate([w.writer("elements")],b.prototype,"writeElements",null);c.__decorate([f.property({type:[g],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=B=c.__decorate([p.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.expression=null;g.name=null;g.returnType="boolean";g.title=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,
"name",void 0);c.__decorate([f.property({type:["boolean"],json:{write:!0}})],b.prototype,"returnType",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=q=c.__decorate([k.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/Element ../elements/AttachmentElement ../elements/FieldElement ../elements/RelationshipElement".split(" "),function(a,c,b,l,m,f){a.buildTypeMaps=
function(e){return{typesWithGroup:{base:b.Element,key:"type",typeMap:{attachment:l,field:m,group:e,relationship:f}},typesWithoutGroup:{base:b.Element,key:"type",typeMap:{attachment:l,field:m,relationship:f}}}};a.ensureType=function(e,k,r=!0){return e?e.map(p=>c.ensureOneOfType(r?k.typesWithGroup:k.typesWithoutGroup,p)):null};a.fromJSON=function(e,k,r=!0){if(!e)return null;const p=r?k.typesWithGroup.typeMap:k.typesWithoutGroup.typeMap;return e.filter(w=>p[w.type]).map(w=>p[w.type].fromJSON(w))};a.toJSON=
function(e,k,r=!0){if(!e)return null;const p=r?k.typesWithGroup.typeMap:k.typesWithoutGroup.typeMap;return e.filter(w=>p[w.type]).map(w=>w.toJSON())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/Element":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../core/JSONSupport".split(" "),function(a,c,b,l,m,f){const e=k=>{k=function(r){function p(){var w=
r.apply(this,arguments)||this;w.description=null;w.label=null;w.visibilityExpression=null;return w}c._inheritsLoose(p,r);return p}(k);b.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"description",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"label",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"visibilityExpression",void 0);return k=b.__decorate([m.subclass("esri.form.elements.ElementMixin")],k)};a.Element=function(k){function r(p){p=
k.call(this,p)||this;p.type=null;return p}c._inheritsLoose(r,k);return r}(e(f.JSONSupport));b.__decorate([l.property()],a.Element.prototype,"type",void 0);a.Element=b.__decorate([m.subclass("esri.form.elements.Element")],a.Element);a.ElementMixin=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Element ./inputs/AttachmentInput".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(u){u=d.call(this,u)||this;u.attachmentKeyword=null;u.editable=!0;u.input=null;u.type="attachment";return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return g}(n.Element);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,
"attachmentKeyword",void 0);c.__decorate([f.property({type:Boolean,json:{default:!0,write:!0}})],b.prototype,"editable",void 0);c.__decorate([f.property({type:q,json:{read:{source:"inputType"},write:{target:"inputType"}}})],b.prototype,"input",void 0);c.__decorate([f.property({type:["attachment"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=c.__decorate([k.subclass("esri.form.elements.AttachmentElement")],b)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({type:this.type})};return d}(n.JSONSupport);c.__decorate([f.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../layers/support/domains ./Element ./support/inputs".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.domain=null;t.editable=!0;t.fieldName=null;t.hint=null;t.input=null;t.requiredExpression=null;t.type="field";return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})};
return u}(q.Element);c.__decorate([f.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],b.prototype,"domain",void 0);c.__decorate([f.property({type:Boolean,json:{default:!0,write:!0}})],b.prototype,"editable",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"hint",void 0);c.__decorate([f.property({types:h.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],
b.prototype,"input",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"requiredExpression",void 0);c.__decorate([f.property({type:String,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=c.__decorate([k.subclass("esri.form.elements.FieldElement")],b)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/Input ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/RadioButtonsInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,c,b,l,m,f,e,k){a.types={base:c,key:"type",typeMap:{"barcode-scanner":b,"combo-box":l,"datetime-picker":m,"radio-buttons":f,"text-area":e,"text-box":k}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.type=null;return d}a._inheritsLoose(h,q);return h}(n.JSONSupport);c.__decorate([f.property()],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="barcode-scanner";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q};return d}(n);c.__decorate([f.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.form.elements.inputs.BarcodeScannerInput")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="combo-box";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q};return d}(n);c.__decorate([f.property({type:["combo-box"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.form.elements.inputs.ComboBoxInput")],b)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){function d(u){return null!=u?new Date(u):null}var g;b=g=function(u){function t(F){F=u.call(this,F)||this;F.includeTime=!1;F.max=null;F.min=null;F.type="datetime-picker";return F}a._inheritsLoose(t,u);var B=t.prototype;B.readMax=function(F,H){return d(H.max)};B.writeMax=function(F,H){H.max=F?F.getTime():null};B.readMin=function(F,H){return d(H.min)};B.writeMin=function(F,H){H.min=F?F.getTime():null};B.clone=function(){return new g({includeTime:this.includeTime,
max:this.max,min:this.min,type:this.type})};return t}(h);c.__decorate([f.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"includeTime",void 0);c.__decorate([f.property({type:Date,json:{type:Number,write:!0}})],b.prototype,"max",void 0);c.__decorate([k.reader("max")],b.prototype,"readMax",null);c.__decorate([p.writer("max")],b.prototype,"writeMax",null);c.__decorate([f.property({type:Date,json:{type:Number,write:!0}})],b.prototype,"min",void 0);c.__decorate([k.reader("min")],b.prototype,
"readMin",null);c.__decorate([p.writer("min")],b.prototype,"writeMin",null);c.__decorate([f.property({type:["datetime-picker"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=g=c.__decorate([r.subclass("esri.form.elements.inputs.DateTimePickerInput")],b)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="radio-buttons";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q};return d}(n);c.__decorate([f.property({type:["radio-buttons"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.form.elements.inputs.RadioButtonsInput")],b)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./TextInput".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.type="text-area";return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property({type:["text-area"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.form.elements.inputs.TextAreaInput")],b)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.maxLength=null;g.minLength=0;g.type=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({maxLength:this.maxLength,minLength:this.minLength,type:this.type})};return d}(n);c.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"maxLength",void 0);c.__decorate([f.property({type:Number,json:{default:0,write:!0}})],b.prototype,"minLength",void 0);c.__decorate([f.property()],
b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.form.elements.inputs.support.TextInput")],b)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./TextInput".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.type="text-box";return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property({type:["text-box"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([k.subclass("esri.form.elements.inputs.TextBoxInput")],b)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../popup/support/RelatedRecordsInfoFieldOrder ./Element".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(t){t=g.call(this,t)||this;t.displayCount=null;t.displayType="list";t.editable=!0;t.orderByFields=null;t.relationshipId=null;t.type="relationship";return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new d({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:l.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return u}(h.Element);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"displayCount",void 0);c.__decorate([e.property({type:["list"],json:{write:!0}})],b.prototype,"displayType",void 0);c.__decorate([e.property({type:Boolean,json:{default:!0,write:!0}})],b.prototype,"editable",void 0);c.__decorate([e.property({type:[q],json:{write:!0}})],b.prototype,"orderByFields",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"relationshipId",void 0);c.__decorate([e.property({type:["relationship"],
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=c.__decorate([r.subclass("esri.form.elements.RelationshipElement")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Element ../support/elements".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;b=u=function(B){function F(C){C=B.call(this,C)||this;C.elements=null;C.initialState="expanded";C.type="group";return C}a._inheritsLoose(F,B);var H=F.prototype;H.castElements=function(C){return g.ensureType(C,t,!1)};H.readElements=function(C,A){return g.fromJSON(A.formElements,t,!1)};H.writeElements=function(C,A){A.formElements=g.toJSON(C,t,!1)};H.clone=function(){return new u({description:this.description,elements:l.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return F}(d.Element);c.__decorate([f.property({json:{write:!0}})],b.prototype,"elements",void 0);c.__decorate([e.cast("elements")],b.prototype,"castElements",null);c.__decorate([r.reader("elements",["formElements"])],b.prototype,"readElements",null);c.__decorate([w.writer("elements")],b.prototype,"writeElements",null);c.__decorate([f.property({type:["collapsed","expanded"],json:{default:"expanded",write:!0}})],b.prototype,"initialState",
void 0);c.__decorate([f.property({type:String,json:{read:!1,write:!0}})],b.prototype,"type",void 0);b=u=c.__decorate([p.subclass("esri.form.elements.GroupElement")],b);const t=g.buildTypeMaps(b);return b})},"esri/tasks/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../geometry ../../Graphic ../../layers/support/Field".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){const H=new k.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});b=function(C){function A(y){y=C.call(this,y)||this;y.displayFieldName=null;y.exceededTransferLimit=!1;y.features=[];y.fields=null;y.geometryType=null;y.hasM=!1;y.hasZ=!1;y.queryGeometry=null;y.spatialReference=null;return y}a._inheritsLoose(A,C);var E=
A.prototype;E.readFeatures=function(y,x){x=g.fromJSON(x.spatialReference);const z=[];for(let v=0;v<y.length;v++){var D=y[v];const G=B.fromJSON(D);D=D.geometry&&D.geometry.spatialReference;l.isSome(G.geometry)&&!D&&(G.geometry.spatialReference=x);z.push(G)}return z};E.writeGeometryType=function(y,x,z,D){if(y)H.write(y,x,z,D);else if({features:y}=this,y)for(const v of y)if(v&&l.isSome(v.geometry)){H.write(v.geometry.type,x,z,D);break}};E.readQueryGeometry=function(y,x){if(!y)return null;const z=!!y.spatialReference;
y=u.fromJSON(y);!z&&x.spatialReference&&(y.spatialReference=g.fromJSON(x.spatialReference));return y};E.writeSpatialReference=function(y,x){if(y)x.spatialReference=y.toJSON();else if({features:y}=this,y)for(const z of y)z&&l.isSome(z.geometry)&&z.geometry.spatialReference&&(x.spatialReference=z.geometry.spatialReference.toJSON())};E.toJSON=function(y){const x=this.write(null);if(x.features&&Array.isArray(y)&&0<y.length)for(let z=0;z<x.features.length;z++){const D=x.features[z];if(D.geometry){const v=
y&&y[z];D.geometry=v&&v.toJSON()||D.geometry}}return x};E.quantize=function(y){const {scale:[x,z],translate:[D,v]}=y,G=this.features,I=this._getQuantizationFunction(this.geometryType,O=>Math.round((O-D)/x),O=>Math.round((v-O)/z));for(let O=0,L=G.length;O<L;O++)I(l.unwrap(G[O].geometry))||(G.splice(O,1),O--,L--);this.transform=y;return this};E.unquantize=function(){const {geometryType:y,features:x,transform:z}=this;if(!z)return this;const {translate:[D,v],scale:[G,I]}=z,O=this._getHydrationFunction(y,
L=>L*G+D,L=>v-L*I);for(const {geometry:L}of x)l.isSome(L)&&O(L);this.transform=null;return this};E._quantizePoints=function(y,x,z){let D,v;const G=[];for(let O=0,L=y.length;O<L;O++){var I=y[O];if(0<O){const N=x(I[0]);I=z(I[1]);if(N!==D||I!==v)G.push([N-D,I-v]),D=N,v=I}else D=x(I[0]),v=z(I[1]),G.push([D,v])}return 0<G.length?G:null};E._getQuantizationFunction=function(y,x,z){return"point"===y?D=>{D.x=x(D.x);D.y=z(D.y);return D}:"polyline"===y||"polygon"===y?D=>{const v=u.isPolygon(D)?D.rings:D.paths,
G=[];for(let I=0,O=v.length;I<O;I++){const L=this._quantizePoints(v[I],x,z);L&&G.push(L)}return 0<G.length?(u.isPolygon(D)?D.rings=G:D.paths=G,D):null}:"multipoint"===y?D=>{let v;v=this._quantizePoints(D.points,x,z);return 0<v.length?(D.points=v,D):null}:"extent"===y?D=>D:null};E._getHydrationFunction=function(y,x,z){if("point"===y)return D=>{D.x=x(D.x);D.y=z(D.y)};if("polyline"===y||"polygon"===y)return D=>{D=u.isPolygon(D)?D.rings:D.paths;let v,G;for(let I=0,O=D.length;I<O;I++){const L=D[I];for(let N=
0,R=L.length;N<R;N++){const K=L[N];0<N?(v+=K[0],G+=K[1]):(v=K[0],G=K[1]);K[0]=x(v);K[1]=z(G)}}};if("extent"===y)return D=>{D.xmin=x(D.xmin);D.ymin=z(D.ymin);D.xmax=x(D.xmax);D.ymax=z(D.ymax)};if("multipoint"===y)return D=>{D=D.points;let v,G;for(let I=0,O=D.length;I<O;I++){const L=D[I];0<I?(v+=L[0],G+=L[1]):(v=L[0],G=L[1]);L[0]=x(v);L[1]=z(G)}}};return A}(d.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0);c.__decorate([e.property({type:Boolean,
json:{write:{overridePolicy(C){return{enabled:C}}}}})],b.prototype,"exceededTransferLimit",void 0);c.__decorate([e.property({type:[B],json:{write:!0}})],b.prototype,"features",void 0);c.__decorate([r.reader("features")],b.prototype,"readFeatures",null);c.__decorate([e.property({type:[F],json:{write:!0}})],b.prototype,"fields",void 0);c.__decorate([e.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:H.read}}})],b.prototype,"geometryType",void 0);c.__decorate([w.writer("geometryType")],
b.prototype,"writeGeometryType",null);c.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(C){return{enabled:C}}}}})],b.prototype,"hasM",void 0);c.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(C){return{enabled:C}}}}})],b.prototype,"hasZ",void 0);c.__decorate([e.property({types:t.geometryTypes,json:{write:!0}})],b.prototype,"queryGeometry",void 0);c.__decorate([r.reader("queryGeometry")],b.prototype,"readQueryGeometry",null);c.__decorate([e.property({type:g,json:{write:!0}})],
b.prototype,"spatialReference",void 0);c.__decorate([w.writer("spatialReference")],b.prototype,"writeSpatialReference",null);c.__decorate([e.property({json:{write:!0}})],b.prototype,"transform",void 0);b=c.__decorate([p.subclass("esri.tasks.support.FeatureSet")],b);b.prototype.toJSON.isDefaultToJSON=!0;(function(C){})(b||(b={}));return b})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./domains ./fieldType".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;const t=new e.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=u=function(B){function F(C){C=B.call(this,
C)||this;C.alias=null;C.defaultValue=void 0;C.description=null;C.domain=null;C.editable=!0;C.length=-1;C.name=null;C.nullable=!0;C.type=null;C.valueType=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H.readDescription=function(C,{description:A}){let E;try{E=JSON.parse(A)}catch(y){}return E?E.value:null};H.readValueType=function(C,{description:A}){let E;try{E=JSON.parse(A)}catch(y){}return E?t.fromJSON(E.fieldValueType):null};H.clone=function(){return new u({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return F}(h.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);c.__decorate([f.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);c.__decorate([f.property()],b.prototype,"description",void 0);c.__decorate([r.reader("description")],
b.prototype,"readDescription",null);c.__decorate([f.property({types:d.types,json:{read:{reader:d.fromJSON},write:!0}})],b.prototype,"domain",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);c.__decorate([f.property({type:m.Integer,json:{write:!0}})],b.prototype,"length",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);c.__decorate([k.enumeration(g.kebabDict)],
b.prototype,"type",void 0);c.__decorate([f.property()],b.prototype,"valueType",void 0);c.__decorate([r.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=u=c.__decorate([p.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,c){c=new c.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../core/Error ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/promiseUtils ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils ../../../geometry ../../../core/Collection ../../../core/Promise ../../../core/Loadable ../../../Graphic ../../../core/workers/workers ../../../tasks/operations/zscale ../../../tasks/operations/queryZScale ../../../tasks/support/FeatureSet".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D){let v=0;const G=f.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(I){function O(N){N=I.call(this,N)||this;N._idToClientGraphic=null;N.type="memory";return N}c._inheritsLoose(O,I);var L=O.prototype;L.load=function(N){N=m.isSome(N)?N.signal:null;this.addResolvingPromise(this._startWorker(N));return g.resolve(this)};L.destroy=function(){var N;null==(N=this._connection)?void 0:N.close();this._connection=null};
L.applyEdits=function(N){return this.load().then(()=>this._applyEdits(N))};L.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};L.queryFeatures=async function(N,R={}){await this.load(R);R=await this._connection.invoke("queryFeatures",N?N.toJSON():null,R);z.applyFeatureSetZUnitScaling(N,this.layer.spatialReference,R);N=D.fromJSON(R);if(!this._requiresClientGraphicMapping())return N;R=this.layer.objectIdField;for(const K of N.features){const U=this._idToClientGraphic.get(K.attributes[R]);
U&&(K.geometry=U.geometry)}N.geometryType=this.layer.geometryType;return N};L.queryFeaturesJSON=async function(N,R={}){if(this._requiresClientGraphicMapping())return g.reject(new n("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)"));await this.load(R);R=await this._connection.invoke("queryFeatures",N?N.toJSON():null,R);z.applyFeatureSetZUnitScaling(N,this.layer.spatialReference,R);return R};L.queryFeatureCount=function(N,R={}){return this.load(R).then(()=>
this._connection.invoke("queryFeatureCount",N?N.toJSON():null,R))};L.queryObjectIds=function(N,R={}){return this.load(R).then(()=>this._connection.invoke("queryObjectIds",N?N.toJSON():null,R))};L.queryExtent=function(N,R={}){return this.load(R).then(()=>this._connection.invoke("queryExtent",N?N.toJSON():null,R)).then(K=>({count:K.count,extent:u.fromJSON(K.extent)}))};L._applyEdits=function(N){if(!this._connection)throw new n("feature-layer-source:edit-failure","Memory source not loaded");const R=
this.layer.objectIdField;let K=null;const U=[],P=[],J=W=>"objectId"in W&&null!=W.objectId?W.objectId:"attributes"in W&&null!=W.attributes[R]?W.attributes[R]:null;N.addFeatures&&(K=this._prepareAddFeatures(N.addFeatures));if(N.deleteFeatures)for(const W of N.deleteFeatures){const M=J(W);null!=M&&U.push(M)}const S=N.updateFeatures&&this._idToClientGraphic?new Map:null;if(N.updateFeatures)for(const W of N.updateFeatures)P.push(this._serializeFeature(W)),S&&(N=J(W),null!=N&&S.set(N,W));x.unapplyEditsZUnitScaling(K?
K.features:null,P,this.layer.spatialReference);return this._connection.invoke("applyEdits",{adds:K?K.features:[],updates:P,deletes:U}).then(({fullExtent:W,featureEditResults:M})=>{this.fullExtent=W;K&&K.finish(M.uidToObjectId);if(this._idToClientGraphic){if(S)for(const T of M.updateResults)T.success&&(W=S.get(T.objectId),null!=W&&this._addIdToClientGraphic(W));for(const T of M.deleteResults)T.success&&this._idToClientGraphic.delete(T.objectId)}return this._createEditsResult(M)})};L._createEditsResult=
function(N){return{addFeatureResults:N.addResults?N.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:N.updateResults?N.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:N.deleteResults?N.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};L._createFeatureEditResult=function(N){const R=!0===N.success?null:N.error||{code:void 0,description:void 0};return{objectId:N.objectId,
globalId:N.globalId,error:R?new n("feature-layer-source:edit-failure",R.description,{code:R.code}):null}};L._prepareAddFeatures=function(N){const R=new Map,K=Array(N.length);let U=null;for(let J=0;J<N.length;J++){const S=N[J],W=this._serializeFeature(S);!U&&m.isSome(S.geometry)&&(U=S.geometry.type);K[J]=W;R.set(`${W.uid}`,S)}const P=this;return{features:K,inferredGeometryType:U,finish(J){const S=P.sourceJSON.objectIdField;for(const W in J){const M=J[W],T=R.get(W);T&&(T.attributes||(T.attributes={}),
-1===M?delete T.attributes[S]:T.attributes[S]=M,P._addIdToClientGraphic(T))}}}};L._addIdToClientGraphic=function(N){if(this._idToClientGraphic){var R=this.sourceJSON.objectIdField;R=N.attributes&&N.attributes[R];null!=R&&this._idToClientGraphic.set(R,N)}};L._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layer.geometryType||this.sourceJSON.geometryType)};L._geometryRequiresClientGraphicMapping=function(N){return this._geometryTypeRequiresClientGraphicMapping(N.type)};
L._geometryTypeRequiresClientGraphicMapping=function(N){return"mesh"===N||"multipatch"===N||"extent"===N};L._serializeFeature=function(N){const {attributes:R}=N;N=this._geometryForSerialization(N);const K=(v++).toString();return N?{uid:K,geometry:N.toJSON(),attributes:R}:{uid:K,attributes:R}};L._geometryForSerialization=function(N){({geometry:N}=N);return m.isNone(N)?null:this._geometryRequiresClientGraphicMapping(N)?N.extent?t.fromExtent(N.extent):null:N};L._startWorker=async function(N){this._connection=
await y.open("MemorySourceWorker",{strategy:l("feature-layers-workers")?"dedicated":"local",signal:N});const {fields:R,spatialReference:K,objectIdField:U,hasM:P,hasZ:J,timeInfo:S}=this.layer;var W="defaults"===this.layer.originOf("spatialReference");const M=this._prepareAddFeatures(this.items);this.on("before-changes",X=>{G.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");X.preventDefault()});W={features:M.features,fields:R&&R.map(X=>X.toJSON()),
geometryType:B.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:P,hasZ:J,objectIdField:U,spatialReference:W?null:K&&K.toJSON(),timeInfo:S?S.toJSON():null};N=await this._connection.invoke("load",W,{signal:N});for(var T of N.warnings)G.warn(T.message,{layer:this.layer,warning:T});N.featureErrors.length&&G.warn(`Encountered ${N.featureErrors.length} validation errors while loading features`,N.featureErrors);T=N.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(M.inferredGeometryType)&&
(T.geometryType=B.typeKebabDictionary.toJSON(M.inferredGeometryType));if("mesh"===T.geometryType||"mesh"===this.layer.geometryType)T.hasZ=!0;this.sourceJSON=T;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);M.finish(N.assignedObjectIds)};c._createClass(O,[{key:"workerGeometryType",get:function(){const N=this.layer&&this.layer.geometryType;return N?this._geometryTypeRequiresClientGraphicMapping(N)?"polygon":N:null}}]);return O}(A.LoadableMixin(C.EsriPromiseMixin(H)));b.__decorate([p.shared({Type:E,
ensureType:e.ensureType(E)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([k.property()],a.MemorySource.prototype,"type",void 0);b.__decorate([k.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([k.property({readOnly:!0,dependsOn:["layer.geometryType"]})],a.MemorySource.prototype,"workerGeometryType",null);b.__decorate([k.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([w.subclass("esri.layers.graphics.sources.MemorySource")],
a.MemorySource);a.default=a.MemorySource;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(c){return(b,l)=>{b[l]=c}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/workers":function(){define("require exports ../has ../Error ../promiseUtils ./RemoteClient ./Connection ./WorkerOwner".split(" "),function(a,c,b,l,m,f,e,k){function r(u){if(u&&u.__esModule)return u;var t=Object.create(null);
u&&Object.keys(u).forEach(function(B){if("default"!==B){var F=Object.getOwnPropertyDescriptor(u,B);Object.defineProperty(t,B,F.get?F:{enumerable:!0,get:function(){return u[B]}})}});t["default"]=u;return Object.freeze(t)}async function p(u,t){const B=new e;await B.open(u,t);return B}async function w(){if(d)return d;g=m.createAbortController();const u=[];for(let t=0;t<n;t++){const B=k.create(t).then(F=>h[t]=F);u.push(B)}return d=m.all(u)}let n=b("esri-workers-debug")?1:b("host-browser")?navigator.hardwareConcurrency-
1:0;n||(n=b("safari")&&b("mac")||b("trident")?7:2);let q=0;const h=[];let d=null,g;c.RemoteClient=f;c.Connection=e;c.initialize=function(){w()};c.open=async function(u,t={}){if("string"!==typeof u)throw new l("workers:undefined-module","modulePath is missing");var B=t.strategy||"distributed";b("host-webworker")&&!b("esri-workers")&&(B="local");if("local"===B){var F=await f.loadWorker(u);F||(F=await new Promise(function(H,C){a([u],function(A){H(r(A))},C)}));m.throwIfAborted(t.signal);B=t.client||F;
F=f.connect(F);return p([F],{...t,client:B})}await w();m.throwIfAborted(t.signal);if("dedicated"===B)return B=q++%n,B=await h[B].open(u,t),p([B],t);if(t.maxNumWorkers&&0<t.maxNumWorkers&&(B=Math.min(t.maxNumWorkers,n),B<n)){F=Array(B);for(let H=0;H<B;++H){const C=q++%n;F[H]=h[C].open(u,t)}return p(F,t)}B=h.map(H=>H.open(u,t));return p(B,t)};c.openWithPorts=function(u,t){return p(u,{client:t})};c.terminate=function(){d&&(g.abort(),d=null);for(let u=0;u<h.length;u++)h[u]&&h[u].terminate();h.length=
0};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/workers/RemoteClient":function(){define("../maybe ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),function(a,c,b,l,m,f,e){const {CLOSE:k,ABORT:r,INVOKE:p,RESPONSE:w,OPEN_PORT:n,ON:q}=f.MessageType;let h=function(){function g(t){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=t;this._timer=null;this._process=this._process.bind(this)}var u=g.prototype;
u.push=function(t){t.type===f.MessageType.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),null===this._timer&&(this._timer=setTimeout(this._process,0)))};u.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};u._process=function(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear();this._invokeMessages.length=0};return g}(),d=function(){function g(t,B){this._port=
t;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new h(F=>this._onInvokeMessage(F));this._messageQueue=[];this._client=B.client;this._onMessage=this._onMessage.bind(this);this._channel=B.channel;B.scheduler&&(this._frameTask=B.scheduler.registerTask(e.Task.REMOTE_CLIENT,F=>this._update(F),()=>0<this._messageQueue.length));this._port.addEventListener("message",this._onMessage);this._port.start()}g.connect=function(t){const B=new MessageChannel;t="function"===typeof t?new t:"default"in
t&&"function"===typeof t.default?new t.default:t;const F=new g(B.port1,{channel:B,client:t});"object"===typeof t&&"remoteClient"in t&&(t.remoteClient=F);g.clients.set(F,t);return B.port2};g.loadWorker=function(t){return(t=m.registry[t])?t():l.resolve(null)};var u=g.prototype;u.close=function(){this._post({type:k});this._close()};u.isBusy=function(){return 0<this._outJobs.size};u.invoke=function(t,B,F){const H=F&&F.signal,C=F&&F.transferList;if(!this._port)return l.reject(new c("worker:port-closed",
`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:B}));const A=f.newJobId();return l.create((E,y)=>{const x=l.onAbortOrThrow(H,()=>{var z;const D=this._outJobs.get(A);D&&(this._outJobs.delete(A),null==(z=D.abortHandle)?void 0:z.remove(),this._post({type:r,jobId:A}),y(l.createAbortError()))});this._outJobs.set(A,{resolve:E,reject:y,abortHandle:x,debugInfo:t});this._post({type:p,jobId:A,methodName:t,abortable:null!=H},B,C)})};u.on=function(t,B){function F(C){B(C.data)}const H=new MessageChannel;
this._port.postMessage({type:f.MessageType.ON,eventType:t,port:H.port2},[H.port2]);H.port1.addEventListener("message",F);H.port1.start();return{remove(){H.port1.postMessage({type:f.MessageType.CLOSE});H.port1.close();H.port1.removeEventListener("message",F)}}};u.openPort=function(){const t=new MessageChannel;this._post({type:n,port:t.port2});return t.port1};u._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(t=>
{var B;null==(B=t.abortHandle)?void 0:B.remove();t.reject(l.createAbortError(`Worker closing, aborting job calling '${t.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask=a.removeMaybe(this._frameTask)};u._onMessage=function(t){a.isSome(this._frameTask)?this._messageQueue.push(t):this._processMessage(t)};u._processMessage=function(t){if(t=f.receiveMessage(t))switch(t.type){case w:this._onResponseMessage(t);break;case p:this._invokeQueue.push(t);
break;case r:this._onAbortMessage(t);break;case k:this._onCloseMessage();break;case n:this._onOpenPortMessage(t);break;case q:this._onOnMessage(t)}};u._onAbortMessage=function(t){const B=this._inJobs,F=t.jobId,H=B.get(F);this._invokeQueue.push(t);H&&(H.controller&&H.controller.abort(),B.delete(F))};u._onCloseMessage=function(){const t=this._client;this._close();t&&"destroy"in t&&g.clients.get(this)===t&&t.destroy();g.clients.delete(this);t&&t.remoteClient&&(t.remoteClient=null)};u._onInvokeMessage=
function(t){const {methodName:B,jobId:F,data:H,abortable:C}=t;t=C?l.createAbortController():null;const A=this._inJobs;let E=this._client,y=E[B],x;try{if(!y&&B&&-1!==B.indexOf(".")){const z=B.split(".");for(let D=0;D<z.length-1;D++)E=E[z[D]],y=E[z[D+1]]}if("function"!==typeof y)throw new TypeError(`${B} is not a function`);x=y.call(E,H,{client:this,signal:t?t.signal:null})}catch(z){this._post({type:w,jobId:F,error:f.toInvokeError(z)});return}l.isPromiseLike(x)?(A.set(F,{controller:t,promise:x}),x.then(z=>
{A.has(F)&&(A.delete(F),this._post({type:w,jobId:F},z))},z=>{A.has(F)&&(A.delete(F),l.isAbortError(z)||this._post({type:w,jobId:F,error:f.toInvokeError(z||{message:`Error encountered at method ${B}`})}))})):this._post({type:w,jobId:F},x)};u._onOpenPortMessage=function(t){new g(t.port,{client:this._client})};u._onOnMessage=function(t){const {port:B}=t,F=this._client.on(t.eventType,C=>{B.postMessage(C)}),H=b.on(t.port,"message",C=>{f.receiveMessage(C).type===f.MessageType.CLOSE&&(H.remove(),F.remove(),
B.close())})};u._onResponseMessage=function(t){var B;const {jobId:F,error:H,data:C}=t;t=this._outJobs;if(t.has(F)){var A=t.get(F);t.delete(F);null==(B=A.abortHandle)?void 0:B.remove();H?A.reject(c.fromJSON(JSON.parse(H))):A.resolve(C)}};u._update=function(t){for(;!t.done&&0<this._messageQueue.length;)this._processMessage(this._messageQueue.shift()),t.madeProgress()};u._post=function(t,B,F){return f.postMessage(this._port,t,B,F)};return g}();d.clients=new Map;return d})},"esri/core/workers/registry":function(){define(["require",
"exports"],function(a,c){function b(l){return Object.freeze({__proto__:null,"default":l})}c.registry={geometryEngineWorker:()=>new Promise(function(l,m){a(["../../geometry/geometryEngineWorker"],l,m)}),CSVSourceWorker:()=>new Promise(function(l,m){a(["../../layers/graphics/sources/support/CSVSourceWorker"],l,m)}),EdgeProcessingWorker:()=>new Promise(function(l,m){a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],l,m)}),ElevationSamplerWorker:()=>new Promise(function(l,m){a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],
l,m)}),GeoJSONSourceWorker:()=>new Promise(function(l,m){a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],function(f){l(b(f))},m)}),LercWorker:()=>new Promise(function(l,m){a(["../../layers/support/LercWorker"],function(f){l(b(f))},m)}),MemorySourceWorker:()=>new Promise(function(l,m){a(["../../layers/graphics/sources/support/MemorySourceWorker"],function(f){l(b(f))},m)}),PBFDecoderWorker:()=>new Promise(function(l,m){a(["../../views/3d/support/PBFDecoderWorker"],function(f){l(b(f))},
m)}),Pipeline:()=>new Promise(function(l,m){a(["../../views/2d/layers/features/Pipeline"],l,m)}),PointCloudWorker:()=>new Promise(function(l,m){a(["../../views/3d/layers/PointCloudWorker"],function(f){l(b(f))},m)}),RasterWorker:()=>new Promise(function(l,m){a(["../../layers/support/RasterWorker"],function(f){l(b(f))},m)}),SceneLayerWorker:()=>new Promise(function(l,m){a(["../../views/3d/layers/SceneLayerWorker"],l,m)}),WorkerTileHandler:()=>new Promise(function(l,m){a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],
function(f){l(b(f))},m)})};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,c){function b(f){return f&&"object"===typeof f&&("result"in f||"transferList"in f)}function l(f){if(!f||!f.length)return null;if(c("esri-workers-arraybuffer-transfer"))return f;f=f.filter(e=>!(e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name));return f.length?f:null}(function(f){f[f.HANDSHAKE=0]="HANDSHAKE";f[f.CONFIGURE=
1]="CONFIGURE";f[f.CONFIGURED=2]="CONFIGURED";f[f.OPEN=3]="OPEN";f[f.OPENED=4]="OPENED";f[f.RESPONSE=5]="RESPONSE";f[f.INVOKE=6]="INVOKE";f[f.ABORT=7]="ABORT";f[f.CLOSE=8]="CLOSE";f[f.OPEN_PORT=9]="OPEN_PORT";f[f.ON=10]="ON"})(a.MessageType||(a.MessageType={}));let m=0;a.isTranferableResult=b;a.newJobId=function(){return m++};a.postMessage=function(f,e,k,r){e.type===a.MessageType.OPEN_PORT?f.postMessage(e,[e.port]):e.type!==a.MessageType.INVOKE&&e.type!==a.MessageType.RESPONSE?f.postMessage(e):(b(k)?
(r=l(k.transferList),e.data=k.result):(r=l(r),e.data=k),r?f.postMessage(e,r):f.postMessage(e))};a.receiveMessage=function(f){return f?(f=f.data)?"string"===typeof f?JSON.parse(f):f:null:null};a.toInvokeError=function(f){return f?"string"===typeof f?JSON.stringify({name:"message",message:f}):f.toJSON?JSON.stringify(f):JSON.stringify({name:f.name,message:f.message,details:f.details||{stack:f.stack}}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/Accessor ../../core/watchUtils ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){function H(G){return G in A?A[G]:"number"===typeof G?G:1}const C=f.getLogger("esri.views.support.Scheduler");(function(G){G.REMOTE_CLIENT="remote client";G.STREAM_DATA_LOADER="stream loader";G.ELEVATION_QUERY="elevation query";G.TERRAIN_SURFACE="terrain surface";G.SURFACE_GEOMETRY_UPDATES="surface geometry updates";G.GRAPHICS_CORE="Graphics3D";G.I3S_CONTROLLER="I3S";G.POINT_CLOUD_LAYER="point cloud";G.FEATURE_TILE_FETCHER="feature fetcher";G.FEATURE_FETCH_QUEUE=
"feature fetch queue";G.LABELER="labeler";G.GRAPHICS_DECONFLICTOR="graphics deconflictor";G.FILTER_VISIBILITY="Graphics3D filter visibility";G.FEATURE_QUERY_ENGINE="feature query";G.SCALE_VISIBILITY="Graphics3D scale visibility";G.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";G.POINT_OF_INTEREST_FREQUENT="POI frequent";G.POINT_OF_INTEREST_INFREQUENT="POI infrequent";G.FEATURE_TILE_TREE="feature tile tree";G.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";G.ELEVATION_ALIGNMENT="elevation alignment";
G.TEXT_TEXTURE_ATLAS="text texture atlas";G.TEXTURE_UNLOAD="texture unload";G.OVERLAY_MANAGER="overlay manager";G.LINE_OF_SIGHT_TOOL="line of sight tool";G.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";G.ELEVATION_PROFILE="elevation profile";G[G.TEST_PRIO=1]="TEST_PRIO"})(a.Task||(a.Task={}));const A={[a.Task.REMOTE_CLIENT]:1,[a.Task.STREAM_DATA_LOADER]:1,[a.Task.FEATURE_FETCH_QUEUE]:1,[a.Task.ELEVATION_QUERY]:1,[a.Task.TERRAIN_SURFACE]:2,[a.Task.SURFACE_GEOMETRY_UPDATES]:2,[a.Task.GRAPHICS_CORE]:3,
[a.Task.I3S_CONTROLLER]:4,[a.Task.POINT_CLOUD_LAYER]:4,[a.Task.FEATURE_TILE_FETCHER]:4,[a.Task.LABELER]:8,[a.Task.GRAPHICS_DECONFLICTOR]:8,[a.Task.FILTER_VISIBILITY]:8,[a.Task.FEATURE_QUERY_ENGINE]:8,[a.Task.SCALE_VISIBILITY]:8,[a.Task.FRUSTUM_VISIBILITY]:8,[a.Task.POINT_OF_INTEREST_FREQUENT]:6,[a.Task.POINT_OF_INTEREST_INFREQUENT]:30,[a.Task.FEATURE_TILE_TREE]:16,[a.Task.FEATURE_TILE_TREE_ACTIVE]:1,[a.Task.ELEVATION_ALIGNMENT]:12,[a.Task.TEXT_TEXTURE_ATLAS]:12,[a.Task.TEXTURE_UNLOAD]:12,[a.Task.OVERLAY_MANAGER]:12,
[a.Task.LINE_OF_SIGHT_TOOL]:16,[a.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE]:1},E=1E3/30;var y;(function(G){let I=function(){function N(K){this._now=K;this.updating=!0;this.performanceInfo={total:new h("total"),tasks:[]};this._budget=null;this._state=1;this._tasks=new d;this._runQueue=new d;this._load=0;this._idleStateCallbacks=new d;this._idleUpdatesStartFired=!1;this._maxReschedule=z;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=t.init(F,"SCHEDULER_LOG_SLOW_TASKS",J=>this._debug=
J);this._budget=new L(K);v.length=0;for(const J in a.Task)D.set(a.Task[J],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new h(a.Task[J])),v.push(0);let U;const P=this;this._test={get state(){return m.isNone(U)?P._state:U},set state(J){U=J},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:E,IDLE_BUDGET:100,get budget(){return P._budget.budget},usedBudget:0,updateTask:J=>this._updateTask(J),getState:J=>this._getState(J),getRuntime:J=>this._getRuntime(J),resetRuntimes:()=>this._resetRuntimes(),
getRunning:()=>this._getRunning()}}var R=N.prototype;R.destroy=function(){this._debugHandle&&this._debugHandle.remove()};R.registerTask=function(K,U,P){const J=H(K);K=new O(this,K,U,P,J);this._tasks.push(K);return K};R.registerIdleStateCallbacks=function(K,U){const P={idleBegin:K,idleEnd:U};this._idleStateCallbacks.push(P);2===this.state&&this._idleUpdatesStartFired&&P.idleBegin();const J=this;return{remove:()=>this._removeIdleStateCallbacks(P),set idleBegin(S){J._idleUpdatesStartFired&&(P.idleEnd(),
2===J._state&&S());P.idleBegin=S},set idleEnd(S){P.idleEnd=S}}};R.updateBudget=function(K){this._test.usedBudget=0;this._safetyBudget=5;let U=K.frameDuration,P=1;switch(this.state){case 2:this._safetyBudget=0;U=Math.max(100,K.frameDuration);P=30;break;case 1:U=Math.max(E,K.frameDuration)}U-=K.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>U&&!this._forceTask)return this._forceTask=!0,!1;U=Math.max(U,P);this._budget.reset(U,this.state);this._maxReschedule=z;this._updateLoad();return this._schedule()};
R.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(K=>K.idleBegin()));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};R._removeIdleStateCallbacks=function(K){this._idleUpdatesStartFired&&K.idleEnd();this._idleStateCallbacks.removeUnordered(K)};R.removeTask=function(K){this._tasks.removeUnordered(K);this._runQueue.removeUnordered(K)};
R._updateTask=function(K){this._tasks.forAll(U=>{U.name===K&&U.setPriority(K)})};R._getState=function(K){if(this._runQueue.some(P=>P.name===K))return a.TaskState.SCHEDULED;let U=a.TaskState.IDLE;this._tasks.forAll(P=>{P.name===K&&P.needsUpdate&&(1>=P.schedulePriority?U=a.TaskState.READY:U!==a.TaskState.READY&&(U=a.TaskState.WAITING))});return U};R._getRuntime=function(K){let U=0;this._tasks.forAll(P=>{P.name===K&&(U+=P.runtime)});return U};R._resetRuntimes=function(){this._tasks.forAll(K=>K.runtime=
0)};R._getRunning=function(){const K=new Map;this._tasks.forAll(P=>{P.needsUpdate&&K.set(P.name,(K.get(P.name)||0)+1)});if(0===K.size)return null;let U="";K.forEach((P,J)=>{U=1<P?U+` ${P}x ${J}`:U+` ${J}`});return U};R._runIdle=function(){this._run()};R._runInteracting=function(){this._run()};R._runAnimating=function(){this._run()};R._updateLoad=function(){const K=this._tasks.reduce((U,P)=>P.needsUpdate?++U:U,0);this._load=.9*this._load+K*(1-.9)};R._schedule=function(){if(0>=this._maxReschedule)return!1;
for(this._runQueue.filterInPlace(K=>{if(K.needsUpdate)return!0;K.schedulePriority=K.priority;return!1});0===this._runQueue.length;){let K=!1,U=0;this._tasks.forAll(P=>{if(0!==P.schedulePriority&&P.needsUpdate)switch(K=!0,U=Math.max(U,P.priority),P.schedulePriority){case 1:P.schedulePriority=0;this._runQueue.push(P);break;default:--P.schedulePriority}});if(!K)return this.updating=!1;this._maxReschedule===z&&(this._maxReschedule=U);--this._maxReschedule}return this.updating=!0};R._run=function(){const K=
this._budget.now();for(var U=0;U<v.length;++U)v[U]=0;do for(;0<this._runQueue.length;){var P=this._budget.now();U=this._runQueue.pop();this._budget.resetProgress();try{U.processQueue(this._budget),!this._budget.done&&U.needsUpdate&&U.update(this._budget)}catch(J){C.error(`Exception in task "${U.name}"`,J)}U.schedulePriority=U.priority;P=this._budget.now()-P;U.runtime+=P;v[D.get(U.task)]+=P;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",U.name,"used",this._budget.elapsed,
"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._recordFrameTaskTimes(v,this._budget.now()-K);return}}while(this._schedule());this._recordFrameTaskTimes(v,this._budget.now()-K)};R._recordFrameTaskTimes=function(K,U){for(let P=0;P<K.length;++P)this.performanceInfo.tasks[P].record(K[P]);this.performanceInfo.total.record(U)};c._createClass(N,[{key:"now",get:function(){return this._now()}},{key:"load",get:function(){return this._load}},{key:"state",set:function(K){this._state!==
K&&(this._state=K,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(U=>U.idleEnd())))},get:function(){return m.isNone(this._test.state)?this._state:this._test.state}},{key:"test",get:function(){return this._test}}]);return N}();G.Scheduler=I;let O=function(N){function R(U,P,J,S,W){var M=N.call(this,{})||this;M._scheduler=U;M.name=P;M.update=J;M._needsUpdateCB=S;M._priority=W;M.runtime=0;M._queue=new B;M.updating=!1;M.schedulePriority=M._priority;
return M}c._inheritsLoose(R,N);var K=R.prototype;K.normalizeCtorArgs=function(){return{}};K.remove=function(){this.processQueue(x);this._scheduler.removeTask(this)};K.setPriority=function(U){this.name=U;this._priority=H(U);0!==this.schedulePriority&&(this.schedulePriority=this._priority)};K.schedule=function(U,P){this.updating=!0;return this._queue.push(U,P)};K.reschedule=function(U,P){this.updating=!0;return this._queue.unshift(U,P)};K.processQueue=function(U){for(;!U.done&&this._queue.process();)U.madeProgress();
0===this._queue.length&&(this.updating=!1)};c._createClass(R,[{key:"priority",get:function(){return this._priority}},{key:"task",get:function(){return this.name},set:function(U){this.setPriority(U)}},{key:"needsUpdate",get:function(){return 0<this._queue.length||this._needsUpdateCB()}}]);return R}(u);b.__decorate([k.property()],O.prototype,"updating",void 0);O=b.__decorate([p.subclass("esri.views.support.SchedulerTask")],O);let L=function(){function N(K){this.now=K;this._budget=this._begin=0;this._state=
2;this._didWork=!1;this._enabled=!0}var R=N.prototype;R.run=function(K){if(this.done)return!1;!0===K()&&(this._didWork=!0);return!0};R.madeProgress=function(){this._didWork=!0};R.reset=function(K,U){this._begin=this.now();this._budget=K;this._state=U;this._didWork=!1};R.resetProgress=function(){this._didWork=!1};c._createClass(N,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},
{key:"enabled",get:function(){return this._enabled},set:function(K){this._enabled=K}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return N}();G.Budget=L})(y||(y={}));(function(G){G.SCHEDULED="s";G.READY="r";G.WAITING="w";G.IDLE="i"})(a.TaskState||(a.TaskState={}));const x=(()=>{const G=new y.Budget(()=>performance.now());G.enabled=!1;return G})();
l=new (function(){function G(){}var I=G.prototype;I.remove=function(){};I.schedule=function(O){return g.when(O())};I.reschedule=function(O){return g.when(O())};return G}());const z=Number.MAX_SAFE_INTEGER,D=new Map,v=[];a.ImmediateTask=l;a.getTaskPriority=H;a.newScheduler=function(G){return new y.Scheduler(G)};a.noBudget=x;a.taskPriorities=A;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./lang","./events","./promiseUtils"],function(a,c,b,
l){function m(d,g,u,t,B){B=d.watch(g,(H,C,A,E)=>{if(!u||u(H))null==t?void 0:t.call(d,H,C,A,E)},B);if(Array.isArray(g))for(var F of g){const H=d.get(F);u&&u(H)&&(null==t?void 0:t.call(d,H,H,g,d))}else F=d.get(g),u&&u(F)&&(null==t?void 0:t.call(d,F,F,g,d));return B}function f(d,g,u,t,B){function F(){E&&(E.remove(),E=null)}const H="function"===typeof t?t:null,C="object"===typeof t?t:null;"boolean"===typeof t&&(B=t);let A=!1,E;const y=l.createDeferred();l.onAbort(C,()=>{F();y.reject(l.createAbortError())});
t={then:y.promise.then.bind(y.promise),catch:y.promise.catch.bind(y.promise),remove:F};Object.freeze(t);E=m(d,g,u,(x,z,D,v)=>{A=!0;F();H&&H.call(d,x,z,D,v);y.resolve({value:x,oldValue:z,propertyName:D,target:v})},B);A&&F();return t}function e(d){return!!d}function k(d){return!d}function r(d){return!0===d}function p(d){return!1===d}function w(d){return void 0!==d}function n(d){return void 0===d}function q(d,g,u,t){var B=Array.isArray(g)?g:-1<g.indexOf(",")?g.split(","):[g];g=d.watch(g,u,t);for(const F of B)B=
F.trim().replace(h,"$1"),t=d.get(B),u.call(d,t,t,B,d);return g}const h=/\?(\.|$)/g;a.init=q;a.on=function(d,g,u,t,B,F,H){function C(y){const x=A[y];x&&(F&&F(x.target,y,d,u),x.handle.remove(),delete A[y])}const A={},E=q(d,g,(y,x,z)=>{C(z);b.isEventTarget(y)&&(A[z]={handle:b.on(y,u,t),target:y},B&&B(y,z,d,u))},H);return{remove(){E.remove();for(const y in A)C(y)}}};a.once=function(d,g,u,t){return f(d,g,null,u,t)};a.pausable=function(d,g,u,t){let B=!1;const F=d.watch(g,(H,C,A,E)=>{B||u.call(d,H,C,A,E)},
t);return{remove(){F.remove()},pause(){B=!0},resume(){B=!1}}};a.watch=function(d,g,u,t){return d.watch(g,u,t)};a.when=function(d,g,u,t){return m(d,g,e,u,t)};a.whenDefined=function(d,g,u,t){return m(d,g,w,u,t)};a.whenDefinedOnce=function(d,g,u,t){return f(d,g,w,u,t)};a.whenEqual=function(d,g,u,t,B){return m(d,g,F=>c.equals(u,F),t,B)};a.whenEqualOnce=function(d,g,u,t,B){return f(d,g,F=>c.equals(u,F),t,B)};a.whenFalse=function(d,g,u,t){return m(d,g,p,u,t)};a.whenFalseOnce=function(d,g,u,t){return f(d,
g,p,u,t)};a.whenNot=function(d,g,u,t){return m(d,g,k,u,t)};a.whenNotOnce=function(d,g,u,t){return f(d,g,k,u,t)};a.whenOnce=function(d,g,u,t){return f(d,g,e,u,t)};a.whenTrue=function(d,g,u,t){return m(d,g,r,u,t)};a.whenTrueOnce=function(d,g,u,t){return f(d,g,r,u,t)};a.whenUndefined=function(d,g,u,t){return m(d,g,n,u,t)};a.whenUndefinedOnce=function(d,g,u,t){return f(d,g,n,u,t)};a.whenValidOnce=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define(["../../chunks/_rollupPluginBabelHelpers",
"../../core/promiseUtils"],function(a,c){let b=function(l,m,f,e){this.resolve=l;this.reject=m;this.callback=f;this.signal=e};return function(){function l(){this._tasks=[]}var m=l.prototype;m.push=function(f,e){return c.create((k,r)=>this._tasks.push(new b(k,r,f,e)))};m.unshift=function(f,e){return c.create((k,r)=>this._tasks.unshift(new b(k,r,f,e)))};m.process=function(){if(0===this._tasks.length)return!1;const f=this._tasks.shift();try{c.throwIfAborted(f.signal);const e=f.callback();e&&"object"===
typeof e&&"then"in e&&"function"===typeof e.then?e.then(f.resolve,f.reject):f.resolve(e)}catch(e){f.reject(e)}return!0};m.cancelAll=function(){const f=c.createAbortError();for(const e of this._tasks)e.reject(f);this._tasks.length=0};a._createClass(l,[{key:"length",get:function(){return this._tasks.length}}]);return l}()})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(){var d=q.apply(this,arguments)||this;d.SCHEDULER_LOG_SLOW_TASKS=!1;return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property()],b.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b=c.__decorate([k.subclass("esri.views.support.DebugFlags")],b);return new b})},"esri/core/workers/Connection":function(){define(["../../chunks/_rollupPluginBabelHelpers","../Logger","../handleUtils","../promiseUtils","./RemoteClient"],function(a,c,b,l,m){const f=
c.getLogger("esri.core.workers.Connection");return function(){function e(){this._clients=[];this._clientPromises=[];this._clientIdx=0}var k=e.prototype;k.destroy=function(){this.close()};k.open=function(r,p){return l.create((w,n)=>{let q=!0;const h=d=>{l.throwIfAborted(p.signal);q&&(q=!1,d())};this._clients.length=r.length;this._clientPromises.length=r.length;for(let d=0;d<r.length;++d){const g=r[d];l.isThenable(g)?this._clientPromises[d]=g.then(u=>{this._clients[d]=new m(u,p);h(w);return this._clients[d]},
()=>{h(n);return null}):(this._clients[d]=new m(g,p),this._clientPromises[d]=l.resolve(this._clients[d]),h(w))}})};k.broadcast=function(r,p,w){const n=Array(this._clientPromises.length);for(let q=0;q<this._clientPromises.length;++q)n[q]=this._clientPromises[q].then(h=>h.invoke(r,p,w));return n};k.close=function(){for(const r of this._clientPromises)r.then(p=>p.close());this._clients.length=0;this._clientPromises.length=0};k.getAvailableClient=function(){let r;for(let p=0;p<this._clients.length;++p){const w=
this._clients[p];if(!w)r=r||[],r.push(this._clientPromises[p]);else if(!w.isBusy())return l.resolve(w)}return r?l.first(r):(this._clientIdx=(this._clientIdx+1)%this._clients.length,l.resolve(this._clients[this._clientIdx]))};k.invoke=function(r,p,w){let n=null;Array.isArray(w)?(f.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:w}):n=w;return this.closed?l.reject(Error("Connection closed")):this.getAvailableClient().then(q=>q.invoke(r,p,n))};
k.on=function(r,p){return l.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(w=>w.on(r,p))))};k.openPorts=function(){return l.create(r=>{const p=Array(this._clientPromises.length);let w=p.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(q=>{p[n]=q.openPort();0===--w&&r(p)})})};a._createClass(e,[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return e}()})},
"esri/core/workers/WorkerOwner":function(){define("../Logger ../Error ../promiseUtils ../../kernel ./utils ./workerFactory".split(" "),function(a,c,b,l,m,f){const e=a.getLogger("esri.core.workers"),{ABORT:k,INVOKE:r,OPEN:p,OPENED:w,RESPONSE:n}=m.MessageType;return function(){function q(d,g){this._outJobs=new Map;this._inJobs=new Map;this.worker=d;this.id=g;d.addEventListener("message",this._onMessage.bind(this));d.addEventListener("error",u=>{u.preventDefault();e.error(u)})}q.create=async function(d){const g=
await f.createWorker();return new q(g,d)};var h=q.prototype;h.terminate=function(){this.worker.terminate()};h.open=async function(d,g={}){const {signal:u}=g,t=m.newJobId();return b.create((B,F)=>{const H=b.onAbortOrThrow(u,()=>{this._outJobs.delete(t);this._post({type:k,jobId:t})});this._outJobs.set(t,{resolve:B,reject:F,abortHandle:H});this._post({type:p,jobId:t,modulePath:d})})};h._onMessage=function(d){if(d=m.receiveMessage(d))switch(d.type){case w:this._onOpenedMessage(d);break;case n:this._onResponseMessage(d);
break;case k:this._onAbortMessage(d);break;case r:this._onInvokeMessage(d)}};h._onAbortMessage=function(d){const g=this._inJobs;d=d.jobId;const u=g.get(d);u&&(u.controller&&u.controller.abort(),g.delete(d))};h._onInvokeMessage=function(d){const {methodName:g,jobId:u,data:t,abortable:B}=d;d=B?b.createAbortController():null;const F=this._inJobs,H=l.workerMessages[g];let C;try{if("function"!==typeof H)throw new TypeError(`${g} is not a function`);C=H.call(null,t,{signal:d?d.signal:null})}catch(A){this._post({type:n,
jobId:u,error:m.toInvokeError(A)});return}b.isPromiseLike(C)?(F.set(u,{controller:d,promise:C}),C.then(A=>{F.has(u)&&(F.delete(u),this._post({type:n,jobId:u},A))},A=>{F.has(u)&&(F.delete(u),A||(A={message:"Error encountered at method"+g}),b.isAbortError(A)||this._post({type:n,jobId:u,error:m.toInvokeError(A||{message:`Error encountered at method ${g}`})}))})):this._post({type:n,jobId:u},C)};h._onOpenedMessage=function(d){var g;const {jobId:u,data:t}=d;if(d=this._outJobs.get(u))this._outJobs.delete(u),
null==(g=d.abortHandle)?void 0:g.remove(),d.resolve(t)};h._onResponseMessage=function(d){var g;const {jobId:u,error:t,data:B}=d;if(d=this._outJobs.get(u))this._outJobs.delete(u),null==(g=d.abortHandle)?void 0:g.remove(),t?d.reject(c.fromJSON(JSON.parse(t))):d.resolve(B)};h._post=function(d,g,u){return m.postMessage(this.worker,d,g,u)};return q}()})},"esri/core/workers/workerFactory":function(){define("exports ../has ../../config ../Logger ../urlUtils ../promiseUtils ../../intl/locale ../../request ../../intl ./utils ./loaderConfig ./WorkerFallback".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){async function q(B){return f.create(F=>{function H(A){if(A=p.receiveMessage(A))switch(A.type){case u:A=B;if(null!=b["default"]){var E={...b};delete E["default"];E=JSON.parse(JSON.stringify(E))}else E=JSON.parse(JSON.stringify(b));E.assetsPath=m.makeAbsolute(E.assetsPath);E.locale=e.getLocale();E.has={"csp-restrictions":c("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":c("esri-2d-update-debug"),"esri-atomics":c("esri-atomics"),"esri-secure-context":c("esri-secure-context"),
"esri-shared-array-buffer":c("esri-shared-array-buffer"),"esri-tiles-debug":c("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":c("esri-workers-arraybuffer-transfer"),"host-webworker":1};E.workers.loaderUrl?E.workers.loaderUrl=m.makeAbsolute(E.workers.loaderUrl):w.DEFAULT_LOADER_URL&&(E.workers.loaderUrl=w.DEFAULT_LOADER_URL);E.workers.workerPath=E.workers.workerPath?m.makeAbsolute(E.workers.workerPath):"esri/core/workers/RemoteClient";var y=b.workers.loaderConfig;y=w["default"]({baseUrl:null==
y?void 0:y.baseUrl,locale:e.getLocale(),has:{"csp-restrictions":c("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1,...null==y?void 0:y.has},map:{...null==y?void 0:y.map},paths:{...null==y?void 0:y.paths},packages:(null==y?void 0:y.packages)||[]});A.postMessage({type:g,configure:{esriConfig:E,loaderConfig:y}});break;case d:B.removeEventListener("message",H),B.removeEventListener("error",C),F(B)}}function C(A){A.preventDefault();B.removeEventListener("message",H);B.removeEventListener("error",
C);h.warn("Failed to create Worker. Fallback to execute module in main thread",A);B=new n;B.addEventListener("message",H);B.addEventListener("error",C)}B.addEventListener("message",H);B.addEventListener("error",C)})}const h=l.getLogger("esri.core.workers");c.add("esri-workers-arraybuffer-transfer",!c("safari")||12<=c("safari"));const {CONFIGURED:d,CONFIGURE:g,HANDSHAKE:u}=p.MessageType;let t;try{t=URL.createObjectURL(new Blob(['var esriConfig,workerPath,globalId\x3d0,outgoing\x3dnew Map,configured\x3d!1,HANDSHAKE\x3d0,CONFIGURE\x3d1,CONFIGURED\x3d2,OPEN\x3d3,OPENED\x3d4,RESPONSE\x3d5,INVOKE\x3d6,ABORT\x3d7;function createAbortError(){var e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,r,t){var o\x3dt\x26\x26t.signal,n\x3dglobalId++;return new Promise((function(t,a){if(o){if(o.aborted)return a(createAbortError());o.addEventListener("abort",(function(){outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),a(createAbortError()))}))}outgoing.set(n,{resolve:t,reject:a}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!\x3do,data:r})}))}function messageHandler(e){var r\x3dreceiveMessage(e);if(r){var t\x3dr.jobId;switch(r.type){case CONFIGURE:var o\x3dr.configure;if(configured)return;configured\x3d!0,esriConfig\x3do.esriConfig,workerPath\x3desriConfig.workers.workerPath,self.dojoConfig\x3do.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(o.loaderConfig)),self.postMessage({type:CONFIGURED});break;case OPEN:var n;function a(e){var r\x3dn.connect(e);self.postMessage({type:OPENED,jobId:t,data:r},[r])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(function(e){(n\x3de.default||e).loadWorker(r.modulePath).then((function(e){return e||new Promise((function(e){require([r.modulePath],e)}))})).then(a)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((function(e){return(n\x3de.default).loadWorker(r.modulePath)})).then((function(e){return e||System.import(r.modulePath)})).then(a):(self.RemoteClient||importScripts(workerPath),(n\x3dself.RemoteClient.default||self.RemoteClient).loadWorker(r.modulePath).then(a));break;case RESPONSE:if(outgoing.has(t)){var i\x3doutgoing.get(t);outgoing.delete(t),r.error?i.reject(JSON.parse(r.error)):i.resolve(r.data)}}}}self.addEventListener("message",messageHandler),self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(B){}a.createWorker=async function(){if(!c("esri-workers"))return q(new n);let B;if(t)try{B=new Worker(t)}catch(F){h.warn("Failed to create Worker. Fallback to execute module in main thread",event),B=new n}else h.warn("Failed to create Worker. Fallback to execute module in main thread",event),B=new n;return q(B)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/loaderConfig":function(){define(["exports","../has","../urlUtils","../../assets"],function(a,
c,b,l){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=b.makeAbsolute(l.getAssetUrl("esri/core/workers/init.js"));var m=b.makeAbsolute(l.getAssetUrl("dojo/"));var f=[{name:"esri",location:"../esri"}];a.default=function(e){const k={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};e.hasOwnProperty("async")||(k.async=!0);e.hasOwnProperty("isDebug")||(k.isDebug=!1);e.baseUrl||(k.baseUrl=m);null==
f?void 0:f.forEach(r=>{a:{var p=k.packages;for(const w of p)if(w.name===r.name)break a;p.push(r)}});return k};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../global","./utils","./RemoteClient"],function(a,c,b,l,m){function f(w){if(w&&w.__esModule)return w;var n=Object.create(null);w&&Object.keys(w).forEach(function(q){if("default"!==q){var h=Object.getOwnPropertyDescriptor(w,q);Object.defineProperty(n,
q,h.get?h:{enumerable:!0,get:function(){return w[q]}})}});n["default"]=w;return Object.freeze(n)}let e=function(){const w=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(n=>{this[n]=(...q)=>w[n](...q)})};const k=b.MutationObserver||b.WebKitMutationObserver,r=function(){let w;if(b.process&&b.process.nextTick)w=n=>{b.process.nextTick(n)};else if(b.Promise)w=n=>{b.Promise.resolve().then(n)};else if(k){const n=[],q=document.createElement("div");(new k(()=>
{for(;0<n.length;)n.shift()()})).observe(q,{attributes:!0});w=h=>{n.push(h);q.setAttribute("queueStatus","1")}}return w}(),p=(()=>{const w=b.MessageEvent;try{new w("message",{data:null})}catch{return(n,q={})=>{const {data:h,bubbles:d=!1,cancelable:g=!1}=q;q=document.createEvent("Event");q.initEvent(n,d,g);q.data=h;return q}}return(n,q)=>new w(n,q)})();return function(){function w(){this._dispatcher=new e;this._isInitialized=!1;this._workerPostMessage({type:l.MessageType.HANDSHAKE})}var n=w.prototype;
n.terminate=function(){};n.postMessage=function(q){r(()=>{this._workerMessageHandler(p("message",{data:q}))})};n.dispatchEvent=function(q){return this._dispatcher.dispatchEvent(q)};n.addEventListener=function(q,h,d){this._dispatcher.addEventListener(q,h,d)};n.removeEventListener=function(q,h,d){this._dispatcher.removeEventListener(q,h,d)};n._workerPostMessage=function(q){r(()=>{this.dispatchEvent(p("message",{data:q}))})};n._workerMessageHandler=async function(q){if(q=l.receiveMessage(q))switch(q.type){case l.MessageType.CONFIGURE:this._isInitialized||
this._workerPostMessage({type:l.MessageType.CONFIGURED});break;case l.MessageType.OPEN:{const {modulePath:h,jobId:d}=q;(q=await m.loadWorker(h))||(q=await new Promise(function(g,u){a([h],function(t){g(f(t))},u)}));q=m.connect(q);this._workerPostMessage({type:l.MessageType.OPENED,jobId:d,data:q})}}};c._createClass(w,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(q){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=
q)&&this.addEventListener("message",q)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(q){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=q)&&this.addEventListener("messageerror",q)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(q){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=q)&&this.addEventListener("error",
q)}}]);return w}()})},"esri/tasks/operations/zscale":function(){define(["exports","../../core/maybe","../../geometry/support/spatialReferenceUtils","../../core/unitUtils"],function(a,c,b,l){function m(e,k,r){if(null==e.hasM||e.hasZ)for(const p of k)for(const w of p)2<w.length&&(w[2]*=r)}function f(e,k,r){if(e)for(const w of e){e=w.geometry;var p=r;if(e&&e.spatialReference&&!b.equals(e.spatialReference,k)&&(p=l.getMetersPerVerticalUnitForSR(e.spatialReference)/p,1!==p))if("x"in e)null!=e.z&&(e.z*=
p);else if("rings"in e)m(e,e.rings,p);else if("paths"in e)m(e,e.paths,p);else if("points"in e&&(null==e.hasM||e.hasZ))for(const n of e.points)2<n.length&&(n[2]*=p)}}a.getGeometryZScaler=function(e,k,r){if(c.isNone(k)||c.isNone(r)||r.vcsWkid||b.equals(k,r))return null;k=l.getMetersPerVerticalUnitForSR(k);r=l.getMetersPerVerticalUnitForSR(r);const p=k/r;if(1===p)return null;switch(e){case "point":case "esriGeometryPoint":return w=>{w&&null!=w.z&&(w.z*=p)};case "polyline":case "esriGeometryPolyline":return w=>
{if(w)for(const n of w.paths)for(const q of n)2<q.length&&(q[2]*=p)};case "polygon":case "esriGeometryPolygon":return w=>{if(w)for(const n of w.rings)for(const q of n)2<q.length&&(q[2]*=p)};case "multipoint":case "esriGeometryMultipoint":return w=>{if(w)for(const n of w.points)2<n.length&&(n[2]*=p)};default:return null}};a.unapplyEditsZUnitScaling=function(e,k,r){if((e||k)&&r){var p=l.getMetersPerVerticalUnitForSR(r);f(e,r,p);f(k,r,p)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/queryZScale":function(){define(["exports",
"./zscale"],function(a,c){a.applyFeatureSetZUnitScaling=function(b,l,m){if(m&&m.features&&m.hasZ&&(b=c.getGeometryZScaler(m.geometryType,l,b.outSpatialReference)))for(const f of m.features)b(f.geometry)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/arcgisLayerUrl".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){a.ArcGISService=d=>{d=function(g){function u(){return g.apply(this,arguments)||this}c._inheritsLoose(u,g);c._createClass(u,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=h.parse(this.url);if(m.isSome(t)&&t.title)return t.title}return this._get("title")||""},set:function(t){this._set("title",t)}},{key:"url",set:function(t){this._set("url",h.sanitizeUrl(t,f.getLogger(this.declaredClass)))}}]);
return u}(d);b.__decorate([k.property({dependsOn:["url"]})],d.prototype,"title",null);b.__decorate([k.property({type:String})],d.prototype,"url",null);return d=b.__decorate([p.subclass("esri.layers.mixins.ArcGISService")],d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){a.BlendLayer=q=>{q=function(h){function d(){var g=h.apply(this,arguments)||this;g.blendMode="normal";g.effect=null;return g}c._inheritsLoose(d,h);return d}(q);b.__decorate([e.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],q.prototype,"blendMode",void 0);b.__decorate([e.property()],q.prototype,"effect",void 0);return q=b.__decorate([r.subclass("esri.layers.mixins.BlendLayer")],q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){a.CustomParametersMixin=q=>{q=function(h){function d(){var g=h.apply(this,arguments)||this;g.customParameters=null;return g}c._inheritsLoose(d,h);return d}(q);b.__decorate([e.property({json:{write:!0,origins:{"web-scene":{write:!1}}}})],q.prototype,"customParameters",void 0);return q=b.__decorate([r.subclass("esri.layers.mixins.CustomParametersMixin")],q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./timeUtils ../../TimeExtent ../../TimeInterval ./TimeReference".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){var F;b=F=function(H){function C(E){E=H.call(this,E)||this;E.cumulative=!1;E.endField=null;E.fullTimeExtent=null;E.hasLiveData=!1;E.interval=null;E.startField=null;E.timeReference=null;E.trackIdField=null;E.useTime=!0;return E}a._inheritsLoose(C,H);var A=C.prototype;A.readFullTimeExtent=function(E,y){return y.timeExtent&&Array.isArray(y.timeExtent)&&2===y.timeExtent.length?new u({start:new Date(y.timeExtent[0]),end:new Date(y.timeExtent[1])}):null};
A.writeFullTimeExtent=function(E,y){y.timeExtent=E&&E.start&&E.end?[E.start.getTime(),E.end.getTime()]:null};A.readInterval=function(E,y){return y.timeInterval&&y.timeIntervalUnits?new t({value:y.timeInterval,unit:g.timeUnitKebabDictionary.fromJSON(y.timeIntervalUnits)}):y.defaultTimeInterval&&y.defaultTimeIntervalUnits?new t({value:y.defaultTimeInterval,unit:g.timeUnitKebabDictionary.fromJSON(y.defaultTimeIntervalUnits)}):null};A.writeInterval=function(E,y){E?(E=E.toJSON(),y.timeInterval=E.value,
y.timeIntervalUnits=E.unit):(y.timeInterval=null,y.timeIntervalUnits=null)};A.clone=function(){const {cumulative:E,endField:y,hasLiveData:x,interval:z,startField:D,timeReference:v,fullTimeExtent:G,trackIdField:I,useTime:O}=this;return new F({cumulative:E,endField:y,hasLiveData:x,interval:z,startField:D,timeReference:l.clone(v),fullTimeExtent:l.clone(G),trackIdField:I,useTime:O})};return C}(d.JSONSupport);c.__decorate([e.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],b.prototype,"cumulative",void 0);c.__decorate([e.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],b.prototype,"endField",void 0);c.__decorate([e.property({type:u,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0);c.__decorate([r.reader("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null);c.__decorate([w.writer("fullTimeExtent")],b.prototype,"writeFullTimeExtent",
null);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0);c.__decorate([e.property({type:t,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"interval",void 0);c.__decorate([r.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null);c.__decorate([w.writer("interval")],b.prototype,"writeInterval",null);c.__decorate([e.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],b.prototype,"startField",void 0);c.__decorate([e.property({type:B,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"timeReference",void 0);c.__decorate([e.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0);c.__decorate([e.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],b.prototype,"useTime",void 0);return b=F=c.__decorate([p.subclass("esri.layers.support.TimeInfo")],
b)})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./layers/support/timeUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.value=0;t.unit="milliseconds";
return t}a._inheritsLoose(g,d);var u=g.prototype;u.toMilliseconds=function(){return this.value*q.millisecondsPerTimeUnit[this.unit]};u.clone=function(){return new h({value:this.value,unit:this.unit})};return g}(n.JSONSupport);c.__decorate([f.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);c.__decorate([f.property({type:q.timeUnitKebabDictionary.apiValues,json:{type:q.timeUnitKebabDictionary.jsonValues,read:q.timeUnitKebabDictionary.read,write:q.timeUnitKebabDictionary.write},
nonNullable:!0})],b.prototype,"unit",void 0);return b=h=c.__decorate([k.subclass("esri.TimeInterval")],b)})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(t){t=d.call(this,t)||this;t.respectsDaylightSaving=!1;t.timezone=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.readRespectsDaylightSaving=function(t,B){return void 0!==B.respectsDaylightSaving?B.respectsDaylightSaving:void 0!==B.respectDaylightSaving?B.respectDaylightSaving:!1};u.clone=function(){const {respectsDaylightSaving:t,timezone:B}=this;return new h({respectsDaylightSaving:t,timezone:B})};return g}(q.JSONSupport);
c.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"respectsDaylightSaving",void 0);c.__decorate([k.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],b.prototype,"readRespectsDaylightSaving",null);c.__decorate([f.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],b.prototype,"timezone",void 0);return b=h=c.__decorate([r.subclass("esri.layers.support.TimeReference")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/fieldUtils ../support/timeUtils ../../TimeExtent ../../TimeInterval ../support/TimeInfo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){a.TemporalLayer=B=>{B=function(F){function H(){var C=F.apply(this,arguments)||this;C.timeExtent=null;C.timeOffset=null;C.useViewTime=!0;return C}c._inheritsLoose(H,F);H.prototype.readOffset=function(C,A){A=A.timeInfo.exportOptions;if(!A)return null;C=A.timeOffset;A=d.timeUnitKebabDictionary.fromJSON(A.timeOffsetUnits);return C&&A?new u({value:C,unit:A}):null};c._createClass(H,[{key:"timeInfo",set:function(C){h.fixTimeInfoFields(C,this.fields);this._set("timeInfo",
C)}}]);return H}(B);b.__decorate([e.property({type:g,json:{write:!1}})],B.prototype,"timeExtent",void 0);b.__decorate([e.property({type:u})],B.prototype,"timeOffset",void 0);b.__decorate([r.reader("service","timeOffset",["timeInfo.exportOptions"])],B.prototype,"readOffset",null);b.__decorate([e.property({value:null,type:t,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],B.prototype,"timeInfo",null);b.__decorate([e.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},
origins:{"web-scene":{read:!1,write:!1}}}})],B.prototype,"useViewTime",void 0);return B=b.__decorate([p.subclass("esri.layers.mixins.TemporalLayer")],B)};a.isTemporalLayer=function(B){return void 0!==B.timeInfo};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.FeatureIndex=h=function(d){function g(u){return d.call(this,u)||this}c._inheritsLoose(g,d);g.prototype.clone=function(){const {name:u,fields:t,isAscending:B,isUnique:F,description:H}=this;return new h({name:u,fields:t,isAscending:B,isUnique:F,description:H})};return g}(q.JSONSupport);b.__decorate([e.property({constructOnly:!0})],a.FeatureIndex.prototype,"name",void 0);b.__decorate([e.property({constructOnly:!0})],a.FeatureIndex.prototype,"fields",void 0);
b.__decorate([e.property({constructOnly:!0})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([e.property({constructOnly:!0})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([e.property({constructOnly:!0})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=h=b.__decorate([r.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);a.default=a.FeatureIndex;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){a.FeatureReduction=function(h){function d(){var g=h.apply(this,arguments)||this;g.type=null;return g}c._inheritsLoose(d,h);return d}(q.JSONSupport);b.__decorate([e.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([r.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);a.default=a.FeatureReduction;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../chunks/symbols ./labelUtils ./LabelExpressionInfo ../../symbols/support/defaults".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){function F(C){return C?"service"===C.origin?!1:!C.layer||"map-image"!==C.layer.type:!0}var H;b=new k.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",
esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",
esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});d=H=function(C){function A(y){y=C.call(this,y)||this;y.type="label";y.name=null;y.deconflictionStrategy="static";y.labelExpression=
null;y.labelExpressionInfo=null;y.labelPlacement=null;y.maxScale=0;y.minScale=0;y.symbol=B.defaultTextSymbol2D;y.useCodedValues=void 0;y.where=null;return y}a._inheritsLoose(A,C);A.evaluateWhere=function(y,x){const z=function(D,v,G){switch(v){case "\x3d":return D==G?!0:!1;case "\x3c\x3e":return D!=G?!0:!1;case "\x3e":return D>G?!0:!1;case "\x3e\x3d":return D>=G?!0:!1;case "\x3c":return D<G?!0:!1;case "\x3c\x3d":return D<=G?!0:!1}return!1};try{if(null==y)return!0;const D=y.split(" ");if(3===D.length)return z(x[D[0]],
D[1],D[2]);if(7===D.length){const v=z(x[D[0]],D[1],D[2]),G=D[3],I=z(x[D[4]],D[5],D[6]);switch(G){case "AND":return v&&I;case "OR":return v||I}}return!1}catch(D){console.log("Error.: can't parse \x3d "+y)}};var E=A.prototype;E.readLabelExpression=function(y,x){x=x.labelExpressionInfo;if(!x||!x.value&&!x.expression)return y};E.writeLabelExpression=function(y,x,z,D){this.labelExpressionInfo&&(F(D)||D&&"service"===D.origin)&&(null!=this.labelExpressionInfo.value?y=u.templateStringToSql(this.labelExpressionInfo.value):
null!=this.labelExpressionInfo.expression&&(D=u.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression))&&(y="["+D+"]"));null!=y&&(x[z]=y)};E.writeLabelExpressionInfo=function(y,x,z,D){if(null==y&&null!=this.labelExpression&&F(D))y=new t({expression:this.getLabelExpressionArcade()});else if(!y)return;y=y.toJSON(D);y.expression&&(x[z]=y)};E.writeMaxScale=function(y,x){if(y||this.minScale)x.maxScale=y};E.writeMinScale=function(y,x){if(y||this.maxScale)x.minScale=y};E.getLabelExpression=
function(){return u.getLabelExpression(this)};E.getLabelExpressionArcade=function(){return u.getLabelExpressionArcade(this)};E.getLabelExpressionSingleField=function(){return u.getLabelExpressionSingleField(this)};E.hash=function(){return JSON.stringify(this)};E.clone=function(){return new H({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:l.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,
name:this.name,symbol:l.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return A}(d.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);c.__decorate([e.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],d.prototype,"deconflictionStrategy",void 0);c.__decorate([e.property({type:String,json:{write:{allowNull:!0}}})],d.prototype,"labelExpression",void 0);c.__decorate([r.reader("labelExpression")],
d.prototype,"readLabelExpression",null);c.__decorate([w.writer("labelExpression")],d.prototype,"writeLabelExpression",null);c.__decorate([e.property({type:t,json:{write:{overridePolicy(C,A,E){return F(E)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);c.__decorate([w.writer("labelExpressionInfo")],d.prototype,"writeLabelExpressionInfo",null);c.__decorate([e.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],d.prototype,"labelPlacement",void 0);
c.__decorate([e.property({type:Number})],d.prototype,"maxScale",void 0);c.__decorate([w.writer("maxScale")],d.prototype,"writeMaxScale",null);c.__decorate([e.property({type:Number})],d.prototype,"minScale",void 0);c.__decorate([w.writer("minScale")],d.prototype,"writeMinScale",null);c.__decorate([e.property({types:g.symbolTypesLabel,json:{origins:{"web-scene":{types:g.symbolTypesLabel3D,write:g.write,default:null}},write:g.write,default:null}})],d.prototype,"symbol",void 0);c.__decorate([e.property({type:Boolean,
json:{write:!0}})],d.prototype,"useCodedValues",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=H=c.__decorate([p.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,c){function b(g){return g.replace(/\[/g,"{").replace(/\]/g,"}")}function l(g){const u={expression:"",type:"none"};g.labelExpressionInfo?g.labelExpressionInfo.value?(u.expression=g.labelExpressionInfo.value,
u.type="conventional"):g.labelExpressionInfo.expression&&(u.expression=g.labelExpressionInfo.expression,u.type="arcade"):null!=g.labelExpression&&(u.expression=b(g.labelExpression),u.type="conventional");return u}function m(g){g?(g=c.replace(g,u=>'__begin__$feature["'+u+'"]__end__'),g=p.test(g)?g.replace(p,""):'"'+g,g=w.test(g)?g.replace(w,""):g+'"',g=g.replace(k,'" + ').replace(r,' + "')):g='""';return g}function f(g){return(g=g.match(n))&&g[1].trim()||null}function e(g){if(!g)return null;let u=
q.exec(g)||h.exec(g);return u?u[1]||u[3]:(u=d.exec(g))?u[2]:null}const k=/__begin__/ig,r=/__end__/ig,p=/^__begin__/i,w=/__end__$/i,n=/^\s*\{([^}]+)\}\s*$/i,q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,d=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=m;a.getLabelExpression=
l;a.getLabelExpressionArcade=function(g){g=l(g);if(!g)return null;switch(g.type){case "conventional":return m(g.expression);case "arcade":return g.expression}return null};a.getLabelExpressionSingleField=function(g){g=l(g);if(!g)return null;switch(g.type){case "conventional":return f(g.expression);case "arcade":return e(g.expression)}return null};a.getSingleFieldArcadeExpression=e;a.getSingleFieldTemplatedString=f;a.sqlToTemplateString=b;a.templateStringToSql=function(g){return g.replace(/\{/g,"[").replace(/\}/g,
"]")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./labelUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=g=function(u){function t(){var F=u.apply(this,arguments)||this;F.expression=null;F.title=null;F.value=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.readExpression=function(F,H){return H.value?d.convertTemplatedStringToArcade(H.value):F};B.writeExpression=function(F,H,C){null!=this.value&&(F=d.convertTemplatedStringToArcade(this.value));H[C]=F};B.clone=function(){return new g({expression:this.expression,title:this.title,value:this.value})};
return t}(h.JSONSupport);c.__decorate([f.property({type:String,json:{write:{allowNull:!0}}})],b.prototype,"expression",void 0);c.__decorate([f.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);c.__decorate([f.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);c.__decorate([k.reader("expression",["expression","value"])],b.prototype,"readExpression",null);c.__decorate([p.writer("expression")],b.prototype,"writeExpression",null);return b=
g=c.__decorate([r.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleLineSymbol ../SimpleFillSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,c,b,l,m,f,e,k){const r=f.fromJSON(k.defaultPointSymbolJSON),p=l.fromJSON(k.defaultPolylineSymbolJSON),w=m.fromJSON(k.defaultPolygonSymbolJSON);c=e.fromJSON(k.defaultTextSymbolJSON);f=f.fromJSON(k.errorPointSymbolJSON);l=
l.fromJSON(k.errorPolylineSymbolJSON);m=m.fromJSON(k.errorPolygonSymbolJSON);a.defaultPointSymbol2D=r;a.defaultPolygonSymbol2D=w;a.defaultPolylineSymbol2D=p;a.defaultTextSymbol2D=c;a.errorPointSymbol2D=f;a.errorPolygonSymbol2D=m;a.errorPolylineSymbol2D=l;a.getDefaultSymbol2D=function(n){if(b.isNone(n))return null;switch(n.type){case "point":case "multipoint":return r;case "polyline":return p;case "polygon":case "extent":return w}return null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],
function(a){const c=[252,146,31,255],b={type:"esriSMS",style:"esriSMSCircle",size:6,color:c,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},l={type:"esriSLS",style:"esriSLSSolid",width:.75,color:c};a.defaultColor=c;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=b;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=
l;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",
color:[0,0,0,255],width:1.5};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../PopupTemplate ../../core/screenUtils ./commonProperties ./AggregateField ./LabelClass".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){var B;b=B=function(F){function H(C){C=F.call(this,C)||this;C.type="cluster";C.clusterRadius=d.toPt("80px");C.clusterMinSize=d.toPt("12px");C.clusterMaxSize=d.toPt("50px");C.popupEnabled=!0;C.popupTemplate=null;C.labelingInfo=null;C.labelsVisible=!0;C.fields=null;return C}a._inheritsLoose(H,F);H.prototype.clone=function(){return new B({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:l.clone(this.labelingInfo),
labelsVisible:this.labelsVisible,fields:l.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:l.clone(this.popupTemplate)})};return H}(q.JSONSupport);c.__decorate([e.property({type:["cluster"],readOnly:!0,json:{write:!0}})],b.prototype,"type",void 0);c.__decorate([e.property({type:Number,cast:F=>"auto"===F?F:d.toPt(F),json:{write:!0}})],b.prototype,"clusterRadius",void 0);c.__decorate([e.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"clusterMinSize",void 0);c.__decorate([e.property({type:Number,
cast:d.toPt,json:{write:!0}})],b.prototype,"clusterMaxSize",void 0);c.__decorate([e.property(g.popupEnabled)],b.prototype,"popupEnabled",void 0);c.__decorate([e.property({type:h,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],b.prototype,"popupTemplate",void 0);c.__decorate([e.property({type:[t],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],b.prototype,"labelingInfo",void 0);c.__decorate([e.property(g.labelsVisible)],b.prototype,"labelsVisible",
void 0);c.__decorate([e.property({type:[u],json:{write:!0}})],b.prototype,"fields",void 0);return b=B=c.__decorate([r.subclass("esri.layers.support.FeatureReductionCluster")],b)})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./OutStatistic".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;b=h=function(d){function g(){var u=d.apply(this,arguments)||this;u.name=null;return u}a._inheritsLoose(g,d);g.prototype.clone=function(){return new h({name:this.name,outStatistic:this.outStatistic.clone()})};return g}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"outStatistic",void 0);return b=h=c.__decorate([k.subclass("esri.layers.support.AggregateField")],
b)})},"esri/layers/support/OutStatistic":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(){var g=h.apply(this,
arguments)||this;g.statisticType=null;g.onStatisticField=null;g.onStatisticValueExpression=null;return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};return d}(n.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",
void 0);c.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"onStatisticValueExpression",void 0);return b=q=c.__decorate([k.subclass("esri.layers.support.OutStatistic")],b)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./FeatureReduction".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){var q;b=q=function(h){function d(g){g=h.call(this,g)||this;g.type="selection";return g}a._inheritsLoose(d,h);d.prototype.clone=function(){return new q};return d}(n["default"]);c.__decorate([f.property({type:["selection"]})],b.prototype,"type",void 0);return b=q=c.__decorate([k.subclass("esri.layers.support.FeatureReductionSelection")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/object ../../core/Error ./FeatureReduction ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,c,b,l,m,f){function e(k,r,p){return k?"selection"!==k.type?(p.messages&&p.messages.push(new b("featureReduction:unsupported",`FeatureReduction of type '${k.declaredClass}' are not supported in scenes.`,{featureReduction:k,context:p})),null):k.write(r,p):null}l={key:"type",base:l["default"],typeMap:{selection:f}};a.read=function(k,r){r=r.layerDefinition||r;if(k=r.featureReduction)switch(k.type){case "selection":return f.fromJSON(k);case "cluster":return m.fromJSON(k)}return null};a.webSceneFeatureReductionTypes=
l;a.write=e;a.writeTarget=function(k,r,p,w){(k=e(k,{},w))&&c.setDeepValue(p,k,r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){const d=new k.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=function(g){function u(B){B=g.call(this,B)||this;B.name=null;B.description=null;B.drawingTool=null;B.prototype=null;B.thumbnail=null;return B}a._inheritsLoose(u,g);var t=u.prototype;t.writeDrawingTool=function(B,F){F.drawingTool=d.toJSON(B)};t.writePrototype=function(B,F){F.prototype=l.fixJson(l.clone(B),!0)};t.writeThumbnail=function(B,F){F.thumbnail=l.fixJson(l.clone(B))};
return u}(h.JSONSupport);c.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([e.property({json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([e.property({json:{read:d.read,write:d.write}})],b.prototype,"drawingTool",void 0);c.__decorate([p.writer("drawingTool")],b.prototype,"writeDrawingTool",null);c.__decorate([e.property({json:{write:!0}})],b.prototype,"prototype",void 0);c.__decorate([p.writer("prototype")],b.prototype,"writePrototype",null);c.__decorate([e.property({json:{write:!0}})],
b.prototype,"thumbnail",void 0);c.__decorate([p.writer("thumbnail")],b.prototype,"writeThumbnail",null);return b=c.__decorate([r.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./CodedValueDomain ./InheritedDomain ./RangeDomain ./domains ./FeatureTemplate".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){b=function(H){function C(E){E=H.call(this,E)||this;E.id=null;E.name=null;E.domains=null;E.templates=null;return E}a._inheritsLoose(C,H);var A=C.prototype;A.readDomains=function(E){const y={};for(const x in E)if(E.hasOwnProperty(x)){const z=E[x];switch(z.type){case "range":y[x]=t.fromJSON(z);break;case "codedValue":y[x]=g.fromJSON(z);break;case "inherited":y[x]=u.fromJSON(z)}}return y};A.writeDomains=function(E,y){const x={};for(const z in E)E.hasOwnProperty(z)&&
(x[z]=E[z]&&E[z].toJSON());l.fixJson(x);y.domains=x};A.readTemplates=function(E){return E&&E.map(y=>new F(y))};A.writeTemplates=function(E,y){y.templates=E&&E.map(x=>x.toJSON())};return C}(d.JSONSupport);c.__decorate([e.property({json:{write:!0}})],b.prototype,"id",void 0);c.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([e.property({json:{write:!0}})],b.prototype,"domains",void 0);c.__decorate([r.reader("domains")],b.prototype,"readDomains",null);c.__decorate([w.writer("domains")],
b.prototype,"writeDomains",null);c.__decorate([e.property({json:{write:!0}})],b.prototype,"templates",void 0);c.__decorate([r.reader("templates")],b.prototype,"readTemplates",null);c.__decorate([w.writer("templates")],b.prototype,"writeTemplates",null);return b=c.__decorate([p.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define(["exports","../../core/Logger","./fieldUtils","./Field"],function(a,c,b,l){const m=c.getLogger("esri.layers.support.fieldProperties");
a.defineFieldProperties=function(){return{fields:{type:[l],value:null},outFields:{type:[String],dependsOn:["fields"],json:{read:!1},set:function(f){this._userOutFields=f;this.notifyChange("outFields")},get:function(){const f=this._userOutFields;if(!f||!f.length)return null;if(f.includes("*"))return["*"];if(!this.fields)return f;for(const e of f)b.hasField(this.fields,e)||m.error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:f});return b.fixFields(this.fields,
f)}}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/labelingInfo":function(){define(["exports","./LabelClass"],function(a,c){const b=/\[([^\[\]]+)\]/gi;a.reader=function(l,m,f){return l?l.map(e=>{const k=new c;k.read(e,f);if(k.labelExpression){const r=m.fields||m.layerDefinition&&m.layerDefinition.fields||this.fields;k.labelExpression=k.labelExpression.replace(b,(p,w)=>{a:if(r){p=w.toLowerCase();for(let n=0;n<r.length;n++){const q=r[n].name;if(q.toLowerCase()===p){w=q;
break a}}}return`[${w}]`})}return k}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=new e.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});e=new e.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});n=function(q){function h(d){d=q.call(this,d)||this;d.cardinality=null;d.composite=null;d.id=null;d.keyField=null;d.keyFieldInRelationshipTable=null;d.name=null;d.relatedTableId=null;d.relationshipTableId=null;d.role=null;return d}a._inheritsLoose(h,
q);return h}(n.JSONSupport);c.__decorate([f.property({json:{read:b.read,write:b.write}})],n.prototype,"cardinality",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"composite",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"id",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"keyField",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"keyFieldInRelationshipTable",void 0);c.__decorate([f.property({json:{read:!0,
write:!0}})],n.prototype,"name",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"relatedTableId",void 0);c.__decorate([f.property({json:{read:!0,write:!0}})],n.prototype,"relationshipTableId",void 0);c.__decorate([f.property({json:{read:e.read,write:e.write}})],n.prototype,"role",void 0);return n=c.__decorate([k.subclass("esri.layers.support.Relationship")],n)})},"esri/chunks/DataLayerSource":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/extensions/serializableProperty/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../layers/support/Field ../layers/support/source/MapLayerSource ../layers/support/source/QueryTableDataSource ../layers/support/source/RasterDataSource ../layers/support/source/TableDataSource".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C){function A(){x||(x=n.createTypeReader({types:E()}));return x}function E(){z||(z={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":B.MapLayerSource}});return z}var y;l=r.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=y=function(v){function G(O){O=v.call(this,O)||this;O.type="join-table";return O}c._inheritsLoose(G,v);var I=G.prototype;I.readLeftTableSource=function(O,
L,N){return A()(O,L,N)};I.castLeftTableSource=function(O){return f.ensureOneOfType(E(),O)};I.readRightTableSource=function(O,L,N){return A()(O,L,N)};I.castRightTableSource=function(O){return f.ensureOneOfType(E(),O)};I.clone=function(){var O,L;const {leftTableKey:N,rightTableKey:R,leftTableSource:K,rightTableSource:U,joinType:P}=this,J={leftTableKey:N,rightTableKey:R,leftTableSource:null!=(O=null==K?void 0:K.clone())?O:void 0,rightTableSource:null!=(L=null==U?void 0:U.clone())?L:void 0,joinType:P};
return new y(J)};return G}(u.JSONSupport);b.__decorate([p.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([e.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([w.reader("leftTableSource")],
a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([k.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([e.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);b.__decorate([w.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([k.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([p.enumeration(l)],
a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=y=b.__decorate([q.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let x=null,z=null;var D;k={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":F.QueryTableDataSource,raster:H.RasterDataSource,table:C.TableDataSource}};a.DataLayerSource=D=function(v){function G(I){I=v.call(this,I)||this;I.type="data-layer";return I}c._inheritsLoose(G,v);G.prototype.clone=function(){const {fields:I,
dataSource:O}=this;return new D({fields:I,dataSource:O})};return G}(u.JSONSupport);b.__decorate([p.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([e.property({type:[t],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([e.property({types:k,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=D=b.__decorate([q.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
f.ensureType(a.DataLayerSource)})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.MapLayerSource=h=function(d){function g(u){u=d.call(this,u)||this;u.type="map-layer";return u}c._inheritsLoose(g,d);g.prototype.clone=function(){const {mapLayerId:u,gdbVersion:t}=this;return new h({mapLayerId:u,gdbVersion:t})};return g}(q.JSONSupport);b.__decorate([k.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([e.property({type:f.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=h=b.__decorate([r.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../geometry/SpatialReference ../../../geometry/support/typeUtils ../../../geometry".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){var u;a.QueryTableDataSource=u=function(t){function B(F){F=t.call(this,F)||this;F.type="query-table";return F}c._inheritsLoose(B,t);B.prototype.clone=function(){var F;const {workspaceId:H,query:C,oidFields:A,spatialReference:E,geometryType:y}=this,x={workspaceId:H,query:C,oidFields:A,spatialReference:null!=(F=null==E?void 0:E.clone())?F:void 0,geometryType:y};return new u(x)};return B}(q.JSONSupport);b.__decorate([k.enumeration({queryTable:"query-table"})],
a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([e.property({type:h,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([k.enumeration(d.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=u=b.__decorate([r.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.RasterDataSource=h=function(d){function g(u){u=d.call(this,u)||this;u.type="raster";return u}c._inheritsLoose(g,d);g.prototype.clone=function(){const {workspaceId:u,dataSourceName:t}=this;return new h({workspaceId:u,dataSourceName:t})};return g}(q.JSONSupport);b.__decorate([k.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=h=b.__decorate([r.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;a.TableDataSource=h=function(d){function g(u){u=d.call(this,u)||this;u.type="table";return u}c._inheritsLoose(g,d);g.prototype.clone=function(){const {workspaceId:u,gdbVersion:t,dataSourceName:B}=this;return new h({workspaceId:u,gdbVersion:t,dataSourceName:B})};return g}(q.JSONSupport);b.__decorate([k.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,
"workspaceId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=h=b.__decorate([r.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/popupUtils":function(){define("exports ../layers/support/fieldUtils ../popup/content/Content ../popup/content/AttachmentsContent ../popup/content/CustomContent ../popup/support/FieldInfoFormat ../popup/FieldInfo ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/TextContent ../PopupTemplate".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w){function n(A,E){const y=A;E&&(A=A.filter(x=>-1===E.indexOf(x.type)));A===y&&(A=A.slice());A.sort(q);return A}function q(A,E){return"oid"===A.type?-1:"oid"===E.type?1:u(A)?-1:u(E)?1:(A.alias||A.name).toLocaleLowerCase().localeCompare((E.alias||E.name).toLocaleLowerCase())}function h(A,E){if(!A||!E)return!1;const {creationDateField:y,creatorField:x,editDateField:z,editorField:D}=E;return-1!==[y&&y.toLowerCase(),x&&x.toLowerCase(),z&&z.toLowerCase(),D&&D.toLowerCase()].indexOf(A.toLowerCase())}
function d({editFieldsInfo:A,fields:E,objectIdField:y},x){return n(E,(null==x?void 0:x.ignoreFieldTypes)||C).map(z=>{var D=z.name;var v=z.editable&&-1===B.indexOf(z.type)&&!h(z.name,A);return new e({fieldName:D,isEditable:v,label:z.alias,format:g(z),visible:H(z,{editFieldsInfo:A,objectIdField:y,visibleFieldNames:null==x?void 0:x.visibleFieldNames})})})}function g(A){switch(A.type){case "small-integer":case "integer":case "single":return new f({digitSeparator:!0,places:0});case "double":return new f({digitSeparator:!0,
places:2});case "date":return new f({dateFormat:"long-month-day-year"});default:return null}}function u(A){if("name"===(A.name&&A.name.toLowerCase())||"name"===(A.alias&&A.alias.toLowerCase()))return!0}const t=["oid","global-id"],B=["oid","global-id","guid"],F=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],H=(A,{editFieldsInfo:E,objectIdField:y,visibleFieldNames:x})=>x?x.has(A.name):h(A.name,
E)?!1:y&&A.name===y?!1:-1<t.indexOf(A.type)?!1:!F.some(z=>z.test(A.name)),C=["geometry","blob","raster","guid","xml"];a.createFieldInfos=d;a.createFieldsContent=function(A,E){return new k({fieldInfos:d(A,E).filter(y=>y.visible)})};a.createPopupTemplate=function({displayField:A,editFieldsInfo:E,fields:y,objectIdField:x,title:z},D){if(!y)return null;E=d({editFieldsInfo:E,fields:y,objectIdField:x},D);if(!E.length)return null;y={titleBase:z,fields:y,displayField:A};A=c.getDisplayFieldName(y);({titleBase:y}=
y);A=A?`${y}: {${A.trim()}}`:y;y=[new k,new l];return new w({title:A,content:y,fieldInfos:E})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=d=function(g){function u(B){B=g.call(this,B)||this;B.attachmentTypes=null;B.attachmentsWhere=null;B.keywords=null;B.globalIds=null;B.name=null;B.num=null;B.objectIds=null;B.returnMetadata=!1;B.size=null;B.start=null;B.where=null;return B}a._inheritsLoose(u,g);var t=u.prototype;t.writeStart=function(B,F){F.resultOffset=this.start;F.resultRecordCount=this.num||10};t.clone=function(){return new d(l.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return u}(h.JSONSupport);c.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);c.__decorate([e.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);c.__decorate([e.property({type:[String],
json:{write:!0}})],b.prototype,"keywords",void 0);c.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);c.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);c.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);c.__decorate([e.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",
void 0);c.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);c.__decorate([e.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);c.__decorate([p.writer("start"),p.writer("num")],b.prototype,"writeStart",null);c.__decorate([e.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=d=c.__decorate([r.subclass("esri.tasks.support.AttachmentQuery")],b);
b.from=f.ensureType(b);return b})},"esri/tasks/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../geometry ../../chunks/symbols ../../TimeExtent ../../chunks/DataLayerSource ./QuantizationParameters ./StatisticDefinition".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){var y;b=new p.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});p=new p.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});g=y=function(x){function z(v){v=x.call(this,v)||this;v.aggregateIds=null;v.cacheHint=void 0;v.datumTransformation=null;v.distance=void 0;v.dynamicDataSource=void 0;v.gdbVersion=null;v.geometry=null;v.geometryPrecision=void 0;v.groupByFieldsForStatistics=null;v.having=null;v.historicMoment=null;v.maxAllowableOffset=void 0;v.maxRecordCountFactor=1;v.multipatchOption=
null;v.num=void 0;v.objectIds=null;v.orderByFields=null;v.outFields=null;v.outSpatialReference=null;v.outStatistics=null;v.parameterValues=null;v.pixelSize=null;v.quantizationParameters=null;v.rangeValues=null;v.relationParameter=null;v.resultType=null;v.returnCentroid=!1;v.returnDistinctValues=!1;v.returnExceededLimitFeatures=!0;v.returnGeometry=!1;v.returnQueryGeometry=!1;v.returnM=void 0;v.returnZ=void 0;v.spatialRelationship="intersects";v.start=void 0;v.sqlFormat=null;v.text=null;v.timeExtent=
null;v.units=null;v.where=null;return v}a._inheritsLoose(z,x);z.from=function(v){return e.ensureClass(y,v)};var D=z.prototype;D.castDatumTransformation=function(v){return"number"===typeof v||"object"===typeof v?v:null};D.writeHistoricMoment=function(v,G){G.historicMoment=v&&v.getTime()};D.writeParameterValues=function(v,G){if(v){const I={};for(const O in v){const L=v[O];Array.isArray(L)?I[O]=L.map(N=>N instanceof Date?N.getTime():N):I[O]=L instanceof Date?L.getTime():L}G.parameterValues=I}};D.writeStart=
function(v,G){G.resultOffset=this.start;G.resultRecordCount=this.num||10;G.where="1\x3d1"};D.writeWhere=function(v,G){G.where=v||"1\x3d1"};D.clone=function(){return new y(l.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:m.isSome(this.historicMoment)?
new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,
resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};return z}(g.JSONSupport);
g.MAX_MAX_RECORD_COUNT_FACTOR=5;c.__decorate([k.property({json:{write:!0}})],g.prototype,"aggregateIds",void 0);c.__decorate([k.property({type:Boolean,json:{write:{writer:(x,z)=>{null!=x&&(z.cacheHint=x)}}}})],g.prototype,"cacheHint",void 0);c.__decorate([k.property({json:{write:!0}})],g.prototype,"datumTransformation",void 0);c.__decorate([r.cast("datumTransformation")],g.prototype,"castDatumTransformation",null);c.__decorate([k.property({type:Number,json:{write:{overridePolicy(x){return{enabled:0<
x}}}}})],g.prototype,"distance",void 0);c.__decorate([k.property({type:C.DataLayerSource,json:{write:!0}})],g.prototype,"dynamicDataSource",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"gdbVersion",void 0);c.__decorate([k.property({types:B.geometryTypes,json:{read:t.fromJSON,write:!0}})],g.prototype,"geometry",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],g.prototype,"geometryPrecision",void 0);c.__decorate([k.property({type:[String],json:{write:!0}})],
g.prototype,"groupByFieldsForStatistics",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"having",void 0);c.__decorate([k.property({type:Date})],g.prototype,"historicMoment",void 0);c.__decorate([n.writer("historicMoment")],g.prototype,"writeHistoricMoment",null);c.__decorate([k.property({type:Number,json:{write:!0}})],g.prototype,"maxAllowableOffset",void 0);c.__decorate([k.property({type:Number,cast(x){return 1>x?1:x>y.MAX_MAX_RECORD_COUNT_FACTOR?y.MAX_MAX_RECORD_COUNT_FACTOR:
x},json:{write:{overridePolicy(x){return{enabled:1<x}}}}})],g.prototype,"maxRecordCountFactor",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"multipatchOption",void 0);c.__decorate([k.property({type:Number,json:{read:{source:"resultRecordCount"}}})],g.prototype,"num",void 0);c.__decorate([k.property({json:{write:!0}})],g.prototype,"objectIds",void 0);c.__decorate([k.property({type:[String],json:{write:!0}})],g.prototype,"orderByFields",void 0);c.__decorate([k.property({type:[String],
json:{write:!0}})],g.prototype,"outFields",void 0);c.__decorate([k.property({type:u,json:{read:{source:"outSR"},write:{target:"outSR"}}})],g.prototype,"outSpatialReference",void 0);c.__decorate([k.property({type:[E],json:{write:{enabled:!0,overridePolicy(){return{enabled:m.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],g.prototype,"outStatistics",void 0);c.__decorate([k.property({json:{write:!0}})],g.prototype,"parameterValues",void 0);c.__decorate([n.writer("parameterValues")],g.prototype,
"writeParameterValues",null);c.__decorate([k.property({types:F.symbolTypes,json:{write:!0}})],g.prototype,"pixelSize",void 0);c.__decorate([k.property({type:A,json:{write:!0}})],g.prototype,"quantizationParameters",void 0);c.__decorate([k.property({type:[Object],json:{write:!0}})],g.prototype,"rangeValues",void 0);c.__decorate([k.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],g.prototype,
"relationParameter",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"resultType",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],g.prototype,"returnCentroid",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],g.prototype,"returnDistinctValues",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:!x}}}}})],g.prototype,"returnExceededLimitFeatures",
void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],g.prototype,"returnGeometry",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],g.prototype,"returnQueryGeometry",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],g.prototype,"returnM",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],g.prototype,"returnZ",void 0);c.__decorate([k.property({type:String,
json:{read:{source:"spatialRel",reader:b.read},write:{target:"spatialRel",writer:b.write}}})],g.prototype,"spatialRelationship",void 0);c.__decorate([k.property({type:Number,json:{read:{source:"resultOffset"}}})],g.prototype,"start",void 0);c.__decorate([n.writer("start"),n.writer("num")],g.prototype,"writeStart",null);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"sqlFormat",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],g.prototype,"text",void 0);c.__decorate([k.property({type:H,
json:{write:!0}})],g.prototype,"timeExtent",void 0);c.__decorate([k.property({type:String,json:{read:p.read,write:{writer:p.write,overridePolicy(x){return{enabled:x&&0<this.distance}}}}})],g.prototype,"units",void 0);c.__decorate([k.property({type:String,json:{write:{overridePolicy(x){return{enabled:null!=x||0<this.start}}}}})],g.prototype,"where",void 0);c.__decorate([n.writer("where")],g.prototype,"writeWhere",null);return g=y=c.__decorate([w.subclass("esri.tasks.support.Query")],g)})},"esri/tasks/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/Extent ../../geometry".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){var g;b=new k.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});q=g=function(u){function t(B){B=u.call(this,B)||this;B.extent=null;B.mode="view";B.originPosition="upper-left";B.tolerance=1;return B}a._inheritsLoose(t,u);t.prototype.clone=function(){return new g(l.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return t}(q.JSONSupport);c.__decorate([e.property({type:h,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],q.prototype,"extent",void 0);c.__decorate([e.property({type:["view","edit"],json:{write:!0}})],q.prototype,"mode",void 0);c.__decorate([e.property({type:String,json:{read:b.read,write:b.write}})],q.prototype,"originPosition",void 0);c.__decorate([e.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],q.prototype,"tolerance",void 0);return q=g=c.__decorate([r.subclass("esri.tasks.support.QuantizationParameters")],q)})},"esri/tasks/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){var d;b=new k.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});h=d=function(g){function u(B){B=g.call(this,B)||this;B.maxPointCount=void 0;B.maxRecordCount=void 0;B.maxVertexCount=void 0;B.onStatisticField=null;B.outStatisticFieldName=null;B.statisticType=null;B.statisticParameters=null;return B}a._inheritsLoose(u,
g);var t=u.prototype;t.writeStatisticParameters=function(B,F){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)F.statisticParameters=l.clone(B)};t.clone=function(){return new d({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:l.clone(this.statisticParameters)})};
return u}(h.JSONSupport);c.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"maxPointCount",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"maxRecordCount",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"maxVertexCount",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"outStatisticFieldName",void 0);
c.__decorate([e.property({type:String,json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],h.prototype,"statisticType",void 0);c.__decorate([e.property({type:Object})],h.prototype,"statisticParameters",void 0);c.__decorate([p.writer("statisticParameters")],h.prototype,"writeStatisticParameters",null);return h=d=c.__decorate([r.subclass("esri.tasks.support.StatisticDefinition")],h)})},"esri/tasks/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry ../../chunks/DataLayerSource".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){var t;b=t=function(B){function F(C){C=B.call(this,C)||this;C.dynamicDataSource=void 0;C.gdbVersion=null;C.geometryPrecision=void 0;C.historicMoment=null;C.maxAllowableOffset=void 0;C.objectIds=null;C.orderByFields=null;C.outFields=null;C.outSpatialReference=null;C.relationshipId=void 0;C.start=void 0;C.num=void 0;C.returnGeometry=!1;C.returnM=void 0;C.returnZ=void 0;C.where=null;return C}a._inheritsLoose(F,B);var H=F.prototype;H._writeHistoricMoment=function(C,
A){A.historicMoment=C&&C.getTime()};H.writeStart=function(C,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10;A.where="1\x3d1"};H.clone=function(){return new t(l.clone({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,
relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return F}(h.JSONSupport);c.__decorate([e.property({type:u.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);c.__decorate([e.property({type:Date})],
b.prototype,"historicMoment",void 0);c.__decorate([p.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);c.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);c.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);c.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);c.__decorate([e.property({type:d,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);c.__decorate([e.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);c.__decorate([e.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);c.__decorate([p.writer("start"),p.writer("num")],b.prototype,"writeStart",null);c.__decorate([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);c.__decorate([e.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);c.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],b.prototype,"returnM",void 0);c.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],b.prototype,"returnZ",void 0);c.__decorate([e.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=t=c.__decorate([r.subclass("esri.tasks.support.RelationshipQuery")],
b);b.from=f.ensureType(b);return b})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/lang ../../../core/object ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/Error ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/promiseUtils ../../../geometry/Extent ../../../request ../../../core/Loadable ../../../TimeExtent ../../../tasks/operations/zscale ../../../tasks/operations/queryAttachments ../../../tasks/QueryTask ./support/clientSideDefaults".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){async function y(z){if("string"===typeof z){const D=q.dataComponents(z);return D?D:{data:z}}return g.create((D,v)=>{const G=new FileReader;G.readAsDataURL(z);G.onload=()=>D(q.dataComponents(G.result));G.onerror=I=>v(I)})}const x=new Set(["Feature Layer","Table"]);e=function(z){function D(){var G=z.apply(this,arguments)||this;G.type="feature-layer";return G}a._inheritsLoose(D,z);var v=D.prototype;v.load=function(G){G=f.isSome(G)?G.signal:null;
this.addResolvingPromise(this._fetchService(G));return g.resolve(this)};v.addAttachment=async function(G,I){await this.load();G=G.attributes[this.layer.objectIdField];const O=this.layer.parsedUrl.path+"/"+G+"/addAttachment",L=this._getLayerRequestOptions();I=this._getFormDataForAttachment(I,L.query);try{const N=await t(O,{body:I});return this._createFeatureEditResult(N.data.addAttachmentResult)}catch(N){throw this._createAttachmentErrorResult(G,N);}};v.updateAttachment=async function(G,I,O){await this.load();
G=G.attributes[this.layer.objectIdField];const L=this.layer.parsedUrl.path+"/"+G+"/updateAttachment";I=this._getLayerRequestOptions({query:{attachmentId:I}});O=this._getFormDataForAttachment(O,I.query);try{const N=await t(L,{body:O});return this._createFeatureEditResult(N.data.updateAttachmentResult)}catch(N){throw this._createAttachmentErrorResult(G,N);}};v.applyEdits=async function(G,I){await this.load();const O=G.addFeatures.map(this._serializeFeature,this),L=G.updateFeatures.map(this._serializeFeature,
this),N=this._getFeatureIds(G.deleteFeatures);H.unapplyEditsZUnitScaling(O,L,this.layer.spatialReference);const R=[],K=[],U=[...G.deleteAttachments];for(const P of G.addAttachments)R.push(await this._serializeAttachment(P));for(const P of G.updateAttachments)K.push(await this._serializeAttachment(P));G=R.length||K.length||U.length?{adds:R,updates:K,deletes:U}:null;I=this._getLayerRequestOptions({method:"post",query:{adds:O.length?JSON.stringify(O):null,updates:L.length?JSON.stringify(L):null,deletes:N.length?
N.join(","):null,gdbVersion:null==I?void 0:I.gdbVersion,rollbackOnFailure:null==I?void 0:I.rollbackOnFailureEnabled,useGlobalIds:null==I?void 0:I.globalIdUsed,attachments:G&&JSON.stringify(G)}});I=await t(this.layer.parsedUrl.path+"/applyEdits",I);return this._createEditsResult(I)};v.deleteAttachments=async function(G,I){await this.load();G=G.attributes[this.layer.objectIdField];const O=this.layer.parsedUrl.path+"/"+G+"/deleteAttachments";try{return(await t(O,this._getLayerRequestOptions({query:{attachmentIds:I.join(",")},
method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(L){throw this._createAttachmentErrorResult(G,L);}};v.fetchRecomputedExtents=function(G={}){return this.load({signal:G.signal}).then(async()=>{var I=this._getLayerRequestOptions({...G,query:{returnUpdates:!0}});const {layerId:O,url:L}=this.layer;({data:I}=await t(`${L}/${O}`,I));const {id:N,extent:R,fullExtent:K,timeExtent:U}=I;I=R||K;return{id:N,fullExtent:I&&u.fromJSON(I),timeExtent:U&&F.fromJSON({start:U[0],
end:U[1]})}})};v.queryAttachments=async function(G,I={}){const {parsedUrl:O}=this.layer,L=O.path;await this.load();I=this._getLayerRequestOptions(I);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const {objectIds:N}=G;G=[];for(const R of N)G.push(t(L+"/"+R+"/attachments",I));return g.all(G).then(R=>N.map((K,U)=>({parentObjectId:K,attachmentInfos:R[U].data.attachmentInfos}))).then(R=>C.processAttachmentQueryResult(R,L))}return this.queryTask.executeAttachmentQuery(G,I)};v.queryFeatures=
async function(G,I){await this.load();return this.queryTask.execute(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryFeaturesJSON=async function(G,I){await this.load();return this.queryTask.executeJSON(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryObjectIds=async function(G,I){await this.load();return this.queryTask.executeForIds(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryFeatureCount=async function(G,
I){await this.load();return this.queryTask.executeForCount(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryExtent=async function(G,I){await this.load();return this.queryTask.executeForExtent(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryRelatedFeatures=async function(G,I){await this.load();return this.queryTask.executeRelationshipQuery(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v.queryRelatedFeaturesCount=
async function(G,I){await this.load();return this.queryTask.executeRelationshipQueryForCount(G,{...I,query:{...this.layer.customParameters,...null==I?void 0:I.query}})};v._fetchService=async function(G){let I=this.layer.sourceJSON;I||({data:G}=await t(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:b("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:G})),I=G);this.sourceJSON=this._patchServiceJSON(I);G=I.type;if(!x.has(G))throw new n("feature-layer-source:unsupported-type",
`Source type "${G}" is not supported`);};v._patchServiceJSON=function(G){var I;"Table"===G.type||!G.geometryType||null!=G&&null!=(I=G.drawingInfo)&&I.renderer||G.defaultSymbol||(I=E.createDrawingInfo(G.geometryType).renderer,m.setDeepValue("drawingInfo.renderer",I,G));return G};v._serializeFeature=function(G){const {geometry:I,attributes:O}=G;return f.isNone(I)?{attributes:O}:"mesh"===I.type||"extent"===I.type?null:{geometry:I.toJSON(),attributes:O}};v._serializeAttachment=async function(G){const {feature:I,
attachment:O}=G,{globalId:L,name:N,contentType:R,data:K,uploadId:U}=O;G={globalId:L,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};I&&(G.parentGlobalId="attributes"in I?I.attributes&&I.attributes[this.layer.globalIdField]:I.globalId);if(U)G.uploadId=U;else if(K){const P=await y(K);G.contentType=P.mediaType;G.data=P.data;K instanceof File&&(G.name=K.name)}N&&(G.name=N);R&&(G.contentType=R);return G};v._getFeatureIds=function(G){const I=G[0];return I?"objectId"in I?this._getIdsFromFeatureIdentifier(G):
this._getIdsFromFeatures(G):[]};v._getIdsFromFeatures=function(G){const I=this.layer.objectIdField;return G.map(O=>O.attributes&&O.attributes[I])};v._getIdsFromFeatureIdentifier=function(G){return G.map(I=>I.objectId)};v._createEditsResult=function(G){const I=G.data;G=G.data&&G.data.attachments;return{addFeatureResults:I.addResults?I.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:I.updateResults?I.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:I.deleteResults?
I.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:G&&G.addResults?G.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:G&&G.updateResults?G.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:G&&G.deleteResults?G.deleteResults.map(this._createFeatureEditResult,this):[]}};v._createFeatureEditResult=function(G){const I=!0===G.success?null:G.error||{code:void 0,description:void 0};return{objectId:G.objectId,globalId:G.globalId,
error:I?new n("feature-layer-source:edit-failure",I.description,{code:I.code}):null}};v._createAttachmentErrorResult=function(G,I){return{objectId:G,globalId:null,error:new n("feature-layer-source:attachment-failure",I.details.messages&&I.details.messages[0]||I.message,{code:I.details.httpStatus||I.details.messageCode})}};v._getFormDataForAttachment=function(G,I){if(G=G instanceof FormData?G:G&&G.elements?new FormData(G):null)for(const O in I){const L=I[O];null!=L&&(G.set?G.set(O,L):G.append(O,L))}return G};
v._getLayerRequestOptions=function(G={}){const {parsedUrl:I,gdbVersion:O,dynamicDataSource:L}=this.layer;return{...G,query:l.fixJson({gdbVersion:O,layer:L?JSON.stringify({source:L}):void 0,...I.query,f:"json",...this.layer.customParameters,...null==G?void 0:G.query}),responseType:"json"}};a._createClass(D,[{key:"queryTask",get:function(){const {capabilities:{query:{supportsFormatPBF:G}},parsedUrl:I,dynamicDataSource:O,gdbVersion:L,spatialReference:N,fieldsIndex:R}=this.layer,K=b("featurelayer-pbf")&&
G?"pbf":"json";return new A({url:I.path,format:K,fieldsIndex:R,dynamicDataSource:O,gdbVersion:L,sourceSpatialReference:N})}}]);return D}(B);c.__decorate([r.property()],e.prototype,"type",void 0);c.__decorate([r.property({constructOnly:!0})],e.prototype,"layer",void 0);c.__decorate([r.property({readOnly:!0,dependsOn:["layer.parsedUrl","layer.gdbVersion","layer.dynamicDataSource","layer.fieldsIndex"]})],e.prototype,"queryTask",null);return e=c.__decorate([w.subclass("esri.layers.graphics.sources.FeatureLayerSource")],
e)})},"esri/tasks/operations/queryAttachments":function(){define("exports ../../core/urlUtils ../../kernel ../../request ./urlUtils ../../layers/support/AttachmentInfo".split(" "),function(a,c,b,l,m,f){function e(k){k=k.toJSON();k.attachmentTypes&&(k.attachmentTypes=k.attachmentTypes.join(","));k.keywords&&(k.keywords=k.keywords.join(","));k.globalIds&&(k.globalIds=k.globalIds.join(","));k.objectIds&&(k.objectIds=k.objectIds.join(","));k.size&&(k.size=k.size.join(","));return k}a.executeAttachmentQuery=
function(k,r,p){r={query:m.mapParameters({...k.query,f:"json",...e(r)})};p&&(r={...p,...r,query:{...p.query,...r.query}});return l(k.path+"/queryAttachments",r)};a.processAttachmentQueryResult=function(k,r){const p={};for(const w of k){const {parentObjectId:n,parentGlobalId:q,attachmentInfos:h}=w;for(const d of h){({id:k}=d);k=c.addProxy(b.addTokenParameter(`${r}/${n}/attachments/${k}`));const g=f.fromJSON(d);g.set({url:k,parentObjectId:n,parentGlobalId:q});p[n]?p[n].push(g):p[n]=[g]}}return p};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/tasks/operations/urlUtils":function(){define(["exports"],function(a){function c(b){const l={};for(const m in b){if("declaredClass"===m)continue;const f=b[m];if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){l[m]=[];for(let e=0;e<f.length;e++)l[m][e]=c(f[e])}else"object"===typeof f?f.toJSON&&(l[m]=JSON.stringify(f)):l[m]=f}return l}a.mapParameters=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/AttachmentInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./exifUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){var h;const d={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};b=h=function(g){function u(t){t=g.call(this,t)||this;t.contentType=null;t.exifInfo=null;t.id=null;t.globalId=null;t.keywords=null;t.name=null;t.parentGlobalId=null;t.parentObjectId=null;
t.size=null;t.url=null;return t}a._inheritsLoose(u,g);u.prototype.clone=function(){return new h({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};a._createClass(u,[{key:"orientationInfo",get:function(){var {exifInfo:t}=this;t=q.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:t});return d[t]||null}}]);return u}(n.JSONSupport);
c.__decorate([f.property({type:String})],b.prototype,"contentType",void 0);c.__decorate([f.property()],b.prototype,"exifInfo",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);c.__decorate([f.property({type:m.Integer})],b.prototype,"id",void 0);c.__decorate([f.property({type:String})],b.prototype,"globalId",void 0);c.__decorate([f.property({type:String})],b.prototype,"keywords",void 0);c.__decorate([f.property({type:String})],b.prototype,"name",
void 0);c.__decorate([f.property({json:{read:!1}})],b.prototype,"parentGlobalId",void 0);c.__decorate([f.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);c.__decorate([f.property({type:m.Integer})],b.prototype,"size",void 0);c.__decorate([f.property({json:{read:!1}})],b.prototype,"url",void 0);return b=h=c.__decorate([k.subclass("esri.layers.support.AttachmentInfo")],b)})},"esri/layers/support/exifUtils":function(){define(["exports"],function(a){function c(b){const {tagName:l,tags:m}=
b;return m&&l?(b=m.find(f=>f.name===l))&&b.value||null:null}a.getExifValue=function(b){const {exifInfo:l,exifName:m,tagName:f}=b;return l&&m&&f?(b=l.find(e=>e.name===m))?c({tagName:f,tags:b.tags}):null:null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/QueryTask":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../geometry/Extent ../geometry ./support/FeatureSet ../chunks/DataLayerSource ./support/AttachmentQuery ./support/Query ./support/RelationshipQuery ./Task ./operations/pbfJSONFeatureSet ./operations/query ./operations/queryAttachments ./operations/queryRelatedRecords".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){m=function(y){function x(D){D=y.call(this,D)||this;D.dynamicDataSource=null;D.format="json";D.gdbVersion=null;D.sourceSpatialReference=null;return D}a._inheritsLoose(x,y);var z=x.prototype;z.execute=function(D,v){return this.executeJSON(D,v).then(G=>d.fromJSON(G))};z.executeJSON=async function(D,v){var G;v={...this.requestOptions,...v};const I=this._normalizeQuery(D);D=null!=(null==(G=D.outStatistics)?void 0:G[0]);G=b("featurelayer-pbf-statistics");
G=!D||G;let O;if("pbf"===this.format&&G){D=!I.quantizationParameters;try{O=(await C.executeQueryPBF(this.parsedUrl,I,new H.JSONFeatureSetParserContext({sourceSpatialReference:this.sourceSpatialReference,applyTransform:D}),v)).data}catch(L){if("query:parsing-pbf"===L.name)this.format="json";else throw L;}}"json"!==this.format&&G||(O=(await C.executeQuery(this.parsedUrl,I,this.sourceSpatialReference,v)).data);this._normalizeFields(O.fields);return O};z.executeForCount=function(D,v){return C.executeQueryForCount(this.parsedUrl,
this._normalizeQuery(D),{...this.requestOptions,...v}).then(G=>G.data.count)};z.executeForExtent=function(D,v){return C.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(D),{...this.requestOptions,...v}).then(G=>({count:G.data.count,extent:q.fromJSON(G.data.extent)}))};z.executeForIds=function(D,v){return C.executeQueryForIds(this.parsedUrl,this._normalizeQuery(D),{...this.requestOptions,...v}).then(G=>G.data.objectIds)};z.executeRelationshipQuery=function(D,v){D=B.from(D);if(this.gdbVersion||
this.dynamicDataSource)D=D.clone(),D.gdbVersion=D.gdbVersion||this.gdbVersion,D.dynamicDataSource=D.dynamicDataSource||this.dynamicDataSource;return E.executeRelationshipQuery(this.parsedUrl,D,{...this.requestOptions,...v}).then(G=>{const I=G.data,O={};Object.keys(I).forEach(L=>O[L]=d.fromJSON(I[L]));return O})};z.executeRelationshipQueryForCount=function(D,v){D=B.from(D);if(this.gdbVersion||this.dynamicDataSource)D=D.clone(),D.gdbVersion=D.gdbVersion||this.gdbVersion,D.dynamicDataSource=D.dynamicDataSource||
this.dynamicDataSource;return E.executeRelationshipQueryForCount(this.parsedUrl,D,{...this.requestOptions,...v}).then(G=>G.data)};z.executeAttachmentQuery=function(D,v){return A.executeAttachmentQuery(this.parsedUrl,u.from(D),{...this.requestOptions,...v}).then(G=>A.processAttachmentQueryResult(G.data.attachmentGroups,this.parsedUrl.path))};z._normalizeQuery=function(D){var v=t.from(D);if(!this.gdbVersion&&!this.dynamicDataSource)return v;v=v===D?v.clone():v;v.gdbVersion=D.gdbVersion||this.gdbVersion;
v.dynamicDataSource=D.dynamicDataSource?g.DataLayerSource.from(D.dynamicDataSource):this.dynamicDataSource;return v};z._normalizeFields=function(D){if(l.isSome(this.fieldsIndex)&&l.isSome(D))for(const v of D)(D=this.fieldsIndex.get(v.name))&&Object.assign(v,D.toJSON())};return x}(F);c.__decorate([e.property({type:g.DataLayerSource})],m.prototype,"dynamicDataSource",void 0);c.__decorate([e.property()],m.prototype,"fieldsIndex",void 0);c.__decorate([e.property()],m.prototype,"format",void 0);c.__decorate([e.property()],
m.prototype,"gdbVersion",void 0);c.__decorate([e.property()],m.prototype,"sourceSpatialReference",void 0);return m=c.__decorate([r.subclass("esri.tasks.QueryTask")],m)})},"esri/tasks/Task":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(...g){g=q.call(this,...g)||this;g.requestOptions=null;g.url=null;return g}a._inheritsLoose(h,q);var d=h.prototype;d.normalizeCtorArgs=function(g,u){return"string"!==typeof g?g:{url:g,...u}};d._parseUrl=function(g){return g?r.urlToObject(g):null};d._encode=function(g,u,t){const B={};for(const H in g)if("declaredClass"!==H){var F=g[H];if(null!=F&&"function"!==typeof F)if(Array.isArray(F)){B[H]=[];for(let C=0;C<F.length;C++)B[H][C]=this._encode(F[C])}else"object"===
typeof F?F.toJSON?(F=F.toJSON(t&&t[H]),B[H]=u?F:JSON.stringify(F)):B[H]=u?F:JSON.stringify(F):B[H]=F}return B};a._createClass(h,[{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]);return h}(n);c.__decorate([f.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);c.__decorate([f.property()],b.prototype,"requestOptions",void 0);c.__decorate([f.property({type:String})],b.prototype,"url",void 0);return b=c.__decorate([k.subclass("esri.tasks.Task")],b)})},"esri/tasks/operations/pbfJSONFeatureSet":function(){define(["exports",
"../../core/compilerUtils","../../layers/graphics/featureConversionUtils","./zscale"],function(a,c,b,l){function m(q,h){return h}function f(q,h,d,g){switch(d){case 0:return p(q,h+g,0);case 1:return"lowerLeft"===q.originPosition?p(q,h+g,1):w(q,h+g,1)}}function e(q,h,d,g){switch(d){case 2:return p(q,h,2);default:return f(q,h,d,g)}}function k(q,h,d,g){switch(d){case 2:return p(q,h,3);default:return f(q,h,d,g)}}function r(q,h,d,g){switch(d){case 3:return p(q,h,3);default:return e(q,h,d,g)}}function p({translate:q,
scale:h},d,g){return q[g]+d*h[g]}function w({translate:q,scale:h},d,g){return q[g]-d*h[g]}let n=function(){function q(d){this.options=d;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=m;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var h=
q.prototype;h.createFeatureResult=function(){return{fields:[],features:[]}};h.finishFeatureResult=function(d){this.options.applyTransform&&(d.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(d.hasZ){var g=l.getGeometryZScaler(d.geometryType,this.options.sourceSpatialReference,d.spatialReference);if(g)for(const u of d.features)g(u.geometry)}};h.createSpatialReference=function(){return{}};h.addField=function(d,g){d.fields.push(g);const u=d.fields.map(t=>
t.name);this.AttributesConstructor=function(){for(const t of u)this[t]=null}};h.addFeature=function(d,g){d.features.push(g)};h.prepareFeatures=function(d){this.transform=d.transform;this.options.applyTransform&&d.transform&&(this.applyTransform=this.deriveApplyTransform(d));this.vertexDimension=2;d.hasZ&&this.vertexDimension++;d.hasM&&this.vertexDimension++;switch(d.geometryType){case "esriGeometryPoint":this.addCoordinate=(g,u,t)=>this.addCoordinatePoint(g,u,t);this.createGeometry=g=>this.createPointGeometry(g);
break;case "esriGeometryPolygon":this.addCoordinate=(g,u,t)=>this.addCoordinatePolygon(g,u,t);this.createGeometry=g=>this.createPolygonGeometry(g);break;case "esriGeometryPolyline":this.addCoordinate=(g,u,t)=>this.addCoordinatePolyline(g,u,t);this.createGeometry=g=>this.createPolylineGeometry(g);break;case "esriGeometryMultipoint":this.addCoordinate=(g,u,t)=>this.addCoordinateMultipoint(g,u,t);this.createGeometry=g=>this.createMultipointGeometry(g);break;default:c.neverReached(d.geometryType)}};h.createFeature=
function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this.AttributesConstructor}};h.addLength=function(d,g,u){0===this.lengths.length&&(this.toAddInCurrentPath=g);this.lengths.push(g)};h.addQueryGeometry=function(d,g){const {queryGeometry:u,queryGeometryType:t}=g;g=b.unquantizeOptimizedGeometry(u.clone(),u,!1,!1,this.transform);g=b.convertToGeometry(g,t,!1,!1);
d.queryGeometryType=t;d.queryGeometry={...g}};h.createPointGeometry=function(d){const g={x:0,y:0,spatialReference:d.spatialReference};d.hasZ&&(g.z=0);d.hasM&&(g.m=0);return g};h.addCoordinatePoint=function(d,g,u){g=this.applyTransform(this.transform,g,u,0);switch(u){case 0:d.x=g;break;case 1:d.y=g;break;case 2:"z"in d?d.z=g:d.m=g;break;case 3:d.m=g}};h.transformPathLikeValue=function(d,g){let u=0;1>=g&&(u=this.previousCoordinate[g],this.previousCoordinate[g]+=d);return this.applyTransform(this.transform,
d,g,u)};h.addCoordinatePolyline=function(d,g,u){this.dehydratedAddPointsCoordinate(d.paths,g,u)};h.addCoordinatePolygon=function(d,g,u){this.dehydratedAddPointsCoordinate(d.rings,g,u)};h.addCoordinateMultipoint=function(d,g,u){0===u&&d.points.push([]);g=this.transformPathLikeValue(g,u);d.points[d.points.length-1].push(g)};h.createPolygonGeometry=function(d){return{rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};h.createPolylineGeometry=function(d){return{paths:[[]],spatialReference:d.spatialReference,
hasZ:!!d.hasZ,hasM:!!d.hasM}};h.createMultipointGeometry=function(d){return{points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};h.dehydratedAddPointsCoordinate=function(d,g,u){0===u&&0===this.toAddInCurrentPath--&&(d.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);g=this.transformPathLikeValue(g,u);d=d[d.length-1];0===u&&(this.coordinateBufferPtr=0,this.coordinateBuffer=Array(this.vertexDimension),
d.push(this.coordinateBuffer));this.coordinateBuffer[this.coordinateBufferPtr++]=g};h.deriveApplyTransform=function(d){const {hasZ:g,hasM:u}=d;return g&&u?r:g?e:u?k:f};return q}();a.JSONFeatureSetParserContext=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Logger ../../core/Error ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,c,b,l,m,f,e){function k(Z,
V){return Z?V?4:3:V?3:2}function r(Z,V,ba,Q){if(Z){if(ba)return V&&Q?ja:fa;if(V&&Q)return ia}else if(V&&Q)return fa;return X}function p({scale:Z,translate:V},ba){return Math.round((ba-V[0])/Z[0])}function w({scale:Z,translate:V},ba){return Math.round((V[1]-ba)/Z[1])}function n({scale:Z,translate:V},ba){return ba*Z[0]+V[0]}function q({scale:Z,translate:V},ba){return V[1]-ba*Z[1]}function h(Z){Z=Z.coords;return{x:Z[0],y:Z[1]}}function d(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;return Z}function g(Z){Z=
Z.coords;return{x:Z[0],y:Z[1],z:Z[2]}}function u(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.z;return Z}function t(Z){Z=Z.coords;return{x:Z[0],y:Z[1],m:Z[2]}}function B(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.m;return Z}function F(Z){Z=Z.coords;return{x:Z[0],y:Z[1],z:Z[2],m:Z[3]}}function H(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.z;Z.coords[3]=V.m;return Z}function C(Z,V){return Z&&V?H:Z?u:V?B:d}function A(Z,V,ba,Q,Y){ba=C(ba,Q);for(const aa of V){const {geometry:ha,attributes:ka}=
aa;let la;ha&&(la=ba(new e,ha));Z.push(new m(la,ka,null,ka[Y]))}return Z}function E(Z,V,ba,Q){for(const Y of V){const {geometry:aa,attributes:ha}=Y;let ka;aa&&(ka=y(aa,ba,Q));Z.push({attributes:ha,geometry:ka})}return Z}function y(Z,V,ba){if(!Z)return null;const Q=k(V,ba),Y=[];for(let aa=0;aa<Z.coords.length;aa+=Q){const ha=[];for(let ka=0;ka<Q;ka++)ha.push(Z.coords[aa+ka]);Y.push(ha)}return V?ba?{points:Y,hasZ:V,hasM:ba}:{points:Y,hasZ:V}:ba?{points:Y,hasM:ba}:{points:Y}}function x(Z,V,ba,Q,Y){ba=
k(ba,Q);for(const aa of V){V=aa.geometry;Q=aa.attributes;let ha;V&&(ha=z(new e,V,ba));Z.push(new m(ha,Q,null,Q[Y]))}return Z}function z(Z,V,ba=k(V.hasZ,V.hasM)){Z.lengths[0]=V.points.length;const Q=Z.coords;let Y=0;for(const aa of V.points)for(V=0;V<ba;V++)Q[Y++]=aa[V];return Z}function D(Z,V,ba){if(!Z)return null;const Q=k(V,ba),{coords:Y,lengths:aa}=Z;Z=[];let ha=0;for(const ka of aa){const la=[];for(let na=0;na<ka;na++){const pa=[];for(let ua=0;ua<Q;ua++)pa.push(Y[ha++]);la.push(pa)}Z.push(la)}return V?
ba?{paths:Z,hasZ:V,hasM:ba}:{paths:Z,hasZ:V}:ba?{paths:Z,hasM:ba}:{paths:Z}}function v(Z,V,ba,Q,Y){ba=k(ba,Q);for(const aa of V){V=aa.geometry;Q=aa.attributes;let ha;V&&(ha=G(new e,V,ba));Z.push(new m(ha,Q,null,Q[Y]))}return Z}function G(Z,V,ba=k(V.hasZ,V.hasM)){const {lengths:Q,coords:Y}=Z;let aa=0;for(const ha of V.paths){for(const ka of ha)for(V=0;V<ba;V++)Y[aa++]=ka[V];Q.push(ha.length)}return Z}function I(Z,V,ba){if(!Z)return null;const Q=k(V,ba),{coords:Y,lengths:aa}=Z;Z=[];let ha=0;for(const ka of aa){const la=
[];for(let na=0;na<ka;na++){const pa=[];for(let ua=0;ua<Q;ua++)pa.push(Y[ha++]);la.push(pa)}Z.push(la)}return V?ba?{rings:Z,hasZ:V,hasM:ba}:{rings:Z,hasZ:V}:ba?{rings:Z,hasM:ba}:{rings:Z}}function O(Z,V,ba,Q,Y){for(const aa of V){V=aa.geometry;const ha=aa.centroid,ka=aa.attributes;let la;V&&(la=L(new e,V,ba,Q));ha?Z.push(new m(la,ka,d(new e,ha),ka[Y])):Z.push(new m(la,ka,null,ka[Y]))}return Z}function L(Z,V,ba=V.hasZ,Q=V.hasM){N(Z,V.rings,ba,Q);return Z}function N(Z,V,ba,Q){ba=k(ba,Q);const {lengths:Y,
coords:aa}=Z;Q=0;Y.length=aa.length=0;for(const ha of V){for(const ka of ha)for(V=0;V<ba;V++)aa[Q++]=ka[V];Y.push(ha.length)}return Z}function R(Z,V,ba,Q,Y,aa){Z.length=0;if(!ba){for(const ha of V)Z.push(new m(null,ha.attributes,null,ha.attributes[aa]));return Z}switch(ba){case "esriGeometryPoint":return A(Z,V,Q,Y,aa);case "esriGeometryMultipoint":return x(Z,V,Q,Y,aa);case "esriGeometryPolyline":return v(Z,V,Q,Y,aa);case "esriGeometryPolygon":return O(Z,V,Q,Y,aa);default:M.error("convertToFeatureSet:unknown-geometry",
new b(`Unable to parse unknown geometry type '${ba}'`)),Z.length=0}return Z}function K(Z,V,ba,Q){Z=Z&&("coords"in Z?Z:Z.geometry);if(!Z)return null;switch(V){case "esriGeometryPoint":return V=h,ba&&Q?V=F:ba?V=g:Q&&(V=t),V(Z);case "esriGeometryMultipoint":return y(Z,ba,Q);case "esriGeometryPolyline":return D(Z,ba,Q);case "esriGeometryPolygon":return I(Z,ba,Q);default:M.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${V}'`))}}function U(Z,V,ba,Q,Y){Z.length=
0;switch(ba){case "esriGeometryPoint":var aa=h;Q&&Y?aa=F:Q?aa=g:Y&&(aa=t);for(var ha of V){const {geometry:ka,attributes:la}=ha;Q=ka?aa(ka):null;Z.push({attributes:la,geometry:Q})}break;case "esriGeometryMultipoint":return E(Z,V,Q,Y);case "esriGeometryPolyline":for(const ka of V){const {geometry:la,attributes:na}=ka;let pa;la&&(pa=D(la,Q,Y));Z.push({attributes:na,geometry:pa})}break;case "esriGeometryPolygon":for(aa of V){const {geometry:ka,attributes:la,centroid:na}=aa;let pa;ka&&(pa=I(ka,Q,Y));
na?(ha=h(na),Z.push({attributes:la,centroid:ha,geometry:pa})):Z.push({attributes:la,geometry:pa})}break;default:M.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`))}return Z}function P(Z,V,ba,Q,Y,aa,ha=ba,ka=Q){Z.lengths.length&&(Z.lengths.length=0);Z.coords.length&&(Z.coords.length=0);if(!V||!V.coords.length)return null;Y=T[Y];const {coords:la,lengths:na}=V;V=k(ba,Q);const pa=k(ba&&ha,Q&&ka);ba=r(ba,Q,ha,ka);if(!na.length)return ba(Z.coords,la,0,
0,p(aa,la[0]),w(aa,la[1])),Z.lengths.length&&(Z.lengths.length=0),Z.coords.length=V,Z;let ua,za=0,wa,Da=0;for(const Ea of na){if(Ea<Y)continue;let Ha=0;wa=Da;ka=Q=p(aa,la[za]);ua=ha=w(aa,la[za+1]);ba(Z.coords,la,wa,za,ka,ua);Ha++;za+=V;wa+=pa;for(let Ga=1;Ga<Ea;Ga++,za+=V)if(ka=p(aa,la[za]),ua=w(aa,la[za+1]),ka!==Q||ua!==ha)ba(Z.coords,la,wa,za,ka-Q,ua-ha),wa+=pa,Ha++,Q=ka,ha=ua;Ha>=Y&&(Z.lengths.push(Ha),Da=wa)}Z.coords.length=Da;return Z.coords.length?Z:null}function J(Z,V,ba,Q,Y,aa,ha){let ka=
Q,la=0;for(let pa=aa+ba;pa<ha;pa+=ba){{var na=V[pa];const ua=V[pa+1],za=V[ha],wa=V[ha+1];let Da=V[aa],Ea=V[aa+1],Ha=za-Da,Ga=wa-Ea;if(0!==Ha||0!==Ga){const Ja=((na-Da)*Ha+(ua-Ea)*Ga)/(Ha*Ha+Ga*Ga);1<Ja?(Da=za,Ea=wa):0<Ja&&(Da+=Ha*Ja,Ea+=Ga*Ja)}Ha=na-Da;Ga=ua-Ea;na=Ha*Ha+Ga*Ga}na>ka&&(la=pa,ka=na)}ka>Q&&(la-aa>ba&&J(Z,V,ba,Q,Y,aa,la),Y(Z,V,Z.length,la,V[la],V[la+1]),ha-la>ba&&J(Z,V,ba,Q,Y,la,ha))}function S(Z,V,ba,Q,Y){const {coords:aa,lengths:ha}=V,ka=ba?Q?ja:fa:Q?fa:X;ba=k(ba,Q);if(!aa.length)return Z!==
V&&(Z.lengths.length=0,Z.coords.length=0),Z;if(!ha.length)return ka(Z.coords,aa,0,0,n(Y,aa[0]),q(Y,aa[1])),Z!==V&&(Z.lengths.length=0,Z.coords.length=ba),Z;const [la,na]=Y.scale;Q=0;for(let pa=0;pa<ha.length;pa++){const ua=ha[pa];Z.lengths[pa]=ua;let za=n(Y,aa[Q]),wa=q(Y,aa[Q+1]);ka(Z.coords,aa,Q,Q,za,wa);Q+=ba;for(let Da=1;Da<ua;Da++,Q+=ba)za+=aa[Q]*la,wa-=aa[Q+1]*na,ka(Z.coords,aa,Q,Q,za,wa)}Z!==V&&(Z.lengths.length=ha.length,Z.coords.length=aa.length);return Z}function W(Z,V,ba,Q){let Y=0,aa=Z[Q*
V],ha=Z[Q*(V+1)];for(let ka=1;ka<ba;ka++){const la=aa+Z[Q*(V+ka)],na=ha+Z[Q*(V+ka)+1],pa=(la-aa)*(na+ha);aa=la;ha=na;Y+=pa}return.5*Y}const M=c.getLogger("esri.tasks.support.optimizedFeatureSet"),T={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},X=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa},fa=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+2]},ia=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+3]},ja=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+2];Z[ba+
3]=V[Q+3]},ta=[],Aa=[];a.convertFromFeature=function(Z,V,ba,Q,Y){ta[0]=Z;[Z]=R(Aa,ta,V,ba,Q,Y);ta.length=Aa.length=0;return Z};a.convertFromFeatureSet=function(Z,V){const ba=new f,{hasM:Q,hasZ:Y,features:aa,objectIdFieldName:ha,spatialReference:ka,geometryType:la,exceededTransferLimit:na,transform:pa,fields:ua}=Z;ua&&(ba.fields=ua);ba.geometryType=la;ba.objectIdFieldName=ha||V;ba.spatialReference=ka;if(!ba.objectIdFieldName)return M.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),
ba;aa&&R(ba.features,aa,la,Y,Q,ba.objectIdFieldName);na&&(ba.exceededTransferLimit=na);Q&&(ba.hasM=Q);Y&&(ba.hasZ=Y);pa&&(ba.transform=pa);return ba};a.convertFromFeatures=R;a.convertFromGeometry=function(Z,V,ba){if(!Z)return null;const Q=new e;"hasZ"in Z&&null==V&&(V=Z.hasZ);"hasM"in Z&&null==ba&&(ba=Z.hasM);if(l.isPoint(Z))return C(null!=V?V:null!=Z.z,null!=ba?ba:null!=Z.m)(Q,Z);if(l.isPolygon(Z))return L(Q,Z,V,ba);if(l.isPolyline(Z))return G(Q,Z,k(V,ba));if(l.isMultipoint(Z))return z(Q,Z,k(V,ba));
M.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Z}'`))};a.convertFromGraphics=function(Z,V,ba,Q,Y,aa){const ha=Z.length;switch(ba){case "esriGeometryPoint":A(Z,V,Q,Y,aa);break;case "esriGeometryMultipoint":x(Z,V,Q,Y,aa);break;case "esriGeometryPolyline":v(Z,V,Q,Y,aa);break;case "esriGeometryPolygon":O(Z,V,Q,Y,aa);break;default:M.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`))}for(Q=0;Q<V.length;Q++)Z[Q+
ha].geometryType=ba,Z[Q+ha].insertAfter=V[Q].insertAfter,Z[Q+ha].groupId=V[Q].groupId;return Z};a.convertFromMultipoint=z;a.convertFromMultipointFeatures=x;a.convertFromNestedArray=N;a.convertFromPoint=function(Z,V,ba=C(null!=V.z,null!=V.m)){return ba(Z,V)};a.convertFromPointFeatures=A;a.convertFromPolygon=L;a.convertFromPolyline=G;a.convertFromPolylineFeatures=v;a.convertToFeature=function(Z,V,ba,Q){Aa[0]=Z;U(ta,Aa,V,ba,Q);Z=ta[0];ta.length=Aa.length=0;return Z};a.convertToFeatureSet=function(Z){const {objectIdFieldName:V,
spatialReference:ba,transform:Q,fields:Y,hasM:aa,hasZ:ha,features:ka,geometryType:la,exceededTransferLimit:na,uniqueIdField:pa,queryGeometry:ua,queryGeometryType:za}=Z;Z=U([],ka,la,ha,aa);const wa=K(ua,za,!1,!1);Z={features:Z,fields:Y,geometryType:la,objectIdFieldName:V,spatialReference:ba,uniqueIdField:pa,queryGeometry:wa};Q&&(Z.transform=Q);na&&(Z.exceededTransferLimit=na);aa&&(Z.hasM=aa);ha&&(Z.hasZ=ha);return Z};a.convertToFeatures=U;a.convertToGeometry=K;a.convertToMultipoint=y;a.convertToMultipointFeatures=
E;a.convertToPoint=function(Z,V,ba){return Z?V?ba?F(Z):g(Z):ba?t(Z):h(Z):null};a.convertToPolygon=I;a.convertToPolyline=D;a.deltaDecodeGeometry=function(Z,V){const ba=Z.clone(),Q=Z.coords;Z=Z.lengths;let Y=0;for(let ka=0;ka<Z.length;ka++){const la=Z[ka];var aa=Q[V*Y],ha=Q[V*Y+1];for(let na=1;na<la;na++)aa+=Q[V*(Y+na)],ha+=Q[V*(Y+na)+1],ba.coords[V*(Y+na)]=aa,ba.coords[V*(Y+na)+1]=ha;Y+=la}return ba};a.deltaEncodeGeometry=function(Z,V){const ba=Z.clone(),Q=Z.coords;Z=Z.lengths;let Y=0;for(let ha=0;ha<
Z.length;ha++){const ka=Z[ha];let la=Q[V*Y];var aa=Q[V*Y+1];for(let na=1;na<ka;na++){const pa=Q[V*(Y+na)],ua=Q[V*(Y+na)+1];aa=ua-aa;ba.coords[V*(Y+na)]=pa-la;ba.coords[V*(Y+na)+1]=aa;la=pa;aa=ua}Y+=ka}return ba};a.generalizeOptimizedGeometry=function(Z,V,ba,Q,Y,aa,ha=ba,ka=Q){Z.lengths.length&&(Z.lengths.length=0);Z.coords.length&&(Z.coords.length=0);if(!V||!V.coords.length)return null;Y=T[Y];const {coords:la,lengths:na}=V;V=k(ba,Q);const pa=k(ba&&ha,Q&&ka);ba=r(ba,Q,ha,ka);if(!na.length)return ba(Z.coords,
la,0,0,la[0],la[1]),Z.lengths.length&&(Z.lengths.length=0),Z.coords.length=V,Z;Q=0;aa*=aa;for(const ua of na){if(ua<Y){Q+=ua*V;continue}ha=Z.coords.length/pa;ka=Q;const za=Q+(ua-1)*V;ba(Z.coords,la,Z.coords.length,ka,la[ka],la[ka+1]);J(Z.coords,la,V,aa,ba,ka,za);ba(Z.coords,la,Z.coords.length,za,la[za],la[za+1]);ka=Z.coords.length/pa-ha;ka>=Y?Z.lengths.push(ka):Z.coords.length=ha*pa;Q+=ua*V}return Z.coords.length?Z:null};a.getBoundsOptimizedGeometry=function(Z,V,ba,Q){if(!V||!V.coords||!V.coords.length)return null;
ba=k(ba,Q);let Y=Q=Number.POSITIVE_INFINITY,aa=Number.NEGATIVE_INFINITY,ha=Number.NEGATIVE_INFINITY;if(V&&V.coords){V=V.coords;for(let ka=0;ka<V.length;ka+=ba){const la=V[ka],na=V[ka+1];Q=Math.min(Q,la);aa=Math.max(aa,la);Y=Math.min(Y,na);ha=Math.max(ha,na)}}Z[0]=Q;Z[1]=Y;Z[2]=aa;Z[3]=ha;return Z};a.getQuantizedArea=function(Z,V){const {coords:ba,lengths:Q}=Z;let Y=Z=0;for(let aa=0;aa<Q.length;aa++)Y+=W(ba,Z,Q[aa],V),Z+=aa;return Math.abs(Y)};a.getQuantizedBoundsOptimizedGeometry=function(Z,V,ba,
Q){ba=k(ba,Q);const {lengths:Y,coords:aa}=V;Q=V=Number.POSITIVE_INFINITY;let ha=Number.NEGATIVE_INFINITY,ka=Number.NEGATIVE_INFINITY,la=0;for(const na of Y){let pa=aa[la],ua=aa[la+1];V=Math.min(pa,V);Q=Math.min(ua,Q);ha=Math.max(pa,ha);ka=Math.max(ua,ka);la+=ba;for(let za=1;za<na;za++,la+=ba){const wa=aa[la],Da=aa[la+1];pa+=wa;ua+=Da;0>wa&&(V=Math.min(V,pa));0<wa&&(ha=Math.max(ha,pa));0>Da?Q=Math.min(Q,ua):0<Da&&(ka=Math.max(ka,ua))}}Z[0]=V;Z[1]=Q;Z[2]=ha;Z[3]=ka;return Z};a.getSignedQuantizedRingArea=
W;a.quantizeOptimizedFeatureSet=function(Z,V){const {geometryType:ba,features:Q,hasM:Y,hasZ:aa}=V;if(!Z)return V;for(let ha=0;ha<Q.length;ha++){const ka=Q[ha],la=ka.weakClone();la.geometry=new e;P(la.geometry,ka.geometry,Y,aa,ba,Z);ka.centroid&&(la.centroid=new e,P(la.centroid,ka.centroid,Y,aa,"esriGeometryPoint",Z));Q[ha]=la}V.transform=Z;return V};a.quantizeOptimizedGeometry=P;a.quantizeX=p;a.quantizeY=w;a.removeCollinearVectices=function(Z,V,ba,Q,Y){if(!V||!V.coords||!V.coords.length)return null;
ba=T[ba];const {coords:aa,lengths:ha}=V;V=r(Q,Y,Q,Y);Q=k(Q,Y);let ka=Y=0,la=0,na=0;for(const za of ha){ka=na;V(Z.coords,aa,ka,Y,aa[Y],aa[Y+1]);Y+=Q;var pa=aa[Y];let wa=aa[Y+1],Da=pa,Ea=wa;var ua=wa/pa;ka+=Q;V(Z.coords,aa,ka,Y,Da,Ea);Y+=Q;for(let Ha=2;Ha<za;Ha++){pa=aa[Y];wa=aa[Y+1];const Ga=wa/pa,Ja=ua===Ga||!isFinite(ua)&&!isFinite(Ga);ua=Ja&&isFinite(Ga)?0<=ua&&0<=Ga||0>=ua&&0>=Ga:0<=Ea&&0<=wa||0>=Ea&&0>=wa;Ja&&ua?(Da+=pa,Ea+=wa):(Da=pa,Ea=wa,ka+=Q);V(Z.coords,aa,ka,Y,Da,Ea);Y+=Q;ua=Ga}ka+=Q;pa=
(ka-na)/Q;pa>=ba&&(Z.lengths[la]=pa,na=ka,la++)}Z.coords.length>na&&(Z.coords.length=na);Z.lengths.length>la&&(Z.lengths.length=la);return Z.coords.length&&Z.lengths.length?Z:null};a.removeZMValues=function(Z,V,ba,Q,Y,aa){const ha=k(ba,Q);ba=r(ba,Q,Y,aa);Q=V.coords;Z.coords.length=0;Z.lengths.length=0;Z.lengths.push(...V.lengths);for(V=0;V<Q.length;V+=ha)ba(Z.coords,Q,Z.coords.length,V,Q[V],Q[V+1]);return Z};a.unquantizeOptimizedFeatureSet=function(Z){const {transform:V,features:ba,hasM:Q,hasZ:Y}=
Z;if(!V)return Z;for(const aa of ba)aa.geometry&&S(aa.geometry,aa.geometry,Q,Y,V),aa.centroid&&S(aa.centroid,aa.centroid,Q,Y,V);Z.transform=null;return Z};a.unquantizeOptimizedGeometry=S;a.unquantizeX=n;a.unquantizeY=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function c(b=null,l={},m,f){this.displayId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=
b;l&&(this.attributes=l);m&&(this.centroid=m);null!=f&&(this.objectId=f)}c.prototype.weakClone=function(){const b=new c(this.geometry,this.attributes,this.centroid,this.objectId);b.displayId=this.displayId;b.geohashIndexed=this.geohashIndexed;b.geohashX=this.geohashX;b.geohashY=this.geohashY;return b};a._createClass(c,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);return c}()})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}a.prototype.weakClone=function(){const c=new a;c.objectIdFieldName=this.objectIdFieldName;c.globalIdFieldName=this.globalIdFieldName;c.geohashFieldName=this.geohashFieldName;c.geometryProperties=this.geometryProperties;
c.geometryType=this.geometryType;c.spatialReference=this.spatialReference;c.hasZ=this.hasZ;c.hasM=this.hasM;c.features=this.features;c.fields=this.fields;c.transform=this.transform;c.exceededTransferLimit=this.exceededTransferLimit;c.uniqueIdField=this.uniqueIdField;c.queryGeometry=this.queryGeometry;c.queryGeometryType=this.queryGeometryType;return c};return a}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function c(l=
[],m=[],f=!1){this.lengths=null!=l?l:[];this.coords=null!=m?m:[];this.hasIndeterminateRingOrder=f}var b=c.prototype;b.forEachVertex=function(l){let m=0;this.lengths.length||l(this.coords[0],this.coords[1]);for(let f=0;f<this.lengths.length;f++){const e=this.lengths[f];for(let k=0;k<e;k++)l(this.coords[2*(k+m)],this.coords[2*(k+m)+1]);m+=e}};b.clone=function(){return new c(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(c,[{key:"isPoint",get:function(){return 0===
this.lengths.length}}]);return c}()})},"esri/tasks/operations/query":function(){define("exports ../../core/maybe ../../core/urlUtils ../../core/promiseUtils ../../geometry/support/jsonUtils ../../request ../../geometry/support/normalizeUtils ./queryZScale ./pbfQueryUtils ./urlUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p){function w(h,d){const g=h.geometry;h=h.toJSON();c.isSome(g)&&(h.geometry=JSON.stringify(g),h.geometryType=m.getJsonType(g),h.inSR=g.spatialReference.wkid||JSON.stringify(g.spatialReference));
h.groupByFieldsForStatistics&&(h.groupByFieldsForStatistics=h.groupByFieldsForStatistics.join(","));h.objectIds&&(h.objectIds=h.objectIds.join(","));h.orderByFields&&(h.orderByFields=h.orderByFields.join(","));!h.outFields||!h.returnDistinctValues&&(null!=d&&d.returnCountOnly||null!=d&&d.returnExtentOnly||null!=d&&d.returnIdsOnly)?delete h.outFields:-1!==h.outFields.indexOf("*")?h.outFields="*":h.outFields=h.outFields.join(",");h.outSR?h.outSR=h.outSR.wkid||JSON.stringify(h.outSR):g&&(h.returnGeometry||
h.returnCentroid)&&(h.outSR=h.inSR);h.returnGeometry&&delete h.returnGeometry;h.outStatistics&&(h.outStatistics=JSON.stringify(h.outStatistics));h.pixelSize&&(h.pixelSize=JSON.stringify(h.pixelSize));h.quantizationParameters&&(h.quantizationParameters=JSON.stringify(h.quantizationParameters));h.parameterValues&&(h.parameterValues=JSON.stringify(h.parameterValues));h.rangeValues&&(h.rangeValues=JSON.stringify(h.rangeValues));h.dynamicDataSource&&(h.layer=JSON.stringify({source:h.dynamicDataSource}),
delete h.dynamicDataSource);if(h.timeExtent){const {start:u,end:t}=h.timeExtent;if(null!=u||null!=t)h.time=u===t?u:`${null==u?"null":u},${null==t?"null":t}`;delete h.timeExtent}return h}function n(h,d,g){return q(h,d,"pbf",g)}function q(h,d,g,u={},t){const B="string"===typeof h?b.urlToObject(h):h;h=d.geometry?[d.geometry]:[];u.responseType="pbf"===g?"array-buffer":"json";return e.normalizeCentralMeridian(h,null,u).then(F=>{F=F&&F[0];c.isSome(F)&&(d=d.clone(),d.geometry=F);F=p.mapParameters({...B.query,
f:g,...t,...w(d,t)});return f(b.join(B.path,"query"),{...u,query:{...F,...u.query}})})}a.executeQuery=async function(h,d,g,u){h=c.isSome(d.timeExtent)&&d.timeExtent.isEmpty?{data:{features:[]}}:await q(h,d,"json",u);k.applyFeatureSetZUnitScaling(d,g,h.data);return h};a.executeQueryForCount=function(h,d,g){return c.isSome(d.timeExtent)&&d.timeExtent.isEmpty?l.resolve({data:{count:0}}):q(h,d,"json",g,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(h,d,g){return c.isSome(d.timeExtent)&&
d.timeExtent.isEmpty?l.resolve({data:{count:0,extent:null}}):q(h,d,"json",g,{returnExtentOnly:!0,returnCountOnly:!0}).then(u=>{const t=u.data;if(t.hasOwnProperty("extent"))return u;if(t.features)throw Error("Layer does not support extent calculation.");if(t.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return u})};a.executeQueryForIds=function(h,d,g){return c.isSome(d.timeExtent)&&d.timeExtent.isEmpty?l.resolve({data:{objectIds:[]}}):q(h,d,"json",g,{returnIdsOnly:!0})};
a.executeQueryPBF=async function(h,d,g,u){if(c.isSome(d.timeExtent)&&d.timeExtent.isEmpty)return l.resolve({data:g.createFeatureResult()});h=await n(h,d,u);h.data=r.parsePBFFeatureQuery(h.data,g);return h};a.executeQueryPBFBuffer=n;a.queryToQueryStringParameters=w;a.runQuery=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/maybe ../../core/Logger ../../core/Error ../../core/promiseUtils ./spatialReferenceUtils ../SpatialReference ./webMercatorUtils ../Polygon ../Polyline ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){function h(y){return"polygon"===y.type?y.rings:y.paths}function d(y,x){return Math.ceil((y-x)/(2*x))}function g(y,x){const z=h(y);for(const D of z)for(const v of D)v[0]+=x;return y}function u(y){const x=[];let z=0,D=0;for(let v=0;v<y.length;v++){const G=y[v];let I=null;for(let O=0;O<G.length;O++)I=G[O],x.push(I),0===O?D=z=I[0]:(z=Math.min(z,I[0]),D=Math.max(D,I[0]));I&&x.push([(z+D)/2,0])}return x}function t(y,x){if(!(y instanceof w||y instanceof p))throw A.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
new m("straightLineDensify: the input geometry is neither polyline nor polygon");var z=h(y);const D=[];for(const G of z){z=[];D.push(z);z.push([G[0][0],G[0][1]]);for(let I=0;I<G.length-1;I++){const O=G[I][0],L=G[I][1],N=G[I+1][0],R=G[I+1][1];var v=Math.sqrt((N-O)*(N-O)+(R-L)*(R-L));const K=(R-L)/v,U=(N-O)/v,P=v/x;if(1<P){for(let J=1;J<=P-1;J++){const S=J*x;z.push([U*S+O,K*S+L])}v=(v+Math.floor(P-1)*x)/2;z.push([U*v+O,K*v+L])}z.push([N,R])}}return"polygon"===y.type?new p({rings:D,spatialReference:y.spatialReference}):
new w({paths:D,spatialReference:y.spatialReference})}function B(y,x,z){x&&(y=t(y,1E6),y=r.webMercatorToGeographic(y,!0));z&&(y=g(y,z));return y}function F(y,x,z){if(Array.isArray(y)){var D=y[0];D>x?(z=d(D,x),y[0]=D+-2*z*x):D<z&&(x=d(D,z),y[0]=D+-2*x*z)}else D=y.x,D>x?(z=d(D,x),y=y.clone().offset(-2*z*x,0)):D<z&&(x=d(D,z),y=y.clone().offset(-2*x*z,0));return y}function H(y,x){let z=-1;for(let D=0;D<x.cutIndexes.length;D++){const v=x.cutIndexes[D],G=x.geometries[D],I=h(G);for(let O=0;O<I.length;O++){const L=
I[O];L.some(N=>{if(180>N[0])return!0;N=0;for(var R=0;R<L.length;R++){var K=L[R][0];N=K>N?K:N}N=Number(N.toFixed(9));N=-360*d(N,180);for(R=0;R<L.length;R++)K=G.getPoint(O,R),G.setPoint(O,R,K.clone().offset(N,0));return!0})}if(v===z)if("polygon"===y[0].type)for(const O of h(G))y[v]=y[v].addRing(O);else{if("polyline"===y[0].type)for(const O of h(G))y[v]=y[v].addPath(O)}else z=v,y[v]=G}return y}async function C(y,x,z){if(!Array.isArray(y))return C([y],x);var D=x?x.url:c.geometryServiceUrl;let v,G,I;let O=
0;var L=[];x=[];for(var N of y)if(b.isNone(N))x.push(N);else{if(!R){var R=N.spatialReference;var K=e.getInfo(R);var U=(v=R.isWebMercator)?102100:4326;G=E[U].maxX;I=E[U].minX;var P=E[U].plus180Line;U=E[U].minus180Line}if(K)if("mesh"===N.type)x.push(N);else if("point"===N.type)x.push(F(N.clone(),G,I));else if("multipoint"===N.type){var J=N.clone();J.points=J.points.map(S=>F(S,G,I));x.push(J)}else if("extent"===N.type)J=N.clone()._normalize(!1,!1,K),x.push(J.rings?new p(J):J);else if(N.extent){J=N.extent;
const S=2*d(J.xmin,I)*G;let W=0===S?N.clone():g(N.clone(),S);J.offset(S,0);J.intersects(P)&&J.xmax!==G?(O=J.xmax>O?J.xmax:O,W=B(W,v),L.push(W),x.push("cut")):J.intersects(U)&&J.xmin!==I?(O=2*J.xmax*G>O?2*J.xmax*G:O,W=B(W,v,360),L.push(W),x.push("cut")):x.push(W)}else x.push(N.clone());else x.push(N)}R=d(O,G);K=-90;P=R;for(N=new w;0<R;)U=-180+360*R,N.addPath([[U,K],[U,-1*K]]),K*=-1,R--;if(0<L.length&&0<P){R=await n.cut(D,L,N,z);R=H(L,R);K=[];L=[];for(P=0;P<x.length;P++)N=x[P],"cut"!==N?L.push(N):(N=
R.shift(),U=y[P],b.isSome(U)&&"polygon"===U.type&&U.rings&&1<U.rings.length&&N.rings.length>=U.rings.length?(K.push(N),L.push("simplify")):L.push(v?r.geographicToWebMercator(N):N));if(!K.length)return L;x=await q.simplify(D,K,z);y=[];for(z=0;z<L.length;z++)D=L[z],"simplify"!==D?y.push(D):y.push(v?r.geographicToWebMercator(x.shift()):x.shift());return y}y=[];for(z=0;z<x.length;z++)D=x[z],"cut"!==D?y.push(D):(D=L.shift(),y.push(!0===v?r.geographicToWebMercator(D):D));return f.resolve(y)}const A=l.getLogger("esri.geometry.support.normalizeUtils"),
E={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new w({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator}),minus180Line:new w({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new w({paths:[[[180,-180],[180,180]]],spatialReference:k.WGS84}),minus180Line:new w({paths:[[[-180,
-180],[-180,180]]],spatialReference:k.WGS84})}};a.getDenormalizedExtent=function(y){if(!y)return null;const x=y.extent;if(!x)return null;var z=y.spatialReference&&e.getInfo(y.spatialReference);if(!z)return x;const [D,v]=z.valid;({width:z}=x);let {xmin:G,xmax:I}=x;[G,I]=[I,G];if("extent"===y.type||0===z||z<=v||z>2*v||G<D||I>v)return x;let O;switch(y.type){case "polygon":if(1<y.rings.length)O=u(y.rings);else return x;break;case "polyline":if(1<y.paths.length)O=u(y.paths);else return x;break;case "multipoint":O=
y.points}y=x.clone();for(let L=0;L<O.length;L++){let N=O[L][0];0>N?(N+=v,I=Math.max(N,I)):(N-=v,G=Math.min(N,G))}y.xmin=G;y.xmax=I;return y.width<z?(y.xmin-=v,y.xmax-=v,y):x};a.normalizeCentralMeridian=C;a.normalizeMapX=function(y,x){if(x=e.getInfo(x)){const [z,D]=x.valid;x=D-z;if(y<z)for(;y<z;)y+=x;if(y>D)for(;y>D;)y-=x}return y};a.straightLineDensify=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils",
"../../geometry","../../request"],function(a,c,b,l,m){a.cut=async function(f,e,k,r){f="string"===typeof f?c.urlToObject(f):f;const p=e[0].spatialReference;e={...r,query:{...f.query,f:"json",sr:JSON.stringify(p),target:JSON.stringify({geometryType:b.getJsonType(e[0]),geometries:e}),cutter:JSON.stringify(k)}};e=await m(f.path+"/cut",e);const {cutIndexes:w,geometries:n=[]}=e.data;return{cutIndexes:w,geometries:n.map(q=>{q=b.fromJSON(q);q.spatialReference=p;return q})}};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils","../../request"],function(a,c,b,l){function m(e){return{geometryType:b.getJsonType(e[0]),geometries:e.map(k=>k.toJSON())}}function f(e,k,r){const p=b.getGeometryType(k);return e.map(w=>{w=p.fromJSON(w);w.spatialReference=r;return w})}a.simplify=async function(e,k,r){const p="string"===typeof e?c.urlToObject(e):e;e=k[0].spatialReference;const w=b.getJsonType(k[0]);k={...r,
query:{...p.query,f:"json",sr:e.wkid?e.wkid:JSON.stringify(e),geometries:JSON.stringify(m(k))}};k=await l(p.path+"/simplify",k);return f(k.data,w,e)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,c){a.parsePBFFeatureQuery=function(b,l){var m=c.parseFeatureQuery(b,l);b=m.queryResult.featureResult;l=m.queryResult.queryGeometry;m=m.queryResult.queryGeometryType;if(b&&b.features&&b.features.length&&
b.objectIdFieldName){const f=b.objectIdFieldName;for(const e of b.features)e.attributes&&(e.objectId=e.attributes[f])}b&&(b.queryGeometry=l,b.queryGeometryType=m);return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/pbfFeatureServiceParser":function(){define("exports ../../core/maybe ../../core/Logger ../../core/Error ../../layers/graphics/OptimizedGeometry ../../core/pbf ./pbfOptimizedFeatureSet".split(" "),function(a,c,b,l,m,f,e){function k(z){return z>=E.length?
null:E[z]}function r(z,D,v){for(v=D.createPointGeometry(v);z.next();)switch(z.tag()){case 3:{var G=z.getUInt32();G=z.pos()+G;let I=0;for(;z.pos()<G;)D.addCoordinatePoint(v,z.getSInt64(),I++);break}default:z.skip()}return v}function p(z,D,v){const G=D.createGeometry(v);for(v=2+(v.hasZ?1:0)+(v.hasM?1:0);z.next();)switch(z.tag()){case 2:var I=z.getUInt32();I=z.pos()+I;for(var O=0;z.pos()<I;)D.addLength(G,z.getUInt32(),O++);break;case 3:I=z.getUInt32();I=z.pos()+I;for(O=0;z.pos()<I;)D.addCoordinate(G,
z.getSInt64(),O),O++,O===v&&(O=0);break;default:z.skip()}return G}function w(z){const D=new m;let v="esriGeometryPoint";for(;z.next();)switch(z.tag()){case 2:var G=z.getUInt32();for(G=z.pos()+G;z.pos()<G;)D.lengths.push(z.getUInt32());break;case 3:G=z.getUInt32();for(G=z.pos()+G;z.pos()<G;)D.coords.push(z.getSInt64());break;case 1:v=e.OPTIMIZED_GEOMETRY_TYPES[z.getEnum()];break;default:z.skip()}return{queryGeometry:D,queryGeometryType:v}}function n(z){for(;z.next();)switch(z.tag()){case 1:return z.getString();
case 2:return z.getFloat();case 3:return z.getDouble();case 4:return z.getSInt32();case 5:return z.getUInt32();case 6:return z.getInt64();case 7:return z.getUInt64();case 8:return z.getSInt64();case 9:return z.getBool();default:return z.skip(),null}return null}function q(z){const D={type:k(0)};for(;z.next();)switch(z.tag()){case 1:D.name=z.getString();break;case 2:D.type=k(z.getEnum());break;case 3:D.alias=z.getString();break;case 4:var v=z.getEnum();v=v>=y.length?null:y[v];D.sqlType=v;break;case 5:try{D.domain=
JSON.parse(z.getString())}catch(G){A.error(new l("query:parsing-pbf","Failed to parse domain",{error:G})),D.domain=null}break;case 6:D.defaultValue=z.getString();break;default:z.skip()}return D}function h(z){const D={};for(;z.next();)switch(z.tag()){case 1:D.name=z.getString();break;case 2:D.isSystemMaintained=z.getBool();break;default:z.skip()}return D}function d(z,D,v,G){const I=D.createFeature(v);let O=0;for(;z.next();)switch(z.tag()){case 1:{const L=G[O++].name;I.attributes[L]=z.processMessage(n);
break}case 2:I.geometry=z.processMessageWithArgs(p,D,v);break;case 4:I.centroid=z.processMessageWithArgs(r,D,v);break;default:z.skip()}return I}function g(z){const D=[1,1,1,1];for(;z.next();)switch(z.tag()){case 1:D[0]=z.getDouble();break;case 2:D[1]=z.getDouble();break;case 4:D[2]=z.getDouble();break;case 3:D[3]=z.getDouble();break;default:z.skip()}return D}function u(z){const D=[0,0,0,0];for(;z.next();)switch(z.tag()){case 1:D[0]=z.getDouble();break;case 2:D[1]=z.getDouble();break;case 4:D[2]=z.getDouble();
break;case 3:D[3]=z.getDouble();break;default:z.skip()}return D}function t(z){const D={originPosition:0>=x.length?null:x[0]};for(;z.next();)switch(z.tag()){case 1:var v=z.getEnum();D.originPosition=v>=x.length?null:x[v];break;case 2:D.scale=z.processMessage(g);break;case 3:D.translate=z.processMessage(u);break;default:z.skip()}return D}function B(z){const D={};for(;z.next();)switch(z.tag()){case 1:D.shapeAreaFieldName=z.getString();break;case 2:D.shapeLengthFieldName=z.getString();break;case 3:D.units=
z.getString();break;default:z.skip()}return D}function F(z,D){for(D=D.createSpatialReference();z.next();)switch(z.tag()){case 1:D.wkid=z.getUInt32();break;case 5:D.wkt=z.getString();break;case 2:D.latestWkid=z.getUInt32();break;case 3:D.vcsWkid=z.getUInt32();break;case 4:D.latestVcsWkid=z.getUInt32();break;default:z.skip()}return D}function H(z,D){const v=D.createFeatureResult();v.geometryType=0>=D.geometryTypes.length?null:D.geometryTypes[0];let G=!1;for(;z.next();)switch(z.tag()){case 1:v.objectIdFieldName=
z.getString();break;case 3:v.globalIdFieldName=z.getString();break;case 4:v.geohashFieldName=z.getString();break;case 5:v.geometryProperties=z.processMessage(B);break;case 7:var I=z.getEnum();v.geometryType=I>=D.geometryTypes.length?null:D.geometryTypes[I];break;case 8:v.spatialReference=z.processMessageWithArgs(F,D);break;case 10:v.hasZ=z.getBool();break;case 11:v.hasM=z.getBool();break;case 12:v.transform=z.processMessage(t);break;case 9:I=z.getBool();v.exceededTransferLimit=I;break;case 13:D.addField(v,
z.processMessage(q));break;case 15:G||(D.prepareFeatures(v),G=!0);D.addFeature(v,z.processMessageWithArgs(d,D,v,v.fields));break;case 2:v.uniqueIdField=z.processMessage(h);break;default:z.skip()}D.finishFeatureResult(v);return v}function C(z,D){const v={};let G=null;for(;z.next();)switch(z.tag()){case 4:G=z.processMessageWithArgs(w);break;case 1:v.featureResult=z.processMessageWithArgs(H,D);break;default:z.skip()}c.isSome(G)&&v.featureResult&&D.addQueryGeometry(v,G);return v}const A=b.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),
E="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),y="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
x=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(z,D){try{const v=new f(new Uint8Array(z),new DataView(z));for(z={};v.next();)switch(v.tag()){case 2:z.queryResult=v.processMessageWithArgs(C,D);break;default:v.skip()}return z}catch(v){throw new l("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:v});}};a.parseFieldType=k;a.parseTransform=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,c){const b=
a("esri-text-decoder")?new TextDecoder("utf-8"):null,l=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function m(e,k,r=0,p=e?e.byteLength:0){this._tag=0;this._dataType=99;this.init(e,k,r,p)}var f=m.prototype;f.init=function(e,k,r,p){this._data=e;this._dataView=k;this._pos=r;this._end=p};f.clone=function(){return new m(this._data,this._dataView,this._pos,this._end)};f.pos=function(){return this._pos};f.move=function(e){this._pos=e};f.nextTag=function(e){for(;;){if(this._pos===this._end)return!1;
const k=this._decodeVarint();this._tag=k>>3;this._dataType=k&7;if(!e||e===this._tag)break;this.skip()}return!0};f.next=function(){if(this._pos===this._end)return!1;const e=this._decodeVarint();this._tag=e>>3;this._dataType=e&7;return!0};f.empty=function(){return this._pos>=this._end};f.tag=function(){return this._tag};f.getInt32=function(){return this._decodeVarint()};f.getInt64=function(){return this._decodeVarint()};f.getUInt32=function(){let e=4294967295;e=(this._data[this._pos]&127)>>>0;if(128>
this._data[this._pos++])return e;e=(e|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return e};f.getUInt64=function(){return this._decodeVarint()};f.getSInt32=function(){const e=this.getUInt32();return e>>>1^-(e&1)|0};f.getSInt64=function(){return this._decodeSVarint()};
f.getBool=function(){const e=0!==this._data[this._pos];this._skip(1);return e};f.getEnum=function(){return this._decodeVarint()};f.getFixed64=function(){var e=this._dataView;const k=this._pos;e=e.getUint32(k,!0)+4294967296*e.getUint32(k+4,!0);this._skip(8);return e};f.getSFixed64=function(){var e=this._dataView;const k=this._pos;e=e.getUint32(k,!0)+4294967296*e.getInt32(k+4,!0);this._skip(8);return e};f.getDouble=function(){const e=this._dataView.getFloat64(this._pos,!0);this._skip(8);return e};f.getFixed32=
function(){const e=this._dataView.getUint32(this._pos,!0);this._skip(4);return e};f.getSFixed32=function(){const e=this._dataView.getInt32(this._pos,!0);this._skip(4);return e};f.getFloat=function(){const e=this._dataView.getFloat32(this._pos,!0);this._skip(4);return e};f.getString=function(){const e=this._getLength();var k=this._pos;k=this._toString(this._data,k,k+e);this._skip(e);return k};f.getBytes=function(){const e=this._getLength();var k=this._pos;k=this._toBytes(this._data,k,k+e);this._skip(e);
return k};f.getLength=function(){return this._getLengthUnsafe()};f.processMessageWithArgs=function(e,k,r,p){const w=this.getMessage();e=e(w,k,r,p);w.release();return e};f.processMessage=function(e){const k=this.getMessage();e=e(k);k.release();return e};f.getMessage=function(){const e=this._getLength(),k=m.pool.acquire();k.init(this._data,this._dataView,this._pos,this._pos+e);this._skip(e);return k};f.release=function(){m.pool.release(this)};f.dataType=function(){return this._dataType};f.skip=function(){switch(this._dataType){case 0:this._decodeVarint();
break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};f.skipLen=function(e){this._skip(e)};f._skip=function(e){if(this._pos+e>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=e};f._decodeVarint=function(){const e=this._data;let k=this._pos,r=0,p;if(10<=this._end-k){if(p=e[k++],r|=p&127,0!==(p&128)&&(p=e[k++],r|=(p&127)<<7,0!==(p&128)&&(p=e[k++],r|=(p&127)<<14,0!==(p&128)&&(p=e[k++],
r|=(p&127)<<21,0!==(p&128)&&(p=e[k++],r+=268435456*(p&127),0!==(p&128)&&(p=e[k++],r+=34359738368*(p&127),0!==(p&128)&&(p=e[k++],r+=4398046511104*(p&127),0!==(p&128)&&(p=e[k++],r+=562949953421312*(p&127),0!==(p&128)&&(p=e[k++],r+=72057594037927936*(p&127),0!==(p&128)&&(p=e[k++],r+=0x7fffffffffffffff*(p&127),0!==(p&128)))))))))))throw Error("Varint too long!");}else{let w=1;for(;k!==this._end;){p=e[k];if(0===(p&128))break;++k;r+=(p&127)*w;w*=128}if(k===this._end)throw Error("Varint overrun!");++k;r+=
p*w}this._pos=k;return r};f._decodeSVarint=function(){const e=this._decodeVarint();return e%2?-(e+1)/2:e/2};f._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};f._getLengthUnsafe=function(){return this.getUInt32()};f._toString=function(e,k,r){r=Math.min(this._end,r);if(r-k>l&&b)return e=e.subarray(k,r),b.decode(e);let p="",w="";for(;k<r;++k){const n=e[k];n&128?w+="%"+n.toString(16):(p+=decodeURIComponent(w)+String.fromCharCode(n),w=
"")}w.length&&(p+=decodeURIComponent(w));return p};f._toBytes=function(e,k,r){r=Math.min(this._end,r);return new Uint8Array(e.buffer,k,r-k)};return m}();a.pool=new c(a,null,m=>{m._data=null;m._dataView=null});return a})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define("exports ../../geometry/support/spatialReferenceUtils ../../core/unitUtils ../../layers/graphics/OptimizedFeature ../../layers/graphics/OptimizedFeatureSet ../../layers/graphics/OptimizedGeometry".split(" "),function(a,
c,b,l,m,f){const e=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let k=function(){function r(w){this.options=w;this.geometryTypes=e}var p=r.prototype;p.createFeatureResult=function(){return new m};p.prepareFeatures=function(){};p.finishFeatureResult=function(w){if(w&&w.features&&w.hasZ&&this.options.sourceSpatialReference&&w.spatialReference&&!c.equals(w.spatialReference,this.options.sourceSpatialReference)&&!w.spatialReference.vcsWkid){var n=b.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),
q=b.getMetersPerVerticalUnitForSR(w.spatialReference);n/=q;if(1!==n)for(const h of w.features)if(h.geometry&&h.geometry.coords)for(w=h.geometry.coords,q=2;q<w.length;q+=3)w[q]*=n}};p.addFeature=function(w,n){w.features.push(n)};p.createFeature=function(){return new l};p.createSpatialReference=function(){return{wkid:0}};p.createGeometry=function(){return new f};p.addField=function(w,n){w.fields.push(n)};p.addCoordinate=function(w,n){w.coords.push(n)};p.addCoordinatePoint=function(w,n){w.coords.push(n)};
p.addLength=function(w,n){w.lengths.push(n)};p.addQueryGeometry=function(w,n){w.queryGeometry=n.queryGeometry;w.queryGeometryType=n.queryGeometryType};p.createPointGeometry=function(){return new f};return r}();a.OPTIMIZED_GEOMETRY_TYPES=e;a.OptimizedFeatureSetParserContext=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/queryRelatedRecords":function(){define(["exports","../../request","./urlUtils"],function(a,c,b){function l(f,e){f=f.toJSON();f.objectIds&&(f.objectIds=
f.objectIds.join(","));f.orderByFields&&(f.orderByFields=f.orderByFields.join(","));!f.outFields||null!=e&&e.returnCountOnly?delete f.outFields:-1!==f.outFields.indexOf("*")?f.outFields="*":f.outFields=f.outFields.join(",");f.outSpatialReference&&(f.outSR=f.outSR.wkid||JSON.stringify(f.outSR.toJSON()),delete f.outSpatialReference);f.dynamicDataSource&&(f.layer=JSON.stringify({source:f.dynamicDataSource}),delete f.dynamicDataSource);return f}async function m(f,e,k={},r){e=b.mapParameters({...f.query,
f:"json",...r,...l(e,r)});return c(f.path+"/queryRelatedRecords",{...k,query:{...k.query,...e}})}a.executeRelationshipQuery=async function(f,e,k){f=await m(f,e,k);e=f.data;k=e.geometryType;const r=e.spatialReference,p={};for(const w of e.relatedRecordGroups){const n={fields:void 0,objectIdFieldName:void 0,geometryType:k,spatialReference:r,hasZ:!!e.hasZ,hasM:!!e.hasM,features:w.relatedRecords};if(null!=w.objectId)p[w.objectId]=n;else for(const q in w)w.hasOwnProperty(q)&&"relatedRecords"!==q&&(p[w[q]]=
n)}return{...f,data:p}};a.executeRelationshipQueryForCount=async function(f,e,k){f=await m(f,e,k,{returnCountOnly:!0});e=f.data;k={};for(const r of e.relatedRecordGroups)null!=r.objectId&&(k[r.objectId]=r.count);return{...f,data:k}};a.toQueryStringParameters=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../../../symbols/support/defaultsJSON"],function(a,
c,b,l){a.createDefaultAttributesFunction=function(m,f){if(c("csp-restrictions"))return()=>({[f]:null,...m});try{let e=`this.${f} = null;`;for(const r in m){const p=r.indexOf(".")?`["${r}"]`:`.${r}`;e+=`this${p} = ${JSON.stringify(m[r])};`}const k=new Function(e);return()=>new k}catch(e){return()=>({[f]:null,...m})}};a.createDefaultTemplate=function(m={}){return[{name:"New Feature",description:"",prototype:{attributes:b.clone(m)}}]};a.createDrawingInfo=function(m){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===
m||"esriGeometryMultipoint"===m?l.defaultPointSymbolJSON:"esriGeometryPolyline"===m?l.defaultPolylineSymbolJSON:l.defaultPolygonSymbolJSON}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/scheduling ../core/Accessor ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/Extent ../core/Evented ../core/Collection ../core/Promise ../core/Loadable ../core/CollectionFlattener ../Map ../TimeExtent ../core/watchUtils ../geometry/HeightModelInfo ../core/HandleOwner ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./Magnifier ./RefreshManager ./input/ViewEvents ./ToolViewManager ./input/Input ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I,O,L,N,R,K,U,P,J,S){var W;const M=m.getLogger("esri.views.View");b=W=function(T){function X(ia){var ja=T.call(this,ia)||this;ja._userSpatialReference=null;ja._cursor=null;ja.allLayerViews=new y({root:a._assertThisInitialized(ja),rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:ta=>ta.layerViews});ja.animation=null;ja.basemapView=null;ja.defaultsFromMap=
new S({view:a._assertThisInitialized(ja)});ja.fatalError=null;ja.extent=null;ja.graphics=new I["default"];ja.navigating=!1;ja.layerViews=new C;ja.magnifier=new N;ja.padding={left:0,top:0,right:0,bottom:0};ja.ready=!1;ja.spatialReferenceWarningDelay=1E3;ja.supportsGround=!0;ja.timeExtent=null;ja.type=null;ja.scale=null;ja.updating=!1;ja.initialExtentRequired=!0;ja.renderContext=null;ja.input=new P;ja.navigation=new J;ja.layerViewManager=null;ja.refreshManager=null;ja.isHeightModelInfoRequired=!1;ja.width=
null;ja.height=null;ja.resizing=!1;ja.suspended=!1;ja.viewEvents=new K.ViewEvents(a._assertThisInitialized(ja));ja.persistableViewModels=new C;ja._isValid=!1;ja._readyCycleForced=!1;ja.handles.add(ja.watch("preconditionsReady",ta=>{ta?(ja._currentSpatialReference=ja.spatialReference,W.views.add(a._assertThisInitialized(ja))):(ja._currentSpatialReference=null,W.views.remove(a._assertThisInitialized(ja)));ja.notifyChange("spatialReference");!ta&&ja.ready?(ja.layerViewManager.clear(),ja.toolViewManager.detach(),
ja._teardown()):ta&&!ja.ready&&(ja._startup(),ja.toolViewManager.attach())},!0));return ja}a._inheritsLoose(X,T);var fa=X.prototype;fa.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return D.whenOnce(this,"ready")}));this.basemapView=new O.BasemapView({view:this});this.layerViewManager=new L({view:this,layerViewImporter:{importLayerView:ja=>this.importLayerView(ja),hasLayerViewModule:ja=>this.hasLayerViewModule(ja)},supportsGround:this.supportsGround});this.refreshManager=
new R({view:this});this.toolViewManager=new U({view:this});this._resetInitialViewPropertiesFromContent();let ia;D.init(this.defaultsFromMap,"isSpatialReferenceDone",ja=>{const ta=!!(this.map&&0<this.map.allLayers.length);if((!ja||this.spatialReference||!ta)&&ia)ia=null;else if(ja&&!this.spatialReference&&ta&&!ia){const Aa=ia=d.after(this.spatialReferenceWarningDelay);ia.then(()=>{Aa===ia&&M.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(()=>
{})}},!0)};fa.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics.destroy();this.graphics=null;this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);this.toolViewManager.destroy();this.toolViewManager=null;this.refreshManager.destroy();this.refreshManager=null;this.layerViewManager.destroy();this.layerViewManager=null;this.basemapView.destroy();
this.basemapView=null;this.invalidate();this._emitter.clear();this.handles.removeAll();var ia=this.map;this.map=null;null==ia?void 0:ia.destroy()}};fa._startup=function(){this._set("ready",!0)};fa._teardown=function(){this._set("ready",!1)};fa.whenReady=function(){return d.resolve()};fa.toMap=function(){M.error("#toMap()","Not implemented on this instance of View");return null};fa.whenLayerView=function(ia){return this.layerViewManager.whenLayerView(ia)};fa.getDefaultSpatialReference=function(){return this.get("defaultsFromMap.spatialReference")};
fa.getDefaultHeightModelInfo=function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null};fa.importLayerView=function(ia){throw new w("importLayerView() not implemented");};fa.hasLayerViewModule=function(ia){return!1};fa.validate=async function(){};fa.invalidate=function(){this._isValid=!1};fa.isSpatialReferenceSupported=function(ia,ja,ta){return!0};fa.isTileInfoRequired=function(){return!1};fa.when=function(ia,ja){this.isResolved()&&
!this.ready&&M.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return T.prototype.when.call(this,ia,ja)};fa.forceReadyCycle=function(){this.ready&&(this._readyCycleForced=!0,D.whenFalseOnce(this,"preconditionsReady",()=>this._readyCycleForced=!1))};fa.createTool=function(ia,ja,ta){return this.toolViewManager.createTool(ia,ja,ta)};fa.tryFatalErrorRecovery=function(){this.fatalError=
null};fa._resetInitialViewPropertiesFromContent=function(){if(this.defaultsFromMap){var ia=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset();this._currentSpatialReference=null;this.notifyChange("spatialReference");this.handles.remove("defaultsFromMap");this.handles.add([D.watch(this,"spatialReference",(ja,ta)=>{t.equals(ja,ta)||ia()}),D.watch(this,"initialExtentRequired",ia),g.schedule(ia)],"defaultsFromMap")}};a._createClass(X,[{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},
{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!E.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&
this.defaultsFromMap.isTileInfoDone)}},{key:"map",set:function(ia){var ja;const ta=this._get("map");ia!==ta&&(null!=(ja=ia)&&ja.destroyed&&(M.warn("#map","The provided map is already destroyed",{map:ia}),ia=null),E.isLoadable(ia)&&ia.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",ia))}},{key:"spatialReference",get:function(){let ia=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||
null;ia&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(ia=ia.clone(),ia.vcsWkid=this.defaultsFromMap.vcsWkid,ia.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return ia},set:function(ia){this._userSpatialReference=ia;this._set("spatialReference",ia)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){return this.defaultsFromMap&&this.defaultsFromMap.extent}},{key:"cursor",get:function(){const ia=this.toolViewManager?
this.toolViewManager.cursor:null;return l.isSome(ia)?ia:this._cursor||"default"},set:function(ia){this._cursor=ia;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return X}(G.HandleOwnerMixin(H.EventedMixin(A.EsriPromiseMixin(u))));b.views=new C;c.__decorate([k.aliasOf("toolViewManager.activeTool")],b.prototype,"activeTool",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"allLayerViews",void 0);c.__decorate([e.property()],b.prototype,"animation",
void 0);c.__decorate([e.property()],b.prototype,"basemapView",void 0);c.__decorate([e.property()],b.prototype,"defaultsFromMap",void 0);c.__decorate([e.property()],b.prototype,"fatalError",void 0);c.__decorate([e.property({type:F})],b.prototype,"extent",void 0);c.__decorate([e.property(I.graphicsCollectionProperty())],b.prototype,"graphics",void 0);c.__decorate([e.property({readOnly:!0,type:v,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"],autoTracked:!1})],b.prototype,"heightModelInfo",
null);c.__decorate([e.property({readOnly:!0,dependsOn:["navigating"]})],b.prototype,"interacting",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"navigating",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone defaultsFromMap.isTileInfoDone".split(" "),autoTracked:!1})],b.prototype,"preconditionsReady",
null);c.__decorate([e.property({type:C,readOnly:!0})],b.prototype,"layerViews",void 0);c.__decorate([e.property({type:N})],b.prototype,"magnifier",void 0);c.__decorate([e.property({value:null,type:x})],b.prototype,"map",null);c.__decorate([e.property()],b.prototype,"padding",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"ready",void 0);c.__decorate([e.property({type:B,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],b.prototype,
"spatialReference",null);c.__decorate([e.property()],b.prototype,"spatialReferenceWarningDelay",void 0);c.__decorate([e.property({dependsOn:["animation","navigating","resizing"]})],b.prototype,"stationary",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"supportsGround",void 0);c.__decorate([e.property({type:z})],b.prototype,"timeExtent",void 0);c.__decorate([k.aliasOf("toolViewManager.tools")],b.prototype,"tools",void 0);c.__decorate([e.property()],b.prototype,"toolViewManager",void 0);
c.__decorate([e.property({readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:Number})],b.prototype,"scale",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"updating",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"initialExtentRequired",void 0);c.__decorate([e.property({readOnly:!0,type:F,dependsOn:["defaultsFromMap.extent"]})],b.prototype,"initialExtent",null);c.__decorate([e.property({dependsOn:["toolViewManager.cursor"]})],b.prototype,"cursor",null);
c.__decorate([e.property()],b.prototype,"renderContext",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"input",void 0);c.__decorate([e.property({type:J,nonNullable:!0})],b.prototype,"navigation",void 0);c.__decorate([e.property()],b.prototype,"layerViewManager",void 0);c.__decorate([e.property()],b.prototype,"width",void 0);c.__decorate([e.property()],b.prototype,"height",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"resizing",void 0);c.__decorate([e.property({value:null,
dependsOn:["width","height"],readOnly:!0})],b.prototype,"size",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"suspended",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"viewEvents",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"persistableViewModels",void 0);c.__decorate([e.property()],b.prototype,"_isValid",void 0);c.__decorate([e.property()],b.prototype,"_readyCycleForced",void 0);c.__decorate([e.property()],b.prototype,"_currentSpatialReference",void 0);
return b=W=c.__decorate([p.subclass("esri.views.View")],b)})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Accessor ./Handles ../views/support/WatchUpdatingTracking".split(" "),function(a,c,b,l,m,f,e,k){const r=p=>{p=function(w){function n(){return w.apply(this,arguments)||this}c._inheritsLoose(n,w);n.prototype.destroy=function(){this.destroyed||(this.handles.destroy(),
this.updatingHandles.destroy())};c._createClass(n,[{key:"handles",get:function(){return this._get("handles")||new e}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new k.WatchUpdatingTracking}}]);return n}(p);b.__decorate([l.property({readOnly:!0})],p.prototype,"handles",null);b.__decorate([l.property({readOnly:!0})],p.prototype,"updatingHandles",null);return p=b.__decorate([m.subclass("esri.core.HandleOwner")],p)};a.HandleOwner=function(p){function w(){return p.apply(this,
arguments)||this}c._inheritsLoose(w,p);return w}(r(f));a.HandleOwner=b.__decorate([m.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/get ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../core/scheduling ../../core/accessorSupport/wire ../../core/Accessor ../../core/Handles ../../core/watchUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w){a.WatchUpdatingTracking=function(n){function q(){var d=n.apply(this,arguments)||this;d.updating=!1;d.handleId=0;d.handles=new p;d.scheduleHandleId=0;d.pendingPromises=new Set;return d}c._inheritsLoose(q,n);var h=q.prototype;h.destroy=function(){this.removeAll();this.handles.destroy()};h.add=function(d,g,u,t=0){const B=0!==(t&1),F=++this.handleId;B||this.installSyncUpdatingWatch(d,g,F);d=0!==(t&2)?w.init(d,g,u,B):d.watch(g,u,B);this.handles.add(d,F);return{remove:()=>
{this.handles.remove(F)}}};h.addOnCollectionPropertyChange=function(d,g,u,t=0){t=0!==(t&2);const B=++this.handleId;this.handles.add([w.on(d,g,"after-changes",this.createSyncUpdatingCallback()),w.on(d,g,"change",u,t?F=>{u({added:F.items,removed:[],moved:[],target:F})}:void 0)],B);return{remove:()=>{this.handles.remove(B)}}};h.addOnCollectionChange=function(d,g,u=0){u=0!==(u&2);const t=++this.handleId;this.handles.add([d.on("after-changes",this.createSyncUpdatingCallback()),d.on("change",g)],t);u&&
g({added:d.items,removed:[],moved:[],target:d});return{remove:()=>{this.handles.remove(t)}}};h.addPromise=function(d){if(!d)return d;const g=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(d)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},g);this.pendingPromises.add(d);this._set("updating",!0);const u=()=>this.handles.remove(g);d.then(u,u);return d};h.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",
!1)};h.installSyncUpdatingWatch=function(d,g,u){var t=this.createSyncUpdatingCallback();t=k.wire(()=>l.valueOf(d,g),t);this.handles.add(t,u);return t};h.createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const d=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(e.schedule(()=>{d===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return q}(r);b.__decorate([m.property({readOnly:!0})],
a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=b.__decorate([f.subclass("esri.views.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ../core/collectionUtils ../Graphic".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){const g=q.ofType(d);a.GraphicsCollection=function(u){function t(F){var H=u.call(this,F)||this;H.on("before-add",C=>{C.item||C.preventDefault()});H.on("after-add",C=>H._own(C.item));H.on("after-remove",({item:C})=>{C.layer=null});return H}c._inheritsLoose(t,u);var B=t.prototype;B.destroy=function(){this._unownAll()};B._createNewInstance=function(F){return new g(F)};B._ownAll=function(){this.items.forEach(F=>this._own(F))};B._own=function(F){F.layer&&"remove"in
F.layer&&F.layer!==this.owner&&F.layer.remove(F);F.layer=this.owner};B._unownAll=function(){this.items.forEach(F=>this._unown(F))};B._unown=function(F){F.layer===this.owner&&(F.layer=null)};c._createClass(t,[{key:"owner",get:function(){return this._get("owner")},set:function(F){F!==this._get("owner")&&(this._unownAll(),this._set("owner",F),this._ownAll())}}]);return t}(g);b.__decorate([e.property()],a.GraphicsCollection.prototype,"owner",null);a.GraphicsCollection=b.__decorate([r.subclass("esri.support.GraphicsCollection")],
a.GraphicsCollection);b=a.GraphicsCollection;a.castGraphicsCollection=function(u){if(u=f.ensureType(a.GraphicsCollection,u))u.owner=this;return u};a.default=b;a.graphicsCollectionProperty=(u="graphics")=>({type:a.GraphicsCollection,cast:h.castForReferenceSetter,set(t){t=h.referenceSetter(t,this._get(u),a.GraphicsCollection);t.owner=this;this._set(u,t)}});Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor ../core/Collection ../core/watchUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){a.BasemapView=function(g){function u(t){t=g.call(this,t)||this;t.view=null;t.baseLayerViews=new h;t.referenceLayerViews=new h;t._loadingHandle=d.init(c._assertThisInitialized(t),"view.map.basemap",B=>{B&&B.load().catch(()=>{})});return t}c._inheritsLoose(u,g);u.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};c._createClass(u,[{key:"suspended",get:function(){return this.view?this.view.suspended:
!0}},{key:"updating",get:function(){return this.view&&this.view.suspended?!1:!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}}]);return u}(q);b.__decorate([e.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([e.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([e.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);b.__decorate([e.property({readOnly:!0,dependsOn:["view.suspended"]})],
a.BasemapView.prototype,"suspended",null);b.__decorate([e.property({type:Boolean,readOnly:!0,dependsOn:["view.suspended","view.map.basemap.loaded"]})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([r.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/scheduling ../core/CollectionFlattener ../core/watchUtils ./support/WatchUpdatingTracking ../core/HandleOwner ../core/MapUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){const H=m.getLogger("esri.views.LayerViewManager");let C=function(){function A(y,x,z){this.layer=y;this.view=x;this.layerViewImporter=z;this._controller=h.createAbortController();this._deferred=h.createDeferred();this.done=this._started=!1;h.onAbort(this._controller.signal,()=>{const D=new p("cancelled:layerview-create","layerview creation cancelled",{layer:y});this._deferred.reject(D)})}var E=A.prototype;E.destroy=function(){this._controller.abort();
const {layerView:y}=this;if(y){var {layer:x,view:z}=this;x.emit("layerview-destroy",{view:z,layerView:y});z.emit("layerview-destroy",{layer:x,layerView:y});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};E.start=async function(){if(!this._started){this._started=!0;var {_controller:{signal:y},layer:x,view:z}=this;this._map=z.map;try{var D,v;await x.load({signal:y});"prefetchResources"in x&&await x.prefetchResources({signal:y});let I;if(x.createLayerView)I=await x.createLayerView(z,
{signal:y});else{if(!this.layerViewImporter.hasLayerViewModule(x))throw new p("layer:view-not-supported","No layerview implementation was found");var G=await this.layerViewImporter.importLayerView(x);h.throwIfAborted(y);I="default"in G?new G.default({layer:x,view:z}):new G({layer:x,view:z})}let O;G=()=>{O=l.removeMaybe(O);I.destroy();I.layer=null;I.parent=null;I.view=null;this.done=!0};O=h.onAbort(y,G);h.throwIfAborted(y);try{await I.when()}catch(L){throw G(),L;}(null==(D=this._map)?0:null==(v=D.allLayers)?
0:v.includes(x))?(this.layerView=I,x.emit("layerview-create",{view:z,layerView:I}),z.emit("layerview-create",{layer:x,layerView:I}),this.done=!0,this._deferred.resolve(I)):(G(),this._deferred.reject(new p("view:no-layerview-for-layer","The layer has been removed from the map",{layer:x})))}catch(I){x.emit("layerview-create-error",{view:z,error:I}),z.emit("layerview-create-error",{layer:x,error:I}),this.done=!0,this._deferred.reject(new p("layerview:create-error","layerview creation failed",{layer:x,
error:I}))}}};a._createClass(A,[{key:"promise",get:function(){return this._deferred.promise}}]);return A}();b=function(A){function E(x){var z=A.call(this,x)||this;z._layerLayerViewInfoMap=new Map;z._watchUpdatingTracking=new t.WatchUpdatingTracking;z.supportsGround=!0;z._preloadLayerViewModules=()=>{var D;const v=null==(D=z.view.map)?void 0:D.allLayers;if(v)for(const G of v)z.layerViewImporter.hasLayerViewModule(G)&&z.layerViewImporter.importLayerView(G)};z._reschedule=()=>{l.isNone(z._workPromise)&&
(z._workPromise=h.createDeferred());z.handles.remove("reschedule");z.handles.add(d.schedule(z._doWork),"reschedule");return z._workPromise.promise};z._doWork=()=>{var D,v,G,I=z.view.map;z._map!==I&&(z.clear(),z._map=I);if(l.isNone(z._workPromise))z.notifyChange("updating");else{z.handles.remove("reschedule");z.handles.remove("collection-change");var O=new g({root:a._assertThisInitialized(z),rootCollectionNames:z._rootCollectionNames,getChildrenFunction:L=>L.layers});for(const L of O)z._createLayerView(L);
z._refreshCollections();for(const [L,N]of z._layerLayerViewInfoMap)O.includes(L)||(z._layerLayerViewInfoMap.delete(N.layer),N.destroy());O=O.filter(L=>"group"===L.type).map(L=>L.layers);I=[null==I?void 0:null==(D=I.ground)?void 0:D.layers,null==I?void 0:null==(v=I.basemap)?void 0:v.baseLayers,null==I?void 0:null==(G=I.basemap)?void 0:G.referenceLayers,null==I?void 0:I.layers,...O].filter(L=>!!L);z.handles.add(I.map(L=>z._watchUpdatingTracking.addOnCollectionChange(L,z._reschedule)),"collection-change");
z._workPromise.resolve();z._workPromise=null}};return z}a._inheritsLoose(E,A);var y=E.prototype;y.initialize=function(){this.handles.add([u.on(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),u.init(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]);this._preloadLayerViewModules();this._reschedule()};y.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=null};y.clear=function(){if(!this.destroyed){for(const x of this._layerLayerViewInfoMap.values())x.destroy();
this._layerLayerViewInfoMap.clear();this._refreshCollections()}};y.whenLayerView=async function(x){await this._reschedule();return this._layerLayerViewInfoMap.has(x)?this._layerLayerViewInfoMap.get(x).promise:h.reject(new p("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:x}))};y._refreshCollections=function(){for(const [x,z]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(x),this.get(z),this.view);this.notifyChange("updating")};y._populateLayerViewsOwners=
function(x,z,D){if(x&&z){var v=0;for(const G of x)(x=this._layerLayerViewInfoMap.get(G))&&x.layerView&&(x=x.layerView,x.layer=G,x.parent=D,z.getItemAt(v)!==x&&z.splice(v,0,x),G.layers&&this._populateLayerViewsOwners(G.layers,x.layerViews,x),v+=1);v<z.length&&z.splice(v,z.length)}else z&&z.removeAll()};y._createLayerView=function(x){if(this._layerLayerViewInfoMap.has(x))this.view.ready&&this._layerLayerViewInfoMap.get(x).start();else{x.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(x)&&
this.layerViewImporter.importLayerView(x);var z=new C(x,this.view,this.layerViewImporter);z.promise.then(()=>this._refreshCollections(),D=>{if(!D||!h.isAbortError(D)&&"cancelled:layerview-create"!==D.name){var v,G;H.error(`Failed to create layerview for layer title:'${null!=(v=x.title)?v:"no title"}', id:'${null!=(G=x.id)?G:"no id"}' of type '${x.type}'.`,{layer:x,error:D})}this._refreshCollections()});this._layerLayerViewInfoMap.set(x,z);this.view.ready&&z.start()}this.notifyChange("updating")};
a._createClass(E,[{key:"_layersToLayerViews",get:function(){const x=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&x.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(x)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return l.isSome(this._workPromise)||
this._watchUpdatingTracking.updating?!0:F.someMap(this._layerLayerViewInfoMap,x=>!x.done)}}]);return E}(B.HandleOwner);c.__decorate([e.property()],b.prototype,"_workPromise",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);c.__decorate([e.property({dependsOn:["supportsGround"],readOnly:!0})],b.prototype,"_layersToLayerViews",null);c.__decorate([e.property({dependsOn:["_layersToLayerViews"],readOnly:!0})],b.prototype,"_rootCollectionNames",null);c.__decorate([e.property()],
b.prototype,"layerViewImporter",void 0);c.__decorate([e.property()],b.prototype,"supportsGround",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["_workPromise","_watchUpdatingTracking.updating"]})],b.prototype,"updating",null);c.__decorate([e.property({constructOnly:!0})],b.prototype,"view",void 0);return b=c.__decorate([r.subclass("esri.views.LayerViewManager")],b)})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(c,b){for(const [l,m]of c)if(b(m,l))return m;
return null};a.someMap=function(c,b){for(const [l,m]of c)if(b(m,l))return!0;return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor".split(" "),function(a,
c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.factor=1.5;d.offsetX=0;d.offsetY=0;d.position=null;d.size=120;d.mask=null;d.maskEnabled=!0;d.overlay=null;d.overlayEnabled=!0;d.visible=!1;return d}a._inheritsLoose(h,q);a._createClass(h,[{key:"version",get:function(){this.factor;this.offsetX;this.offsetY;this.position;this.visible;this.size;this.mask;this.maskEnabled;this.overlay;this.overlayEnabled;return(this._get("version")||0)+1}}]);return h}(n);c.__decorate([f.property({type:Number})],
b.prototype,"factor",void 0);c.__decorate([f.property({type:Number})],b.prototype,"offsetX",void 0);c.__decorate([f.property({type:Number})],b.prototype,"offsetY",void 0);c.__decorate([f.property()],b.prototype,"position",void 0);c.__decorate([f.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);c.__decorate([f.property()],b.prototype,"mask",void 0);c.__decorate([f.property()],b.prototype,"maskEnabled",void 0);c.__decorate([f.property()],b.prototype,"overlay",void 0);c.__decorate([f.property()],
b.prototype,"overlayEnabled",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:"factor offsetX offsetY position visible mask overlay maskEnabled overlayEnabled size".split(" ")})],b.prototype,"version",null);c.__decorate([f.property({type:Boolean})],b.prototype,"visible",void 0);return b=c.__decorate([k.subclass("esri.views.Magnifier")],b)})},"esri/views/RefreshManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor ../core/Handles ./layers/RefreshableLayerView".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(){var t=d.apply(this,arguments)||this;t._handles=new q;t._currentTick=0;return t}a._inheritsLoose(g,d);var u=g.prototype;u.initialize=function(){this._handles.add([this.view.allLayerViews.on("after-changes",()=>{this.notifyChange("tickInterval");this._handles.remove("layerViewsUpdating");this._handles.add(this._getLayerViewHandles(),"layerViewsUpdating")}),this.watch("tickInterval",()=>this._restartTicking()),this.watch("view.ready",()=>
this._restartTicking())]);this._restartTicking()};u.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)};u._restartTicking=function(){this._currentTick=0;this._intervalID&&clearInterval(this._intervalID);this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval(()=>{const t=Date.now();this._currentTick+=this.tickInterval;this.view.allLayerViews.forEach(B=>{if(h.isRefreshableLayerView(B)){const F=
Math.round(6E4*B.refreshInterval),H=0===this._currentTick%F,C=5400>t-B.refreshTimestamp;F&&H&&!C&&B.refresh(t)}})},this.tickInterval))};u._getLayerViewHandles=function(){const t=[],B=()=>this.notifyChange("tickInterval");this.view.allLayerViews.forEach(F=>{h.isRefreshableLayerView(F)&&F.layer&&t.push(F.watch("refreshInterval",B),F.layer.on("refresh",()=>{F.refresh(Date.now())}))});return t};u._getCommonInterval=function(t){const B=(F,H)=>isNaN(F)||isNaN(H)?0:0>=H?F:B(H,F%H);return t.toArray().reduce((F,
H)=>B(Math.round(6E4*H.refreshInterval),F),0)};a._createClass(g,[{key:"tickInterval",get:function(){const t=this.view.allLayerViews.filter(B=>h.isRefreshableLayerView(B));return this._getCommonInterval(t)}}]);return g}(n);c.__decorate([f.property()],b.prototype,"view",void 0);c.__decorate([f.property({readOnly:!0})],b.prototype,"tickInterval",null);return b=c.__decorate([k.subclass("esri.views.RefreshManager")],b)})},"esri/views/layers/RefreshableLayerView":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){a.RefreshableLayerView=d=>{d=function(g){function u(){var t=g.apply(this,arguments)||this;t.refreshTimestamp=null;t.refreshDebounced=h.debounce(async(B,F)=>{let H;"number"===typeof B?H=B:(H=Date.now(),F=B);t._set("refreshTimestamp",H);t.doRefresh&&await t.doRefresh(F)},2E3);return t}c._inheritsLoose(u,g);u.prototype.refresh=function(t=Date.now()){this._set("refreshTimestamp",t);this.doRefresh&&this.doRefresh()};return u}(d);b.__decorate([e.property()],d.prototype,
"layer",void 0);b.__decorate([k.aliasOf("layer.refreshInterval")],d.prototype,"refreshInterval",void 0);b.__decorate([e.property({readOnly:!0})],d.prototype,"refreshTimestamp",void 0);return d=b.__decorate([p.subclass("esri.layers.mixins.RefreshableLayerView")],d)};a.isRefreshableLayerView=function(d){return"refresh"in d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager".split(" "),
function(a,c,b,l,m,f,e){function k(q){return!!p[q]}function r(q){for(const h of q)if(!k(h))return!1;return!0}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const p={};b.forEach(q=>{p[q]=!0});let w=function(){function q(d){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=d;this.inputManager=null}var h=q.prototype;h.connect=
function(d){d&&this.disconnect();this.inputManager=d;this.handlers.forEach(({handler:g,priority:u},t)=>this.inputManager.installHandlers(t,[g],u))};h.disconnect=function(){this.inputManager&&this.handlers.forEach((d,g)=>this.inputManager.uninstallHandlers(g));this.inputManager=null};h.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};h.on=function(d,g,u,t){const B=Array.isArray(d)?d:d.split(",");if(!r(B))return B.some(k)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(g))d=g;else{var F=g;d=[]}"function"===typeof u?F=u:t=u;t=null!=t?t:e.ViewEventPriorities.DEFAULT;const H=this.createUniqueGroupName();u=new n(this.view,B,d,F);this.handlers.set(H,{handler:u,priority:t});for(const C of B)F=this.handlerCounts.get(C)||0,this.handlerCounts.set(C,F+1);this.inputManager&&this.inputManager.installHandlers(H,[u],t);return{remove:()=>this.removeHandler(H,B)}};h.hasHandler=function(d){return!!this.handlerCounts.get(d)};h.removeHandler=function(d,g){if(this.handlers.has(d)){this.handlers.delete(d);
for(const u of g)g=this.handlerCounts.get(u),void 0===g?console.error("Trying to remove handler for event that has no handlers registered: ",u):1===g?this.handlerCounts.delete(u):this.handlerCounts.set(u,g-1)}this.inputManager&&this.inputManager.uninstallHandlers(d)};h.createUniqueGroupName=function(){this.counter+=1;return`viewEvents_${this.counter}`};return q}(),n=function(q){function h(g,u,t,B){var F=q.call(this,!0)||this;F.view=g;for(const H of u)switch(H){case "click":F.registerIncoming("click",
t,C=>B(F.wrapClick(C)));break;case "double-click":F.registerIncoming("double-click",t,C=>B(F.wrapDoubleClick(C)));break;case "immediate-click":F.registerIncoming("immediate-click",t,C=>B(F.wrapImmediateClick(C)));break;case "immediate-double-click":F.registerIncoming("immediate-double-click",t,C=>B(F.wrapImmediateDoubleClick(C)));break;case "hold":F.registerIncoming("hold",t,C=>B(F.wrapHold(C)));break;case "drag":F.registerIncoming("drag",t,C=>{(C=F.wrapDrag(C))&&B(C)});break;case "key-down":F.registerIncoming("key-down",
t,C=>B(F.wrapKeyDown(C)));break;case "key-up":F.registerIncoming("key-up",t,C=>B(F.wrapKeyUp(C)));break;case "pointer-down":F.registerIncoming("pointer-down",t,C=>B(F.wrapPointer(C,"pointer-down")));break;case "pointer-move":F.registerIncoming("pointer-move",t,C=>B(F.wrapPointer(C,"pointer-move")));break;case "pointer-up":F.registerIncoming("pointer-up",t,C=>B(F.wrapPointer(C,"pointer-up")));break;case "pointer-drag":F.registerIncoming("pointer-drag",t,C=>B(F.wrapPointerDrag(C)));break;case "mouse-wheel":F.registerIncoming("mouse-wheel",
t,C=>B(F.wrapMouseWheel(C)));break;case "pointer-enter":F.registerIncoming("pointer-enter",t,C=>B(F.wrapPointer(C,"pointer-enter")));break;case "pointer-leave":F.registerIncoming("pointer-leave",t,C=>B(F.wrapPointer(C,"pointer-leave")));break;case "gamepad":F.registerIncoming("gamepad",t,C=>{B(F.wrapGamepad(C))});break;case "focus":F.registerIncoming("focus",t,C=>{B(F.wrapFocus(C))});break;case "blur":F.registerIncoming("blur",t,C=>{B(F.wrapBlur(C))})}return F}c._inheritsLoose(h,q);var d=h.prototype;
d.wrapFocus=function(g){return{type:"focus",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:u=>g.async(u),preventDefault:()=>g.preventDefault()}};d.wrapBlur=function(g){return{type:"blur",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:u=>g.async(u),preventDefault:()=>g.preventDefault()}};d.wrapClick=function(g){const {pointerType:u,button:t,buttons:B,x:F,y:H,native:C,
eventId:A}=g.data,{cancelable:E,timestamp:y}=g,x=m.createScreenPoint(F,H),z=this.getMapPoint(F,H);return{type:"click",pointerType:u,button:t,buttons:B,x:F,y:H,native:C,timestamp:y,screenPoint:x,mapPoint:z,eventId:A,cancelable:E,stopPropagation:()=>g.stopPropagation(),async:D=>g.async(D),preventDefault:()=>g.preventDefault()}};d.wrapDoubleClick=function(g){const {pointerType:u,button:t,buttons:B,x:F,y:H,native:C,eventId:A}=g.data,{cancelable:E,timestamp:y}=g;return{type:"double-click",pointerType:u,
button:t,buttons:B,x:F,y:H,native:C,timestamp:y,mapPoint:this.getMapPoint(F,H),eventId:A,cancelable:E,stopPropagation:()=>g.stopPropagation(),async:x=>g.async(x),preventDefault:()=>g.preventDefault()}};d.wrapImmediateClick=function(g){const {pointerType:u,button:t,buttons:B,x:F,y:H,native:C,eventId:A}=g.data,E=C.pointerId,{cancelable:y,timestamp:x}=g;return{type:"immediate-click",pointerId:E,pointerType:u,button:t,buttons:B,x:F,y:H,native:C,timestamp:x,mapPoint:this.getMapPoint(F,H),eventId:A,cancelable:y,
stopPropagation:()=>g.stopPropagation(),async:z=>g.async(z),preventDefault:()=>g.preventDefault()}};d.wrapImmediateDoubleClick=function(g){const {pointerType:u,button:t,buttons:B,x:F,y:H,native:C,eventId:A}=g.data,E=C.pointerId,{cancelable:y,timestamp:x}=g;return{type:"immediate-double-click",pointerId:E,pointerType:u,button:t,buttons:B,x:F,y:H,native:C,timestamp:x,mapPoint:this.getMapPoint(F,H),eventId:A,cancelable:y,stopPropagation:()=>g.stopPropagation(),async:z=>g.async(z),preventDefault:()=>
g.preventDefault()}};d.wrapHold=function(g){const {pointerType:u,button:t,buttons:B,x:F,y:H,native:C}=g.data,{cancelable:A,timestamp:E}=g;return{type:"hold",pointerType:u,button:t,buttons:B,x:F,y:H,native:C,timestamp:E,mapPoint:this.getMapPoint(F,H),cancelable:A,stopPropagation:()=>g.stopPropagation(),async:y=>g.async(y),preventDefault:()=>g.preventDefault()}};d.getMapPoint=function(g,u){return this.view.toMap(m.createScreenPoint(g,u),{exclude:[]})};d.wrapDrag=function(g){const u=g.data,{x:t,y:B}=
u.center,{action:F,pointerType:H,button:C}=u;"start"===F&&(this.latestDragStart=u);if(this.latestDragStart){var A=u.pointer.native,E=u.buttons,{cancelable:y,timestamp:x}=g,z={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===F&&(this.latestDragStart=void 0);return{type:"drag",action:F,x:t,y:B,origin:z,pointerType:H,button:C,buttons:E,radius:u.radius,angle:l.rad2deg(u.angle),native:A,timestamp:x,cancelable:y,stopPropagation:()=>g.stopPropagation(),async:D=>g.async(D),preventDefault:()=>
g.preventDefault()}}};d.wrapKeyDown=function(g){const {key:u,repeat:t,native:B}=g.data,{cancelable:F,timestamp:H}=g;return{type:"key-down",key:u,repeat:t,native:B,timestamp:H,cancelable:F,stopPropagation:()=>g.stopPropagation(),async:C=>g.async(C),preventDefault:()=>g.preventDefault()}};d.wrapKeyUp=function(g){const {key:u,native:t}=g.data,{cancelable:B,timestamp:F}=g;return{type:"key-up",key:u,native:t,timestamp:F,cancelable:B,stopPropagation:()=>g.stopPropagation(),async:H=>g.async(H),preventDefault:()=>
g.preventDefault()}};d.wrapPointer=function(g,u){const {x:t,y:B,button:F,buttons:H,native:C,eventId:A}=g.data,E=C.pointerId,y=C.pointerType,{cancelable:x,timestamp:z}=g;return{type:u,x:t,y:B,pointerId:E,pointerType:y,button:F,buttons:H,native:C,timestamp:z,eventId:A,cancelable:x,stopPropagation:()=>g.stopPropagation(),async:D=>g.async(D),preventDefault:()=>g.preventDefault()}};d.wrapPointerDrag=function(g){const {x:u,y:t,buttons:B,native:F,eventId:H}=g.data.currentEvent,{button:C}=g.data.startEvent,
A=g.data.startEvent.native.pointerId,E=g.data.startEvent.native.pointerType,y=g.data.action,x={x:g.data.startEvent.x,y:g.data.startEvent.y},{cancelable:z,timestamp:D}=g;return{type:"pointer-drag",x:u,y:t,pointerId:A,pointerType:E,button:C,buttons:B,action:y,origin:x,native:F,timestamp:D,eventId:H,cancelable:z,stopPropagation:()=>g.stopPropagation(),async:v=>g.async(v),preventDefault:()=>g.preventDefault()}};d.wrapMouseWheel=function(g){const {cancelable:u,data:t,timestamp:B}=g,{x:F,y:H,deltaY:C,native:A}=
t;return{type:"mouse-wheel",x:F,y:H,deltaY:C,native:A,timestamp:B,cancelable:u,stopPropagation:()=>g.stopPropagation(),async:E=>g.async(E),preventDefault:()=>g.preventDefault()}};d.wrapGamepad=function(g){const {action:u,state:t,device:B}=g.data,{cancelable:F,timestamp:H}=g,{buttons:C,axes:A}=t;return{type:"gamepad",device:B,timestamp:H,action:u,buttons:C,axes:A,cancelable:F,stopPropagation:()=>g.stopPropagation(),async:E=>g.async(E),preventDefault:()=>g.preventDefault()}};return h}(f.InputHandler);
a.ViewEvents=w;a.eventTypes=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,c,b,l){const m=b.getLogger("esri.views.input.InputHandler");b=function(){function k(p){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=p}var r=k.prototype;r.onInstall=
function(p){this._manager?m.error("This InputHandler has already been registered with an InputManager"):(p.setEventCallback(w=>this._handleEvent(w)),p.setUninstallCallback(()=>this._onUninstall()),this._manager=p)};r.onUninstall=function(){};r.registerIncoming=function(p,w,n){"function"===typeof w?(n=w,w=[]):w=w||[];p="string"===typeof p?new l.EventMatch(p,w):p;const q=()=>{this._incomingEventMatches=this._incomingEventTypes=null};w=h=>{const d=this._incoming[h.match.eventType];d&&(h=d.indexOf(h),
d.splice(h,1),q(),this._manager&&this._manager.updateDependencies())};n=new f(p,n,{onPause:w,onRemove:w,onResume:h=>{const d=this._incoming[h.match.eventType];d&&-1===d.indexOf(h)&&(d.push(h),q(),this._manager&&this._manager.updateDependencies())}});w=this._incoming[p.eventType];w||(w=[],this._incoming[p.eventType]=w);w.push(n);q();this._manager&&this._manager.updateDependencies();return n};r.registerOutgoing=function(p){if(this._outgoing[p])throw Error("There is already a callback registered for this outgoing InputEvent: "+
p);const w=new e(p,{onEmit:(n,q,h,d)=>{this._manager.emit(n.eventType,q,h,d)},onRemove:n=>{delete this._outgoing[n.eventType];this._manager.updateDependencies()}});this._outgoing[p]=w;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return w};r.startCapturingPointer=function(p){this._manager.setPointerCapture(p,!0)};r.stopCapturingPointer=function(p){this._manager.setPointerCapture(p,!1)};r.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};
r._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):m.error("This InputHandler is not registered with an InputManager")};r._handleEvent=function(p){const w=this._incoming[p.type];if(w)for(const n of w)if(n.match.matches(p)&&(n.callback(p),p.shouldStopPropagation()))break};c._createClass(k,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const p in this._incoming){const w=this._incoming[p];for(const n of w)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}},
{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(p=>p.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return k}();let f=function(){function k(p,w,n){this.match=
p;this._callback=w;this._handler=n}var r=k.prototype;r.pause=function(){this._handler.onPause(this)};r.resume=function(){this._handler.onResume(this)};r.remove=function(){this._handler.onRemove(this)};c._createClass(k,[{key:"callback",get:function(){return this._callback}}]);return k}(),e=function(){function k(p,w){this.eventType=p;this._removed=!1;this._handler=w}var r=k.prototype;r.emit=function(p,w,n){if(!this._removed)this._handler.onEmit(this,p,w,n)};r.remove=function(){this._removed=!0;this._handler.onRemove(this)};
return k}();a.InputHandler=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){let c=function(){function b(l,m=[]){this.eventType=l;this.keyModifiers=m}b.prototype.matches=function(l){if(l.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;l=l.modifiers;for(const m of this.keyModifiers)if(!l.has(m))return!1;return!0};return b}();a.EventMatch=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Queue ./keys ./handlers/LatestPointerType".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){const u=m.getLogger("esri.views.input.InputManager");a.InputManager=function(F){function H(A){var E=F.call(this,A)||this;E._pointerCaptures=new Map;E._nameToGroup={};E._handlers=[];E._currentPropagation=null;E._sourceEvents=new Set;E._keyModifiers=new Set;E._activeKeyModifiers=new Set;E._stoppedPropagationEventIds=new Set;E.primaryKey=d.primaryKey;E.latestPointerType="mouse";E.test={timestamp:void 0,hasCurrentPropagation:()=>!!E._currentPropagation};return E}
c._inheritsLoose(H,F);var C=H.prototype;C.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};C.destroy=function(){const A=Object.keys(this._nameToGroup);for(const E of A)this.uninstallHandlers(E);this._currentPropagation=this.eventSource=null};C.installHandlers=function(A,E,y=B.INTERNAL){if(this._nameToGroup[A])u.error("There is already an InputHandler group registered under the name `"+A+"`");else if(0===E.length)u.error("Can't register a group of zero handlers");
else{var x={name:A,handlers:E.map(z=>({handler:z,active:!0,removed:!1,priorityIndex:0,groupPriority:y,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[A]=x;for(A=x.handlers.length-1;0<=A;A--){const z=x.handlers[A];this._handlers.push(z);z.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(D,v,G,I,O)=>{this._emitInputEvent(z.priorityIndex+1,D,v,G,O,I)},setPointerCapture:(D,v)=>{this._setPointerCapture(x,z,D,v)},setEventCallback:D=>{z.eventCallback=D},setUninstallCallback:D=>
{z.uninstallCallback=D},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};C.uninstallHandlers=function(A){const E=this._nameToGroup[A];E?(E.handlers.forEach(y=>{y.removed=!0;y.uninstallCallback()}),delete this._nameToGroup[A],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):u.error("There is no InputHandler group registered under the name `"+A+"`")};C.hasHandlers=function(A){return void 0!==
this._nameToGroup[A]};C.updateDependencies=function(){const A=new Set,E=new Set;this._handlersPriority=[];for(var y=this._handlers.length-1;0<=y;y--){var x=this._handlers[y];x.priorityIndex=y;this._handlersPriority.push(x)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(y=this._handlersPriority.length-1;0<=y;y--){x=this._handlersPriority[y];x.priorityIndex=y;let z=x.handler.hasSideEffects;if(!z)for(const D of x.handler.outgoingEventTypes)if(A.has(D)){z=!0;break}if(z)for(const D of x.handler.incomingEventMatches){A.add(D.eventType);
for(const v of D.keyModifiers)d.isSystemModifier(v)||E.add(v)}x.active=z}this._sourceEvents=A;this._keyModifiers=E;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)};C._setLatestPointerType=function(A){this._set("latestPointerType",A)};C._onEventReceived=function(A,E){"pointer-capture-lost"===A&&this._pointerCaptures.delete(E.native.pointerId);
this._updateKeyModifiers(A,E);this._emitInputEventFromSource(A,E,null!=this.test.timestamp?this.test.timestamp:E.native?E.native.timestamp:void 0,E.native?E.native.cancelable:void 0)};C._updateKeyModifiers=function(A,E){if(E){var y=!1,x=()=>{if(!y){const D=new Set;this._activeKeyModifiers.forEach(v=>{D.add(v)});this._activeKeyModifiers=D;y=!0}},z=(D,v)=>{v&&!this._activeKeyModifiers.has(D)?(x(),this._activeKeyModifiers.add(D)):!v&&this._activeKeyModifiers.has(D)&&(x(),this._activeKeyModifiers.delete(D))};
if("key-down"===A||"key-up"===A){const D=E.key;this._keyModifiers.has(D)&&z(D,"key-down"===A)}A=E.native;z("Alt",!(!A||!A.altKey));z("Ctrl",!(!A||!A.ctrlKey));z("Shift",!(!A||!A.shiftKey));z("Meta",!(!A||!A.metaKey));z("Primary",this._activeKeyModifiers.has(this.primaryKey))}};C._installRecognizers=function(){this._latestPointerTypeHandler=new g.LatestPointerType(A=>this._setLatestPointerType(A));0<this.recognizers.length&&this.installHandlers("default",this.recognizers,B.INTERNAL);this.installHandlers("input-manager-logic",
[this._latestPointerTypeHandler],B.INTERNAL)};C._setPointerCapture=function(A,E,y,x){A=A.name+"-"+E.priorityIndex;E=this._pointerCaptures.get(y.pointerId)||new Set;this._pointerCaptures.set(y.pointerId,E);x?(E.add(A),1===E.size&&this.eventSource&&this.eventSource.setPointerCapture(y,!0)):E.has(A)&&(E.delete(A),0===E.size&&(this._pointerCaptures.delete(y.pointerId),this.eventSource&&this.eventSource.setPointerCapture(y,!1)))};C._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(A=>
!A.removed);this.updateDependencies()};C._emitInputEventFromSource=function(A,E,y,x){this._emitInputEvent(0,A,E,y,x)};C._emitInputEvent=function(A,E,y,x,z,D){x=void 0!==x?x:this._currentPropagation?this._currentPropagation.timestamp:performance.now();A={event:new t(E,y,x,D||this._activeKeyModifiers,void 0!==z?z:!1),priorityIndex:A};this._currentPropagation?this._currentPropagation.events.push(A):this._doNewPropagation(A)};C._doNewPropagation=function(A){this._currentPropagation={events:new h,currentHandler:null,
needsHandlerGarbageCollect:!1,timestamp:A.event.timestamp};this._currentPropagation.events.push(A);this._continuePropagation()};C._continuePropagation=function(){const A=this._currentPropagation;if(A){for(;0<this._currentPropagation.events.length;){const {event:E,priorityIndex:y}=this._currentPropagation.events.pop(),x=E.data&&E.data.eventId;if(null==x||!this._stoppedPropagationEventIds.has(x))for(A.currentHandler=this._handlersPriority[y];A.currentHandler;){if(A.currentHandler.removed)A.needsHandlerGarbageCollect=
!0;else{A.currentHandler.active&&!E.shouldStopPropagation()&&A.currentHandler.eventCallback(E);if(E.shouldStopPropagation()){null!=x&&this._stoppedPropagationEventIds.add(x);break}if(E.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:E,priorityIndex:A.currentHandler.priorityIndex+1});return}}A.currentHandler=this._handlersPriority[A.currentHandler.priorityIndex+1]}}A.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();
this._currentPropagation=null}};C._pausePropagation=function(A){const E=new h;for(E.push(A);this._currentPropagation.events.length;)E.push(this._currentPropagation.events.pop());this._currentPropagation.events=E;this._currentPropagation.currentHandler=null};C._compareHandlerPriority=function(A,E){if(A.handler.hasSideEffects!==E.handler.hasSideEffects)return A.handler.hasSideEffects?1:-1;if(A.groupPriority!==E.groupPriority)return A.groupPriority>E.groupPriority?-1:1;for(const y of A.handler.incomingEventMatches)for(const x of E.handler.incomingEventMatches){if(y.eventType!==
x.eventType)continue;const z=y.keyModifiers.filter(D=>-1!==x.keyModifiers.indexOf(D));if(z.length===y.keyModifiers.length!==(z.length===x.keyModifiers.length))return y.keyModifiers.length>x.keyModifiers.length?-1:1}return A.priorityIndex>E.priorityIndex?-1:1};C._sortHandlersPriority=function(A){const E=[];for(const y of A){for(A=0;A<E.length&&0<=this._compareHandlerPriority(y,E[A]);)A++;E.splice(A,0,y)}return E};c._createClass(H,[{key:"hasPendingInputs",get:function(){return this._handlers.some(A=>
A.handler.hasPendingInputs)}},{key:"debug",get:function(){const A=E=>{const y=this._setPointerCapture;this._setPointerCapture=()=>{};E();this._setPointerCapture=y};return{injectEvent:(E,y)=>{A(()=>{this._onEventReceived(E,y)})},disablePointerCapture:A}}}]);return H}(q);b.__decorate([e.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([e.property()],a.InputManager.prototype,"eventSource",void 0);b.__decorate([e.property()],a.InputManager.prototype,"recognizers",
void 0);b.__decorate([e.property({readOnly:!0})],a.InputManager.prototype,"latestPointerType",void 0);a.InputManager=b.__decorate([r.subclass("esri.views.input.InputManager")],a.InputManager);let t=function(){function F(C,A,E,y,x){this.type=C;this.data=A;this.timestamp=E;this.modifiers=y;this.cancelable=x;this._propagationState=0;this._resumeCallback=null}var H=F.prototype;H.stopPropagation=function(){this._propagationState|=1};H.shouldStopPropagation=function(){return 0!==(this._propagationState&
1)};H.async=function(C){this._propagationState|=2;const A=(E,y)=>{this._propagationState&=-3;const x=this._resumeCallback;this._resumeCallback=null;x&&x();if(y)throw E;return E};return("function"===typeof C?C():C).then(E=>A(E,!1),E=>A(E,!0))};H.shouldPausePropagation=function(C){return this._propagationState&2?(this._resumeCallback=C,!0):!1};H.preventDefault=function(){this.data.native.preventDefault()};return F}();const B={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};a.ViewEventPriorities=B;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,c){return function(){function b(m=f=>f.values().next().value){this._peeker=m;this._items=new Set}var l=b.prototype;l.clear=function(){this._items.clear()};l.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};l.push=function(m){this.contains(m)||this._items.add(m)};l.contains=function(m){return this._items.has(m)};l.pop=function(){if(0!==this.length){var m=
this.peek();this._items.delete(c.assumeNonNull(m));return m}};l.remove=function(m){this._items.delete(m)};l.filter=function(m){this._items.forEach(f=>{m(f)||this._items.delete(f)});return this};a._createClass(b,[{key:"length",get:function(){return this._items.size}}]);return b}()})},"esri/views/input/keys":function(){define(["exports","../../core/has","../../core/events"],function(a,c,b){c=c("mac")?"Meta":"Ctrl";const l={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",
36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var m=48;58>m;m++)l[m]=String.fromCharCode(m);for(m=1;25>m;m++)l[111+m]=`F${m}`;for(m=65;91>m;m++)l[m]=[String.fromCharCode(m+32),String.fromCharCode(m)];a.eventKey=function(f){if(void 0!==f.key)return b.eventKey(f);const e=l[f.keyCode];return Array.isArray(e)?f.shiftKey?e[1]:e[0]:e};a.isSystemModifier=function(f){switch(f){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};
a.primaryKey=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/handlers/LatestPointerType":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,c,b){b=function(l){function m(f){var e=l.call(this,!0)||this;e._onChange=f;e._value="mouse";e.registerIncoming("pointer-down",k=>{e._setValue("touch"===k.data.native.pointerType?"touch":"mouse")});e._moveHandler=e.registerIncoming("pointer-move",k=>{e._setValue("touch"===k.data.native.pointerType?
"touch":"mouse")});e._moveHandler.pause();return e}c._inheritsLoose(m,l);m.prototype._setValue=function(f){f!==this._value&&("touch"===f?this._moveHandler.resume():this._moveHandler.pause(),this._value=f,this._onChange(f))};return m}(b.InputHandler);a.LatestPointerType=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Accessor ../core/Collection ../core/Handles ../core/watchUtils ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H){const C=m.getLogger("esri.views.ToolViewManager");b=function(A){function E(x){var z=A.call(this,x)||this;z._handles=new g;z._creatingTool=null;z._manipulatorState=new H;z.tools=F.newToolCollection();z.cursor=null;z._forEachTool=D=>{if(!l.isSome(z._creatingTool)||!D(z._creatingTool))for(const v of z.tools.items)if(D(v))break};return z}a._inheritsLoose(E,A);var y=E.prototype;y.initialize=function(){this._handles.add([this.view.on(B.eventTypes,x=>{this._handleInputEvent(x)},
t.ViewEventPriorities.TOOL),this.tools.on("before-add",x=>{const z=x.item;null==z||this.tools.includes(z)?x.preventDefault():null==z.created||z.created||(C.error("tools","Tool can not be added to view before it has been created"),x.preventDefault())}),this.tools.on("before-remove",({item:x})=>{this._manipulatorState.clearPointers(x,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};y.destroy=function(){this._forEachTool(x=>x.destroy());this._handles.destroy();this._handles=
null};y.createTool=async function(x,z,D){await this.view.whenReady();if(q.isAborted(D))throw q.createAbortError("Tool creation was interrupted by another tool being created");z=F.evaluateToolConstructorArguments(z);const v=new x({...z,view:this.view});x=q.onAbort(D,()=>this.activeTool=null);this._rejectCreatingTool("Tool creation was interrupted by another tool being created");this._creatingTool=v;v.attach();this._refreshToolWatchers();F.setActive(v,!0);await v.when();l.isSome(x)&&x.remove();this._creatingTool=
null;this.tools.add(v);v instanceof h&&null!=v.completed&&u.whenOnce(v,"completed").then(()=>{F.setActive(v,!1)});return v};y.attach=function(){this._forEachTool(x=>x.attach());"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",()=>{this.forEachManipulator(x=>{if(null!=x.onViewChange)x.onViewChange()})}),this.view.elevationProvider.on("elevation-change",x=>{this.forEachManipulator(z=>{if(null!=z.onElevationChange)z.onElevationChange(x)})})],"manipulators"):this._handles.add(this.view.watch("extent",
()=>{this.forEachManipulator(x=>{if(null!=x.onViewChange)x.onViewChange()})}))};y.detach=function(){this.activeTool=null;this._forEachTool(x=>{x.detach();x.destroy()});this.tools.removeAll();this._handles.remove("manipulators")};y.forEachManipulator=function(x){this._forEachTool(z=>{z.manipulators&&z.manipulators.forEach(({manipulator:D})=>x(D,z))})};y._handleInputEvent=function(x){let z=!1;const D={...x,stopPropagation:()=>{z=!0;x.stopPropagation()}};l.isSome(this.activeTool)?this.activeTool.handleInputEvent&&
this.activeTool.handleInputEvent(D):this._forEachTool(v=>{!z&&!1!==v.visible&&v.handleInputEvent&&v.handleInputEvent(D)});!z&&"key-down"===x.type&&"Escape"===x.key&&this.activeTool&&(x.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(D,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:v=>{this.activeTool=v},creatingTool:this._creatingTool,view:this.view});!z&&l.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(D);
this._manipulatorState.handleHoverEvent(D,this._forEachTool);this._updateCursor()};y._refreshToolWatchers=function(){this._handles.remove("tools");this._forEachTool(x=>{if(x instanceof h){const z=u.watch(x,["cursor","visible","editable"],()=>{F.areToolManipulatorsEditable(x)||this._manipulatorState.clearPointers(x,this._forEachTool);this._updateCursor()});this._handles.add(z,"tools")}x.manipulators&&this._handles.add(x.manipulators.on("change",z=>{z.removed.forEach(({id:D})=>{this._manipulatorState.clearPointers(x,
this._forEachTool,!0,D)});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};y._updateCursor=function(){let x=null;this._forEachTool(z=>null!=z.cursor&&!1!==z.visible?(x=z.cursor,!0):!1);x||(x=this._manipulatorState.cursor);this._get("cursor")!==x&&this._set("cursor",x)};y._rejectCreatingTool=function(x){const z=this._creatingTool;l.isNone(z)||
(this._manipulatorState.clearPointers(z,this._forEachTool),z.rejectCreation&&z.rejectCreation(q.createAbortError(x)),z.destroy(),this._creatingTool=null,this._refreshToolWatchers())};y._removeIncompleteTools=function(x){this.tools.filter(z=>(l.isNone(x)||z!==x)&&null!=z.completed&&!z.completed).forEach(z=>{this.tools.remove(z)})};a._createClass(E,[{key:"activeTool",set:function(x){l.isSome(x)&&!this.view.ready?C.error("#activeTool\x3d","cannot set active tool while view is not ready"):(F.swap(this,
x,z=>{this._set("activeTool",z);this._removeIncompleteTools(x);this._forEachTool(D=>{var v=l.isNone(this.activeTool)||D===this.activeTool;D.setEditableFlag&&D.setEditableFlag(1,v);v=F.areToolManipulatorsEditable(D);!l.isNone(this.activeTool)&&v||this._manipulatorState.clearPointers(D,this._forEachTool,!v)});this._updateCursor()}),this._creatingTool!==x&&this._rejectCreatingTool())}}]);return E}(h);c.__decorate([e.property({constructOnly:!0,nonNullable:!0})],b.prototype,"view",void 0);c.__decorate([e.property({value:null})],
b.prototype,"activeTool",null);c.__decorate([e.property({readOnly:!0,type:d})],b.prototype,"tools",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"cursor",void 0);return b=c.__decorate([r.subclass("esri.views.ToolViewManager")],b)})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/maybe","../../core/Collection","../DOMContainer"],function(a,c,b,l){function m(f,e){const k=f.view;k&&(e&&k.ready&&k.activeTool!==f?(k.activeTool=f,l.isDOMContainer(k)&&
k.focus()):e||k.activeTool!==f||(k.activeTool=null))}a.areToolManipulatorsEditable=function(f){return!1!==f.visible&&!1!==f.editable&&(null==f.hasEditableFlag||f.hasEditableFlag(1))};a.evaluateToolConstructorArguments=function(f){return c.isNone(f)?{}:"function"===typeof f?f():f};a.newToolCollection=function(){const f=new b;f.on("after-add",e=>{e=e.item;e.view&&e.view.ready&&e.attach()});f.on("after-remove",e=>{e=e.item;m(e,!1);e.destroyed||e.detach()});return f};a.setActive=m;a.swap=function(f,e,
k){f=f.activeTool;e!==f&&(c.isSome(f)&&f.deactivate&&f.deactivate(),k(e),c.isSome(e)&&e.activate&&e.activate())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/DOMContainer":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/scheduling ../core/watchUtils ../core/domUtils ./overlay/ViewOverlay ../widgets/Popup".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u){function t(F){F&&(d.empty(F),F.parentNode&&F.parentNode.removeChild(F))}const B=[0,0];a.DOMContainer=F=>{F=function(H){function C(...E){var y=H.call(this,...E)||this;y._freqInfo={freq:16,time:750};y._overlayRenderTaskHandle=null;y.height=0;y.position=null;y.resizing=!1;y.root=null;y.surface=null;y.suspended=!0;y.ui=null;y.userContent=null;y.width=0;y.widthBreakpoint=null;y.handles.add([y.watch("cursor",x=>{const z=y.surface;z&&z.setAttribute("data-cursor",
x)}),y.watch("interacting",x=>{const z=y.surface;z&&z.setAttribute("data-interacting",x.toString())})]);return y}c._inheritsLoose(C,H);var A=C.prototype;A.initialize=function(){this.handles.add(this.watch("ui",(E,y)=>this._handleUIChange(E,y)));this._wireUI(this.ui);this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])};A.destroy=function(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&
this.popup.destroy(),this.container=null)};A.blur=function(){this.surface&&this.surface.blur()};A.focus=function(){this.surface&&this.surface.focus()};A.pageToContainer=function(E,y,x){const z=this.position;E-=z[0];y-=z[1];x?(x[0]=E,x[1]=y):x=[E,y];return x};A.containerToPage=function(E,y,x){const z=this.position;E+=z[0];y+=z[1];x?(x[0]=E,x[1]=y):x=[E,y];return x};A._handleUIChange=function(E,y){y&&(this.handles.remove("ui"),y.destroy());E&&this._wireUI(E);this._set("ui",E)};A._wireUI=function(E){this.handles.remove("ui");
E&&(E.view=this,this.handles.add([h.init(this,"root",y=>{if(y){{const x=document.createElement("div");y.appendChild(x);y=x}}else y=null;E.container=y}),h.init(this,"popup",(y,x)=>{x&&E.remove(x,"popup");y&&(y.view=E.view,E.add(y,{key:"popup",position:"manual"}))})],"ui"))};A._stopMeasuring=function(){this.handles.remove("measuring");this._get("resizing")&&this._set("resizing",!1)};A._startMeasuring=function(){const E=this._freqInfo;E.freq=16;E.time=750;this.handles.add([(()=>{const y=()=>{E.freq=
16;E.time=750};window.addEventListener("resize",y);return{remove(){window.removeEventListener("resize",y)}}})(),q.addFrameTask({prepare:y=>{const x=this._measure(),z=this._freqInfo;z.time+=y.deltaTime;x&&(z.freq=16,this._get("resizing")||this._set("resizing",!0));z.time<z.freq||(z.time=0,this._position()||x?z.freq=16:z.freq=Math.min(750,2*z.freq),!x&&512<=z.freq&&this._get("resizing")&&this._set("resizing",!1))}})],"measuring");this._measure();this._position()};A._measure=function(){var E=this.container;
const y=E?E.clientWidth:0;E=E?E.clientHeight:0;if(0===y||0===E)return this.suspended||this._set("suspended",!0),!1;const x=this.width,z=this.height;if(y===x&&E===z)return this.suspended&&this._set("suspended",!1),!1;this._set("width",y);this._set("height",E);this.suspended&&this._set("suspended",!1);this.emit("resize",{oldWidth:x,oldHeight:z,width:y,height:E});return!0};A._position=function(){var E=this.container;const y=this.position;{const x=(E.ownerDocument||window.document).defaultView;E=E.getBoundingClientRect();
B[0]=E.left+x.pageXOffset;B[1]=E.top+x.pageYOffset}return y&&B[0]===y[0]&&B[1]===y[1]?!1:(this._set("position",[B[0],B[1]]),!0)};A.forceDOMReadyCycle=function(){};c._createClass(C,[{key:"container",set:function(E){var y=this._get("container");if(y!==E)if(this.handles.remove("dom-size"),this._stopMeasuring(),y&&(y.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),
t(this.root),this._set("root",null),d.reparent(this.userContent,y),t(this.userContent),this._set("userContent",null)),E){E.classList.add("esri-view");y=document.createElement("div");y.className="esri-view-user-storage";d.reparent(E,y);E.appendChild(y);this._set("userContent",y);y=document.createElement("div");y.className="esri-view-root";E.insertBefore(y,E.firstChild);this._set("root",y);const x=document.createElement("div");x.className="esri-view-surface";x.setAttribute("role","application");x.tabIndex=
0;y.appendChild(x);this._set("surface",x);const z=new g;y.appendChild(z.surface);this._set("overlay",z);z.watch("needsRender",D=>{D&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=q.addFrameTask({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)});this.forceDOMReadyCycle();this.handles.add(h.init(this,"size",D=>{const [v,G]=D;v>=document.body.clientWidth||G>=document.body.clientHeight?x.classList.add("esri-view-surface--inset-outline"):
x.classList.remove("esri-view-surface--inset-outline")}),"dom-size");this._set("container",E);this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}},{key:"focused",get:function(){const E=document.activeElement===this.surface;return document.hasFocus()&&E}},{key:"popup",get:function(){return this._get("popup")||new u({view:this})},set:function(E){const y=this._get("popup");y&&
y!==E&&y.destroy();this._set("popup",E)}},{key:"size",get:function(){return[this.width,this.height]}}]);return C}(F);b.__decorate([e.property({value:null,cast:H=>d.byId(H)})],F.prototype,"container",null);b.__decorate([e.property({readOnly:!0,dependsOn:["surface"]})],F.prototype,"focused",null);b.__decorate([e.property({readOnly:!0})],F.prototype,"height",void 0);b.__decorate([e.property({type:u})],F.prototype,"popup",null);b.__decorate([e.property({type:g})],F.prototype,"overlay",void 0);b.__decorate([e.property({readOnly:!0})],
F.prototype,"position",void 0);b.__decorate([e.property({readOnly:!0})],F.prototype,"resizing",void 0);b.__decorate([e.property({readOnly:!0})],F.prototype,"root",void 0);b.__decorate([e.property({value:null,dependsOn:["width","height"],readOnly:!0})],F.prototype,"size",null);b.__decorate([e.property({readOnly:!0})],F.prototype,"surface",void 0);b.__decorate([e.property({readOnly:!0})],F.prototype,"suspended",void 0);b.__decorate([e.property()],F.prototype,"ui",void 0);b.__decorate([e.property({readOnly:!0})],
F.prototype,"userContent",void 0);b.__decorate([e.property({readOnly:!0})],F.prototype,"width",void 0);b.__decorate([e.property()],F.prototype,"widthBreakpoint",void 0);return F=b.__decorate([r.subclass("esri.views.DOMContainer")],F)};a.isDOMContainer=function(F){return F&&"focus"in F};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/domUtils":function(){define(["exports"],function(a){const c=(()=>{if("function"===typeof Element.prototype.closest)return(l,m)=>l.closest(m);const b=Element.prototype.matches||
Element.prototype.msMatchesSelector;return(l,m)=>{do{if(b.call(l,m))return l;l=l.parentElement}while(null!==l&&1===l.nodeType);return null}})();a.byId=function(b){return"string"===typeof b?document.getElementById(b):b};a.closest=c;a.empty=function(b){for(;b.hasChildNodes();)b.removeChild(b.firstChild)};a.insertAfter=function(b,l){const m=l.parentNode;m&&(m.lastChild===l?m.appendChild(b):m.insertBefore(b,l.nextSibling))};a.insertBefore=function(b,l){const m=l.parentNode;m&&m.insertBefore(b,l)};a.remove=
function(b){b.parentNode&&b.parentNode.removeChild(b)};a.reparent=function(b,l){for(;;){const m=b.firstChild;if(!m)break;l.appendChild(m)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/overlay/ViewOverlay":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Collection ../support/WatchUpdatingTracking ../../libs/maquette/projection ../../libs/maquette/projector".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){b=function(u){function t(){var F=u.apply(this,arguments)||this;F.items=new q;F._watchUpdatingTracking=new h.WatchUpdatingTracking;F._callbacks=new Map;F._projector=g.createProjector();F._hiddenProjector=g.createProjector();return F}a._inheritsLoose(t,u);var B=t.prototype;B.initialize=function(){const F=document.createElement("div");F.className="esri-overlay-surface";this._set("surface",F);this._hiddenSurface=document.createElement("div");this._hiddenSurface.setAttribute("style",
"visibility: hidden;");F.appendChild(this._hiddenSurface);this._watchUpdatingTracking.addOnCollectionChange(this.items,H=>{H.added.map(C=>{const A=()=>C.render();this._callbacks.set(C,A);this._projector.append(this.surface,A)});H.removed.map(C=>{const A=this._projector.detach(this._callbacks.get(C));this.surface.removeChild(A.domNode);this._callbacks.delete(C)})})};B.addItem=function(F){this.items.add(F)};B.removeItem=function(F){this.items.remove(F)};B.destroy=function(){this.items.removeAll();this._callbacks.forEach(F=>
this._projector.detach(F));this._projector=this._callbacks=null;this._watchUpdatingTracking.destroy()};B.render=function(){this._projector.renderNow()};B.computeBoundingRect=function(F){const H=this._hiddenSurface,C=this._hiddenProjector;let A=null;const E=()=>A=F.render();C.append(H,E);C.renderNow();const y={left:0,top:0,right:0,bottom:0};if(A&&A.domNode){const x=A.domNode.getBoundingClientRect();y.left=x.left;y.top=x.top;y.right=x.right;y.bottom=x.bottom}for(C.detach(E);H.firstChild;)H.removeChild(H.firstChild);
return y};B.overlaps=function(F,H){F=this.computeBoundingRect(F);H=this.computeBoundingRect(H);return Math.max(F.left,H.left)<=Math.min(F.right,H.right)&&Math.max(F.top,H.top)<=Math.min(F.bottom,H.bottom)};B.renderCanvas=function(F){if(this.items.some(C=>C.visible)){var H=F.getContext("2d");H.save();H.font=`10px ${getComputedStyle(this.surface).fontFamily}`;this.items.forEach(C=>{H.save();C.renderCanvas(H);H.restore()});H.restore()}};a._createClass(t,[{key:"needsRender",get:function(){return 0<this.items.length}},
{key:"hasVisibleItems",get:function(){return this.items.some(F=>F.visible)}}]);return t}(n);c.__decorate([f.property({readOnly:!0})],b.prototype,"surface",void 0);c.__decorate([f.property({readOnly:!0})],b.prototype,"items",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["items.length"]})],b.prototype,"needsRender",null);c.__decorate([f.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);c.__decorate([f.property({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],
b.prototype,"updating",void 0);return b=c.__decorate([k.subclass("esri.views.overlay.ViewOverlay")],b)})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,c){const b=[];let l=(B,F)=>{const H={};Object.keys(B).forEach(C=>{H[C]=B[C]});F&&Object.keys(F).forEach(C=>{H[C]=F[C]});return H};const m=(B,F)=>B.vnodeSelector!==F.vnodeSelector?!1:B.properties&&F.properties?B.properties.key!==F.properties.key?!1:B.properties.bind===F.properties.bind:
!B.properties&&!F.properties,f=B=>{if("string"!==typeof B)throw Error("Style values must be strings");},e=(B,F,H,C)=>{const A=B[F];if(""!==A.vnodeSelector){var E=A.properties;if(!(E&&(void 0===E.key?E.bind:E.key)))for(E=0;E<B.length;E++)if(E!==F&&m(B[E],A))throw Error(`${H.vnodeSelector} had a ${A.vnodeSelector} child ${"added"===C?C:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},k=[];let r=!1;const p=B=>{(B.children||[]).forEach(p);
B.properties&&B.properties.afterRemoved&&B.properties.afterRemoved.apply(B.properties.bind||B.properties,[B.domNode])},w=()=>{r=!1;k.forEach(p);k.length=0},n=B=>{k.push(B);r||(r=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(w,{timeout:16}):setTimeout(w,16))},q=B=>{const F=B.domNode;if(B.properties){const H=B.properties.exitAnimation;if(H){F.style.pointerEvents="none";H(F,()=>{F.parentNode&&(F.parentNode.removeChild(F),n(B))},B.properties);return}}F.parentNode&&
(F.parentNode.removeChild(F),n(B))},h=(B,F,H)=>{if(F){var C=H.eventHandlerInterceptor,A=Object.keys(F),E=A.length;for(let v=0;v<E;v++){var y=A[v];let G=F[y];if("className"===y)throw Error('Property "className" is not supported, use "class".');if("class"===y)t(B,G,!0);else if("classes"===y){y=Object.keys(G);var x=y.length;for(var z=0;z<x;z++){var D=y[z];G[D]&&B.classList.add(D)}}else if("styles"===y)for(y=Object.keys(G),x=y.length,z=0;z<x;z++){D=y[z];const I=G[D];I&&(f(I),H.styleApplyer(B,D,I))}else"key"!==
y&&null!==G&&void 0!==G&&(x=typeof G,"function"===x?0===y.lastIndexOf("on",0)&&(C&&(G=C(y,G,B,F)),"oninput"===y&&function(){const I=G;G=function(O){I.apply(this,[O]);O.target["oninput-value"]=O.target.value}}(),B[y]=G):"http://www.w3.org/2000/svg"===H.namespace?"href"===y?B.setAttributeNS("http://www.w3.org/1999/xlink",y,G):B.setAttribute(y,G):"string"===x&&"value"!==y?"innerHTML"===y?B[y]=c.renderingSanitizer.sanitize(G):B.setAttribute(y,G):B[y]=G)}}};let d=(B,F,H)=>{var C=F.children;if(C)for(const A of C)g(A,
B,void 0,H);F.text&&(B.textContent=F.text);h(B,F.properties,H);F.properties&&F.properties.afterCreate&&F.properties.afterCreate.apply(F.properties.bind||F.properties,[B,H,F.vnodeSelector,F.properties,F.children])},g=(B,F,H,C)=>{let A;var E=0;const y=B.vnodeSelector,x=F.ownerDocument;if(""===y)A=B.domNode=x.createTextNode(B.text),void 0!==H?F.insertBefore(A,H):F.appendChild(A);else{for(let D=0;D<=y.length;++D){var z=y.charAt(D);if(D===y.length||"."===z||"#"===z)z=y.charAt(E-1),E=y.slice(E,D),"."===
z?A.classList.add(E):"#"===z?A.id=E:("svg"===E&&(C=l(C,{namespace:"http://www.w3.org/2000/svg"})),void 0!==C.namespace?A=B.domNode=x.createElementNS(C.namespace,E):(A=B.domNode=B.domNode||x.createElement(E),"input"===E&&B.properties&&void 0!==B.properties.type&&A.setAttribute("type",B.properties.type)),void 0!==H?F.insertBefore(A,H):A.parentNode!==F&&F.appendChild(A)),E=D+1}d(A,B,C)}},u;const t=(B,F,H)=>{F&&F.split(" ").forEach(C=>{C&&B.classList.toggle(C,H)})};u=(B,F,H)=>{const C=B.domNode;if(B===
F)return!1;let A=!1;if(""===F.vnodeSelector){if(F.text!==B.text)return B=C.ownerDocument.createTextNode(F.text),C.parentNode.replaceChild(B,C),F.domNode=B,!0;F.domNode=C}else{0===F.vnodeSelector.lastIndexOf("svg",0)&&(H=l(H,{namespace:"http://www.w3.org/2000/svg"}));B.text!==F.text&&(A=!0,void 0===F.text?C.removeChild(C.firstChild):C.textContent=F.text);F.domNode=C;var E=B.children;var y=F.children,x=H;if(E===y)E=!1;else{E=E||b;y=y||b;for(var z=E.length,D=y.length,v=0,G=0,I=!1;G<D;){var O=v<z?E[v]:
void 0,L=y[G];if(void 0!==O&&m(O,L))I=u(O,L,x)||I,v++;else{b:{O=E;var N=L,R=v+1;if(""!==N.vnodeSelector)for(;R<O.length;R++)if(m(O[R],N)){O=R;break b}O=-1}if(0<=O){for(;v<O;v++)q(E[v]),e(E,v,F,"removed");I=u(E[O],L,x)||I;v=O+1}else g(L,C,v<z?E[v].domNode:void 0,x),L.properties&&(O=L.properties.enterAnimation)&&O(L.domNode,L.properties),e(y,G,F,"added")}G++}if(z>v)for(;v<z;v++)q(E[v]),e(E,v,F,"removed");E=I}A=E||A;E=B.properties;y=F.properties;x=H;if(y){z=!1;D=Object.keys(y);G=D.length;for(I=0;I<G;I++)if(O=
D[I],L=y[O],v=E[O],"class"===O)v!==L&&(t(C,v,!1),t(C,L,!0));else if("classes"===O){O=C.classList;N=Object.keys(L);R=N.length;for(var K=0;K<R;K++){var U=N[K];const P=!!L[U];P!==!!v[U]&&(z=!0,P?O.add(U):O.remove(U))}}else if("styles"===O)for(O=Object.keys(L),N=O.length,R=0;R<N;R++)K=O[R],U=L[K],U!==v[K]&&(z=!0,U?(f(U),x.styleApplyer(C,K,U)):x.styleApplyer(C,K,""));else L||"string"!==typeof v||(L=""),"value"===O?(N=C[O],N!==L&&(C["oninput-value"]?N===C["oninput-value"]:L!==v)&&(C[O]=L,C["oninput-value"]=
void 0),L!==v&&(z=!0)):L!==v&&(v=typeof L,"function"===v&&x.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===x.namespace?"href"===O?C.setAttributeNS("http://www.w3.org/1999/xlink",O,L):C.setAttribute(O,L):"string"===v?"innerHTML"===O?C[O]=c.renderingSanitizer.sanitize(L):"role"===O&&""===L?C.removeAttribute(O):C.setAttribute(O,L):C[O]!==L&&(C[O]=L),z=!0));E=z}else E=void 0;A=E||A;F.properties&&F.properties.afterUpdate&&F.properties.afterUpdate.apply(F.properties.bind||F.properties,[C,H,F.vnodeSelector,
F.properties,F.children])}A&&F.properties&&F.properties.updateAnimation&&F.properties.updateAnimation(C,F.properties,B.properties);return!1};a.createDom=g;a.createProjection=(B,F)=>({getLastRender:()=>B,update:H=>{if(B.vnodeSelector!==H.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");const C=B;B=H;u(C,H,F)},domNode:B.domNode});a.extend=l;a.initPropertiesAndChildren=d;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/widgets/support/widgetUtils":function(){define(["exports","../../core/has","../../core/Logger","../../core/ArrayPool","../../chunks/index2"],function(a,c,b,l,m){function f(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name")}var e,k,r=function(q){if("WebkitTransition"in q.style)e="webkitTransitionEnd",k="webkitAnimationEnd";else if("transition"in q.style)e="transitionend",k="animationend";else throw Error("Your browser is not supported!");},p=
function(q,h){void 0===h&&(h=q+"-active");return function(d){e||r(d);var g=!1,u=function(t){g||(g=!0,d.removeEventListener(e,u),d.removeEventListener(k,u),d.classList.remove(q),d.classList.remove(h))};d.classList.add(q);d.addEventListener(e,u);d.addEventListener(k,u);requestAnimationFrame(function(){d.classList.add(h)})}},w=function(q,h){void 0===h&&(h=q+"-active");return function(d,g){e||r(d);var u=!1,t=function(B){u||(u=!0,d.removeEventListener(e,t),d.removeEventListener(k,t),g())};d.classList.add(q);
d.addEventListener(e,t);d.addEventListener(k,t);requestAnimationFrame(function(){d.classList.add(h)})}};b.getLogger("esri.widgets.support.widgetUtils");c="h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");b=c.reduce((q,h)=>{q[h]=[];return q},{});const n="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
m=new m.Sanitizer({whiteList:b,onTagAttr:(q,h,d)=>{q=`${h}="${d}"`;if(n.includes(h))return q},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=c;a.classes=function(q){const h=l.acquire();for(var d=0;d<arguments.length;d++){const g=arguments[d],u=typeof g;if("string"===u)h.push(g);else if(Array.isArray(g))h.push.apply(h,g);else if("object"===u)for(const t in g)g[t]&&h.push(t)}d=h.join(" ");l.release(h);return d};a.cssTransition=function(q,h){return("enter"===q?p:
w)(h)};a.discardNode=function(q){this[q.getAttribute("data-node-ref")]=null};a.getThemeName=f;a.isDarkTheme=function(){var q;return-1!==(null==(q=f())?void 0:q.indexOf("dark"))};a.isRTL=function(){return"rtl"===document.dir};a.keepMenuItemWithinView=function(q,h){const d=q.getBoundingClientRect();h=h.getBoundingClientRect();const g=d.top,u=h.top;(d.top+d.height>h.top+h.height||g<u)&&q.scrollIntoView({block:"end"})};a.renderingSanitizer=m;a.safeAttrs=n;a.storeNode=function(q){this[q.getAttribute("data-node-ref")]=
q};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/index2":function(){define(["exports"],function(a){function c(V,ba,Q){return Q={path:ba,exports:{},require:function(Y,aa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},V(Q,Q.exports),Q.exports}function b(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,
"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,
"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,
"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,
"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,
"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,
"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,
"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,
"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,
overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,
rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,
"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,
visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function l(V){V=V||{};var ba={},Q;for(Q in V)ba[Q]=V[Q];V=ba;V.whiteList=V.whiteList||z.whiteList;V.onAttr=V.onAttr||z.onAttr;V.onIgnoreAttr=V.onIgnoreAttr||z.onIgnoreAttr;
V.safeAttrValue=V.safeAttrValue||z.safeAttrValue;this.options=V}function m(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color",
"size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],
video:"autoplay controls loop preload src height width".split(" ")}}function f(V){return V.replace(L,"\x26lt;").replace(N,"\x26gt;")}function e(V){return V.replace(R,"\x26quot;")}function k(V){return V.replace(K,'"')}function r(V){return V.replace(U,function(ba,Q){return"x"===Q[0]||"X"===Q[0]?String.fromCharCode(parseInt(Q.substr(1),16)):String.fromCharCode(parseInt(Q,10))})}function p(V){return V.replace(P,":").replace(J," ")}function w(V){for(var ba="",Q=0,Y=V.length;Q<Y;Q++)ba+=32>V.charCodeAt(Q)?
" ":V.charAt(Q);return G.trim(ba)}function n(V){V=k(V);V=r(V);V=p(V);return V=w(V)}function q(V){V=e(V);return V=f(V)}function h(V,ba){for(;ba<V.length;ba++){var Q=V[ba];if(" "!==Q)return"\x3d"===Q?ba:-1}}function d(V,ba){for(;0<ba;ba--){var Q=V[ba];if(" "!==Q)return"\x3d"===Q?ba:-1}}function g(V){var ba='"'===V[0]&&'"'===V[V.length-1]||"'"===V[0]&&"'"===V[V.length-1]?!0:!1;return ba?V.substr(1,V.length-2):V}function u(V){var ba=G.spaceIndex(V);if(-1===ba)return{html:"",closing:"/"===V[V.length-2]};
V=G.trim(V.slice(ba+1,-1));(ba="/"===V[V.length-1])&&(V=G.trim(V.slice(0,-1)));return{html:V,closing:ba}}function t(V){V=V||{};var ba={},Q;for(Q in V)ba[Q]=V[Q];V=ba;V.stripIgnoreTag&&(V.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),V.onIgnoreTag=X.onIgnoreTagStripAll);V.whiteList=V.whiteList||X.whiteList;V.onTag=V.onTag||X.onTag;V.onTagAttr=V.onTagAttr||X.onTagAttr;V.onIgnoreTag=V.onIgnoreTag||X.onIgnoreTag;V.onIgnoreTagAttr=
V.onIgnoreTagAttr||X.onIgnoreTagAttr;V.safeAttrValue=V.safeAttrValue||X.safeAttrValue;V.escapeHtml=V.escapeHtml||X.escapeHtml;this.options=V;!1===V.css?this.cssFilter=!1:(V.css=V.css||{},this.cssFilter=new ja(V.css))}var B=Object.prototype,F=Function.prototype.toString,H=B.hasOwnProperty,C=F.call(Object),A=B.toString,E=function(V,ba){return function(Q){return V(ba(Q))}}(Object.getPrototypeOf,Object),y=function(V){var ba;if(!(ba=!(V&&"object"==typeof V)||"[object Object]"!=A.call(V))&&(ba=!1,null!=
V&&"function"!=typeof V.toString))try{ba=!!(V+"")}catch(Q){}if(ba)return!1;V=E(V);if(null===V)return!0;V=H.call(V,"constructor")&&V.constructor;return"function"==typeof V&&V instanceof V&&F.call(V)==C},x=/javascript\s*:/img,z={whiteList:b(),getDefaultWhiteList:b,onAttr:function(V,ba,Q){},onIgnoreAttr:function(V,ba,Q){},safeAttrValue:function(V,ba){return x.test(ba)?"":ba}},D={indexOf:function(V,ba){var Q;if(Array.prototype.indexOf)return V.indexOf(ba);var Y=0;for(Q=V.length;Y<Q;Y++)if(V[Y]===ba)return Y;
return-1},forEach:function(V,ba,Q){var Y;if(Array.prototype.forEach)return V.forEach(ba,Q);var aa=0;for(Y=V.length;aa<Y;aa++)ba.call(Q,V[aa],aa,V)},trim:function(V){return String.prototype.trim?V.trim():V.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(V){return String.prototype.trimRight?V.trimRight():V.replace(/(\s*$)/g,"")}},v=function(V,ba){function Q(){if(!aa){var pa=D.trim(V.slice(ha,ka)),ua=pa.indexOf(":");if(-1!==ua){var za=D.trim(pa.slice(0,ua));ua=D.trim(pa.slice(ua+1));za&&(pa=ba(ha,la.length,
za,ua,pa))&&(la+=pa+"; ")}}ha=ka+1}V=D.trimRight(V);";"!==V[V.length-1]&&(V+=";");for(var Y=V.length,aa=!1,ha=0,ka=0,la="";ka<Y;ka++){var na=V[ka];if("/"===na&&"*"===V[ka+1]){na=V.indexOf("*/",ka+2);if(-1===na)break;ka=na+1;ha=ka+1;aa=!1}else"("===na?aa=!0:")"===na?aa=!1:";"===na?aa||Q():"\n"===na&&Q()}return D.trim(la)};l.prototype.process=function(V){V=(V||"").toString();if(!V)return"";var ba=this.options,Q=ba.whiteList,Y=ba.onAttr,aa=ba.onIgnoreAttr,ha=ba.safeAttrValue;return v(V,function(ka,la,
na,pa,ua){var za=Q[na],wa=!1;!0===za?wa=za:"function"===typeof za?wa=za(pa):za instanceof RegExp&&(wa=za.test(pa));!0!==wa&&(wa=!1);if(pa=ha(na,pa)){ka={position:la,sourcePosition:ka,source:ua,isWhite:wa};if(wa)return wa=Y(na,pa,ka),void 0===wa||null===wa?na+":"+pa:wa;wa=aa(na,pa,ka);if(void 0!==wa&&null!==wa)return wa}})};B=c(function(V,ba){ba=V.exports=function(Y,aa){return(new l(aa)).process(Y)};ba.FilterCSS=l;for(var Q in z)ba[Q]=z[Q]});var G={indexOf:function(V,ba){var Q;if(Array.prototype.indexOf)return V.indexOf(ba);
var Y=0;for(Q=V.length;Y<Q;Y++)if(V[Y]===ba)return Y;return-1},forEach:function(V,ba,Q){var Y;if(Array.prototype.forEach)return V.forEach(ba,Q);var aa=0;for(Y=V.length;aa<Y;aa++)ba.call(Q,V[aa],aa,V)},trim:function(V){return String.prototype.trim?V.trim():V.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(V){return(V=/\s|\n|\t/.exec(V))?V.index:-1}},I=B.getDefaultWhiteList,O=new B.FilterCSS,L=/</g,N=/>/g,R=/"/g,K=/&quot;/g,U=/&#([a-zA-Z0-9]*);?/gim,P=/&colon;?/gim,J=/&newline;?/gim,S=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,
W=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,M=/u\s*r\s*l\s*\(.*/gi,T=/\x3c!--[\s\S]*?--\x3e/g,X={whiteList:m(),getDefaultWhiteList:m,onTag:function(V,ba,Q){},onIgnoreTag:function(V,ba,Q){},onTagAttr:function(V,ba,Q){},onIgnoreTagAttr:function(V,ba,Q){},safeAttrValue:function(V,ba,Q,Y){Q=n(Q);if("href"===ba||"src"===ba){Q=G.trim(Q);if("#"===Q)return"#";if("http://"!==Q.substr(0,7)&&"https://"!==Q.substr(0,8)&&"mailto:"!==Q.substr(0,7)&&"tel:"!==Q.substr(0,4)&&"data:image/"!==Q.substr(0,11)&&
"ftp://"!==Q.substr(0,6)&&"./"!==Q.substr(0,2)&&"../"!==Q.substr(0,3)&&"#"!==Q[0]&&"/"!==Q[0])return""}else if("background"===ba){if(S.lastIndex=0,S.test(Q))return""}else if("style"===ba){W.lastIndex=0;if(W.test(Q))return"";M.lastIndex=0;if(M.test(Q)&&(S.lastIndex=0,S.test(Q)))return"";!1!==Y&&(Y=Y||O,Q=Y.process(Q))}return Q=q(Q)},escapeHtml:f,escapeQuote:e,unescapeQuote:k,escapeHtmlEntities:r,escapeDangerHtml5Entities:p,clearNonPrintableCharacter:w,friendlyAttrValue:n,escapeAttrValue:q,onIgnoreTagStripAll:function(){return""},
StripTagBody:function(V,ba){"function"!==typeof ba&&(ba=function(){});var Q=!Array.isArray(V),Y=[],aa=!1;return{onIgnoreTag:function(ha,ka,la){var na=Q?!0:-1!==G.indexOf(V,ha);if(na){if(la.isClosing)return Y.push([!1!==aa?aa:la.position,la.position+10]),aa=!1,"[/removed]";aa||(aa=la.position);return"[removed]"}return ba(ha,ka,la)},remove:function(ha){var ka="",la=0;G.forEach(Y,function(na){ka+=ha.slice(la,na[0]);la=na[1]});return ka+=ha.slice(la)}}},stripCommentTag:function(V){return V.replace(T,
"")},stripBlankChar:function(V){V=V.split("");V=V.filter(function(ba){ba=ba.charCodeAt(0);return 127===ba?!1:31>=ba?10===ba||13===ba?!0:!1:!0});return V.join("")},cssFilter:O,getDefaultCSSWhiteList:I},fa=/[^a-zA-Z0-9_:\.\-]/gim,ia={parseTag:function(V,ba,Q){var Y="",aa=0,ha=!1,ka=!1,la=0,na=V.length,pa="",ua="";la=0;a:for(;la<na;la++)if(ua=V.charAt(la),!1===ha)"\x3c"===ua&&(ha=la);else if(!1===ka)if("\x3c"===ua)Y+=Q(V.slice(aa,la)),aa=ha=la;else if("\x3e"===ua)Y+=Q(V.slice(aa,ha)),aa=ua=V.slice(ha,
la+1),pa=G.spaceIndex(aa),aa=-1===pa?aa.slice(1,-1):aa.slice(1,pa+1),aa=G.trim(aa).toLowerCase(),"/"===aa.slice(0,1)&&(aa=aa.slice(1)),"/"===aa.slice(-1)&&(aa=aa.slice(0,-1)),pa=aa,Y+=ba(ha,Y.length,pa,ua,"\x3c/"===ua.slice(0,2)),aa=la+1,ha=!1;else{if('"'===ua||"'"===ua){pa=1;for(var za=V.charAt(la-pa);" "===za||"\x3d"===za;){if("\x3d"===za){ka=ua;continue a}za=V.charAt(la-++pa)}}}else ua===ka&&(ka=!1);aa<V.length&&(Y+=Q(V.substr(aa)));return Y},parseAttr:function(V,ba){function Q(pa,ua){pa=G.trim(pa);
pa=pa.replace(fa,"").toLowerCase();1>pa.length||(pa=ba(pa,ua||""))&&aa.push(pa)}for(var Y=0,aa=[],ha=!1,ka=V.length,la=0;la<ka;la++){var na=V.charAt(la);if(!1===ha&&"\x3d"===na)ha=V.slice(Y,la),Y=la+1;else{if(!1!==ha&&la===Y&&('"'===na||"'"===na)&&"\x3d"===V.charAt(la-1))if(na=V.indexOf(na,la+1),-1===na)break;else{Y=G.trim(V.slice(Y+1,na));Q(ha,Y);ha=!1;la=na;Y=la+1;continue}/\s|\n|\t/.test(na)&&(V=V.replace(/\s|\n|\t/g," "),!1===ha?(na=h(V,la),-1===na?(Y=G.trim(V.slice(Y,la)),Q(Y),ha=!1,Y=la+1):
la=na-1):(na=d(V,la-1),-1===na&&(Y=G.trim(V.slice(Y,la)),Y=g(Y),Q(ha,Y),ha=!1,Y=la+1)))}}Y<V.length&&(!1===ha?Q(V.slice(Y)):Q(ha,g(G.trim(V.slice(Y)))));return G.trim(aa.join(" "))}},ja=B.FilterCSS,ta=ia.parseTag,Aa=ia.parseAttr;t.prototype.process=function(V){V=(V||"").toString();if(!V)return"";var ba=this.options,Q=ba.whiteList,Y=ba.onTag,aa=ba.onIgnoreTag,ha=ba.onTagAttr,ka=ba.onIgnoreTagAttr,la=ba.safeAttrValue,na=ba.escapeHtml,pa=this.cssFilter;ba.stripBlankChar&&(V=X.stripBlankChar(V));ba.allowCommentTag||
(V=X.stripCommentTag(V));var ua=!1;ba.stripIgnoreTagBody&&(ua=X.StripTagBody(ba.stripIgnoreTagBody,aa),aa=ua.onIgnoreTag);V=ta(V,function(za,wa,Da,Ea,Ha){za={sourcePosition:za,position:wa,isClosing:Ha,isWhite:Q.hasOwnProperty(Da)};wa=Y(Da,Ea,za);if(void 0!==wa&&null!==wa)return wa;if(za.isWhite){if(za.isClosing)return"\x3c/"+Da+"\x3e";za=u(Ea);var Ga=Q[Da];wa=Aa(za.html,function(Ja,Qa){var Pa=-1!==G.indexOf(Ga,Ja),Na=ha(Da,Ja,Qa,Pa);if(void 0!==Na&&null!==Na)return Na;if(Pa)return(Qa=la(Da,Ja,Qa,
pa))?Ja+'\x3d"'+Qa+'"':Ja;Na=ka(Da,Ja,Qa,Pa);if(void 0!==Na&&null!==Na)return Na});Ea="\x3c"+Da;wa&&(Ea+=" "+wa);za.closing&&(Ea+=" /");return Ea+"\x3e"}wa=aa(Da,Ea,za);return void 0!==wa&&null!==wa?wa:na(Ea)},na);ua&&(V=ua.remove(V));return V};var Z=c(function(V,ba){function Q(aa,ha){return(new t(ha)).process(aa)}ba=V.exports=Q;ba.filterXSS=Q;ba.FilterXSS=t;for(var Y in X)ba[Y]=X[Y];for(Y in ia)ba[Y]=ia[Y];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof
DedicatedWorkerGlobalScope&&(self.filterXSS=V.exports)});B=function(){function V(ba,Q){var Y=this;this.arcgisWhiteList={a:["href","target","style"],img:"src width height border alt style".split(" "),video:"autoplay controls height loop muted poster preload width".split(" "),audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:"width height cellpadding cellspacing border style".split(" "),div:["style","align"],font:["size","color","style"],tr:["height",
"valign","align","style"],td:"height width valign align colspan rowspan nowrap style".split(" "),th:"height width valign align colspan rowspan nowrap style".split(" "),p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ha,ka,la,na){return"a"===ha&&"href"===ka||("img"===ha||"source"===ha)&&"src"===ka?Y.sanitizeUrl(la):Z.safeAttrValue(ha,ka,la,na)}};if(ba&&!Q)var aa=ba;else ba&&Q?(aa=Object.create(this.arcgisFilterOptions),Object.keys(ba).forEach(function(ha){"whiteList"===ha?aa.whiteList=Y._extendObjectOfArrays([Y.arcgisWhiteList,ba.whiteList||{}]):aa[ha]=ba[ha]})):(aa=Object.create(this.arcgisFilterOptions),aa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=
aa;this._xssFilter=new Z.FilterXSS(aa)}V.prototype.sanitize=function(ba,Q){void 0===Q&&(Q={});switch(typeof ba){case "number":return isNaN(ba)||!isFinite(ba)?null:ba;case "boolean":return ba;case "string":return this._xssFilter.process(ba);case "object":return this._iterateOverObject(ba,Q);default:if(!Q.allowUndefined||"undefined"!==typeof ba)return null}};V.prototype.sanitizeUrl=function(ba){var Q=this._trim(ba.substring(0,ba.indexOf(":")));return"/"===ba||"#"===ba||"#"===ba[0]||-1<this.allowedProtocols.indexOf(Q.toLowerCase())?
Z.escapeAttrValue(ba):""};V.prototype.sanitizeHTMLAttribute=function(ba,Q,Y,aa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ba,Q,Y,aa):Z.safeAttrValue(ba,Q,Y,aa)};V.prototype.validate=function(ba,Q){void 0===Q&&(Q={});Q=this.sanitize(ba,Q);return{isValid:ba===Q,sanitized:Q}};V.prototype._extendObjectOfArrays=function(ba){var Q={};ba.forEach(function(Y){Object.keys(Y).forEach(function(aa){Array.isArray(Y[aa])&&Array.isArray(Q[aa])?Q[aa]=Q[aa].concat(Y[aa]):
Q[aa]=Y[aa]})});return Q};V.prototype._iterateOverObject=function(ba,Q){var Y=this;void 0===Q&&(Q={});try{var aa=!1,ha=void 0;if(Array.isArray(ba))ha=ba.reduce(function(ka,la){var na=Y.validate(la,Q);if(na.isValid)return ka.concat([la]);aa=!0;return ka.concat([na.sanitized])},[]);else if(y(ba))ha=Object.keys(ba).reduce(function(ka,la){var na=ba[la],pa=Y.validate(na,Q);pa.isValid?ka[la]=na:(aa=!0,ka[la]=pa.sanitized);return ka},{});else return Q.allowUndefined&&"undefined"===typeof ba?void 0:null;
return aa?ha:ba}catch(ka){return null}};V.prototype._trim=function(ba){return String.prototype.trim?ba.trim():ba.replace(/(^\s*)|(\s*$)/g,"")};return V}();a.Sanitizer=B})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,c){let b;b=Array.prototype.find?(f,e)=>f.find(e):(f,e)=>f.filter(e)[0];const l=(f,e)=>{let k=f;e.forEach(r=>{k=k&&k.children?b(k.children,p=>p.domNode===r):void 0});return k},m=(f,e,k)=>{const r=function(p){k("domEvent",p);var w=e();{var n=p.currentTarget;
var q=w.domNode;const d=[];for(;n!==q;)d.push(n),n=n.parentNode;n=d}n.reverse();w=l(w.getLastRender(),n);f.scheduleRender();let h;w&&(h=w.properties[`on${p.type}`].apply(w.properties.bind||this,arguments));k("domEventProcessed",p);return h};return()=>r};a.createProjector=f=>{let e;const k=c.applyDefaultProjectionOptions(f),r=k.performanceLogger;let p=!0,w,n=!1;const q=[],h=[],d=(u,t,B)=>{let F;k.eventHandlerInterceptor=m(e,()=>F,r);F=u(t,B(),k);q.push(F);h.push(B)},g=()=>{w=void 0;if(p){p=!1;r("renderStart",
void 0);for(let u=0;u<q.length;u++){const t=h[u]();r("rendered",void 0);q[u].update(t);r("patched",void 0)}r("renderDone",void 0);p=!0}};return e={renderNow:g,scheduleRender:()=>{w||n||(w=requestAnimationFrame(g))},stop:()=>{w&&(cancelAnimationFrame(w),w=void 0);n=!0},resume:()=>{n=!1;p=!0;e.scheduleRender()},append:(u,t)=>{d(c.dom.append,u,t)},insertBefore:(u,t)=>{d(c.dom.insertBefore,u,t)},merge:(u,t)=>{d(c.dom.merge,u,t)},replace:(u,t)=>{d(c.dom.replace,u,t)},detach:u=>{for(let t=0;t<h.length;t++)if(h[t]===
u)return h.splice(t,1),q.splice(t,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,c){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(l,m,f)=>{l.style[m]=f}};a.applyDefaultProjectionOptions=l=>c.extend(b,l);a.dom={create:(l,m)=>{m=c.extend(b,m);c.createDom(l,document.createElement("div"),void 0,m);return c.createProjection(l,
m)},append:(l,m,f)=>{f=c.extend(b,f);c.createDom(m,l,void 0,f);return c.createProjection(m,f)},insertBefore:(l,m,f)=>{f=c.extend(b,f);c.createDom(m,l.parentNode,l,f);return c.createProjection(m,f)},merge:(l,m,f)=>{f=c.extend(b,f);m.domNode=l;c.initPropertiesAndChildren(l,m,f);return c.createProjection(m,f)},replace:(l,m,f)=>{f=c.extend(b,f);c.createDom(m,l.parentNode,l,f);l.parentNode.removeChild(l);return c.createProjection(m,f)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Popup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/deprecate ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/events ../core/Collection ../intl/substitute ../intl ../core/Handles ../core/watchUtils ../core/throttle ./support/widgetUtils ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/renderable ./support/decorators/vmEvent ../chunks/index ./Widget ./Feature/support/FeatureContentMixin ./Feature ./Spinner ./Popup/PopupViewModel".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G,I){function O(K,U){return void 0===U?`${"esri-popup"}__${K}`:`${"esri-popup"}__${K}-${U}`}const L={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},N=l.getLogger("esri.widgets.Popup"),R={closeButton:!0,featureNavigation:!0};b=function(K){function U(J,S){var W=K.call(this,J,S)||this;W._blurClose=!1;W._blurContainer=!1;W._containerNode=null;W._mainContainerNode=null;W._featureMenuNode=null;W._actionsMenuNode=null;W._focusClose=
!1;W._focusContainer=!1;W._focusDockButton=!1;W._focusFeatureMenuButton=!1;W._focusActionsMenuButton=!1;W._focusFirstFeature=!1;W._focusFirstAction=!1;W._handles=new t;W._pointerOffsetInPx=16;W._spinner=null;W._feature=null;W._displaySpinnerThrottled=F.throttle(()=>W._displaySpinner(),0);W.actions=null;W.alignment="auto";W.autoCloseEnabled=null;W.autoOpenEnabled=null;W.defaultPopupTemplateEnabled=null;W.content=null;W.collapsed=!1;W.collapseEnabled=!0;W.dockEnabled=!1;W.featureCount=null;W.featureMenuOpen=
!1;W.features=null;W.goToOverride=null;W.highlightEnabled=null;W.location=null;W.label=void 0;W.maxInlineActions=3;W.messages=null;W.messagesCommon=null;W.promises=null;W.selectedFeature=null;W.selectedFeatureIndex=null;W.spinnerEnabled=!0;W.title=null;W.updateLocationEnabled=null;W.view=null;W.viewModel=new I;W.visible=null;W.visibleElements={...R};W._addSelectedFeatureIndexHandle();W.own([B.watch(a._assertThisInitialized(W),"viewModel.screenLocation",()=>W._positionContainer()),B.watch(a._assertThisInitialized(W),
["viewModel.active","dockEnabled"],()=>W._toggleScreenLocationEnabled()),B.watch(a._assertThisInitialized(W),"viewModel.screenLocation",(M,T)=>{!!M!==!!T&&W.reposition()}),B.watch(a._assertThisInitialized(W),["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>W.reposition()),B.watch(a._assertThisInitialized(W),"spinnerEnabled",M=>W._spinnerEnabledChange(M)),B.watch(a._assertThisInitialized(W),"viewModel.view.size",(M,T)=>W._updateDockEnabledForViewSize(M,
T)),B.watch(a._assertThisInitialized(W),"viewModel.view",(M,T)=>W._viewChange(M,T)),B.watch(a._assertThisInitialized(W),"viewModel.view.ready",(M,T)=>W._viewReadyChange(M,T)),B.watch(a._assertThisInitialized(W),["viewModel.waitingForResult","viewModel.location"],()=>{W._hideSpinner();W._displaySpinnerThrottled()}),B.watch(a._assertThisInitialized(W),"selectedFeatureWidget.viewModel.title",M=>W._setTitleFromFeatureWidget(M)),B.watch(a._assertThisInitialized(W),["selectedFeatureWidget.viewModel.content",
"selectedFeatureWidget.viewModel.waitingForContent"],()=>W._setContentFromFeatureWidget()),B.whenFalse(a._assertThisInitialized(W),"collapsed",()=>{var M,T;"xsmall"===(null==(M=W.viewModel)?void 0:null==(T=M.view)?void 0:T.widthBreakpoint)&&W.viewModel.active&&W.collapseEnabled&&W.viewModel.centerAtLocation()}),B.on(a._assertThisInitialized(W),"viewModel.allActions","change",()=>W._watchActions()),B.init(a._assertThisInitialized(W),"viewModel.allActions",()=>W._watchActions())]);return W}a._inheritsLoose(U,
K);var P=U.prototype;P.destroy=function(){this._destroySelectedFeatureWidget();this._destroySpinner();this._handles&&this._handles.destroy();this._handles=null};P.castVisibleElements=function(J){return{...R,...J}};P.blur=function(){const {active:J}=this.viewModel;J||N.warn("Popup can only be blurred when currently active.");this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0;this.scheduleRender()};P.clear=function(){this.viewModel.clear()};P.close=function(){this.visible=!1};
P.fetchFeatures=function(J,S){return this.viewModel.fetchFeatures(J,S)};P.focus=function(){const {active:J}=this.viewModel;J||N.warn("Popup can only be focused when currently active.");this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0;this.scheduleRender()};P.next=function(){return this.viewModel.next()};P.open=function(J){var S,W;this._handles.remove("selected-index");const M={collapsed:J?!!J.collapsed:!1,actionsMenuOpen:J?!!J.actionsMenuOpen:!1,featureMenuOpen:J?!!J.featureMenuOpen:
!1};"xsmall"===(null==(S=this.viewModel)?void 0:null==(W=S.view)?void 0:W.widthBreakpoint)&&(M.collapsed=!0);this.set(M);this.viewModel.open(J);this._addSelectedFeatureIndexHandle()};P.previous=function(){return this.viewModel.previous()};P.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()};P.triggerAction=function(J){this.viewModel.triggerAction(J)};P.render=function(){var J,S,W,M;const {actionsMenuOpen:T,dockEnabled:X,featureMenuVisible:fa,dividedActions:ia,
currentAlignment:ja,currentDockPosition:ta}=this,{active:Aa}=this.viewModel;var {menuActions:Z}=ia;Z=Aa&&1<Z.length&&T;const V=null==(J=this.selectedFeature)?void 0:null==(S=J.layer)?void 0:S.title;J=null==(W=this.selectedFeature)?void 0:null==(M=W.layer)?void 0:M.id;return x.jsx("div",{class:this.classes("esri-popup",{["esri-popup--aligned-top-center"]:"top-center"===ja,["esri-popup--aligned-bottom-center"]:"bottom-center"===ja,["esri-popup--aligned-top-left"]:"top-left"===ja,["esri-popup--aligned-bottom-left"]:"bottom-left"===
ja,["esri-popup--aligned-top-right"]:"top-right"===ja,["esri-popup--aligned-bottom-right"]:"bottom-right"===ja,["esri-popup--is-docked"]:Aa&&X,["esri-popup--shadow"]:Aa&&!X,["esri-popup--is-docked-top-left"]:"top-left"===ta,["esri-popup--is-docked-top-center"]:"top-center"===ta,["esri-popup--is-docked-top-right"]:"top-right"===ta,["esri-popup--is-docked-bottom-left"]:"bottom-left"===ta,["esri-popup--is-docked-bottom-center"]:"bottom-center"===ta,["esri-popup--is-docked-bottom-right"]:"bottom-right"===
ta,["esri-popup--feature-menu-open"]:fa,["esri-popup--actions-menu-open"]:Z}),role:"presentation","data-layer-title":V,"data-layer-id":J,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},Aa?[this.renderMainContainer(),this.renderPointer()]:null)};P.renderLoadingIcon=function(){return x.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-loading-indicator","esri-rotating")})};P.renderNavigationLoading=function(){const {messagesCommon:J}=
this;return this.viewModel.pendingPromisesCount?x.jsx("div",{key:O("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":J.loading,title:J.loading},this.renderLoadingIcon()):null};P.renderPreviousIcon=function(){const J=H.isRTL();return x.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",{["esri-icon-right-triangle-arrow"]:J,["esri-popup__pagination-previous-icon--rtl"]:J,["esri-icon-left-triangle-arrow"]:!J,["esri-popup__pagination-previous-icon"]:!J})})};
P.renderPreviousButton=function(){const {messages:J}=this;return x.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes("esri-popup__button","esri-popup__pagination-previous"),"aria-label":J.previous,title:J.previous},this.renderPreviousIcon())};P.renderNextIcon=function(){const J=H.isRTL();return x.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",{["esri-icon-left-triangle-arrow"]:J,["esri-popup__pagination-next-icon--rtl"]:J,
["esri-icon-right-triangle-arrow"]:!J,["esri-popup__pagination-next-icon"]:!J})})};P.renderNextButton=function(){const {messages:J}=this;return x.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes("esri-popup__button","esri-popup__pagination-next"),"aria-label":J.next,title:J.next},this.renderNextIcon())};P.renderFeatureMenuButton=function(){const {featureMenuOpen:J,featureMenuId:S,messagesCommon:W}=this,{featureCount:M,selectedFeatureIndex:T}=
this.viewModel;return x.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes("esri-popup__button","esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":S,"aria-expanded":J,"aria-label":W.menu,title:W.menu},this._getPageText(M,T))};P.renderNavigationButtons=function(){return this.featureNavigationVisible?[this.renderPreviousButton(),
this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null};P.renderDockIcon=function(){const {dockEnabled:J}=this,S=this._wouldDockTo();return x.jsx("span",{"aria-hidden":"true",class:this.classes({["esri-icon-minimize"]:J,["esri-popup__icon--dock-icon"]:!J,["esri-icon-dock-right"]:!J&&("top-right"===S||"bottom-right"===S),["esri-icon-dock-left"]:!J&&("top-left"===S||"bottom-left"===S),["esri-icon-maximize"]:!J&&"top-center"===S,["esri-icon-dock-bottom"]:!J&&"bottom-center"===
S},"esri-popup__icon")})};P.renderDockButton=function(){var J,S,W;const {dockEnabled:M,messages:T}=this,X=null==(J=this.viewModel)?void 0:null==(S=J.view)?void 0:S.widthBreakpoint;J=M?T.undock:T.dock;return"xsmall"!==X&&null!=(W=this.dockOptions)&&W.buttonEnabled?x.jsx("div",{role:"button","aria-label":J,title:J,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes("esri-popup__button",
"esri-popup__button--dock")},this.renderDockIcon()):null};P.renderTitle=function(){const {title:J}=this.viewModel,{titleId:S,collapsible:W,contentCollapsed:M,messagesCommon:T}=this;var X={["esri-popup__header-container--button"]:W};const fa=x.jsx("h2",{class:"esri-popup__header-title",innerHTML:J});X=W?x.jsx("button",{key:`${J}--collapsible`,id:S,title:M?T.expand:T.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",X),"aria-expanded":M?
"false":"true",onclick:this._toggleCollapsed},fa):x.jsx("div",{key:J,id:S,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",X)},fa);return J?X:null};P.renderCloseIcon=function(){return x.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-close")})};P.renderCloseButton=function(){const {visibleElements:J,messagesCommon:S}=this;return J.closeButton?x.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,
onkeydown:this._close,class:"esri-popup__button","aria-label":S.close,title:S.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null};P.renderHeader=function(){return x.jsx("header",{class:"esri-popup__header"},this.renderTitle(),x.jsx("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))};P.renderContentContainer=function(){const {contentId:J,hasContent:S,contentCollapsed:W}=this,{content:M}=this.viewModel;
return S&&!W?x.jsx("article",{key:M,enterAnimation:this._createFeatureUpdatedAnimation(),id:J,class:"esri-popup__content"},this.renderContent()):null};P.renderActionsMenuButton=function(){const {actionsMenuId:J,actionsMenuButtonId:S,actionsMenuOpen:W,dividedActions:M,messagesCommon:T}=this,X=W?T.close:T.open,{menuActions:fa}=M;return fa.length?x.jsx("div",{key:O("actions-menu-button"),class:this.classes("esri-popup__button","esri-popup__actions-menu-button"),role:"button",id:S,"aria-haspopup":"true",
"aria-controls":W?J:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":X,title:X},x.jsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null};P.renderMenuActions=function(){const {actionsMenuId:J,actionsMenuButtonId:S,actionsMenuOpen:W,dividedActions:M}=this,{menuActions:T,inlineActions:X}=M;return T.length&&W?x.jsx("ul",{id:J,role:"menu",
"aria-labelledby":S,key:O("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},T.toArray().map((fa,ia)=>this.renderAction({action:fa,index:ia+X.length,type:"menu-item"}))):null};P.renderInlineActions=function(){const {inlineActions:J}=this.dividedActions;return!!J.length&&J.toArray().map((S,W)=>this.renderAction({action:S,index:W,type:"inline"}))};P.renderInlineActionsContainer=function(){const {inlineActions:J,
menuActions:S}=this.dividedActions,W=!!J.length,M=!!S.length;return W||M?x.jsx("div",{key:"inline-actions-container","data-inline-actions":W.toString(),"data-menu-actions":M.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null};P.renderNavigation=function(){return this.featureNavigationVisible?x.jsx("section",{key:O("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):
null};P.renderFooter=function(){const {featureNavigationVisible:J,dividedActions:S}=this,{inlineActions:W,menuActions:M}=S,T=!!W.length,X={["esri-popup__footer--has-pagination"]:J,["esri-popup__footer--has-actions"]:T,["esri-popup__footer--has-actions-menu"]:!!M.length};return J||T?x.jsx("div",{key:O("feature-buttons"),class:this.classes("esri-popup__footer",X)},this.renderInlineActionsContainer(),this.renderNavigation()):null};P.renderFeatureMenuContainer=function(){var {messages:J}=this;const {featureViewModels:S}=
this.viewModel;J=g.substitute(J.selectedFeatures,{total:S.length});return x.jsx("section",{key:O("menu"),class:"esri-popup__feature-menu"},x.jsx("h2",{class:"esri-popup__feature-menu-header"},J),x.jsx("nav",{class:"esri-popup__feature-menu-viewport",afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))};P.renderPointer=function(){return this.dockEnabled?null:x.jsx("div",{key:O("pointer"),class:"esri-popup__pointer",role:"presentation"},
x.jsx("div",{class:this.classes("esri-popup__pointer-direction","esri-popup--shadow")}))};P.renderMainContainer=function(){const {dockEnabled:J,currentAlignment:S,currentDockPosition:W,titleId:M,contentId:T,collapsible:X,hasContent:fa,contentCollapsed:ia,visibleElements:ja}=this,{title:ta}=this.viewModel,Aa="bottom-left"===S||"bottom-center"===S||"bottom-right"===S||"top-left"===W||"top-center"===W||"top-right"===W,Z="top-left"===S||"top-center"===S||"top-right"===S||"bottom-left"===W||"bottom-center"===
W||"bottom-right"===W;return x.jsx("div",{class:this.classes("esri-popup__main-container","esri-widget",{["esri-popup--shadow"]:J,["esri-popup--is-collapsible"]:X,["esri-popup--is-collapsed"]:ia}),tabIndex:ja.closeButton?null:-1,role:"dialog","aria-labelledby":ta?M:"","aria-describedby":fa&&!ia?T:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Aa?this.renderFooter():null,Aa?this.renderFeatureMenuContainer():null,this.renderHeader(),
this.renderContentContainer(),Z?this.renderFooter():null,Z?this.renderFeatureMenuContainer():null)};P.renderContent=function(){var J;const S=null==(J=this.viewModel)?void 0:J.content;return S?"string"===typeof S?x.jsx("div",{key:S,innerHTML:S}):this.renderNodeContent(S):null};P.renderActionText=function(J){return x.jsx("span",{key:"text",class:"esri-popup__action-text"},J)};P.renderActionIcon=function(J){const S=this._getActionClass(J),W=this._getActionImage(J),M={["esri-icon-loading-indicator"]:J.active,
["esri-rotating"]:J.active,["esri-popup__icon"]:!!S,["esri-popup__action-image"]:!J.active&&!!W};S&&(M[S]=!J.active);return x.jsx("span",{key:"icon","aria-hidden":"true",class:this.classes("esri-popup__icon",M),styles:this._getIconStyles(W)})};P.renderAction=function(J){const {action:S,index:W,type:M}=J;J=this._getActionTitle(S);const T={["esri-popup__action"]:"toggle"!==S.type,["esri-popup__action-toggle"]:"toggle"===S.type,["esri-popup__action-toggle--on"]:"toggle"===S.type&&S.value,["esri-popup__button--disabled"]:S.disabled},
X=[this.renderActionIcon(S),this.renderActionText(J)];J="menu-item"===M?x.jsx("li",{key:S.uid,role:"menuitem",tabIndex:0,title:J,"aria-label":J,class:this.classes("esri-popup__button",T),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":W,onclick:this._triggerAction,onkeydown:this._triggerAction},X):x.jsx("div",{key:S.uid,role:"button",tabIndex:0,title:J,"aria-label":J,class:this.classes("esri-popup__button",T),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":W,
onclick:this._triggerAction,onkeydown:this._triggerAction},X);return S.visible?J:null};P.renderFeatureMenuItem=function(J,S){const {messages:W,messagesCommon:M}=this,{selectedFeatureIndex:T,selectedFeatureViewModel:X}=this.viewModel;var fa=J===X;const ia={["esri-popup__feature-menu-item--selected"]:fa};fa=fa?x.jsx("span",{key:O(`feature-menu-selected-feature-${T}`),title:W.selectedFeature,"aria-label":W.selectedFeature,class:"esri-icon-check-mark"}):null;J=x.jsx("span",{innerHTML:J.title||M.untitled});
return x.jsx("li",{role:"menuitem",tabIndex:-1,key:O(`feature-menu-feature-${T}`),class:this.classes(ia,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":S,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},x.jsx("span",{class:"esri-popup__feature-menu-title"},J,fa))};P.renderFeatureMenu=function(){const {featureMenuId:J}=this,{featureViewModels:S}=this.viewModel;return 1<S.length?x.jsx("ol",{class:"esri-popup__feature-menu-list",id:J,
bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},S.map((W,M)=>this.renderFeatureMenuItem(W,M))):null};P._getActionTitle=function(J){const {messages:S,selectedFeature:W,messagesCommon:M}=this,{id:T}=J,X=null==W?void 0:W.attributes;return(J="zoom-to-feature"===T?g.substitute(J.title,{messages:S}):"remove-selected-feature"===T?g.substitute(J.title,{messages:M}):J.title)&&X?g.substitute(J,X):J};P._getActionClass=
function(J){var {selectedFeature:S}=this;S=null==S?void 0:S.attributes;const {className:W,image:M}=J;return(J=M||W?W:"esri-icon-default-action")&&S?g.substitute(J,S):J};P._getActionImage=function(J){var {selectedFeature:S}=this;S=null==S?void 0:S.attributes;({image:J}=J);return J&&S?g.substitute(J,S):J};P._createFeatureUpdatedAnimation=function(){return H.cssTransition("enter","esri-popup--feature-updated")};P._getInlineActionCount=function(){const {maxInlineActions:J,featureNavigationVisible:S}=
this;if("number"!==typeof J)return null;const W=Math.round(J);return Math.max(S?W-1:W,0)};P._watchActions=function(){const {allActions:J}=this.viewModel;this.notifyChange("dividedActions");this._handles.remove("actions");J&&J.forEach(S=>{this._handles.add(B.watch(S,"active className disabled id title image visible".split(" "),()=>this.scheduleRender()),"actions")})};P._divideActions=function(){const {allActions:J}=this.viewModel,S=this._getInlineActionCount(),W=null===S,M=0===S;return{inlineActions:W?
J.slice(0):M?new d:J.slice(0,S),menuActions:W?new d:M?J.slice(0):J.slice(S)}};P._featureMenuOpenChanged=function(J){J?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0};P._actionsMenuOpenChanged=function(J){J?this._focusFirstAction=!0:this._focusActionsMenuButton=!0};P._setTitleFromFeatureWidget=function(J){const {selectedFeatureWidget:S}=this;S&&(this.viewModel.title=J||"")};P._setContentFromFeatureWidget=function(){const {selectedFeatureWidget:J}=this;J&&(this.viewModel.content=J)};P._handleFeatureMenuKeyup=
function(J){"Escape"===h.eventKey(J)&&(J.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())};P._handleActionMenuKeyup=function(J){"Escape"===h.eventKey(J)&&(J.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())};P._handleFeatureMenuItemKeyup=function(J){const S=h.eventKey(J);var {_featureMenuNode:W}=this;const M=J.currentTarget["data-feature-index"];if(W){W=W.querySelectorAll("li");var T=W.length;"ArrowUp"===
S?(J.stopPropagation(),W[(M-1+T)%T].focus()):"ArrowDown"===S?(J.stopPropagation(),W[(M+1+T)%T].focus()):"Home"===S?(J.stopPropagation(),W[0].focus()):"End"===S&&(J.stopPropagation(),W[W.length-1].focus())}};P._handleActionMenuItemKeyup=function(J){const S=h.eventKey(J);var {_actionsMenuNode:W}=this;const M=J.currentTarget["data-action-index"];if(W){W=W.querySelectorAll("li");var T=W.length;"ArrowUp"===S?(J.stopPropagation(),W[(M-1+T)%T].focus()):"ArrowDown"===S?(J.stopPropagation(),W[(M+1+T)%T].focus()):
"Home"===S?(J.stopPropagation(),W[0].focus()):"End"===S&&(J.stopPropagation(),W[W.length-1].focus())}};P._handleMainKeyup=function(J){const S=h.eventKey(J);"ArrowLeft"===S&&(J.stopPropagation(),this.previous());"ArrowRight"===S&&(J.stopPropagation(),this.next())};P._spinnerEnabledChange=function(J){this._destroySpinner();J&&(J=this.get("viewModel.view"),this._createSpinner(J))};P._hideSpinner=function(){const {_spinner:J}=this;J&&(J.location=null,J.hide())};P._displaySpinner=function(){const {_spinner:J}=
this;if(J){var {location:S,waitingForResult:W}=this.viewModel;W?J.show({location:S}):J.hide()}};P._getIconStyles=function(J){return{"background-image":J?`url(${J})`:""}};P._addSelectedFeatureIndexHandle=function(){const J=B.watch(this,"viewModel.selectedFeatureIndex",(S,W)=>this._selectedFeatureIndexUpdated(S,W));this._handles.add(J,"selected-index")};P._selectedFeatureIndexUpdated=function(J,S){const {featureCount:W}=this;W&&J!==S&&-1!==J&&(this.featureMenuOpen=this.actionsMenuOpen=!1)};P._destroySelectedFeatureWidget=
function(){const {_feature:J}=this;J&&(J.viewModel=null,J&&!J.destroyed&&J.destroy());this._feature=null};P._isScreenLocationWithinView=function(J,S){return-1<J.x&&-1<J.y&&J.x<=S.width&&J.y<=S.height};P._isOutsideView=function(J){const {popupHeight:S,popupWidth:W,screenLocation:M,side:T,view:X}=J;if(isNaN(W)||isNaN(S)||!X||!M)return!1;J=X.padding;return"right"===T&&M.x+W/2>X.width-J.right||"left"===T&&M.x-W/2<J.left||"top"===T&&M.y-S<J.top||"bottom"===T&&M.y+S>X.height-J.bottom?!0:!1};P._calculateAutoAlignment=
function(J){if("auto"!==J)return J;const {_pointerOffsetInPx:S,_containerNode:W,_mainContainerNode:M,viewModel:T}=this,{screenLocation:X,view:fa}=T;if(!X||!fa||!W)return"top-center";if(!this._isScreenLocationWithinView(X,fa))return this._get("currentAlignment")||"top-center";var ia=(J=M?window.getComputedStyle(M,null):null)?parseInt(J.getPropertyValue("max-height").replace(/[^-\d\.]/g,""),10):0,ja=J?parseInt(J.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0;const {height:ta,width:Aa}=W.getBoundingClientRect();
J=Aa+S;const Z=Math.max(ta,ia,ja)+S;ia=this._isOutsideView({popupHeight:Z,popupWidth:J,screenLocation:X,side:"right",view:fa});ja=this._isOutsideView({popupHeight:Z,popupWidth:J,screenLocation:X,side:"left",view:fa});const V=this._isOutsideView({popupHeight:Z,popupWidth:J,screenLocation:X,side:"top",view:fa});J=this._isOutsideView({popupHeight:Z,popupWidth:J,screenLocation:X,side:"bottom",view:fa});return ja?V?"bottom-right":"top-right":ia?V?"bottom-left":"top-left":V?J?"top-center":"bottom-center":
"top-center"};P._callCurrentAlignment=function(J){return"function"===typeof J?J.call(this):J};P._getCurrentAlignment=function(){const {alignment:J,dockEnabled:S}=this;return S||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(J)))};P._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())};P._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())};P._calculatePositionResult=
function(J){const S=["left","right"];H.isRTL()&&S.reverse();return J.replace(/leading/gi,S[0]).replace(/trailing/gi,S[1])};P._callDockPosition=function(J){return"function"===typeof J?J.call(this):J};P._getDockPosition=function(){var J;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(J=this.dockOptions)?void 0:J.position)))};P._getCurrentDockPosition=function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null};P._wouldDockTo=
function(){return this.dockEnabled?null:this._getDockPosition()};P._calculateAutoDockPosition=function(J){var S;if("auto"!==J)return J;J=null==(S=this.viewModel)?void 0:S.view;S=H.isRTL()?"top-left":"top-right";if(!J)return S;var W=J.padding||{left:0,right:0,top:0,bottom:0};W=J.width-W.left-W.right;({breakpoints:J}=J);return J&&W<=J.xsmall?"bottom-center":S};P._positionContainer=function(J=this._containerNode){J&&(this._containerNode=J);if(J){var {screenLocation:S}=this.viewModel,{width:W}=J.getBoundingClientRect();
if(S=this._calculatePositionStyle(S,W))J.style.top=S.top,J.style.left=S.left,J.style.bottom=S.bottom,J.style.right=S.right}};P._calculateFullWidth=function(J){const {currentAlignment:S,_pointerOffsetInPx:W}=this;return"top-left"===S||"bottom-left"===S||"top-right"===S||"bottom-right"===S?J+W:J};P._calculateAlignmentPosition=function(J,S,W,M){const {currentAlignment:T,_pointerOffsetInPx:X}=this;M/=2;const fa=W.height-S;W=W.width-J;const {padding:ia}=this.view;if("bottom-center"===T)return{top:S+X-
ia.top,left:J-M-ia.left};if("top-left"===T)return{bottom:fa+X-ia.bottom,right:W+X-ia.right};if("bottom-left"===T)return{top:S+X-ia.top,right:W+X-ia.right};if("top-right"===T)return{bottom:fa+X-ia.bottom,left:J+X-ia.left};if("bottom-right"===T)return{top:S+X-ia.top,left:J+X-ia.left};if("top-center"===T)return{bottom:fa+X-ia.bottom,left:J-M-ia.left}};P._calculatePositionStyle=function(J,S){const {dockEnabled:W,view:M}=this;if(M){if(W)return{left:"",top:"",right:"",bottom:""};if(J&&S&&(S=this._calculateFullWidth(S),
J=this._calculateAlignmentPosition(J.x,J.y,M,S)))return{top:void 0!==J.top?`${J.top}px`:"auto",left:void 0!==J.left?`${J.left}px`:"auto",bottom:void 0!==J.bottom?`${J.bottom}px`:"auto",right:void 0!==J.right?`${J.right}px`:"auto"}}};P._viewChange=function(J,S){J&&S&&(this.close(),this.clear())};P._viewReadyChange=function(J,S){J?(J=this.get("viewModel.view"),this._wireUpView(J)):S&&(this.close(),this.clear())};P._wireUpView=function(J){this._destroySpinner();if(J){var {spinnerEnabled:S}=this;S&&this._createSpinner(J);
this._setDockEnabledForViewSize(this.dockOptions)}};P._dockingThresholdCrossed=function(J,S,W){const [M,T]=J,[X,fa]=S,{width:ia,height:ja}=W;return M<=ia&&X>ia||M>ia&&X<=ia||T<=ja&&fa>ja||T>ja&&fa<=ja};P._updateDockEnabledForViewSize=function(J,S){if(J&&S){var W=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},M=W.left+W.right,T=W.top+W.bottom;W=[];var X=[];W[0]=J[0]-M;W[1]=J[1]-T;X[0]=S[0]-M;X[1]=S[1]-T;({dockOptions:J}=this);this._dockingThresholdCrossed(W,X,J.breakpoint)&&this._setDockEnabledForViewSize(J);
this._setCurrentDockPosition()}};P._focusDockButtonNode=function(J){this._focusDockButton&&(this._focusDockButton=!1,J.focus())};P._closeButtonNodeUpdated=function(J){this._focusClose?(this._focusClose=!1,J.focus()):this._blurClose&&(this._blurClose=!1,J.blur())};P._mainContainerNodeUpdated=function(J){this._mainContainerNode=J;this._focusContainer?(this._focusContainer=!1,J.focus()):this._blurContainer&&(this._blurContainer=!1,J.blur())};P._featureMenuNodeUpdated=function(J){(this._featureMenuNode=
J)&&this._focusFirstFeature&&(this._focusFirstFeature=!1,J=J.querySelectorAll("li"),J.length&&J[0].focus())};P._actionsMenuNodeUpdated=function(J){(this._actionsMenuNode=J)&&this._focusFirstAction&&(this._focusFirstAction=!1,J=J.querySelectorAll("li"),J.length&&J[0].focus())};P._focusFeatureMenuButtonNode=function(J){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,J.focus())};P._focusActionsMenuButtonNode=function(J){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,J.focus())};
P._featureMenuViewportNodeUpdated=function(J){J&&(J.scrollTop=0)};P._toggleScreenLocationEnabled=function(){const {dockEnabled:J,viewModel:S}=this;S&&(S.screenLocationEnabled=S.active&&!J)};P._shouldDockAtCurrentViewSize=function(J){var S,W;J=J.breakpoint;const M=null==(S=this.viewModel)?void 0:null==(W=S.view)?void 0:W.ui;if(!M)return!1;const {width:T,height:X}=M;if(isNaN(T)||isNaN(X))return!1;S=J.hasOwnProperty("width")&&T<=J.width;W=J.hasOwnProperty("height")&&X<=J.height;return S||W};P._setDockEnabledForViewSize=
function(J){J.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(J))};P._getPageText=function(J,S){return this.featureNavigationVisible?g.substitute(this.messages.pageText,{index:S+1,total:J}):null};P._destroySpinner=function(){const {_spinner:J,view:S}=this;J&&(S&&S.ui&&S.ui.remove(this._spinner,"popup-spinner"),J.destroy(),this._spinner=null)};P._createSpinner=function(J){J&&(this._spinner=new G({view:J}),J.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))};P._toggleCollapsed=
function(){this.collapsed=!this.collapsed};P._close=function(){this.close();this.view&&this.view.focus()};P._toggleDockEnabled=function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()};P._toggleFeatureMenu=function(){const J=!this.featureMenuOpen;this._featureMenuOpenChanged(J);this.actionsMenuOpen=!1;this.featureMenuOpen=J};P._toggleActionsMenu=function(){const J=!this.actionsMenuOpen;this._actionsMenuOpenChanged(J);this.featureMenuOpen=!1;this.actionsMenuOpen=
J};P._triggerAction=function(J){J=J.currentTarget["data-action-index"];const S=this.viewModel.allActions.getItemAt(J);S&&"toggle"===S.type&&(S.value=!S.value);this.actionsMenuOpen=!1;this.viewModel.triggerAction(J)};P._selectFeature=function(J){J=J.currentTarget["data-feature-index"];isNaN(J)||(this.viewModel.selectedFeatureIndex=J);this.featureMenuOpen=!1;this._focusFeatureMenuButton=!0;this.scheduleRender()};P._next=function(){this.next()};P._previous=function(){this.previous()};a._createClass(U,
[{key:"actionsMenuId",get:function(){return`${this.id}-actions-menu`}},{key:"actionsMenuButtonId",get:function(){return`${this.id}-actions-menu-button`}},{key:"featureMenuId",get:function(){return`${this.id}-feature-menu`}},{key:"titleId",get:function(){return`${this.id}-popup-title`}},{key:"contentId",get:function(){return`${this.id}-popup-content`}},{key:"hasContent",get:function(){var J,S,W,M,T;return!!(this.selectedFeatureWidget?(null==(J=this.selectedFeatureWidget)?0:null==(S=J.viewModel)?0:
S.waitingForContent)||(null==(W=this.selectedFeatureWidget)?0:null==(M=W.viewModel)?0:M.content):null==(T=this.viewModel)?0:T.content)}},{key:"featureNavigationVisible",get:function(){return this.viewModel.active&&1<this.viewModel.featureCount&&this.visibleElements.featureNavigation}},{key:"collapsible",get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",
get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},{key:"actionsMenuOpen",set:function(J){this._set("actionsMenuOpen",!!J)},get:function(){return this.viewModel.active?this._get("actionsMenuOpen"):!1}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},{key:"dockOptions",get:function(){return this._get("dockOptions")||
L},set:function(J){var S={...L};const W=this.get("viewModel.view.breakpoints");var M={};W&&(M.width=W.xsmall,M.height=W.xsmall);J={...S,...J};S={...S.breakpoint,...M};({breakpoint:M}=J);!0===M?J.breakpoint=S:"object"===typeof M&&(J.breakpoint={...S,...M});this._set("dockOptions",J);this._setCurrentDockPosition();this.reposition()}},{key:"featureNavigationEnabled",set:function(J){k.deprecatedProperty(N,"featureNavigationEnabled",{replacement:"visibleElements.featureNavigation",version:"4.15"});this.visibleElements=
{...this.visibleElements,featureNavigation:J}}},{key:"selectedFeatureWidget",get:function(){const {_feature:J,visibleElements:S}=this,{selectedFeatureViewModel:W}=this.viewModel,M={...S,title:!1};if(!W)return null;J?(J.viewModel=W,J.visibleElements=M):this._feature=new v({viewModel:W,visibleElements:M});return this._feature}}]);return U}(D.FeatureContentMixin(z));c.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),E.renderable()],b.prototype,"actionsMenuId",null);c.__decorate([m.property({readOnly:!0,
dependsOn:["id"]}),E.renderable()],b.prototype,"actionsMenuButtonId",null);c.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),E.renderable()],b.prototype,"featureMenuId",null);c.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),E.renderable()],b.prototype,"titleId",null);c.__decorate([m.property({readOnly:!0,dependsOn:["id"]}),E.renderable()],b.prototype,"contentId",null);c.__decorate([m.property({readOnly:!0,dependsOn:["selectedFeatureWidget","selectedFeatureWidget.viewModel","selectedFeatureWidget.viewModel.waitingForContent",
"selectedFeatureWidget.viewModel.content","viewModel.content"]}),E.renderable()],b.prototype,"hasContent",null);c.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.active","viewModel.featureCount","visibleElements.featureNavigation"]}),E.renderable()],b.prototype,"featureNavigationVisible",null);c.__decorate([m.property({readOnly:!0,dependsOn:["collapseEnabled","viewModel.title","hasContent"]}),E.renderable()],b.prototype,"collapsible",null);c.__decorate([m.property({readOnly:!0,dependsOn:["featureNavigationVisible",
"featureMenuOpen"]}),E.renderable()],b.prototype,"featureMenuVisible",null);c.__decorate([m.property({readOnly:!0,dependsOn:["collapsible","featureMenuVisible","collapsed"]}),E.renderable()],b.prototype,"contentCollapsed",null);c.__decorate([m.property({readOnly:!0,dependsOn:["featureNavigationVisible","maxInlineActions","viewModel.allActions","viewModel.allActions.length"]}),E.renderable()],b.prototype,"dividedActions",null);c.__decorate([f.aliasOf("viewModel.actions"),E.renderable()],b.prototype,
"actions",void 0);c.__decorate([m.property({dependsOn:["viewModel.active"]}),E.renderable()],b.prototype,"actionsMenuOpen",null);c.__decorate([m.property()],b.prototype,"alignment",void 0);c.__decorate([f.aliasOf("viewModel.autoCloseEnabled")],b.prototype,"autoCloseEnabled",void 0);c.__decorate([f.aliasOf("viewModel.autoOpenEnabled")],b.prototype,"autoOpenEnabled",void 0);c.__decorate([f.aliasOf("viewModel.defaultPopupTemplateEnabled")],b.prototype,"defaultPopupTemplateEnabled",void 0);c.__decorate([f.aliasOf("viewModel.content"),
E.renderable()],b.prototype,"content",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,"collapsed",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,"collapseEnabled",void 0);c.__decorate([m.property({readOnly:!0,dependsOn:["dockEnabled","alignment","viewModel.active"]}),E.renderable()],b.prototype,"currentAlignment",null);c.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.view.ready","dockEnabled","dockOptions","viewModel.active"]}),E.renderable()],b.prototype,
"currentDockPosition",null);c.__decorate([m.property(),E.renderable()],b.prototype,"dockOptions",null);c.__decorate([m.property(),E.renderable()],b.prototype,"dockEnabled",void 0);c.__decorate([f.aliasOf("viewModel.featureCount"),E.renderable()],b.prototype,"featureCount",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,"featureMenuOpen",void 0);c.__decorate([f.aliasOf("viewModel.features"),E.renderable()],b.prototype,"features",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,
"featureNavigationEnabled",null);c.__decorate([f.aliasOf("viewModel.goToOverride")],b.prototype,"goToOverride",void 0);c.__decorate([f.aliasOf("viewModel.highlightEnabled")],b.prototype,"highlightEnabled",void 0);c.__decorate([f.aliasOf("viewModel.location"),E.renderable()],b.prototype,"location",void 0);c.__decorate([m.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,"maxInlineActions",void 0);c.__decorate([m.property(),
E.renderable(),A.messageBundle("esri/widgets/Popup/t9n/Popup")],b.prototype,"messages",void 0);c.__decorate([m.property(),E.renderable(),A.messageBundle("esri/t9n/common")],b.prototype,"messagesCommon",void 0);c.__decorate([f.aliasOf("viewModel.promises")],b.prototype,"promises",void 0);c.__decorate([f.aliasOf("viewModel.selectedFeature"),E.renderable()],b.prototype,"selectedFeature",void 0);c.__decorate([f.aliasOf("viewModel.selectedFeatureIndex"),E.renderable()],b.prototype,"selectedFeatureIndex",
void 0);c.__decorate([m.property({readOnly:!0,dependsOn:["viewModel.selectedFeatureViewModel","visibleElements"]}),E.renderable()],b.prototype,"selectedFeatureWidget",null);c.__decorate([m.property()],b.prototype,"spinnerEnabled",void 0);c.__decorate([f.aliasOf("viewModel.title"),E.renderable()],b.prototype,"title",void 0);c.__decorate([f.aliasOf("viewModel.updateLocationEnabled")],b.prototype,"updateLocationEnabled",void 0);c.__decorate([f.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([m.property({type:I}),
E.renderable("viewModel.active viewModel.view.widthBreakpoint viewModel.allActions viewModel.screenLocation viewModel.screenLocationEnabled viewModel.state viewModel.pendingPromisesCount viewModel.promiseCount viewModel.waitingForResult".split(" ")),y.vmEvent(["triggerAction","trigger-action"])],b.prototype,"viewModel",void 0);c.__decorate([f.aliasOf("viewModel.visible"),E.renderable()],b.prototype,"visible",void 0);c.__decorate([m.property(),E.renderable()],b.prototype,"visibleElements",void 0);
c.__decorate([e.cast("visibleElements")],b.prototype,"castVisibleElements",null);c.__decorate([C.accessibleHandler()],b.prototype,"_close",null);c.__decorate([C.accessibleHandler()],b.prototype,"_toggleDockEnabled",null);c.__decorate([C.accessibleHandler()],b.prototype,"_toggleFeatureMenu",null);c.__decorate([C.accessibleHandler()],b.prototype,"_toggleActionsMenu",null);c.__decorate([C.accessibleHandler()],b.prototype,"_triggerAction",null);c.__decorate([C.accessibleHandler()],b.prototype,"_selectFeature",
null);c.__decorate([C.accessibleHandler()],b.prototype,"_next",null);c.__decorate([C.accessibleHandler()],b.prototype,"_previous",null);return b=c.__decorate([p.subclass("esri.widgets.Popup")],b)})},"esri/core/throttle":function(){define(["exports"],function(a){function c(b,l,m,f){let e=null,k=1E3;"number"===typeof l?(k=l,f=m):(e=null!=l?l:null,k=m);let r=0,p;const w=()=>{r=0;b.apply(f,p)};l=(...n)=>{e&&e.apply(f,n);p=n;k?r||(r=setTimeout(w,k)):w()};l.remove=()=>{r&&(clearTimeout(r),r=0)};l.forceUpdate=
()=>{r&&(clearTimeout(r),w())};l.hasPendingUpdates=()=>!!r;return l}a.default=c;a.throttle=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports"],function(a){function c(b){return function(l,...m){var f;({type:f}=l);if(f=l instanceof KeyboardEvent||"keyup"===f||"keydown"===f||"keypress"===f){if("Enter"===l.key||" "===l.key)l.preventDefault(),l.stopPropagation(),l.target.click()}else b.call(this,l,...m)}}a.accessibleHandler=
function(){return function(b,l){if(!b[l])throw new TypeError(`Cannot auto bind undefined function '${l}'`);return{value:c(b[l])}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(c){return function(b,l){b.hasOwnProperty("_messageBundleProps")||(b._messageBundleProps=b._messageBundleProps?b._messageBundleProps.slice():[]);b._messageBundleProps.push({bundlePath:c,propertyName:l})}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/renderable":function(){define(["exports","./propUtils"],function(a,c){a.renderable=function(b){const l="string"===typeof b?c.splitProps(b):b;return function(m,f){m.hasOwnProperty("_renderableProps")||(m._renderableProps=m._renderableProps?m._renderableProps.slice():[]);m=m._renderableProps;l?m.push.apply(m,c.normalizePropNames(l,f)):m.push(f)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/propUtils":function(){define(["exports"],
function(a){a.normalizePropNames=function(c,b){return c.map(l=>{l=0===l.indexOf(b)?l:`${b}.${l}`;return l})};a.splitProps=function(c){return c.split(",").map(b=>b.trim())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports","./propUtils"],function(a,c){a.vmEvent=function(b){return l=>{l.hasOwnProperty("_delegatedEventNames")||(l._delegatedEventNames=l._delegatedEventNames?l._delegatedEventNames.slice():[]);l=l._delegatedEventNames;
const m=Array.isArray(b)?b:c.splitProps(b);l.push(...m)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/index":function(){define(["exports"],function(a){var c=function(b,l){for(var m=0,f=b.length;m<f;m++){var e=b[m];Array.isArray(e)?c(e,l):null!==e&&void 0!==e&&!1!==e&&(e.hasOwnProperty("vnodeSelector")||(e={vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),l.push(e))}};a.jsx=function(b,l){for(var m=[],f=2;f<arguments.length;f++)m[f-2]=arguments[f];
if(1===m.length&&"string"===typeof m[0])return{vnodeSelector:b,properties:l||void 0,children:void 0,text:m[0],domNode:null};f=[];c(m,f);return{vnodeSelector:b,properties:l||void 0,children:f,text:void 0,domNode:null}}})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Evented ../core/Collection ../intl/locale ../intl/messages ../intl ../core/Promise ../core/Handles ../core/watchUtils ../core/domUtils ./support/widgetUtils ../libs/maquette/projection ../libs/maquette/projector".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E){const y=l.getLogger("esri.widgets.Widget");let x=0;const z=E.createProjector();b=function(D){function v(I,O){var L=D.call(this,I,O)||this;L._attached=!1;L._internalHandles=new B;L._projector=z;L.domNode=null;L.iconClass="esri-icon-checkbox-unchecked";L.label=L.declaredClass.split(".").pop();L.visible=!0;L._loadLocale=n.debounce(async()=>{L._messageBundleProps&&L._messageBundleProps.length&&await n.eachAlways(L._messageBundleProps.map(async({bundlePath:U,
propertyName:P})=>{L[P]=await g.fetchMessageBundle(U)})).then(U=>{for(const P of U)P.error&&y.error("widget-intl:locale-error",L.declaredClass,P.error)});await L.loadLocale()});const N="esri-widget-uid-"+Date.now().toString(16),R=L.render.bind(a._assertThisInitialized(L));let K=!1;L.render=()=>{if(!K||L.destroyed)return null;const U=R();U.properties?U.properties.key||(U.properties.key=N):U.properties={key:N};return U};L.addResolvingPromise(L._resourcesFetch=L.beforeFirstRender().then(()=>{K=!0;L._postInitialize()}));
return L}a._inheritsLoose(v,D);var G=v.prototype;G.normalizeCtorArgs=function(I,O){I={...I};O&&(I.container=O);return I};G.postInitialize=function(){};G.beforeFirstRender=function(){return this._loadLocale().catch(I=>{if(!n.isAbortError(I))throw I;})};G.loadLocale=async function(){};G.destroy=function(){this.destroyed||(this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=
()=>null,this._projector=null)};G.castContainer=function(I){return H.byId(I)};G.render=function(){throw Error("not implemented");};G.scheduleRender=function(){this.destroyed||this._projector.scheduleRender()};G.classes=function(...I){return C.classes.apply(this,I)};G.own=function(I){1<arguments.length&&(I=Array.prototype.slice.call(arguments));this._internalHandles.add(I)};G.renderNow=function(){this._projector.renderNow()};G._postInitialize=function(){var I,O;this.destroyed||(null!=(I=this._renderableProps)&&
I.length&&this._internalHandles.add(this._renderableProps.map(L=>F.init(this,L,function(N,R){h.isCollection(R)&&this._internalHandles.remove(`${this.declaredClass}:${L}-collection-change-event-listener`);h.isCollection(N)&&(N=N.on("change",()=>this.scheduleRender()),this._internalHandles.add(N,`${this.declaredClass}:${L}-collection-change-event-listener`));this.scheduleRender()}))),null!=(O=this._delegatedEventNames)&&O.length&&this._internalHandles.add(F.init(this,"viewModel",(L,N)=>{N&&this._internalHandles.remove("delegated-events");
L&&this._internalHandles.add(this._delegatedEventNames.map(R=>L.on(R,K=>{this.emit(R,K)})),"delegated-events")})),this.postInitialize(),this._internalHandles.add(d.onLocaleChange(async()=>{await this._loadLocale().catch(L=>{if(!n.isAbortError(L))throw L;});this.scheduleRender()})),this._internalHandles.add(F.whenOnce(this,"container",async L=>{this.destroyed||this._attach(L)})))};G._attach=function(I){I&&(this._projector.merge(I,this.render),this._attached=!0)};G._detach=function(I){I&&this._attached&&
(this._projector.detach(this.render),I.parentNode&&I.parentNode.removeChild(I),this._attached=!1)};a._createClass(v,[{key:"container",set:function(I){this._get("container")||this._set("container",I)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+x++},set:function(I){I&&this._set("id",I)}},{key:"renderable",get:function(){return this._resourcesFetch}}]);return v}(t.EsriPromiseMixin(q.EventedAccessor));c.__decorate([m.property({value:null})],
b.prototype,"container",null);c.__decorate([f.cast("container")],b.prototype,"castContainer",null);c.__decorate([m.property({aliasOf:"container"})],b.prototype,"domNode",void 0);c.__decorate([m.property()],b.prototype,"iconClass",void 0);c.__decorate([m.property({dependsOn:["container"]})],b.prototype,"id",null);c.__decorate([m.property()],b.prototype,"label",void 0);c.__decorate([m.property()],b.prototype,"renderable",null);c.__decorate([m.property()],b.prototype,"viewModel",void 0);c.__decorate([m.property()],
b.prototype,"visible",void 0);return b=c.__decorate([k.subclass("esri.widgets.Widget")],b)})},"esri/widgets/Feature/support/FeatureContentMixin":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../chunks/index ../../support/widget".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){a.FeatureContentMixin=d=>{d=function(g){function u(){var t=g.apply(this,arguments)||this;t.renderNodeContent=B=>h.isWidget(B)&&!B.destroyed?q.jsx("div",{key:B},B.render()):B instanceof HTMLElement?q.jsx("div",{key:B,bind:B,afterCreate:t._attachToNode}):h.hasDomNode(B)?q.jsx("div",{key:B,bind:B.domNode,afterCreate:t._attachToNode}):null;return t}c._inheritsLoose(u,g);u.prototype._attachToNode=function(t){t.appendChild(this)};return u}(d);return d=b.__decorate([r.subclass("esri.widgets.Feature.ContentMixin")],
d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widget":function(){define("exports ./widgetUtils ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/renderable ./decorators/vmEvent ../../chunks/index".split(" "),function(a,c,b,l,m,f,e){a.additionalAllowedTags=c.additionalAllowedTags;a.classes=c.classes;a.cssTransition=c.cssTransition;a.discardNode=c.discardNode;a.getThemeName=c.getThemeName;a.isDarkTheme=c.isDarkTheme;a.isRTL=c.isRTL;a.keepMenuItemWithinView=
c.keepMenuItemWithinView;a.renderingSanitizer=c.renderingSanitizer;a.safeAttrs=c.safeAttrs;a.storeNode=c.storeNode;a.accessibleHandler=b.accessibleHandler;a.messageBundle=l.messageBundle;a.renderable=m.renderable;a.vmEvent=f.vmEvent;a.tsx=e.jsx;a.hasDomNode=function(k){return k&&"function"===typeof k.postMixInProperties&&"function"===typeof k.buildRendering&&"function"===typeof k.postCreate&&"function"===typeof k.startup};a.isWidget=function(k){return k&&"function"===typeof k.render};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/widgets/Feature":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../intl/substitute ../intl ../core/watchUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./Attachments ./Feature/FeatureContent ./Feature/FeatureFields ./Feature/FeatureMedia ./Feature/FeatureViewModel ./Feature/support/FeatureContentMixin".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x){const z={title:!0,content:!0,lastEditedInfo:!0};b=function(D){function v(I,O){I=D.call(this,I,O)||this;I._contentWidgets=[];I.graphic=null;I.defaultPopupTemplateEnabled=!1;I.label=void 0;I.messages=null;I.messagesURIUtils=null;I.spatialReference=null;I.title=null;I.visibleElements={...z};I.map=null;I.view=null;I.viewModel=new y;return I}a._inheritsLoose(v,D);var G=v.prototype;G.initialize=function(){this.own(d.init(this,"viewModel.contentViewModels",
()=>this._setupContentWidgets()))};G.destroy=function(){this._destroyContentWidgets()};G.castVisibleElements=function(I){return{...z,...I}};G.render=function(){const {waitingForContent:I}=this.viewModel;return B.jsx("div",{class:this.classes("esri-feature","esri-widget")},B.jsx("div",{class:"esri-feature__size-container"},this.renderTitle(),I?this.renderLoading():this.renderContentContainer()))};G.setActiveMedia=function(I,O){this.viewModel.setActiveMedia(I,O)};G.nextMedia=function(I){this.viewModel.nextMedia(I)};
G.previousMedia=function(I){this.viewModel.previousMedia(I)};G.renderLoading=function(){return B.jsx("div",{key:"loading-container",class:"esri-feature__loading-container"},B.jsx("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))};G.renderContentContainer=function(){const {visibleElements:I}=this;return I.content?B.jsx("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null};G.renderTitle=function(){const {visibleElements:I,
title:O}=this;return I.title?B.jsx("h4",{class:"esri-feature__title",innerHTML:O}):null};G.renderContent=function(){var I=this.viewModel.content;return I?Array.isArray(I)?I.length?B.jsx("div",{key:"content-content-elements"},I.map(this.renderContentElement,this)):null:"string"===typeof I?(I=this._contentWidgets[0],!I||I.destroyed?null:B.jsx("div",{key:"content-content"},I.render())):this.renderNodeContent(I):null};G.renderContentElement=function(I,O){const {visibleElements:L}=this;if("boolean"!==
typeof L.content&&!L.content[I.type])return null;switch(I.type){case "attachments":return this.renderAttachments(O);case "custom":return this.renderCustom(I,O);case "fields":return this.renderFields(O);case "media":return this.renderMedia(O);case "text":return this.renderText(I,O);default:return null}};G.renderAttachments=function(I){const O=this._contentWidgets[I];if(!O||O.destroyed)return null;const {state:L,attachmentInfos:N}=O.viewModel;return"loading"===L||0<N.length?B.jsx("div",{key:this._buildKey("attachments-element",
I),class:this.classes("esri-feature__attachments","esri-feature__content-element")},B.jsx("h2",null,this.messages.attach),O.render()):null};G.renderCustom=function(I,O){({creator:I}=I);const L=this._contentWidgets[O];return!L||L.destroyed?null:I?B.jsx("div",{key:this._buildKey("custom-element",O),class:"esri-feature__content-element"},L.render()):null};G.renderFields=function(I){const O=this._contentWidgets[I];return!O||O.destroyed?null:B.jsx("div",{key:this._buildKey("fields-element",I),class:"esri-feature__content-element"},
O.render())};G.renderMedia=function(I){const O=this._contentWidgets[I];return!O||O.destroyed?null:B.jsx("div",{key:this._buildKey("media-element",I),class:"esri-feature__content-element"},O.render())};G.renderLastEditInfo=function(){const {visibleElements:I,messages:O}=this;var {lastEditInfo:L}=this.viewModel;if(!L||!I.lastEditedInfo)return null;const {date:N,user:R}=L;L=q.substitute("edit"===L.type?R?O.lastEditedByUser:O.lastEdited:R?O.lastCreatedByUser:O.lastCreated,{date:N,user:R});return B.jsx("div",
{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info","esri-feature__content-element")},L)};G.renderText=function(I,O){const L=this._contentWidgets[O];return!L||L.destroyed?null:I.text?B.jsx("div",{key:this._buildKey("text-element",O),class:this.classes("esri-feature__content-element","esri-feature__text")},L.render()):null};G._buildKey=function(I,...O){const L=this.get("viewModel.graphic.uid")||"0";O=O.join("-");return`${I}__${L}-${O}`};G._destroyContentWidgets=function(){this._contentWidgets.forEach(I=>
{I.viewModel=null;I&&!I.destroyed&&I.destroy()});this._contentWidgets=[]};G._setupContentWidgets=function(){this._destroyContentWidgets();var I=this.get("viewModel.content");const {contentViewModels:O}=this.viewModel;Array.isArray(I)?I.forEach((L,N)=>{"attachments"===L.type&&(this._contentWidgets[N]=new H({displayType:L.displayType,viewModel:O[N]}));"fields"===L.type&&(this._contentWidgets[N]=new A({viewModel:O[N]}));"media"===L.type&&(this._contentWidgets[N]=new E({viewModel:O[N]}));"text"===L.type&&
(this._contentWidgets[N]=new C({viewModel:O[N]}));"custom"===L.type&&(this._contentWidgets[N]=new C({viewModel:O[N]}))},this):(I=O[0])&&!I.destroyed&&(this._contentWidgets[0]=new C({viewModel:I}));this.scheduleRender()};return v}(x.FeatureContentMixin(F));c.__decorate([f.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([f.aliasOf("viewModel.defaultPopupTemplateEnabled")],b.prototype,"defaultPopupTemplateEnabled",void 0);c.__decorate([m.property({aliasOf:{source:"messages.widgetLabel",
overridable:!0}})],b.prototype,"label",void 0);c.__decorate([m.property(),t.renderable(),u.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);c.__decorate([m.property(),t.renderable(),u.messageBundle("esri/widgets/support/t9n/uriUtils")],b.prototype,"messagesURIUtils",void 0);c.__decorate([f.aliasOf("viewModel.spatialReference")],b.prototype,"spatialReference",void 0);c.__decorate([f.aliasOf("viewModel.title")],b.prototype,"title",void 0);c.__decorate([m.property(),
t.renderable()],b.prototype,"visibleElements",void 0);c.__decorate([e.cast("visibleElements")],b.prototype,"castVisibleElements",null);c.__decorate([f.aliasOf("viewModel.map")],b.prototype,"map",void 0);c.__decorate([f.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([m.property({type:y}),t.renderable(["viewModel.waitingForContent","viewModel.content","viewModel.lastEditInfo","viewModel.contentViewModels"])],b.prototype,"viewModel",void 0);return b=c.__decorate([r.subclass("esri.widgets.Feature")],
b)})},"esri/widgets/Attachments":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/watchUtils ../core/unitFormatUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./Attachments/AttachmentsViewModel ./Attachments/support/attachmentUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C){const A={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},E=window.CSS;b=function(y){function x(D,v){D=y.call(this,D,v)||this;D.abilities=null;D.displayType="list";D.graphic=null;D.label=void 0;D.messages=null;D.messagesUnits=null;D.selectedFile=null;D.submitting=!1;D.viewModel=new H;D.visibleElements={...A};D._supportsImageOrientation=E&&E.supports&&E.supports("image-orientation",
"from-image");D._addAttachmentForm=null;D._updateAttachmentForm=null;return D}a._inheritsLoose(x,y);var z=x.prototype;z.initialize=function(){this.own(h.on(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),h.init(this,"viewModel.mode",()=>this._modeChanged()))};z.castVisibleElements=function(D){return{...A,...D}};z.addAttachment=function(){const {_addAttachmentForm:D,viewModel:v}=this;this._set("submitting",!0);this._set("error",null);return v.addAttachment(D).then(G=>{this._set("submitting",
!1);this._set("error",null);v.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new p("attachments:add-attachment",this.messages.addErrorMessage,G));throw G;})};z.deleteAttachment=function(D){const {viewModel:v}=this;this._set("submitting",!0);this._set("error",null);return v.deleteAttachment(D).then(G=>{this._set("submitting",!1);this._set("error",null);v.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new p("attachments:delete-attachment",
this.messages.deleteErrorMessage,G));throw G;})};z.updateAttachment=function(){const {viewModel:D}=this,{_updateAttachmentForm:v}=this;this._set("submitting",!0);this._set("error",null);return D.updateAttachment(v).then(G=>{this._set("submitting",!1);this._set("error",null);D.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new p("attachments:update-attachment",this.messages.updateErrorMessage,G));throw G;})};z.render=function(){const {submitting:D,viewModel:v}=this,{state:G}=
v;return B.jsx("div",{class:this.classes("esri-attachments","esri-widget")},D?this.renderProgressBar():null,"loading"===G?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())};z.renderErrorMessage=function(){const {error:D,visibleElements:v}=this;return D&&v.errorMessage?B.jsx("div",{key:"error-message",class:"esri-attachments__error-message"},D.message):null};z.renderAttachments=function(){const {mode:D,activeAttachmentInfo:v}=this.viewModel;return"add"===D?this.renderAddForm():
"edit"===D?this.renderDetailsForm(v):this.renderAttachmentContainer()};z.renderLoading=function(){return B.jsx("div",{class:"esri-attachments__loader-container",key:"loader"},B.jsx("div",{class:"esri-attachments__loader"}))};z.renderProgressBar=function(){return this.visibleElements.progressBar?B.jsx("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null};z.renderAddForm=function(){const {submitting:D,selectedFile:v}=this;var G=D||!v,I=this.visibleElements.cancelAddButton?B.jsx("button",
{type:"button",bind:this,disabled:D,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",D&&"esri-button--disabled")},this.messages.cancel):null;G=this.visibleElements.addSubmitButton?B.jsx("button",{type:"submit",disabled:G,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{["esri-button--disabled"]:G})},this.messages.add):null;const O=v?B.jsx("span",{key:"file-name",class:"esri-attachments__file-name"},
v.name):null;I=B.jsx("form",{bind:this,afterCreate:g.storeNode,afterRemoved:g.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},B.jsx("fieldset",{class:"esri-attachments__file-fieldset"},O,B.jsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},v?this.messages.changeFile:this.messages.selectFile,B.jsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),
G,I);return B.jsx("div",{key:"add-form-container",class:"esri-attachments__form-node"},I)};z.renderDetailsForm=function(D){const {visibleElements:v,viewModel:G,selectedFile:I,submitting:O}=this,{contentType:L,size:N,url:R}=D;var {abilities:K}=G,U=O||!I,P=K.editing&&K.operations.delete&&v.deleteButton?B.jsx("button",{key:"delete-button",type:"button",disabled:O,bind:this,onclick:M=>this._submitDeleteAttachment(M,D),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",
{["esri-button--disabled"]:O})},this.messages.delete):null;U=K.editing&&K.operations.update&&v.updateButton?B.jsx("button",{disabled:U,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{["esri-button--disabled"]:U})},this.messages.update):null;const J=this.visibleElements.cancelUpdateButton?B.jsx("button",{disabled:O,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small",
"esri-button--tertiary","esri-button--third",{["esri-button--disabled"]:O})},this.messages.cancel):null;var S=I?B.jsx("span",{key:"file-name",class:"esri-attachments__file-name"},I.name):null;K=K.editing&&K.operations.update?B.jsx("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},S,B.jsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,B.jsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",
bind:this,onchange:this._handleFileInputChange}))):null;S=B.jsx("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},B.jsx("label",null,d.formatFileSize(this.messagesUnits,N)));const W=B.jsx("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},B.jsx("label",null,L));P=B.jsx("form",{bind:this,afterCreate:g.storeNode,afterRemoved:g.discardNode,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},B.jsx("div",{class:"esri-attachments__metadata"},
S,W),K,B.jsx("div",{class:"esri-attachments__actions"},P,J,U));return B.jsx("div",{key:"edit-form-container",class:"esri-attachments__form-node"},B.jsx("a",{class:"esri-attachments__item-link",href:R,rel:"noreferrer",target:"_blank",alt:name},this.renderImageMask({attachmentInfo:D,size:400}),B.jsx("div",{class:"esri-attachments__item-link-overlay"},B.jsx("span",{class:"esri-attachments__item-link-overlay-icon"},B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},
B.jsx("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),B.jsx("path",{fill:"none",d:"M0 0h32v32H0z"}))))),P)};z.renderImageMask=function({attachmentInfo:D,size:v}){var {supportsResizeAttachments:G}=this.viewModel;const {contentType:I,url:O}=D,L=G&&C.isSupportedImage(I);D=(D=this._getCSSTransform(D,L))?{transform:D,"image-orientation":"none"}:{};const N=-1===O.indexOf("?")?"?":"\x26";v=L?`${O}${N}w=${v}`:C.getIconPath(I);G={["esri-attachments__image--resizable"]:G};
return B.jsx("div",{class:this.classes({["esri-attachments__item-mask--icon"]:!L},"esri-attachments__item-mask")},B.jsx("img",{styles:D,alt:"",src:v,class:this.classes(G,"esri-attachments__image")}))};z.renderAttachmentInfo=function({attachmentInfo:D,displayType:v}){var {viewModel:G}=this;({abilities:G}=G);const {name:I,url:O}=D;v=this.renderImageMask({attachmentInfo:D,size:"list"===v?48:400});var L=G.editing?B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",
g.isRTL()?"esri-icon-left":"esri-icon-right")}):null;L=B.jsx("label",{class:"esri-attachments__label"},B.jsx("span",{class:"esri-attachments__filename"},I||this.messages.noTitle),L);v=[v,L];G=G.editing?B.jsx("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":D.id,onclick:()=>this._startEditAttachment(D),type:"button"},v):B.jsx("a",{key:"details-link",class:"esri-attachments__item-button",
href:O,target:"_blank"},v);return B.jsx("li",{class:"esri-attachments__item",key:D},G)};z.renderAttachmentContainer=function(){const {displayType:D,viewModel:v,visibleElements:G}=this,{attachmentInfos:I,abilities:O}=v;var L=I&&I.length;const N={["esri-attachments__container--list"]:"preview"!==D,["esri-attachments__container--preview"]:"preview"===D},R=O.editing&&O.operations.add&&G.addButton?B.jsx("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary",
"esri-attachments__add-attachment-button"),type:"button"},B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null;L=L?B.jsx("ul",{class:"esri-attachments__items"},I.toArray().map(K=>this.renderAttachmentInfo({attachmentInfo:K,displayType:D}))):B.jsx("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return B.jsx("div",{key:"attachments-container",class:this.classes("esri-attachments__container",N)},L,
R)};z._modeChanged=function(){this._set("error",null);this._set("selectedFile",null)};z._handleFileInputChange=function(D){D=(D=D.target)&&D.files&&D.files.item(0);this._set("selectedFile",D)};z._submitDeleteAttachment=function(D,v){D.preventDefault();this.deleteAttachment(v)};z._submitAddAttachment=function(D){D.preventDefault();this.addAttachment()};z._submitUpdateAttachment=function(D){D.preventDefault();this.updateAttachment()};z._startEditAttachment=function(D){const {viewModel:v}=this;v.activeAttachmentInfo=
D;v.mode="edit"};z._startAddAttachment=function(){this.viewModel.mode="add"};z._cancelForm=function(D){D.preventDefault();this.viewModel.mode="view"};z._getCSSTransform=function(D,v){({orientationInfo:D}=D);return!this._supportsImageOrientation&&v&&D?[D.rotation?`rotate(${D.rotation}deg)`:"",D.mirrored?"scaleX(-1)":""].join(" "):""};return x}(F);c.__decorate([f.aliasOf("viewModel.abilities")],b.prototype,"abilities",void 0);c.__decorate([m.property(),t.renderable()],b.prototype,"displayType",void 0);
c.__decorate([f.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([m.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0);c.__decorate([m.property(),t.renderable(),u.messageBundle("esri/widgets/Attachments/t9n/Attachments")],b.prototype,"messages",void 0);c.__decorate([m.property(),t.renderable(),u.messageBundle("esri/core/t9n/Units")],b.prototype,"messagesUnits",void 0);c.__decorate([m.property({readOnly:!0})],b.prototype,"selectedFile",
void 0);c.__decorate([t.renderable(),m.property({readOnly:!0})],b.prototype,"submitting",void 0);c.__decorate([t.renderable(),m.property({readOnly:!0})],b.prototype,"error",void 0);c.__decorate([m.property({type:H}),t.renderable("viewModel.activeAttachmentInfo viewModel.mode viewModel.state viewModel.supportsResizeAttachments viewModel.attachmentInfos viewModel.graphic viewModel.abilities viewModel.abilities.editing viewModel.abilities.operations".split(" "))],b.prototype,"viewModel",void 0);c.__decorate([m.property(),
t.renderable()],b.prototype,"visibleElements",void 0);c.__decorate([e.cast("visibleElements")],b.prototype,"castVisibleElements",null);return b=c.__decorate([r.subclass("esri.widgets.Attachments")],b)})},"esri/core/unitFormatUtils":function(){define(["exports","./string","../intl/number","./mathUtils","./unitUtils"],function(a,c,b,l,m){function f(p,w,n){return p.units[w][n]}function e(p,w,n,q=2,h="abbr"){return`${b.formatNumber(w,{minimumFractionDigits:q,maximumFractionDigits:q})} ${f(p,n,h)}`}function k(p,
w,n=2){return`${m.convertUnit(p,w,"degrees").toFixed(n)}\u00b0`}const r=["B","kB","MB","GB","TB"];a.formatAngleDegrees=k;a.formatDMS=function(p,w,n=2){p=m.convertUnit(p,w,"degrees");w=p-Math.floor(p);p-=w;w*=60;let q=w-Math.floor(w);w-=q;q*=60;return`${p.toFixed()}\u00b0 ${w.toFixed()}' ${q.toFixed(n)}"`};a.formatDecimal=e;a.formatFileSize=function(p,w){let n=0===w?0:Math.floor(Math.log(w)/Math.log(1024));n=l.clamp(n,0,r.length-1);w=b.formatNumber(w/Math.pow(1024,n),{maximumFractionDigits:2});return c.replace(p.units.bytes[r[n]],
{fileSize:w})};a.formatImperialArea=function(p,w,n,q=2,h="abbr"){const d=m.preferredImperialAreaUnit(w,n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatImperialLength=function(p,w,n,q=2,h="abbr"){const d=m.preferredImperialLengthUnit(w,n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatImperialVerticalLength=function(p,w,n,q=2,h="abbr"){const d=m.preferredImperialVerticalLengthUnit(w,n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatMetricArea=function(p,w,n,q=2,h="abbr"){const d=m.preferredMetricAreaUnit(w,
n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatMetricLength=function(p,w,n,q=2,h="abbr"){const d=m.preferredMetricLengthUnit(w,n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatMetricVerticalLength=function(p,w,n,q=2,h="abbr"){const d=m.preferredMetricVerticalLengthUnit(w,n);return e(p,m.convertUnit(w,n,d),d,q,h)};a.formatSlope=function(p,w,n=2){p=m.convertUnit(p,w,"radians");return p>Math.PI/4?k(p,"radians",n):b.formatNumber(Math.tan(p),{style:"percent",maximumFractionDigits:n})};a.unitName=
f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Attachments/AttachmentsViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Collection ../../Graphic ../../core/watchUtils ../../tasks/support/AttachmentQuery ../../layers/support/AttachmentInfo ../../core/HandleOwner ../Feature/support/featureUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F){const H={editing:!1,operations:{add:!0,update:!0,delete:!0}},C=h.ofType(t);b=function(A){function E(x){var z=A.call(this,x)||this;z._getAttachmentsPromise=null;z._attachmentLayer=null;z.abilities={...H};z.activeAttachmentInfo=null;z.attachmentInfos=new C;z.graphic=null;z.mode="view";z.handles.add([g.init(a._assertThisInitialized(z),"graphic",()=>z._graphicChanged())]);return z}a._inheritsLoose(E,A);var y=E.prototype;y.destroy=function(){this.graphic=
this._attachmentLayer=null};y.castAbilities=function(x){return{...H,...x}};y.getAttachments=async function(){const {_attachmentLayer:x,attachmentInfos:z}=this;if(!x||"function"!==typeof x.queryAttachments)throw new p("invalid-layer","getAttachments(): A valid layer is required.");const D=this._getFeatureId();var v=new u({objectIds:[D],returnMetadata:!0});const G=[];this._getAttachmentsPromise=v=x.queryAttachments(v).then(I=>I[D]||G).catch(()=>G);this.notifyChange("state");v=await v;z.removeAll();
v.length&&z.addMany(v);this._getAttachmentsPromise=null;this.notifyChange("state");return v};y.addAttachment=async function(x){const {_attachmentLayer:z,attachmentInfos:D,graphic:v,abilities:G}=this;if(!x)throw new p("invalid-attachment","addAttachment(): An attachment is required.",{attachment:x});if(!G.operations.add)throw new p("invalid-abilities","addAttachment(): add abilities are required.");if(!z||"function"!==typeof z.addAttachment)throw new p("invalid-layer","addAttachment(): A valid layer is required.");
x=await z.addAttachment(v,x).then(I=>this._queryAttachment(I.objectId));D.add(x);return x};y.deleteAttachment=async function(x){const {_attachmentLayer:z,attachmentInfos:D,graphic:v,abilities:G}=this;if(!x)throw new p("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:x});if(!G.operations.delete)throw new p("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!z||"function"!==typeof z.deleteAttachments)throw new p("invalid-layer",
"deleteAttachment(): A valid layer is required.");const I=await z.deleteAttachments(v,[x.id]).then(()=>x);D.remove(I);return I};y.updateAttachment=async function(x,z=this.activeAttachmentInfo){const {_attachmentLayer:D,attachmentInfos:v,graphic:G,abilities:I}=this;if(!x)throw new p("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:x});if(!z)throw new p("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:z});if(!I.operations.update)throw new p("invalid-abilities",
"updateAttachment(): Update abilities are required.");const O=v.findIndex(L=>L===z);if(!D||"function"!==typeof D.updateAttachment)throw new p("invalid-layer","updateAttachment(): A valid layer is required.");x=await D.updateAttachment(G,z.id,x).then(L=>this._queryAttachment(L.objectId));v.splice(O,1,x);return x};y._queryAttachment=async function(x){if(!x)throw new p("invalid-attachment-id","Could not query attachment.");const {_attachmentLayer:z}=this,D=this._getFeatureId();x=new u({objectIds:[D],
attachmentsWhere:`AttachmentId=${x}`,returnMetadata:!0});return z.queryAttachments(x).then(v=>v[D][0])};y._getFeatureId=function(){const {_attachmentLayer:x,graphic:z}=this;if(!x||!z)return null;const {objectIdField:D}=x,{attributes:v}=z;return v&&v[D]};y._graphicChanged=function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))};y._setAttachmentLayer=function(){var {graphic:x}=this;this._attachmentLayer=(x=F.getSourceLayer(x))?"scene"===x.type&&l.isSome(x.associatedLayer)?
x.associatedLayer:x:null};a._createClass(E,[{key:"state",get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}}]);return E}(B.HandleOwner);c.__decorate([f.property()],b.prototype,"abilities",void 0);c.__decorate([e.cast("abilities")],b.prototype,"castAbilities",null);c.__decorate([f.property()],b.prototype,"activeAttachmentInfo",
void 0);c.__decorate([f.property({readOnly:!0,type:C})],b.prototype,"attachmentInfos",void 0);c.__decorate([f.property({type:d})],b.prototype,"graphic",void 0);c.__decorate([f.property()],b.prototype,"mode",void 0);c.__decorate([f.property({dependsOn:["graphic"],readOnly:!0})],b.prototype,"state",null);c.__decorate([f.property({readOnly:!0,dependsOn:["graphic","graphic.layer","graphic.layer.loaded","graphic.layer.capabilities.operations.supportsResizeAttachments"]})],b.prototype,"supportsResizeAttachments",
null);return b=c.__decorate([r.subclass("esri.widgets.Attachments.AttachmentsViewModel")],b)})},"esri/widgets/Feature/support/featureUtils":function(){define("exports ../../../core/maybe ../../../core/string ../../../core/Logger ../../../core/Error ../../../layers/support/fieldUtils ../../../intl/date ../../../intl/number ../../../popup/support/FieldInfoFormat ../../../intl".split(" "),function(a,c,b,l,m,f,e,k,r,p){function w(P){return O.test(P)}function n(P,J){if(!w(J)||!P)return null;const S=J.replace(O,
"").toLowerCase();let W;P.some(M=>M.name.toLowerCase()===S?(W=M,!0):!1);return W}function q(P,J){return(J=h(J,P))?J.name:P}function h(P,J){return P&&"function"===typeof P.getField?P.getField(J):null}function d(P,J,S=!1){const W=J[P];"string"===typeof W&&(S=(S?encodeURIComponent(W):W).replace(I,"%27"),J[P]=S)}function g(P,J=!1){const S={...P};Object.keys(S).forEach(W=>d(W,S,J));return S}function u(P,J){return P.replace(G,(S,W,M)=>(S=h(J,M))?`{${S.name}}`:W)}function t(P,J){const S=J.fieldName;var W=
B(J.fieldInfos,S),M=null==W?void 0:W.clone();W=J.preventPlacesFormatting;J=h(J.layer,S);M&&J&&"date"===J.type&&(J=M.format||new r,J.dateFormat=J.dateFormat||"short-date-short-time",M.format=J);M=M&&M.format;"string"!==typeof P||!M||null!=M.dateFormat||null==M.places&&null==M.digitSeparator||(J=Number(P),isNaN(J)||(P=J));return"string"===typeof P||null==P||null==M?P:W?k.formatNumber(P,{...k.convertNumberFormatToIntlOptions(M),minimumFractionDigits:0,maximumFractionDigits:20}):M.format(P)}function B(P,
J){if(P&&P.length&&J){var S=J.toLowerCase(),W=void 0;P.some(M=>M.fieldName&&M.fieldName.toLowerCase()===S?(W=M,!0):!1);return W}}function F({fieldName:P,graphic:J,layer:S}){if(y(P)||!S||"function"!==typeof S.getFeatureType)return null;const {typeIdField:W}=S;return W&&P===W?(P=S.getFeatureType(J))?P.name:null:null}function H({fieldName:P,value:J,graphic:S,layer:W}){return y(P)||!W||"function"!==typeof W.getFieldDomain?null:(P=W.getFieldDomain(P,{feature:S}))&&"coded-value"===P.type?P.getName(J):null}
function C(P){return"string"===typeof P?P.replace(L,'\x3cbr class\x3d"esri-text-new-line" /\x3e'):P}function A(P){const {value:J,fieldName:S,fieldInfos:W,fieldInfoMap:M,layer:T,graphic:X}=P;return null==J?"":(P=H({fieldName:S,value:J,graphic:X,layer:T}))||(P=F({fieldName:S,graphic:X,layer:T}))?P:M.get(S.toLowerCase())?t(J,{fieldInfos:W,fieldName:S,layer:T}):(P=T&&T.fieldsIndex)&&P.isDateField(S)?e.formatDate(J,U):C(J)}async function E(P,J){const {layer:S,graphic:W,outFields:M,objectIds:T,returnGeometry:X}=
P;P=T[0];if("number"!==typeof P)throw J={layer:S,graphic:W,objectId:P,requiredFields:M},P=new m("layer-query-features-invalid-objectid","Could not query required fields for the specified feature. The feature's ID is invalid.",J),D.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",J),P;if("function"!==typeof S.queryFeatures)throw J={layer:S,graphic:W,requiredFields:M},P=new m("layer-query-features-unsupported","The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",
J),D.warn("The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",J),P;P=S.createQuery();P.objectIds=T;P.outFields=M;P.returnGeometry=!!X;return(await S.queryFeatures(P,J)).features[0]}function y(P=""){return P?-1!==P.indexOf("relationships/"):!1}function x({attributes:P,graphic:J,relatedInfo:S}){P&&J&&S&&Object.keys(J.attributes).forEach(W=>{var M={layerId:S.relation.id.toString(),fieldName:W};P[M?`${"relationships/"}${M.layerId}/${M.fieldName}`:
""]=J.attributes[W]})}function z(P,J){P&&J&&(J.relatedFeatures&&J.relatedFeatures&&J.relatedFeatures.forEach(S=>x({attributes:P,graphic:S,relatedInfo:J})),J.relatedStatsFeatures&&J.relatedStatsFeatures&&J.relatedStatsFeatures.forEach(S=>x({attributes:P,graphic:S,relatedInfo:J})))}const D=l.getLogger("esri.widgets.Feature.support.featureUtils"),v=/href=(""|'')/gi,G=/(\{([^\{\r\n]+)\})/g,I=/'/g,O=/^\s*expression\//i,L=/(\n)/gi,N=/[\u00A0-\u9999<>&]/gim,R=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,K=/^(?:mailto:|tel:)/,
U=e.convertDateFormatToIntlOptions("short-date-short-time");a.applyTextFormattingHTML=C;a.createfieldInfoMap=function(P,J){const S=new Map;P&&P.forEach(W=>{const M=q(W.fieldName,J);W.fieldName=M;S.set(M.toLowerCase(),W)});return S};a.fixTokens=u;a.formatAttributes=function({fieldInfos:P,attributes:J,layer:S,graphic:W,fieldInfoMap:M,relatedInfos:T}){const X={...J};null==T?void 0:T.forEach(fa=>z(X,fa));Object.keys(X).forEach(fa=>{X[fa]=A({fieldName:fa,fieldInfos:P,fieldInfoMap:M,layer:S,value:X[fa],
graphic:W})});return X};a.formatEditInfo=function(P,J){const {creatorField:S,creationDateField:W,editorField:M,editDateField:T}=P;if(J){P=J[T];if("number"===typeof P)return J=J[M],{type:"edit",date:e.formatDate(P,U),user:J};P=J[W];return"number"===typeof P?(J=J[S],{type:"create",date:e.formatDate(P,U),user:J}):null}};a.formatValueToFieldInfo=t;a.getAllFieldInfos=function(P){const J=[];if(!P)return J;const {fieldInfos:S,content:W}=P;S&&J.push(...S);if(!W||!Array.isArray(W))return J;W.forEach(M=>{"fields"===
M.type&&(M=M&&M.fieldInfos)&&J.push(...M)});return J};a.getFieldInfo=B;a.getFieldInfoLabel=function(P,J){return(J=n(J,null==P?void 0:P.fieldName))?J.title||null:P?P.label||P.fieldName:null};a.getFixedFieldName=q;a.getFixedFieldNames=function(P,J){return P&&P.map(S=>q(S,J))};a.getSourceLayer=function(P){if(!c.isNone(P))return P.get("sourceLayer")||P.get("layer")};a.graphicCallback=async function(P,J){return"function"===typeof P?P.call(null,J):P};a.htmlEntities=function(P){return P.replace(N,J=>`&#${J.charCodeAt(0)};`)};
a.isExpressionField=w;a.isRelatedField=y;a.processFieldsInLinks=function(P,J,S){return(P=u(P,S))?P.replace(R,(W,M,T)=>{M=`${M||T}`.trim();return b.replace(W,g(J,M&&"{"!==M[0]))}):P};a.queryUpdatedFeature=async function({graphic:P,popupTemplate:J,layer:S},W){if(S&&J){var {returnGeometry:M}=J;"function"===typeof S.load&&await S.load(W);var T=P.attributes[S.objectIdField];if(null!=T){T=[T];J=await J.getRequiredFields(S.fields);var X=f.featureHasFields(J,P);if(!X||M)if(S=await E({layer:S,graphic:P,outFields:X?
[]:J,objectIds:T,returnGeometry:M},W))S.geometry&&(P.geometry=S.geometry),S.attributes&&(P.attributes={...P.attributes,...S.attributes})}}};a.shouldOpenInNewTab=function(P=""){if(P)return!K.test(P.trim().toLowerCase())};a.substituteAttributes=function({formattedAttributes:P,template:J,fieldInfoMap:S}){return`${b.replace(b.replace(J,W=>{{const M=S.get(W.toLowerCase());W=`{${M&&M.fieldName||W}}`}return W}),P).replace(v,"")}`.trim()};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Attachments/support/attachmentUtils":function(){define(["exports",
"../../../assets"],function(a,c){const b=c.getAssetUrl("esri/themes/base/images/files/");a.getIconPath=function(l){return l?"text/plain"===l?`${b}text-32.svg`:"application/pdf"===l?`${b}pdf-32.svg`:"text/csv"===l?`${b}csv-32.svg`:"application/gpx+xml"===l?`${b}gpx-32.svg`:"application/x-dwf"===l?`${b}cad-32.svg`:"application/postscript"===l||"application/json"===l||"text/xml"===l||"model/vrml"===l?`${b}code-32.svg`:"application/x-zip-compressed"===l||"application/x-7z-compressed"===l||"application/x-gzip"===
l||"application/x-tar"===l||"application/x-gtar"===l||"application/x-bzip2"===l||"application/gzip"===l||"application/x-compress"===l||"application/x-apple-diskimage"===l||"application/x-rar-compressed"===l||"application/zip"===l?`${b}zip-32.svg`:-1!==l.indexOf("image/")?`${b}image-32.svg`:-1!==l.indexOf("audio/")?`${b}sound-32.svg`:-1!==l.indexOf("video/")?`${b}video-32.svg`:-1!==l.indexOf("msexcel")||-1!==l.indexOf("ms-excel")||-1!==l.indexOf("spreadsheetml")?`${b}excel-32.svg`:-1!==l.indexOf("msword")||
-1!==l.indexOf("ms-word")||-1!==l.indexOf("wordprocessingml")?`${b}word-32.svg`:-1!==l.indexOf("powerpoint")||-1!==l.indexOf("presentationml")?`${b}report-32.svg`:`${b}generic-32.svg`:`${b}generic-32.svg`};a.isSupportedImage=function(l){l=l.toLowerCase();return"image/bmp"===l||"image/emf"===l||"image/exif"===l||"image/gif"===l||"image/x-icon"===l||"image/jpeg"===l||"image/png"===l||"image/tiff"===l||"image/x-wmf"===l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/decorators/renderable ../../chunks/index ../support/widget ../Widget ./support/featureUtils ./FeatureContent/FeatureContentViewModel".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t){b=function(B){function F(C,A){C=B.call(this,C,A)||this;C.creator=null;C.graphic=null;C.viewModel=null;C._addTargetToAnchors=E=>{Array.from(E.querySelectorAll("a")).forEach(y=>{u.shouldOpenInNewTab(y.href)&&!y.hasAttribute("target")&&y.setAttribute("target","_blank")})};return C}a._inheritsLoose(F,B);var H=F.prototype;H.renderLoading=function(){return h.jsx("div",{class:"esri-feature-content__loader-container",key:"loader"},h.jsx("div",{class:"esri-feature-content__loader"}))};
H.renderCreated=function(){var C;const A=null==(C=this.viewModel)?void 0:C.created;return A?A instanceof HTMLElement?h.jsx("div",{key:A,bind:A,afterCreate:this._attachToNode}):d.isWidget(A)?h.jsx("div",{key:A},!A.destroyed&&A.render()):h.jsx("div",{key:A,innerHTML:A,afterCreate:this._addTargetToAnchors}):null};H.render=function(){var C;const A=null==(C=this.viewModel)?void 0:C.state;return h.jsx("div",{class:"esri-feature-content"},"loading"===A?this.renderLoading():this.renderCreated())};H._attachToNode=
function(C){C.appendChild(this)};return F}(g);c.__decorate([e.aliasOf("viewModel.creator")],b.prototype,"creator",void 0);c.__decorate([e.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([q.renderable(["viewModel.created","viewModel.state"]),f.property({type:t})],b.prototype,"viewModel",void 0);return b=c.__decorate([r.subclass("esri.widgets.Feature.FeatureContent")],b)})},"esri/widgets/Feature/FeatureContent/FeatureContentViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../Graphic ../../../core/watchUtils ../../../core/HandleOwner ../support/featureUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){b=function(u){function t(F){var H=u.call(this,F)||this;H._loadingPromise=null;H.created=null;H.creator=null;H.destroyer=null;H.graphic=null;H.handles.add(h.init(a._assertThisInitialized(H),"creator",C=>{H._destroyContent();H._createContent(C)}));return H}a._inheritsLoose(t,u);var B=t.prototype;B.destroy=function(){this._destroyContent()};B._destroyContent=function(){const {created:F,graphic:H,destroyer:C}=this;F&&(g.graphicCallback(C,{graphic:H}).catch(()=>
null),this._set("created",null))};B._createContent=async function(F){var {graphic:H}=this;this._loadingPromise=F=g.graphicCallback(F,{graphic:H}).catch(()=>null);this.notifyChange("state");H=await F;F===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",H))};a._createClass(t,[{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}}]);return t}(d.HandleOwnerMixin(n));c.__decorate([f.property({readOnly:!0})],b.prototype,"created",void 0);
c.__decorate([f.property()],b.prototype,"creator",void 0);c.__decorate([f.property()],b.prototype,"destroyer",void 0);c.__decorate([f.property({type:q})],b.prototype,"graphic",void 0);c.__decorate([f.property({readOnly:!0})],b.prototype,"state",null);return b=c.__decorate([k.subclass("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],b)})},"esri/widgets/Feature/FeatureFields":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/widgetUtils ../support/decorators/messageBundle ../support/decorators/renderable ../../chunks/index ../Widget ./FeatureFields/FeatureFieldsViewModel ../support/uriUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){b=function(F){function H(A,E){A=F.call(this,A,E)||this;A.attributes=null;A.expressionInfos=null;A.fieldInfos=null;A.viewModel=new t;A.messages=null;A.messagesURIUtils=null;return A}a._inheritsLoose(H,F);var C=H.prototype;C.renderFieldInfo=function(A,E){var {attributes:y}=this.viewModel;const x=A.fieldName,z=A.label||x;y=y?null==y[x]?"":y[x]:"";A=!(!A.format||!A.format.dateFormat);y="number"!==typeof y||A?B.autoLink(this.messagesURIUtils,y):this._forceLTR(y);
A={["esri-feature-fields__field-data--date"]:A};return g.jsx("tr",{key:`fields-element-info-row-${x}-${E}`},g.jsx("th",{key:`fields-element-info-row-header-${x}-${E}`,class:"esri-feature-fields__field-header",innerHTML:z}),g.jsx("td",{key:`fields-element-info-row-data-${x}-${E}`,class:this.classes("esri-feature-fields__field-data",A),innerHTML:y}))};C.renderFields=function(){const {formattedFieldInfos:A}=this.viewModel;return A.length?g.jsx("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},
g.jsx("tbody",null,A.map((E,y)=>this.renderFieldInfo(E,y)))):null};C.render=function(){return g.jsx("div",{class:"esri-feature-fields"},this.renderFields())};C._forceLTR=function(A){return`&lrm;${A}`};return H}(u);c.__decorate([e.aliasOf("viewModel.attributes")],b.prototype,"attributes",void 0);c.__decorate([e.aliasOf("viewModel.expressionInfos")],b.prototype,"expressionInfos",void 0);c.__decorate([e.aliasOf("viewModel.fieldInfos")],b.prototype,"fieldInfos",void 0);c.__decorate([f.property({type:t}),
d.renderable(["viewModel.attributes","viewModel.formattedFieldInfos"])],b.prototype,"viewModel",void 0);c.__decorate([f.property(),d.renderable(),h.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);c.__decorate([f.property(),d.renderable(),h.messageBundle("esri/widgets/support/t9n/uriUtils")],b.prototype,"messagesURIUtils",void 0);return b=c.__decorate([r.subclass("esri.widgets.Feature.FeatureFields")],b)})},"esri/widgets/Feature/FeatureFields/FeatureFieldsViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../popup/FieldInfo ../../../popup/ExpressionInfo ../support/featureUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d){b=function(g){function u(t){t=g.call(this,t)||this;t.attributes=null;t.expressionInfos=null;t.fieldInfos=null;return t}a._inheritsLoose(u,g);a._createClass(u,[{key:"formattedFieldInfos",get:function(){const {expressionInfos:t,fieldInfos:B}=this,F=[];null==B?void 0:B.forEach(H=>{if(!H.hasOwnProperty("visible")||H.visible)H=H.clone(),H.label=d.getFieldInfoLabel(H,t),F.push(H)});return F}}]);return u}(n);c.__decorate([f.property()],b.prototype,"attributes",void 0);
c.__decorate([f.property({type:[h]})],b.prototype,"expressionInfos",void 0);c.__decorate([f.property({type:[q]})],b.prototype,"fieldInfos",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["expressionInfos","fieldInfos"]})],b.prototype,"formattedFieldInfos",null);return b=c.__decorate([k.subclass("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],b)})},"esri/widgets/support/uriUtils":function(){define(["exports","../../core/string"],function(a,c){function b(m){let f=null;l.some(e=>
{e.pattern.test(m)&&(f=e);return!!f});return f}const l=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,
label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",
appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];a.autoLink=function(m,f){if("string"!==typeof f||!f)return f;const e=b(f);if(!e)return f;const k=f.match(e.pattern);m=c.replace(c.replace(e.label,{messages:m,hierPart:k&&k[2]}),{appName:e.appName});
return f.replace(e.pattern,`<a${e.target?` target="${e.target}"`:""} href="$1"${"_blank"===e.target?' rel\x3d"noreferrer"':""}>${m}</a>`)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureMedia":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/events ../../core/watchUtils ../support/widgetUtils ../support/decorators/messageBundle ../support/decorators/renderable ../../chunks/index ../Widget ./support/featureUtils ./FeatureMedia/FeatureMediaViewModel ../support/chartUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C){b=function(A){function E(x,z){x=A.call(this,x,z)||this;x._refreshTimer=null;x._refreshIntervalInfo=null;x.attributes=null;x.activeMediaInfoIndex=null;x.fieldInfoMap=null;x.layer=null;x.mediaInfos=null;x.popupTemplate=null;x.relatedInfos=null;x.viewModel=new H;x.messages=null;return x}a._inheritsLoose(E,A);var y=E.prototype;y.initialize=function(){this.own(h.init(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()))};
y.destroy=function(){this._clearMediaRefreshTimer()};y.render=function(){return t.jsx("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},this.renderMedia())};y.renderMedia=function(){const {formattedMediaInfoCount:x}=this.viewModel;return x?t.jsx("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null};y.renderImageMediaInfo=function(x){var {_refreshIntervalInfo:z}=
this;const {activeMediaInfoIndex:D,formattedMediaInfoCount:v}=this.viewModel,{value:G,refreshInterval:I,altText:O,title:L,type:N}=x,{sourceURL:R,linkURL:K}=G;x=F.shouldOpenInNewTab(K)?"_blank":"_self";const U="_blank"===x?"noreferrer":"";z=I?z:null;z=t.jsx("img",{alt:O||L,key:`media-${N}-${D}-${v}-${z?z.timestamp:0}`,src:z?z.sourceURL:R});return(x=K?t.jsx("a",{title:L,href:K,rel:U,target:x},z):null)?x:z};y.renderChartMediaInfo=function(x){const {activeMediaInfoIndex:z,formattedMediaInfoCount:D}=this.viewModel;
return t.jsx("div",{key:`media-${x.type}-${z}-${D}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})};y.renderMediaInfoType=function(){const {activeMediaInfo:x}=this.viewModel;return x?"image"===x.type?this.renderImageMediaInfo(x):-1!==x.type.indexOf("chart")?this.renderChartMediaInfo(x):null:null};y.renderMediaInfo=function(){var {activeMediaInfo:x}=this.viewModel;const z=x.title?t.jsx("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:x.title}):
null;x=x.caption?t.jsx("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:x.caption}):null;return t.jsx("div",{key:"media-container",class:"esri-feature-media__item-container"},z,x,t.jsx("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()))};y.renderMediaPageButton=function(x){if(2>this.viewModel.formattedMediaInfoCount)return null;const z=(x="previous"===x)?this.messages.previous:this.messages.next,D=x?this.classes("esri-feature-media__button",
"esri-feature-media__previous"):this.classes("esri-feature-media__button","esri-feature-media__next"),v=x?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes("esri-feature-media__icon","esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),G=x?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes("esri-feature-media__icon","esri-feature-media__next-icon--rtl",
"esri-icon-left-triangle-arrow");return t.jsx("button",{type:"button",key:x?"media-previous":"media-next",title:z,"aria-label":z,tabIndex:0,class:D,bind:this,onclick:x?this._previous:this._next},t.jsx("span",{"aria-hidden":"true",class:v}),t.jsx("span",{"aria-hidden":"true",class:G}))};y._next=function(){this.viewModel.next()};y._previous=function(){this.viewModel.previous()};y._getChartDependencies=async function(x){const z=await C.loadChartsModule(),{activeMediaInfo:D}=this.viewModel;this._renderChart({chartDiv:x,
mediaInfo:D,chartsModule:z})};y._handleMediaKeyup=function(x){const z=q.eventKey(x);"ArrowLeft"===z&&(x.stopPropagation(),this.viewModel.previous());"ArrowRight"===z&&(x.stopPropagation(),this.viewModel.next())};y._renderChart=function(x){const {chartsModule:z,chartDiv:D,mediaInfo:v}=x,{value:G,type:I}=v,{am4core:O}=z,L=C.getColorSet(O);d.isDarkTheme()&&O.useTheme(z.am4themes_dark);O.useTheme(z.am4themes_animated);O.useTheme(function(N){N instanceof O.ColorSet&&L&&(N.list=L)});x="pie-chart"===I?this._createPieChart(x):
this._createXYChart(x);D.setAttribute("aria-label",v.altText||v.title);x.data=G.series.map(N=>({tooltip:N.tooltip,value:N.value})).filter(N=>"pie-chart"===I?0<N.value:!0)};y._customizeChartTooltip=function(x,z){x.label.wrap=!0;x.label.maxWidth=200;x.autoTextColor=!1;x.getFillFromObject=!1;x.label.fill=z.color("#ffffff");x.background.fill=z.color({r:0,g:0,b:0,a:.7})};y._createPieChart=function(x){const {chartDiv:z,chartsModule:D}=x,{am4core:v,am4charts:G}=D;x=v.create(z,G.PieChart);x.rtl=d.isRTL();
const I=x.series.push(new G.PieSeries);I.labels.template.disabled=!0;I.ticks.template.disabled=!0;I.dataFields.value="value";I.dataFields.category="tooltip";this._customizeChartTooltip(I.tooltip,v);return x};y._getMinSeriesValue=function(x){let z=0;x.forEach(D=>z=Math.min(D.value,z));return z};y._createColumnChart=function(x,z){const {chartsModule:D,mediaInfo:v}=z;({value:z}=v);const {am4core:G,am4charts:I}=D,O=x.xAxes.push(new I.CategoryAxis);O.dataFields.category="tooltip";O.renderer.labels.template.disabled=
!0;this._customizeChartTooltip(O.tooltip,G);O.tooltip.events.on("sizechanged",()=>{O.tooltip.dy=-O.tooltip.contentHeight});var L=x.yAxes.push(new I.ValueAxis);const N=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=.95;L.min=this._getMinSeriesValue(z.series);this._customizeChartTooltip(L.tooltip,G);N.wrap=!0;L=x.series.push(new I.ColumnSeries);L.dataFields.valueY="value";L.dataFields.categoryX="tooltip";x.cursor=new I.XYCursor;15<z.series.length&&(x.scrollbarX=
new G.Scrollbar)};y._createBarChart=function(x,z){const {chartsModule:D,mediaInfo:v}=z;({value:z}=v);const {am4core:G,am4charts:I}=D,O=x.yAxes.push(new I.CategoryAxis);O.dataFields.category="tooltip";O.renderer.inversed=!0;O.renderer.labels.template.disabled=!0;this._customizeChartTooltip(O.tooltip,G);O.tooltip.events.on("sizechanged",()=>{O.tooltip.dx=O.tooltip.contentWidth});var L=x.xAxes.push(new I.ValueAxis);const N=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=
.95;L.min=this._getMinSeriesValue(z.series);this._customizeChartTooltip(L.tooltip,G);N.wrap=!0;L=x.series.push(new I.ColumnSeries);L.dataFields.valueX="value";L.dataFields.categoryY="tooltip";x.cursor=new I.XYCursor;15<z.series.length&&(x.scrollbarY=new G.Scrollbar)};y._createLineChart=function(x,z){const {chartsModule:D,mediaInfo:v}=z;({value:z}=v);const {am4core:G,am4charts:I}=D,O=x.xAxes.push(new I.CategoryAxis);O.dataFields.category="tooltip";O.renderer.labels.template.disabled=!0;this._customizeChartTooltip(O.tooltip,
G);O.tooltip.events.on("sizechanged",()=>{O.tooltip.dy=-O.tooltip.contentHeight});var L=x.yAxes.push(new I.ValueAxis);const N=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=.95;L.min=this._getMinSeriesValue(z.series);this._customizeChartTooltip(L.tooltip,G);N.wrap=!0;L=x.series.push(new I.LineSeries);L.dataFields.categoryX="tooltip";L.dataFields.valueY="value";x.cursor=new I.XYCursor;15<z.series.length&&(x.scrollbarX=new G.Scrollbar)};y._createXYChart=function(x){const {chartDiv:z,
chartsModule:D,mediaInfo:v}=x,{type:G}=v,{am4core:I,am4charts:O}=D,L=I.create(z,O.XYChart);L.rtl=d.isRTL();"column-chart"===G&&this._createColumnChart(L,x);"bar-chart"===G&&this._createBarChart(L,x);"line-chart"===G&&this._createLineChart(L,x);return L};y._clearMediaRefreshTimer=function(){const {_refreshTimer:x}=this;x&&(clearTimeout(x),this._refreshTimer=null)};y._updateMediaInfoTimestamp=function(x){const z=Date.now();this._refreshIntervalInfo={timestamp:z,sourceURL:this._getImageSource(x,z)};
this.scheduleRender()};y._setupMediaRefreshTimer=function(){this._clearMediaRefreshTimer();const {activeMediaInfo:x}=this.viewModel;x&&"image"===x.type&&x.refreshInterval&&this._setRefreshTimeout(x)};y._setRefreshTimeout=function(x){const {refreshInterval:z,value:D}=x;z&&(x=6E4*z,this._updateMediaInfoTimestamp(D.sourceURL),this._refreshTimer=setInterval(()=>{this._updateMediaInfoTimestamp(D.sourceURL)},x))};y._getImageSource=function(x,z){const D=-1!==x.indexOf("?")?"\x26":"?",[v,G=""]=x.split("#");
return`${v}${D}timestamp=${z}${G?"#":""}${G}`};return E}(B);c.__decorate([e.aliasOf("viewModel.attributes")],b.prototype,"attributes",void 0);c.__decorate([e.aliasOf("viewModel.activeMediaInfoIndex")],b.prototype,"activeMediaInfoIndex",void 0);c.__decorate([e.aliasOf("viewModel.fieldInfoMap")],b.prototype,"fieldInfoMap",void 0);c.__decorate([e.aliasOf("viewModel.layer")],b.prototype,"layer",void 0);c.__decorate([e.aliasOf("viewModel.mediaInfos")],b.prototype,"mediaInfos",void 0);c.__decorate([e.aliasOf("viewModel.popupTemplate")],
b.prototype,"popupTemplate",void 0);c.__decorate([e.aliasOf("viewModel.relatedInfos")],b.prototype,"relatedInfos",void 0);c.__decorate([f.property({type:H}),u.renderable(["viewModel.formattedMediaInfos","viewModel.activeMediaInfoIndex","viewModel.activeMediaInfo"])],b.prototype,"viewModel",void 0);c.__decorate([f.property(),u.renderable(),g.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);return b=c.__decorate([r.subclass("esri.widgets.Feature.FeatureMedia")],b)})},
"esri/widgets/Feature/FeatureMedia/FeatureMediaViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../popup/FieldInfo ../../../popup/content/support/ChartMediaInfoValueSeries ../support/featureUtils ../support/relatedFeatureUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){b=function(u){function t(F){F=u.call(this,F)||this;F.activeMediaInfoIndex=0;F.attributes=null;F.fieldInfoMap=null;F.formattedAttributes=null;F.layer=null;F.mediaInfos=null;F.popupTemplate=null;F.relatedInfos=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.setActiveMedia=function(F){this._setContentElementMedia(F)};B.next=function(){this._pageContentElementMedia(1)};B.previous=function(){this._pageContentElementMedia(-1)};B._setContentElementMedia=
function(F){const {formattedMediaInfoCount:H}=this;this.activeMediaInfoIndex=(F+H)%H};B._pageContentElementMedia=function(F){const {activeMediaInfoIndex:H}=this;this._setContentElementMedia(H+F)};B._formatMediaInfos=function(){const {attributes:F,mediaInfos:H,formattedAttributes:C,fieldInfoMap:A,layer:E}=this,y={...C,...F};return null==H?void 0:H.map(x=>{if(!x)return null;var z=x.title?d.processFieldsInLinks(x.title,y,E):"";x.title=z?d.substituteAttributes({formattedAttributes:C,template:z,fieldInfoMap:A}):
"";z=x.caption?d.processFieldsInLinks(x.caption,y,E):"";x.caption=z?d.substituteAttributes({formattedAttributes:C,template:z,fieldInfoMap:A}):"";z=x.altText?d.processFieldsInLinks(x.altText,y,E):"";x.altText=z?d.substituteAttributes({formattedAttributes:C,template:z,fieldInfoMap:A}):"";return"image"===x.type?({value:z}=x,this._setImageValue({value:z,formattedAttributes:C,layer:E}),x.value.sourceURL?x:void 0):"pie-chart"===x.type||"line-chart"===x.type||"column-chart"===x.type||"bar-chart"===x.type?
({value:z}=x,this._setChartValue({value:z,chartType:x.type,attributes:F,formattedAttributes:C,layer:E}),x):null}).filter(Boolean)};B._setImageValue=function(F){const {fieldInfoMap:H}=this,{value:C,formattedAttributes:A,layer:E}=F,{linkURL:y,sourceURL:x}=C;x&&(F=d.fixTokens(x,E),C.sourceURL=d.substituteAttributes({formattedAttributes:A,template:F,fieldInfoMap:H}));y&&(F=d.fixTokens(y,E),C.linkURL=d.substituteAttributes({formattedAttributes:A,template:F,fieldInfoMap:H}))};B._setChartValue=function(F){const {value:H,
attributes:C,formattedAttributes:A,chartType:E,layer:y}=F,{popupTemplate:x,relatedInfos:z}=this,{fields:D,normalizeField:v}=H;H.fields=d.getFixedFieldNames(D,y);v&&(H.normalizeField=d.getFixedFieldName(v,y));if(D.some(I=>!!(null!=A[I]||d.isRelatedField(I)&&z.size))){var G=null==x?void 0:x.fieldInfos;D.forEach(I=>{d.isRelatedField(I)?H.series=[...H.series,...this._getRelatedChartInfos({fieldInfos:G,fieldName:I,formattedAttributes:A,chartType:E,value:H})]:(I=this._getChartOption({value:H,attributes:C,
chartType:E,formattedAttributes:A,fieldName:I,fieldInfos:G}),H.series.push(I))})}};B._getRelatedChartInfos=function(F){var H;const {fieldInfos:C,fieldName:A,formattedAttributes:E,chartType:y,value:x}=F,z=[];F=g.getRelatedFieldInfo(A);const {layerId:D,fieldName:v}=F;F=null==(H=this.relatedInfos)?void 0:H.get(D.toString());if(!F)return z;const {relatedFeatures:G,relation:I}=F;if(!I||!G)return z;({cardinality:H}=I);G.forEach(O=>{const {attributes:L}=O;L&&Object.keys(L).forEach(N=>{N===v&&z.push(this._getChartOption({value:x,
attributes:L,formattedAttributes:E,fieldName:A,chartType:y,relatedFieldName:N,fieldInfos:C}))})});return"one-to-many"===H||"many-to-many"===H?z:[z[0]]};B._getTooltip=function({label:F,value:H,chartType:C}){return"pie-chart"===C?F:`${F}: ${H}`};B._getChartOption=function(F){const {value:H,attributes:C,formattedAttributes:A,fieldName:E,relatedFieldName:y,fieldInfos:x,chartType:z}=F;var {layer:D}=this;const {normalizeField:v,tooltipField:G}=H;var I=v?d.isRelatedField(v)?C[g.getRelatedFieldInfo(v).fieldName]:
C[v]:null;F=y&&void 0!==C[y]?C[y]:void 0!==C[E]?C[E]:A[E];const O=void 0===F?null:F&&I?F/I:F;F=new h({value:O});if(d.isRelatedField(E)){var L=g.getRelatedFieldInfo(E);var N=g.getRelatedFieldInfo(G);N=N?N.fieldName:null;D=d.formatValueToFieldInfo(O,{fieldInfos:x,fieldName:y,layer:D,preventPlacesFormatting:!!I});L=L?L.label||L.fieldName:y;F.tooltip=this._getTooltip({label:N&&void 0!==C[N]?C[N]:L,value:D,chartType:z});return F}I=d.getFieldInfo(x,E);D=d.getFixedFieldName(E,D);I=G&&void 0!==A[G]?A[G]:
d.getFieldInfoLabel(I||new q({fieldName:D}),null==(L=this.popupTemplate)?void 0:L.expressionInfos);F.tooltip=this._getTooltip({label:I,value:A[D],chartType:z});return F};a._createClass(t,[{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}}]);return t}(n);c.__decorate([f.property()],
b.prototype,"activeMediaInfoIndex",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["formattedMediaInfos","activeMediaInfoIndex"]})],b.prototype,"activeMediaInfo",null);c.__decorate([f.property()],b.prototype,"attributes",void 0);c.__decorate([f.property()],b.prototype,"fieldInfoMap",void 0);c.__decorate([f.property()],b.prototype,"formattedAttributes",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:"attributes fieldInfoMap formattedAttributes mediaInfos popupTemplate layer relatedInfos".split(" ")})],
b.prototype,"formattedMediaInfos",null);c.__decorate([f.property()],b.prototype,"layer",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["formattedMediaInfos"]})],b.prototype,"formattedMediaInfoCount",null);c.__decorate([f.property()],b.prototype,"mediaInfos",void 0);c.__decorate([f.property()],b.prototype,"popupTemplate",void 0);c.__decorate([f.property()],b.prototype,"relatedInfos",void 0);return b=c.__decorate([k.subclass("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],b)})},
"esri/widgets/Feature/support/relatedFeatureUtils":function(){define("exports ../../../core/Logger ../../../core/Error ../../../core/promiseUtils ../../../layers/support/fieldUtils ../../../request ../../../tasks/support/StatisticDefinition ../../../tasks/support/Query ../../../tasks/QueryTask ./featureUtils".split(" "),function(a,c,b,l,m,f,e,k,r,p){function w(g,u){if(!u.relationships)return null;let t=null;({relationships:u}=u);u.some(B=>B.id===parseInt(g,10)?(t=B,!0):!1);return t}function n({originRelationship:g,
relationships:u,layerId:t}){let B;u&&u.some(F=>{`${F.relatedTableId}`===t&&F.id===g.id&&(B=F);return!!B});return B}async function q(g,u,t,B){var F;t=t.layerId.toString();const {layerInfo:H,queryTask:C,relation:A}=u;if(t=null==(F=n({originRelationship:A,relationships:H.relationships,layerId:t}))?void 0:F.keyField){F=m.isNumericField(m.getField(H.fields,t));a:{g=g.attributes;const y=A.keyField.toLowerCase();for(E in g)if(E.toLowerCase()===y){var E=g[E];break a}E=null}E=F?`${t}=${E}`:`${t}='${E}'`;t=
C.execute(new k({where:E,outFields:u.relatedFields}),B);u=u.outStatistics&&0<u.outStatistics.length&&H.supportsStatistics?C.execute(new k({where:E,outFields:u.relatedFields,outStatistics:u.outStatistics}),B):null;B={features:t};u&&(B.statsFeatures=u);return l.eachAlways(B)}return null}const h=c.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),d=new Map;a.createRelatedInfo=function(g,u){if(g=w(g,u)){var t=`${u.url}/${g.relatedTableId}`;u=new r({url:t,sourceSpatialReference:u.spatialReference});
return{url:t,queryTask:u,relation:g,relatedFields:[],outStatistics:[]}}};a.getDestinationRelation=n;a.getRelatedFieldInfo=function(g){if(!p.isRelatedField(g))return null;const [u,t]=g.split("/").slice(1);return{layerId:u,fieldName:t}};a.queryLayerInfos=function({relatedInfos:g,layer:u},t){const B={};g.forEach((F,H)=>{({relation:F}=F);if(!F)throw H=new b("relation-required","A relation is required on a layer to retrieve related records."),h.error(H),H;({relatedTableId:F}=F);if("number"!==typeof F)throw H=
new b("A related table ID is required on a layer to retrieve related records."),h.error(H),H;F=`${u.url}/${F}`;const C=d.get(F),A=C?C:f(F,{query:{f:"json"},signal:t&&t.signal});C||d.set(F,A);B[H]=A});return l.eachAlways(B)};a.queryRelatedFeatures=function({graphic:g,relatedInfos:u,layer:t},B){const F={};u.forEach((H,C)=>{H.layerInfo&&(F[C]=q(g,H,t,B))});return l.eachAlways(F)};a.setRelatedFeatures=function(g,u){if(u&&g){var {features:t,statsFeatures:B}=g;g=t&&t.value;u.relatedFeatures=g?g.features:
[];g=B&&B.value;u.relatedStatsFeatures=g?g.features:[]}};a.updateRelatedInfo=function({relatedInfo:g,fieldName:u,fieldInfo:t}){g.relatedFields.push(u);t.statisticType&&(u=new e({statisticType:t.statisticType,onStatisticField:u,outStatisticFieldName:u}),g.outStatistics.push(u))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/chartUtils":function(){define("require exports ../../core/has ../../core/promiseUtils ../../intl/locale ../../intl".split(" "),function(a,c,b,l,m,f){function e(n){if(!n)return"en-us";
if(r.has(n.toLowerCase()))return n.toLowerCase();{n=n.split("-")[0].toLowerCase();let h=null;for(q of r.keys())if(q.startsWith(n)){h=q;break}var q=h}return q||"en-us"}b="#ffffff #858585 #ffbebe #ffebbe #ffebaf #ffffbe #e9ffbe #d3ffbe #beffe8 #bee8ff #bed2ff #e8beff #ffbee8 #ebebeb #707070 #ff7f7f #ffa77f #ffd37f #ffff73 #d1ff73 #a3ff73 #73ffdf #73dfff #73b2ff #df73ff #ff73df #d6d6d6 #5c5c5c #ff0000 #ff5500 #ffaa00 #ffff00 #aaff00 #55ff00 #00ffc5 #00c5ff #0070ff #c500ff #ff00c5 #c2c2c2 #474747 #e60000 #e64c00 #e69800 #e6e600 #98e600 #4ce600 #00e6a9 #00a9e6 #005ce6 #a900e6 #e600a9 #adadad #242424 #a80000 #a83800 #a87000 #a8a800 #70a800 #38a800 #00a884 #0084a8 #004da8 #8400a8 #a80084 #999999 #1a1a1a #730000 #732600 #734c00 #737300 #4c7300 #267300 #00734c #004c73 #002673 #4c0073 #73004".split(" ");
var k=[{name:"default",colors:[].concat(b.slice(30,39),b.slice(28,30).reverse())},{name:"cat-dark",colors:"#ed5151 #149ece #a7c636 #9e559c #fc921f #ffde3e #f789d8 #b7814a #3caf99 #6b6bd6 #b54779 #7f7f7f".split(" ")},{name:"tropical-bliss",colors:"#fce138 #ff9399 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #6af689 #48885c".split(" ")},{name:"desert-blooms",colors:"#102432 #144d59 #ffc730 #ed9310 #a64f1b #661510 #d9351a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" ")},{name:"under-the-sea",
colors:"#bf9727 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" ")},{name:"vibrant-rainbow",colors:"#fffb00 #f5cb11 #9fd40c #46e39c #32b8a6 #7ff2fa #ac08cc #dd33ff #eb7200 #e8a784 #bf2e2e #6c7000".split(" ")},{name:"ocean-bay",colors:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #9be0c0 #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" ")},{name:"prairie-summer",colors:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #eada40 #ccc54a #1fc235".split(" ")},
{name:"pastel-chalk",colors:"#fffd99 #f5e6a4 #c1d48c #b8e3d0 #a0b8b5 #cbf7fa #d791f2 #dfc1eb #f2b983 #e8c4b2 #bf8e8e #94995c".split(" ")},{name:"seq-yellow-orange-red-bright",colors:"#910000 #b1260b #c0370f #e05919 #ef6a1d #ff7b22 #ffa143 #ffb454 #ffda74 #ffed85".split(" ")},{name:"seq-reds-bright",colors:"#57453b #7b4238 #9f4036 #c23d33 #d7483c #ec5244 #f3696c #f9816c #ffc4ae #fff0dc".split(" ")},{name:"seq-purples-bright",colors:"#4e465c #5a4a78 #695291 #775baa #8663c3 #946bdc #aa89e8 #c1a6f3 #d7c4ff #e6e1ff".split(" ")},
{name:"seq-blues-bright",colors:"#404d54 #435c6c #48799d #4b88b6 #4d96ce #50a5e7 #74bbed #98d0f3 #bce6f9 #e6faff".split(" ")},{name:"seq-greens-bright",colors:"#39544c #386757 #368165 #359b73 #33b581 #4bc392 #64d2a2 #7ce0b3 #cbf6d9 #f4ffea".split(" ")},{name:"seq-browns-bright",colors:"#524834 #715b38 #8f6e3c #ae8140 #cc9444 #eba748 #eeb664 #f0c47f #f9e0b7 #fff8eb".split(" ")}];const r=new Map([["ar",()=>(new Promise(function(n,q){a(["../../chunks/ar2"],n,q)})).then(function(n){return n.ar})],["bs-ba",
()=>(new Promise(function(n,q){a(["../../chunks/bs_BA"],n,q)})).then(function(n){return n.bs_BA})],["ca-es",()=>(new Promise(function(n,q){a(["../../chunks/ca_ES"],n,q)})).then(function(n){return n.ca_ES})],["cs-cz",()=>(new Promise(function(n,q){a(["../../chunks/cs_CZ"],n,q)})).then(function(n){return n.cs_CZ})],["da-dk",()=>(new Promise(function(n,q){a(["../../chunks/da_DK"],n,q)})).then(function(n){return n.da_DK})],["de-de",()=>(new Promise(function(n,q){a(["../../chunks/de_DE"],n,q)})).then(function(n){return n.de_DE})],
["de-ch",()=>(new Promise(function(n,q){a(["../../chunks/de_CH"],n,q)})).then(function(n){return n.de_CH})],["el-gr",()=>(new Promise(function(n,q){a(["../../chunks/el_GR"],n,q)})).then(function(n){return n.el_GR})],["en-us",()=>(new Promise(function(n,q){a(["../../chunks/en_US"],n,q)})).then(function(n){return n.en_US})],["en-ca",()=>(new Promise(function(n,q){a(["../../chunks/en_CA"],n,q)})).then(function(n){return n.en_CA})],["es-es",()=>(new Promise(function(n,q){a(["../../chunks/es_ES"],n,q)})).then(function(n){return n.es_ES})],
["et-ee",()=>(new Promise(function(n,q){a(["../../chunks/et_EE"],n,q)})).then(function(n){return n.et_EE})],["fi-fi",()=>(new Promise(function(n,q){a(["../../chunks/fi_FI"],n,q)})).then(function(n){return n.fi_FI})],["fr-fr",()=>(new Promise(function(n,q){a(["../../chunks/fr_FR"],n,q)})).then(function(n){return n.fr_FR})],["he-il",()=>(new Promise(function(n,q){a(["../../chunks/he_IL"],n,q)})).then(function(n){return n.he_IL})],["hr-hr",()=>(new Promise(function(n,q){a(["../../chunks/hr_HR"],n,q)})).then(function(n){return n.hr_HR})],
["hu-hu",()=>(new Promise(function(n,q){a(["../../chunks/hu_HU"],n,q)})).then(function(n){return n.hu_HU})],["id-id",()=>(new Promise(function(n,q){a(["../../chunks/id_ID"],n,q)})).then(function(n){return n.id_ID})],["it-it",()=>(new Promise(function(n,q){a(["../../chunks/it_IT"],n,q)})).then(function(n){return n.it_IT})],["ja-jp",()=>(new Promise(function(n,q){a(["../../chunks/ja_JP"],n,q)})).then(function(n){return n.ja_JP})],["ko-kr",()=>(new Promise(function(n,q){a(["../../chunks/ko_KR"],n,q)})).then(function(n){return n.ko_KR})],
["lt-lt",()=>(new Promise(function(n,q){a(["../../chunks/lt_LT"],n,q)})).then(function(n){return n.lt_LT})],["lv-lv",()=>(new Promise(function(n,q){a(["../../chunks/lv_LV"],n,q)})).then(function(n){return n.lv_LV})],["nb-no",()=>(new Promise(function(n,q){a(["../../chunks/nb_NO"],n,q)})).then(function(n){return n.nb_NO})],["nl-nl",()=>(new Promise(function(n,q){a(["../../chunks/nl_NL"],n,q)})).then(function(n){return n.nl_NL})],["pl-pl",()=>(new Promise(function(n,q){a(["../../chunks/pl_PL"],n,q)})).then(function(n){return n.pl_PL})],
["pt-br",()=>(new Promise(function(n,q){a(["../../chunks/pt_BR"],n,q)})).then(function(n){return n.pt_BR})],["pt-pt",()=>(new Promise(function(n,q){a(["../../chunks/pt_PT"],n,q)})).then(function(n){return n.pt_PT})],["ro-ro",()=>(new Promise(function(n,q){a(["../../chunks/ro_RO"],n,q)})).then(function(n){return n.ro_RO})],["ru-ru",()=>(new Promise(function(n,q){a(["../../chunks/ru_RU"],n,q)})).then(function(n){return n.ru_RU})],["sl-sl",()=>(new Promise(function(n,q){a(["../../chunks/sl_SL"],n,q)})).then(function(n){return n.sl_SL})],
["sr-rs",()=>(new Promise(function(n,q){a(["../../chunks/sr_RS"],n,q)})).then(function(n){return n.sr_RS})],["sv-se",()=>(new Promise(function(n,q){a(["../../chunks/sv_SE"],n,q)})).then(function(n){return n.sv_SE})],["th-th",()=>(new Promise(function(n,q){a(["../../chunks/th_TH"],n,q)})).then(function(n){return n.th_TH})],["tr-tr",()=>(new Promise(function(n,q){a(["../../chunks/tr_TR"],n,q)})).then(function(n){return n.tr_TR})],["uk-ua",()=>(new Promise(function(n,q){a(["../../chunks/uk_UA"],n,q)})).then(function(n){return n.uk_UA})],
["vi-vn",()=>(new Promise(function(n,q){a(["../../chunks/vi_VN"],n,q)})).then(function(n){return n.vi_VN})],["zh-cn",()=>(new Promise(function(n,q){a(["../../chunks/zh_Hans"],n,q)})).then(function(n){return n.zh_Hans})],["zh-hk",()=>(new Promise(function(n,q){a(["../../chunks/zh_Hant"],n,q)})).then(function(n){return n.zh_Hant})],["zh-tw",()=>(new Promise(function(n,q){a(["../../chunks/zh_Hant"],n,q)})).then(function(n){return n.zh_Hant})]]);let p,w;c.getChartLocale=e;c.getColorSet=function(n,q="default"){const h=
k.find(d=>d.name===q);return h?h.colors.map(d=>n.color(d)):null};c.loadChartsModule=async function(n=m.getLocale()){n=e(n);if(p&&n===w)return p;p=(new Promise(function(q,h){a(["../../chunks/index3"],q,h)})).then(function(q){return q.index});w=n;try{const [q,h]=await l.all([p,r.get(w)()]);w===n&&(q.am4core.options.defaultLocale=h.default);q.am4core.options.suppressWarnings=!0;q.am4core.options.autoDispose=!0}catch{return w=p=null}return p};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../core/Accessor ../../popup/content/TextContent ../../Graphic ../../core/Handles ../../core/watchUtils ../../core/throttle ./support/featureUtils ../Attachments/AttachmentsViewModel ./FeatureContent/FeatureContentViewModel ./FeatureFields/FeatureFieldsViewModel ./support/relatedFeatureUtils ./FeatureMedia/FeatureMediaViewModel ./support/arcadeFeatureUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x){const z=m.getLogger("esri.widgets.FeatureViewModel");b=function(D){function v(I){var O=D.call(this,I)||this;O._handles=new u;O._featureAbortController=null;O.graphicChangedThrottled=B.throttle(O.graphicChanged,1,a._assertThisInitialized(O));O.content=null;O.contentViewModels=[];O.defaultPopupTemplateEnabled=!1;O.formattedAttributes=null;O.lastEditInfo=null;O.relatedInfos=new Map;O.title="";O.view=null;O._handles.add(t.init(a._assertThisInitialized(O),
["graphic","_effectivePopupTemplate"],()=>O.graphicChangedThrottled()));return O}a._inheritsLoose(v,D);var G=v.prototype;G.destroy=function(){this._clear();this._cancelFeatureQuery();this._handles.destroy();this.graphic=this._handles=null;this._destroyContentViewModels();this.relatedInfos.clear()};G.setActiveMedia=function(I,O){I=this.contentViewModels[I];I instanceof y&&I.setActiveMedia(O)};G.nextMedia=function(I){I=this.contentViewModels[I];I instanceof y&&I.next()};G.previousMedia=function(I){I=
this.contentViewModels[I];I instanceof y&&I.previous()};G._clear=function(){this._set("title","");this._set("content",null);this._set("formattedAttributes",null)};G.graphicChanged=async function(){this._cancelFeatureQuery();this._clear();const {graphic:I}=this;if(I){var O=q.createAbortController();this._featureAbortController=O;try{await this._queryFeature({signal:O.signal})}catch(L){z.error("error","error loading popupTemplate for graphic",{error:L,graphic:I})}this._featureAbortController===O&&(this._featureAbortController=
null)}};G._cancelFeatureQuery=function(){const {_featureAbortController:I}=this;I&&I.abort();this._featureAbortController=null};G._compileContent=function(I){this._destroyContentViewModels();if(this.graphic)return Array.isArray(I)?I.map((O,L)=>{if("attachments"===O.type)return this._compileAttachments(O,L);if("custom"===O.type)return this._compileCustom(O,L);if("fields"===O.type)return this._compileFields(O,L);if("media"===O.type)return this._compileMedia(O,L);if("text"===O.type)return this._compileText(O,
L)}):"string"===typeof I?this._compileText(new d({text:I}),0).text:I};G._destroyContentViewModels=function(){this.contentViewModels.forEach(I=>I&&!I.destroyed&&I.destroy());this._set("contentViewModels",[])};G._compileAttachments=function(I,O){const {graphic:L}=this;this.contentViewModels[O]=new H({graphic:L});return I};G._compileCustom=function(I,O){const {graphic:L}=this,{creator:N,destroyer:R}=I;this.contentViewModels[O]=new C({graphic:L,creator:N,destroyer:R});return I};G._compileFields=function(I,
O){const {_effectivePopupTemplate:L,formattedAttributes:N}=this,R=I.clone();I=new A({attributes:{...N.global,...N.content[O]},expressionInfos:null==L?void 0:L.expressionInfos,fieldInfos:(null==I?void 0:I.fieldInfos)||(null==L?void 0:L.fieldInfos)});this.contentViewModels[O]=I;R.fieldInfos=I.formattedFieldInfos.slice(0);return R};G._compileMedia=function(I,O){const {graphic:L,_fieldInfoMap:N,_effectivePopupTemplate:R,relatedInfos:K,_sourceLayer:U}=this;var {attributes:P}=L;const J=this.formattedAttributes.global;
I=I.clone();const {mediaInfos:S}=I;P=new y({activeMediaInfoIndex:I.activeMediaInfoIndex||0,attributes:P,layer:U,fieldInfoMap:N,formattedAttributes:J,mediaInfos:S,popupTemplate:R,relatedInfos:K});I.mediaInfos=P.formattedMediaInfos.slice(0);this.contentViewModels[O]=P;return I};G._compileText=function(I,O){I=I.clone();const {graphic:L,_fieldInfoMap:N,_sourceLayer:R}=this;if(I&&I.text){var {attributes:K}=L;const U=this.formattedAttributes.global;K=F.processFieldsInLinks(I.text,{...U,...K},R);I.text=
F.substituteAttributes({formattedAttributes:U,template:K,fieldInfoMap:N})}this.contentViewModels[O]=new C({graphic:L,creator:I.text});return I};G._compileLastEditInfo=function(){const {_effectivePopupTemplate:I,_sourceLayer:O,graphic:L}=this;if(I){var {lastEditInfoEnabled:N}=I,R=null==O?void 0:O.editFieldsInfo;if(N&&R)return F.formatEditInfo(R,L.attributes)}};G._compileTitle=function(I){const {_fieldInfoMap:O,_sourceLayer:L,graphic:N}=this,{attributes:R}=N,K=this.formattedAttributes.global;return I?
(I=F.processFieldsInLinks(I,{...K,...R},L),F.substituteAttributes({formattedAttributes:K,template:I,fieldInfoMap:O})):""};G._getTitle=async function(){const {_effectivePopupTemplate:I,graphic:O}=this;return F.graphicCallback(null==I?void 0:I.title,{graphic:O})};G._getContent=async function(){const {_effectivePopupTemplate:I,graphic:O}=this;return F.graphicCallback(null==I?void 0:I.content,{graphic:O})};G._queryFeature=async function(I){const {_featureAbortController:O,_sourceLayer:L,graphic:N,_effectivePopupTemplate:R,
spatialReference:K,map:U}=this,{content:{value:P},title:{value:J}}=await q.eachAlways({content:this._getContent(),title:this._getTitle()});O===this._featureAbortController&&N&&({expressionAttributes:{value:I}}=await q.eachAlways({checkForRelatedFeatures:this._checkForRelatedFeatures(I),expressionAttributes:x.createFormattedExpressions({popupTemplate:this._effectivePopupTemplate,spatialReference:K,graphic:N,map:U}),queryUpdatedFeature:F.queryUpdatedFeature({graphic:N,popupTemplate:R,layer:L},I)}),
O===this._featureAbortController&&N&&(this._set("formattedAttributes",this._createFormattedAttributes(P,I)),this._set("title",this._compileTitle(J)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(P)||null)))};G._createFormattedAttributes=function(I,O){const {_effectivePopupTemplate:L,graphic:N,relatedInfos:R,_sourceLayer:K,_fieldInfoMap:U}=this,P={...N.attributes,...O},J={global:F.formatAttributes({fieldInfos:null==L?void 0:L.fieldInfos,graphic:N,
attributes:P,layer:K,fieldInfoMap:U,relatedInfos:R}),content:[]};Array.isArray(I)&&I.forEach((S,W)=>{"fields"===S.type&&S.fieldInfos&&(J.content[W]=F.formatAttributes({fieldInfos:S.fieldInfos,graphic:N,attributes:P,layer:K,fieldInfoMap:U,relatedInfos:R}))});return J};G._checkForRelatedFeatures=function(I){const {graphic:O,_effectivePopupTemplate:L}=this;return this._queryRelatedInfos(O,F.getAllFieldInfos(L),I)};G._queryRelatedInfos=async function(I,O,L){const {relatedInfos:N,_sourceLayer:R}=this;
N.clear();const K=l.isSome(R.associatedLayer)?await R.associatedLayer.load(L):R;if(K){var U=O.filter(S=>S&&F.isRelatedField(S.fieldName));if(U&&U.length){O.forEach(S=>this._configureRelatedInfo(S,K));var P=await E.queryLayerInfos({relatedInfos:N,layer:K},L);Object.keys(P).forEach(S=>{var W;const M=N.get(S.toString());S=null==(W=P[S])?void 0:W.value;M&&S&&(M.layerInfo=S.data)});var J=await E.queryRelatedFeatures({graphic:I,relatedInfos:N,layer:K},L);Object.keys(J).forEach(S=>{var W;E.setRelatedFeatures(null==
(W=J[S])?void 0:W.value,N.get(S.toString()))})}}};G._configureRelatedInfo=function(I,O){const {relatedInfos:L}=this,N=E.getRelatedFieldInfo(I.fieldName);if(N){var {layerId:R,fieldName:K}=N;R&&(O=L.get(R.toString())||E.createRelatedInfo(R,O))&&(E.updateRelatedInfo({relatedInfo:O,fieldName:K,fieldInfo:I}),this.relatedInfos.set(R,O))}};a._createClass(v,[{key:"_effectivePopupTemplate",get:function(){return l.isSome(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):
null}},{key:"_fieldInfoMap",get:function(){return F.createfieldInfoMap(F.getAllFieldInfos(this._effectivePopupTemplate),this._sourceLayer)}},{key:"_sourceLayer",get:function(){return F.getSourceLayer(this.graphic)}},{key:"graphic",set:function(I){this._set("graphic",I?I.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(I){void 0===I?this._clearOverride("spatialReference"):this._override("spatialReference",I)}},{key:"map",get:function(){return this.get("view.map")||
null},set:function(I){void 0===I?this._clearOverride("map"):this._override("map",I)}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}}]);return v}(h);c.__decorate([e.property()],b.prototype,"_featureAbortController",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:"graphic graphic.sourceLayer.popupTemplate.title graphic.sourceLayer.popupTemplate.content graphic.sourceLayer.popupTemplate.expressionInfos graphic.sourceLayer.popupTemplate.fieldInfos graphic.sourceLayer.popupTemplate.lastEditInfoEnabled graphic.sourceLayer.popupTemplate.outFields graphic.sourceLayer.popupTemplate.relatedRecordsInfo graphic.popupTemplate.title graphic.popupTemplate.content graphic.popupTemplate.expressionInfos graphic.popupTemplate.fieldInfos graphic.popupTemplate.lastEditInfoEnabled graphic.popupTemplate.outFields graphic.popupTemplate.relatedRecordsInfo defaultPopupTemplateEnabled".split(" ")})],
b.prototype,"_effectivePopupTemplate",null);c.__decorate([e.property({readOnly:!0,dependsOn:["_effectivePopupTemplate","_sourceLayer"]})],b.prototype,"_fieldInfoMap",null);c.__decorate([e.property({readOnly:!0,dependsOn:["graphic.layer","graphic.sourceLayer"]})],b.prototype,"_sourceLayer",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"content",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"contentViewModels",void 0);c.__decorate([e.property({type:Boolean})],b.prototype,
"defaultPopupTemplateEnabled",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"formattedAttributes",void 0);c.__decorate([e.property({type:g,value:null})],b.prototype,"graphic",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"lastEditInfo",void 0);c.__decorate([e.property()],b.prototype,"relatedInfos",void 0);c.__decorate([e.property({dependsOn:["view"]})],b.prototype,"spatialReference",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"title",void 0);c.__decorate([e.property({dependsOn:["view"]})],
b.prototype,"map",null);c.__decorate([e.property({readOnly:!0,dependsOn:["_featureAbortController"]})],b.prototype,"waitingForContent",null);c.__decorate([e.property()],b.prototype,"view",void 0);return b=c.__decorate([r.subclass("esri.widgets.FeatureViewModel")],b)})},"esri/widgets/Feature/support/arcadeFeatureUtils":function(){define(["require","exports","../../../core/Logger","../../../core/promiseUtils","./featureUtils"],function(a,c,b,l,m){function f(q){return`<ul class="esri-widget__list">${q.map(h=>
`<li>${"string"===typeof h?m.applyTextFormattingHTML(m.htmlEntities(h)):h}</li>`).join("")}</ul>`}function e(q){return`<table class="esri-widget__table">${q.keys().map(h=>{var d=q.field(h);d="string"===typeof d?m.applyTextFormattingHTML(m.htmlEntities(d)):d;return`<tr><th>${h}</th><td>${d}</td></tr>`}).join("")}</table>`}function k({arcadeUtils:q,featureSetVars:h,context:d,viewInfo:g,map:u,graphic:t}){h.forEach(B=>{B=B.toLowerCase();const F={map:u,spatialReference:g.sr};"$map"===B&&(d.vars[B]=q.convertMapToFeatureSetCollection(F));
"$layer"===B&&(d.vars[B]=q.convertFeatureLayerToFeatureSet(t.sourceLayer,g.sr));"$datastore"===B&&(d.vars[B]=q.convertServiceUrlToWorkspace(t.sourceLayer.url,g.sr))})}function r(){return new Promise(function(q,h){a(["../../../support/arcadeUtils"],q,h)})}async function p({expressionAttributes:q,info:h,arcadeUtils:d,spatialReference:g,map:u,graphic:t}){const B=`expression/${h.name}`,F=d.createSyntaxTree(h.expression),H=w.filter(A=>d.hasVariable(F,A));await d.loadScriptDependencies(F,!0,H);const C=
d.getViewInfo({spatialReference:g});g=d.createExecContext(t,C);g.useAsync=!0;k({arcadeUtils:d,featureSetVars:H,context:g,viewInfo:C,map:u,graphic:t});u=d.createFunction(F,g);u=await d.executeAsyncFunction(u,g).catch(A=>n.error("arcade-execution-error",{error:A,graphic:t,expressionInfo:h}));q[B]="string"===typeof u?m.applyTextFormattingHTML(m.htmlEntities(u)):Array.isArray(u)?f(u):u&&"esri.arcade.Dictionary"===u.declaredClass?e(u):u}const w=["$datastore","$map","$layer"],n=b.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");
c.createFormattedExpressions=async function({popupTemplate:q,spatialReference:h,graphic:d,map:g}){q=q.expressionInfos;const u=[],t={};if(!q||!q.length)return t;const B=await r();for(const F of q)u.push(p({expressionAttributes:t,info:F,arcadeUtils:B,spatialReference:h,map:g,graphic:d}));await l.eachAlways(u);return t};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/Spinner":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/watchUtils ./support/widgetUtils ./support/decorators/renderable ../chunks/index ./Widget ./Spinner/SpinnerViewModel".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){b=function(F){function H(A,E){A=F.call(this,A,E)||this;A._animationDelay=500;A._animationPromise=null;A.location=null;A.view=null;A.viewModel=new B;A.visible=!1;return A}a._inheritsLoose(H,F);var C=H.prototype;C.initialize=function(){this.own([h.watch(this,"visible",A=>this._visibleChange(A))])};C.destroy=function(){this._animationPromise=null};C.show=function(A){const {location:E,promise:y}=A;E&&(this.viewModel.location=E);this.visible=!0;A=()=>this.hide();
y&&y.catch(()=>{}).then(A)};C.hide=function(){this.visible=!1};C.render=function(){var {visible:A}=this,{screenLocation:E}=this.viewModel;E=!!E;A={["esri-spinner--start"]:A&&E,["esri-spinner--finish"]:!A&&E};E=this._getPositionStyles();return u.jsx("div",{class:this.classes("esri-spinner",A),styles:E})};C._visibleChange=function(A){if(A)this.viewModel.screenLocationEnabled=!0;else{var E=q.after(this._animationDelay);this._animationPromise=E;E.catch(()=>{}).then(()=>{this._animationPromise===E&&(this.viewModel.screenLocationEnabled=
!1,this._animationPromise=null)})}};C._getPositionStyles=function(){const {screenLocation:A,view:E}=this.viewModel;if(!E||!A)return{};const {padding:y}=E;return{left:`${A.x-y.left}px`,top:`${A.y-y.top}px`}};return H}(t);c.__decorate([e.aliasOf("viewModel.location")],b.prototype,"location",void 0);c.__decorate([e.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([f.property({type:B}),g.renderable(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],b.prototype,"viewModel",
void 0);c.__decorate([e.aliasOf("viewModel.visible")],b.prototype,"visible",void 0);return b=c.__decorate([r.subclass("esri.widgets.Spinner")],b)})},"esri/widgets/Spinner/SpinnerViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/AnchorElementViewModel".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(q){function h(d){d=q.call(this,d)||this;d.visible=!1;return d}a._inheritsLoose(h,q);return h}(n);c.__decorate([f.property()],b.prototype,"visible",void 0);return b=c.__decorate([k.subclass("esri.widgets.CompassViewModel")],b)})},"esri/widgets/support/AnchorElementViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Evented ../../core/Handles ../../core/watchUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(...t){var B=d.call(this,...t)||this;B._anchorHandles=new q;B.location=null;B.screenLocation=null;B.screenLocationEnabled=!1;B.view=null;B._anchorHandles.add([h.watch(a._assertThisInitialized(B),["screenLocationEnabled","location","view.size","view.stationary"],()=>B._updateScreenPointAndHandle()),h.watch(a._assertThisInitialized(B),["view","view.ready"],()=>B._wireUpView())]);return B}a._inheritsLoose(g,d);var u=g.prototype;u.destroy=
function(){this.view=null;this._anchorHandles&&this._anchorHandles.destroy();this._viewpointHandle=this._anchorHandles=null};u._wireUpView=function(){this._anchorHandles.remove("view");this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var {view:t}=this;t=h.pausable(t,"3d"===t.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(t,"view");this._viewpointHandle=t;this._toggleWatchingViewpoint()}};u._viewpointChange=function(){this._setScreenLocation();
this.emit("view-change")};u._updateScreenPointAndHandle=function(){this._setScreenLocation();this._toggleWatchingViewpoint()};u._toggleWatchingViewpoint=function(){const {_viewpointHandle:t,location:B,screenLocationEnabled:F}=this;t&&(B&&F?t.resume():t.pause())};u._setScreenLocation=function(){const {location:t,view:B,screenLocationEnabled:F}=this;var H=this.get("view.ready");H=F&&t&&H?B.toScreen(t):null;this._set("screenLocation",H)};return g}(n.EventedAccessor);c.__decorate([f.property()],b.prototype,
"location",void 0);c.__decorate([f.property({readOnly:!0})],b.prototype,"screenLocation",void 0);c.__decorate([f.property()],b.prototype,"screenLocationEnabled",void 0);c.__decorate([f.property()],b.prototype,"view",void 0);return b=c.__decorate([k.subclass("esri.widgets.support.AnchorElementViewModel")],b)})},"esri/widgets/Popup/PopupViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../geometry/support/webMercatorUtils ../../geometry/Point ../../geometry ../../core/Collection ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionToggle ../../core/Handles ../../layers/Layer ../../core/watchUtils ../../views/input/InputManager ../Feature/FeatureViewModel ../support/AnchorElementViewModel ../../views/support/layerViewUtils ./actions ../support/GoTo".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B,F,H,C,A,E,y,x,z,D,v,G){const I=t.ofType({key:"type",defaultKeyValue:"button",base:B,typeMap:{button:F,toggle:H}}),O=m.getLogger("esri.widgets.Popup.PopupViewModel");b=function(L){function N(K){K=L.call(this,K)||this;K._handles=new C;K._pendingPromises=new Set;K._zoomToLocation=null;K._fetchFeaturesController=null;K.actions=new I([v.zoomToFeature.clone()]);K.defaultPopupTemplateEnabled=!1;K.autoCloseEnabled=!1;K.autoOpenEnabled=!0;K.content=null;K.featureViewModels=
[];K.highlightEnabled=!0;K.title=null;K.updateLocationEnabled=!1;K.view=null;K.visible=!1;K.zoomFactor=4;return K}a._inheritsLoose(N,L);var R=N.prototype;R.initialize=function(){this._handles.add([E.init(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),E.watch(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),E.watch(this,"view.animation.state",K=>this._animationStateChange(K)),E.watch(this,"location",
K=>this._locationChange(K)),E.watch(this,"selectedFeature",K=>this._selectedFeatureChange(K)),this.on("trigger-action",K=>v.triggerAction({event:K,view:this.view})),E.whenFalse(this,"waitingForResult",()=>this._waitingForResultChange()),E.watch(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs())])};R.destroy=function(){this._cancelFetchingFeatures();this._handles.destroy();this._handles=null;this._pendingPromises.clear();this.view=null};R.centerAtLocation=function(){var {view:K}=
this;const U=this._getSelectedTarget();return U?this.callGoTo({target:{target:U,scale:K.scale}}):(K=new p("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:U,view:K}),O.error(K),h.reject(K))};R.clear=function(){this.set({promises:[],features:[],content:null,title:null,location:null})};R.fetchFeatures=function(K,U){const {view:P}=this;return P&&K?P.fetchPopupFeatures(K,{event:U&&U.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,
signal:U&&U.signal}):(K=new p("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:K,view:P}),O.error(K),h.reject(K))};R.open=function(K){K={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...K,visible:!0};const {fetchFeatures:U}=K;delete K.fetchFeatures;U&&this._setFetchFeaturesPromises(K.location);this.set(K)};R.triggerAction=function(K){(K=this.allActions.getItemAt(K))&&!K.disabled&&this.emit("trigger-action",{action:K})};R.next=
function(){this.selectedFeatureIndex+=1;return this};R.previous=function(){--this.selectedFeatureIndex;return this};R.zoomToLocation=function(){const {location:K,selectedFeature:U,view:P,zoomFactor:J}=this;var S=this._getSelectedTarget();if(!S)return S=new p("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:S,view:P}),O.error(S),h.reject(S);const W=P.scale/J,M=this.get("selectedFeature.geometry")||K,T=M&&"point"===M.type&&this._isZoomScreenSize(U);v.zoomToFeature.active=
!0;v.zoomToFeature.disabled=!0;return this._zoomToLocation=S=this.callGoTo({target:{target:S,scale:T?W:void 0}}).catch(()=>{v.zoomToFeature.active=!1;v.zoomToFeature.disabled=!1;this._zoomToLocation=null}).then(()=>{T&&(this.location=M)})};R._animationStateChange=function(K){this._zoomToLocation||(v.zoomToFeature.disabled="waiting-for-target"===K)};R._locationChange=function(K){const {selectedFeature:U,updateLocationEnabled:P}=this;P&&K&&(!U||U.geometry)&&this.centerAtLocation()};R._selectedFeatureChange=
function(K){if(K){var {location:U,updateLocationEnabled:P,view:J}=this;!P&&U||!K.geometry?P&&!K.geometry&&this.centerAtLocation().then(()=>{this.location=J.center.clone()}):this.location=l.unwrap(this._getPointFromGeometry(K.geometry))}};R._waitingForResultChange=function(){!this.featureCount&&this.promises&&(this.visible=!1)};R._setFetchFeaturesPromises=function(K){return this._fetchFeaturesWithController(this._getScreenPoint(K||this.location)).then(U=>{const {clientOnlyGraphics:P,promisesPerLayerView:J}=
U;U=h.resolve(P);const S=J.map(W=>W.promise);this.promises=[U,...S]})};R._destroyFeatureVMs=function(){this.featureViewModels.forEach(K=>K&&!K.destroyed&&K.destroy());this._set("featureViewModels",[])};R._updateFeatureVMs=function(){const {features:K,featureViewModels:U}=this;this._destroyFeatureVMs();if(K&&K.length){var P=U.slice(0),J=[];K.forEach((S,W)=>{if(S){var M=null;P.some((fa,ia)=>{fa&&fa.graphic===S&&(M=fa,P.splice(ia,1));return!!M});if(M)J[W]=M;else{var T,X;const fa=new x({defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,
graphic:S,spatialReference:null==(T=this.view)?void 0:T.spatialReference,map:null==(X=this.view)?void 0:X.map});J[W]=fa}}});P.forEach(S=>S&&!S.destroyed&&S.destroy());this._set("featureViewModels",J)}};R._getScreenPoint=function(K){const {view:U}=this;return U&&K&&"function"===typeof U.toScreen?U.toScreen(K):null};R._getSelectedTarget=function(){const {selectedFeature:K,location:U,view:P}=this;return P?"3d"===P.type?K||U:this.get("selectedFeature.geometry")||U:null};R._autoOpenEnabledChange=function(){const {_handles:K,
autoOpenEnabled:U}=this;K.remove("auto-fetch-features");if(U&&this.view){const P=this.view.on("click",J=>{"mouse"===J.pointerType&&0!==J.button||this._fetchFeaturesAndOpen(J)},y.ViewEventPriorities.WIDGET);K.add(P,"auto-fetch-features")}};R._cancelFetchingFeatures=function(){const K=this._fetchFeaturesController;K&&K.abort();this._fetchFeaturesController=null;this.notifyChange("waitingForResult")};R._fetchFeaturesWithController=function(K,U){this._cancelFetchingFeatures();const P=h.createAbortController(),
{signal:J}=P;this._fetchFeaturesController=P;this.notifyChange("waitingForResult");K=this.fetchFeatures(K,{signal:J,event:U});K.catch(()=>{}).then(()=>{this._fetchFeaturesController=null;this.notifyChange("waitingForResult")});return K};R._fetchFeaturesAndOpen=function(K){const {screenPoint:U,mapPoint:P}=K,{view:J}=this;this._fetchFeaturesWithController(U,K).then(S=>{const {clientOnlyGraphics:W,promisesPerLayerView:M,location:T}=S,X=[h.resolve(W),...M.map(fa=>fa.promise)];J.popup.open({location:T||
P,promises:X});return S})};R._updatePendingPromises=function(K){K&&this._pendingPromises.has(K)&&(this._pendingPromises.delete(K),this.notifyChange("pendingPromisesCount"))};R._autoClose=function(){this.autoCloseEnabled&&(this.visible=!1)};R._isZoomScreenSize=function(K){var {view:U}=this;if("3d"!==U.type||!K||"esri.Graphic"!==K.declaredClass)return!0;if((U=U.getViewForGraphic(K))&&"whenGraphicBounds"in U){let P=!1;U.whenGraphicBounds(K,{useViewElevation:!0}).then(J=>{P=!J||!J.boundingBox||J.boundingBox[0]===
J.boundingBox[3]&&J.boundingBox[1]===J.boundingBox[4]&&J.boundingBox[2]===J.boundingBox[5]}).catch(()=>{const J=new p("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:K});O.error(J)});return P}return!0};R._getPointFromGeometry=function(K){return l.isNone(K)?null:"point"===K.type?K:"extent"===K.type?K.center:"polygon"===K.type?K.centroid:"multipoint"===K.type||"polyline"===K.type?K.extent.center:null};R._getLayerView=async function(K,U){await K.when();return K.whenLayerView(U)};
R._highlightFeature=async function(){this._handles.remove("highlight");const {selectedFeature:K,highlightEnabled:U,view:P,visible:J}=this;if(K&&P&&U&&J){var {layer:S}=K;if(S&&S instanceof A){var W=this._getLayerView(P,S);this._highlightPromise=W;var M=await W;M&&D.highlightsSupported(M)&&this._highlightPromise===W&&this.selectedFeature&&this.highlightEnabled&&this.visible&&(S="objectIdField"in S&&S.objectIdField,W=K.attributes,M=M.highlight(W&&S&&W[S]||K),this._handles.add(M,"highlight"))}}};R._updateFeatures=
function(K){const {features:U}=this;K&&K.length&&(U.length?(K=K.filter(P=>-1===U.indexOf(P)),this.features=U.concat(K)):this.features=K)};a._createClass(N,[{key:"active",get:function(){return!(!this.visible||this.waitingForResult)}},{key:"allActions",get:function(){const K=this._get("allActions")||new I;K.removeAll();var U=this.selectedFeature&&("function"===typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate);
const P=U&&U.actions;(U=U&&U.overwriteActions?P:P?P.concat(this.actions):this.actions)&&U.filter(Boolean).forEach(J=>K.add(J));return K}},{key:"featureCount",get:function(){return this.features.length}},{key:"features",get:function(){return this._get("features")||[]},set:function(K){K=K||[];this._set("features",K);const {pendingPromisesCount:U,promiseCount:P,selectedFeatureIndex:J}=this,S=P&&K.length;S&&U&&-1===J?this.selectedFeatureIndex=0:S&&-1!==J||(this.selectedFeatureIndex=K.length?0:-1)}},{key:"location",
get:function(){return this._get("location")||null},set:function(K){const U=this.get("view.spatialReference.isWebMercator");K&&K.get("spatialReference.isWGS84")&&U&&(K=d.geographicToWebMercator(K));this._set("location",K)}},{key:"pendingPromisesCount",get:function(){return this._pendingPromises.size}},{key:"waitingForResult",get:function(){return!(!(this._fetchFeaturesController||0<this.pendingPromisesCount)||0!==this.featureCount)}},{key:"promiseCount",get:function(){return this.promises.length}},
{key:"promises",get:function(){return this._get("promises")||[]},set:function(K){this._pendingPromises.clear();this.features=[];Array.isArray(K)&&K.length?(this._set("promises",K),K=K.slice(0),K.forEach(U=>{this._pendingPromises.add(U);U.then(P=>{this._pendingPromises.has(U)&&this._updateFeatures(P);this._updatePendingPromises(U)},()=>this._updatePendingPromises(U))})):this._set("promises",[]);this.notifyChange("pendingPromisesCount")}},{key:"selectedFeature",get:function(){const {features:K,selectedFeatureIndex:U}=
this;return-1===U?null:K[U]||null}},{key:"selectedFeatureIndex",get:function(){const K=this._get("selectedFeatureIndex");return"number"===typeof K?K:-1},set:function(K){const {featureCount:U}=this;K=isNaN(K)||-1>K||!U?-1:(K+U)%U;this._set("selectedFeatureIndex",K)}},{key:"selectedFeatureViewModel",get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}}]);return N}(G.GoToMixin(z));c.__decorate([e.property({type:I})],
b.prototype,"actions",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["visible","waitingForResult"]})],b.prototype,"active",null);c.__decorate([e.property({dependsOn:["actions.length","selectedFeature.sourceLayer.popupTemplate.actions.length","selectedFeature.sourceLayer.popupTemplate.overwriteActions","selectedFeature.popupTemplate.actions.length","selectedFeature.popupTemplate.overwriteActions"],readOnly:!0})],b.prototype,"allActions",null);c.__decorate([e.property({type:Boolean})],b.prototype,
"defaultPopupTemplateEnabled",void 0);c.__decorate([e.property()],b.prototype,"autoCloseEnabled",void 0);c.__decorate([e.property()],b.prototype,"autoOpenEnabled",void 0);c.__decorate([e.property()],b.prototype,"content",void 0);c.__decorate([e.property({readOnly:!0,dependsOn:["features"]})],b.prototype,"featureCount",null);c.__decorate([e.property()],b.prototype,"features",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"featureViewModels",void 0);c.__decorate([e.property()],b.prototype,
"highlightEnabled",void 0);c.__decorate([e.property({type:g})],b.prototype,"location",null);c.__decorate([e.property({readOnly:!0,dependsOn:["promises"]})],b.prototype,"pendingPromisesCount",null);c.__decorate([e.property({readOnly:!0,dependsOn:["featureCount","pendingPromisesCount"]})],b.prototype,"waitingForResult",null);c.__decorate([e.property({readOnly:!0,dependsOn:["promises"]})],b.prototype,"promiseCount",null);c.__decorate([e.property()],b.prototype,"promises",null);c.__decorate([e.property({value:null,
readOnly:!0,dependsOn:["features","selectedFeatureIndex","updateLocationEnabled"]})],b.prototype,"selectedFeature",null);c.__decorate([e.property({value:-1})],b.prototype,"selectedFeatureIndex",null);c.__decorate([e.property({readOnly:!0,dependsOn:["featureViewModels","selectedFeatureIndex"]})],b.prototype,"selectedFeatureViewModel",null);c.__decorate([e.property({readOnly:!0,dependsOn:["view.ready"]})],b.prototype,"state",null);c.__decorate([e.property()],b.prototype,"title",void 0);c.__decorate([e.property()],
b.prototype,"updateLocationEnabled",void 0);c.__decorate([e.property()],b.prototype,"view",void 0);c.__decorate([e.property()],b.prototype,"visible",void 0);c.__decorate([e.property()],b.prototype,"zoomFactor",void 0);c.__decorate([e.property()],b.prototype,"centerAtLocation",null);c.__decorate([e.property()],b.prototype,"zoomToLocation",null);return b=c.__decorate([r.subclass("esri.widgets.Popup.PopupViewModel")],b)})},"esri/views/support/layerViewUtils":function(){define(["exports","../../core/maybe"],
function(a,c){a.extractSafeScaleBounds=function(b){let {minScale:l,maxScale:m}=b;return{minScale:l||0,maxScale:m||0}};a.highlightsSupported=function(b){return b&&"function"===typeof b.highlight};a.occludeesSupported=function(b){return b&&"function"===typeof b.maskOccludee};a.scaleBoundsPredicate=function(b,l,m){return c.isNone(b)||b>m&&(0===l||b<l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Popup/actions":function(){define(["exports","../../core/Error","../../core/promiseUtils",
"../../support/actions/ActionButton"],function(a,c,b,l){const m=new l({id:"zoom-to-feature",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"}),f=new l({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"});a.all=[m,f];a.removeSelectedFeature=f;a.triggerAction=function(e){const {event:k,view:r}=e;({action:e}=k);var p=r&&r.popup;if(!e)return b.reject(new c("trigger-action:missing-arguments","Event has no action"));if(!p)return b.reject(new c("trigger-action:missing-arguments",
"view.popup is missing"));const {disabled:w,id:n}=e;if(!n)return b.reject(new c("trigger-action:invalid-action","action.id is missing"));if(w)return b.reject(new c("trigger-action:invalid-action","Action is disabled"));if(n===m.id)return p.viewModel.zoomToLocation();if(n===f.id){p.close();({selectedFeature:e}=p);if(!e)return b.reject(new c(`trigger-action:${f.id}`,"selectedFeature is required",{selectedFeature:e}));({sourceLayer:p}=e);p?p.remove(e):r.graphics.remove(e)}return b.resolve()};a.zoomToFeature=
m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/GoTo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n){a.GoToMixin=q=>{q=function(h){function d(...g){g=
h.call(this,...g)||this;g.goToOverride=null;g.view=null;return g}c._inheritsLoose(d,h);d.prototype.callGoTo=function(g){const {view:u}=this;return this.goToOverride?this.goToOverride(u,g):u.goTo(g.target,g.options)};return d}(q);b.__decorate([e.property()],q.prototype,"goToOverride",void 0);b.__decorate([e.property()],q.prototype,"view",void 0);return q=b.__decorate([r.subclass("esri.widgets.support.GoTo")],q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../core/maybe ../../core/mathUtils ../../core/screenUtils ../../core/MapUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,c,b,l,m,f,e){const k={manipulator:null,tool:null};return function(){function r(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._stopDrag=!1;this._cursor=this._revertToActiveTool=null}var p=r.prototype;p.handleInputEvent=function(w,n){var q=()=>w.stopPropagation();switch(w.type){case "pointer-move":"mouse"===w.pointerType&&this._pointerLocations.set(w.pointerId,{x:w.x,y:w.y,pointerType:w.pointerType});
break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(w.stopPropagation(),"end"===w.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===w.pointerType&&0!==w.button||w.native.shiftKey)break;q=e.createScreenPointFromEvent(w);var h=this._intersect(q,w.pointerType,n.forEachTool);if(c.isNone(h))break;var d=this._findToolAndManipulatorByKey(h,n.forEachTool,k),g=c.applySome(d,t=>t.manipulator);d=c.applySome(d,t=>t.tool);!(c.isSome(g)&&c.isSome(d)&&g.interactive)||
g.grabbable&&g.grabbableForEvent(w)||!g.grabbing||g.dragging||this._ungrabManipulatorBeforeDragging(g,d,w);c.isSome(g)&&g.interactive&&g.grabbable&&g.grabbableForEvent(w)&&!g.grabbing&&(this._grabbedManipulators.set(w.pointerId,{key:h,start:q}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=n.activeTool,n.setActiveTool(h.tool)),g.grabbing=!0,g.events.emit("grab-changed",{action:"start",screenPoint:q}),w.stopPropagation());break;case "pointer-up":this._handlePointerEnd(w,n);break;case "pointer-drag":if("mouse"===
w.pointerType&&0!==w.button)break;var u=this._grabbedManipulators.get(w.pointerId);q=this._draggedManipulators.get(w.pointerId);h=c.applySome(u||q,({key:t})=>t);g=this._findManipulatorByKey(h,n.forEachTool);if(c.isNone(g))break;d=e.createScreenPointFromEvent(w);d.x=b.clamp(d.x,0,n.view.width);d.y=b.clamp(d.y,0,n.view.height);u=c.unwrap(u||q).start;switch(w.action){case "start":case "update":if("update"===w.action||1===this._grabbedManipulators.size)g.dragging=!0,q?g.events.emit("drag",{action:"update",
start:u,screenPoint:d}):g.events.emit("drag",{action:"start",start:u,screenPoint:d,pointerType:w.pointerType}),this._draggedManipulators.set(w.pointerId,{key:c.unwrap(h),start:u});break;case "end":g.dragging=!1,q&&g.events.emit("drag",{action:"end",start:u,screenPoint:d}),this._draggedManipulators.delete(w.pointerId),this._handlePointerEnd(w,n)}w.stopPropagation();break;case "immediate-click":{h=e.createScreenPointFromEvent(w);g=this._intersect(h,w.pointerType,n.forEachTool);const t=this._findToolAndManipulatorByKey(g,
n.forEachTool,k);w.native.shiftKey||n.forEachTool(H=>{if((!c.isSome(t)||t.tool!==H||!H.selectionManagementDisabled)&&H.manipulators){let C=!1;H.manipulators.forEach(({manipulator:A})=>{A.selected&&(A.selected=!1,C=!0)});C&&H.manipulatorSelectionChanged&&H.manipulatorSelectionChanged()}});if(c.isNone(t))break;const {manipulator:B,tool:F}=t;if(!B.interactive)break;B.selectable&&!F.selectionManagementDisabled&&(B.selected=!B.selected,F.manipulatorSelectionChanged&&F.manipulatorSelectionChanged());B.events.emit("immediate-click",
{screenPoint:h,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey,stopPropagation:q});break}case "click":q=e.createScreenPointFromEvent(w);h=this._intersect(q,w.pointerType,n.forEachTool);h=this._findManipulatorByKey(h,n.forEachTool);if(c.isNone(h)||!h.interactive)break;h.events.emit(w.type,{screenPoint:q,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey});w.stopPropagation();break;case "double-click":h=e.createScreenPointFromEvent(w);g=this._intersect(h,w.pointerType,
n.forEachTool);g=this._findManipulatorByKey(g,n.forEachTool);if(c.isNone(g)||!g.interactive)break;g.events.emit("double-click",{screenPoint:h,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey,stopPropagation:q});break;case "immediate-double-click":h=e.createScreenPointFromEvent(w),g=this._intersect(h,w.pointerType,n.forEachTool),g=this._findManipulatorByKey(g,n.forEachTool),!c.isNone(g)&&g.interactive&&g.events.emit("immediate-double-click",{screenPoint:h,button:w.button,pointerType:w.pointerType,
shiftKey:w.native.shiftKey,stopPropagation:q})}this._updateCursor(n.forEachTool)};p._ungrabManipulatorBeforeDragging=function(w,n,q){w.grabbing=!1;w.events.emit("grab-changed",{action:"end",screenPoint:e.createScreenPointFromEvent(q)});this._grabbedManipulators.forEach(({key:h},d)=>{h.tool===n&&n.manipulators.findById(h.manipulatorId)===w&&this._grabbedManipulators.delete(d)})};p._handlePointerEnd=function(w,n){var q=c.applySome(this._grabbedManipulators.get(w.pointerId),({key:d})=>d);const h=this._findManipulatorByKey(q,
n.forEachTool);c.isSome(h)&&!h.dragging&&(q=c.isSome(n.creatingTool)&&n.creatingTool===c.unwrap(q).tool,1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||q||(n.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),h.grabbing&&(h.grabbing=!1,h.events.emit("grab-changed",{action:"end",screenPoint:e.createScreenPointFromEvent(w)})),this._grabbedManipulators.delete(w.pointerId))};p._cursorFromMap=function(w,n){let q=null;m.someMap(w,({key:h})=>{h=this._findManipulatorByKey(h,
n);return c.isSome(h)&&h.interactive&&"cursor"in h&&h.cursor?(q=h.cursor,!0):!1});return q};p._updateCursor=function(w){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,w)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,w)||"pointer":null};p.clearPointers=function(w,n,q=!0,h){const d=g=>g.tool===w&&(c.isNone(h)||g.manipulatorId===h);this._grabbedManipulators.forEach(({key:g},u)=>{d(g)&&(this._grabbedManipulators.delete(u),
g=this._findManipulatorByKey(g,n),c.isSome(g)&&(g.grabbing=!1,g.events.emit("grab-changed",{action:"end",screenPoint:null})))});this._draggedManipulators.forEach(({key:g},u)=>{d(g)&&(this._draggedManipulators.delete(u),g=this._findManipulatorByKey(g,n),c.isSome(g)&&(g.dragging=!1,g.events.emit("drag",{action:"cancel"})))});q&&this._hoveredManipulators.forEach(({key:g},u)=>{d(g)&&(this._hoveredManipulators.delete(u),g=this._findManipulatorByKey(g,n),c.isSome(g)&&(g.hovering=!1))});this._updateCursor(n)};
p._intersect=function(w,n,q){let h=null;q(d=>{if(null==d.manipulators||!f.areToolManipulatorsEditable(d))return!1;const g=d.manipulators.intersect(w,n);if(c.isNone(g))return!1;h={manipulatorId:g,tool:d};return!0});return h};p.updateHoveredStateFromKnownPointers=function(w){this._pointerLocations.forEach((n,q)=>{this._updateHoveredStateForPointerAtScreenPosition(l.createScreenPoint(n.x,n.y),q,n.pointerType,w)})};p.handleHoverEvent=function(w,n){"pointer-up"!==w.type&&"immediate-click"!==w.type&&"pointer-move"!==
w.type||"mouse"!==w.pointerType||this._updateHoveredStateForPointerAtScreenPosition(e.createScreenPointFromEvent(w),w.pointerId,w.pointerType,n)};p._updateHoveredStateForPointerAtScreenPosition=function(w,n,q,h){w=this._intersect(w,q,h);q=this._findManipulatorByKey(w,h);var d=c.applySome(this._hoveredManipulators.get(n),({key:g})=>g);d=this._findManipulatorByKey(d,h);c.isSome(q)&&!q.interactive&&(q=null);d!==q&&(c.isSome(d)&&(d.hovering=!1),c.isSome(q)?(q.hovering=!0,this._hoveredManipulators.set(n,
{key:c.unwrap(w)})):this._hoveredManipulators.delete(n),this._updateCursor(h))};p._findManipulatorByKey=function(w,n){return this._findToolAndManipulatorByKey(w,n,k)?k.manipulator:null};p._findToolAndManipulatorByKey=function(w,n,q){if(c.isNone(w))return null;q.tool=null;q.manipulator=null;n(h=>{if(h!==w.tool||null==h.manipulators||!f.areToolManipulatorsEditable(h))return!1;const d=h.manipulators.findById(w.manipulatorId);return c.isSome(d)?(q.manipulator=d,q.tool=h,!0):!1});return q.manipulator?
q:null};a._createClass(r,[{key:"cursor",get:function(){return this._cursor}}]);return r}()})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,c,b){function l(f){return b.createScreenPoint(f.x,f.y)}function m(f,e){f=(f instanceof HTMLElement?f:f.surface).getBoundingClientRect();return b.createScreenPoint(e.clientX-f.left,e.clientY-f.top)}a.createScreenPointFromEvent=l;a.createScreenPointFromNativeEvent=m;a.createScreenPointFromSupportedEvent=
function(f,e){return e instanceof Event?m(f,e):l(e)};a.isSupportedScreenPointEvent=function(f){if(f instanceof Event)return!0;if("object"===typeof f&&"type"in f)switch(f.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./gamepad/GamepadSettings".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(){var g=h.apply(this,arguments)||this;g.gamepad=new q;return g}a._inheritsLoose(d,h);return d}(n);c.__decorate([f.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=c.__decorate([k.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../core/Collection ./GamepadInputDevice".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(...u){u=d.call(this,...u)||this;u.devices=new q;u.enabledFocusMode="document";return u}a._inheritsLoose(g,d);return g}(n);c.__decorate([f.property({type:q.ofType(h),readOnly:!0})],b.prototype,"devices",void 0);c.__decorate([f.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=c.__decorate([k.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n){b=function(d){function g(u){var t=d.call(this)||this;t.nativeIndex=null;t._detectedDeviceType="unknown";"standard"===u.mapping?t._detectedDeviceType="standard":q.test(u.id)?t._detectedDeviceType="spacemouse":t._detectedDeviceType="unknown";t.nativeIndex=u.index;return t}a._inheritsLoose(g,d);a._createClass(g,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},
{key:"axisThreshold",get:function(){return h[this.deviceType]}}]);return g}(n);c.__decorate([f.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);c.__decorate([f.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);c.__decorate([f.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=c.__decorate([k.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const q=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,h={standard:.15,spacemouse:.025,
unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./gamepad/GamepadSettings".split(" "),function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=
h.call(this,g)||this;g.browserTouchPanEnabled=!0;g.gamepad=new q;g.momentumEnabled=!0;g.mouseWheelZoomEnabled=!0;return g}a._inheritsLoose(d,h);return d}(n);c.__decorate([f.property({type:Boolean})],b.prototype,"browserTouchPanEnabled",void 0);c.__decorate([f.property({type:q,nonNullable:!0})],b.prototype,"gamepad",void 0);c.__decorate([f.property({type:Boolean})],b.prototype,"momentumEnabled",void 0);c.__decorate([f.property({type:Boolean})],b.prototype,"mouseWheelZoomEnabled",void 0);return b=c.__decorate([k.subclass("esri.views.navigation.Navigation")],
b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q){b=function(h){function d(g){g=h.call(this,g)||this;g.enabled=!0;g.device=null;g.mode="pan";g.tiltDirection="forward-down";g.velocityFactor=1;return g}a._inheritsLoose(d,h);return d}(n);c.__decorate([f.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);c.__decorate([f.property({type:q})],b.prototype,"device",void 0);c.__decorate([f.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);c.__decorate([f.property({type:["forward-down",
"forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);c.__decorate([f.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=c.__decorate([k.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/arrayUtils ../../core/promiseUtils ../../core/Accessor ../../geometry/support/webMercatorUtils ../../core/Handles ../../core/watchUtils ../../geometry/support/heightModelInfoUtils".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g,u,t,B){function F(E){return E?JSON.stringify(E.toJSON()):"undefined"}function H(E){switch(E){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}var C;const A=m.getLogger("esri.views.support.DefaultsFromMap");l=C=function(E){function y(){var z=E.apply(this,arguments)||this;z._handles=new u;z._waitTask=null;z._extentProjectController=null;z._spatialReferenceCandidates=null;z._extentCandidates=null;z.logDebugInformation=!1;z.isSpatialReferenceDone=
!1;z.isTileInfoDone=!1;z.isHeightModelInfoSearching=!1;z.spatialReference=null;z.extent=null;z.heightModelInfo=null;z.vcsWkid=null;z.latestVcsWkid=null;z.mapCollectionPaths=C.DefaultMapCollectionPaths.slice();z.tileInfo=null;return z}c._inheritsLoose(y,E);var x=y.prototype;x.initialize=function(){this.watch("mapCollectionPaths",()=>{this._running&&(this.reset(),this.start())})};x.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=null);this._cancelLoading()};
x.reset=function(){this._handles.removeAll();this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=this._spatialReferenceCandidates=null};x.start=function(){this._handles.removeAll();const z=this._updateLayerChange.bind(this);for(const D of this.mapCollectionPaths)this._handles.add(t.on(this.view,
`map.${D}`,"change",z,z,z,!0));this._handles.add(t.when(this,"isSpatialReferenceDone",()=>this._updateTileInfo(),!0))};x._ownerNameFromCollectionName=function(z){const D=z.lastIndexOf(".");return-1===D?"view":"view."+z.slice(0,D)};x._ensureLoadedOwnersFromCollectionName=function(z){const D=this._ownerNameFromCollectionName(z).split(".");let v;for(let G=0;G<D.length;G++){v=this.get(D.slice(0,G+1).join("."));if(!v)break;if(v.load&&!v.isFulfilled())return{collectionName:z,owner:null,loading:v.load().catch(()=>
{})}}return{collectionName:z,owner:v}};x._cancelLoading=function(){this._waitTask=null;this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)};x._updateWhen=function(z){let D=!0,v=!1;const G=z.catch(()=>{}).then(()=>{D?v=!0:G===this._waitTask&&this._update()});D=!1;v||(this._waitTask=G);return v};x._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1);this._update()};x._update=function(){this._cancelLoading();
if(this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var z=this._processMapCollections(D=>this._processSpatialReferenceSource(D));this._debugLog(`Search ended with status '${H(z)}'`);if(0!==z){let D=null;z=this._spatialReferenceCandidates;!z||1>z.length?(D=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${F(D)})`)):(this.defaultSpatialReference&&1<z.length&&-1<z.findIndex(v=>v.equals(this.defaultSpatialReference))&&
(z=[this.defaultSpatialReference]),D=z[0],this._debugLog(`Locking to ${F(D)}`));this._set("spatialReference",D);D?this.extent?this._set("isSpatialReferenceDone",!0):(z=this.logDebugInformation,this.logDebugInformation=!1,this._processMapCollections(v=>this._findExtent(v,D)),this.logDebugInformation=z,this._projectExtentCandidate().catch(()=>{}).then(()=>this._set("isSpatialReferenceDone",!0))):this._set("isSpatialReferenceDone",!0)}}null==this.heightModelInfo&&this.view.isHeightModelInfoRequired&&
(this._debugLog("Starting search for height model info..."),z=this._processMapCollections(D=>this._processHeightModelInfoSource(D),D=>B.mayHaveHeightModelInfo(D)),this._debugLog(`Search ended with status ${H(z)}`),this._set("isHeightModelInfoSearching",0===z));this._updateTileInfo()}};x._processMapCollections=function(z,D){this._preloadMapCollections(D);let v=2;this._forAllMapCollectionSources(G=>{if(2!==v)return!1;const {collectionName:I}=G;this._debugLog(`Processing collection ${I}...`);return G.loading&&
!this._updateWhen(G.loading)?(this._debugLog(`Collection ${G.collectionName} owner is loading -> wait`),v=0,!1):!0},G=>2!==v?!1:null==D||D(G)?!G.load||G.isFulfilled()||this._updateWhen(G.load())?G.load&&!G.isResolved()||!z(G)?!0:(v=1,!1):(this._debugLog(`Source ${G.id} is loading -> wait`),v=0,!1):(this._debugLog(`Source ${G.id} is skipped due to predicate`),!1));return v};x._preloadMapCollections=function(z){let D=10;const v=this.logDebugInformation;this.logDebugInformation=!1;this._forAllMapCollectionSources(()=>
!0,G=>{if(0===D||null!=z&&!z(G))return!1;G.load&&!G.isFulfilled()&&(this.logDebugInformation=v,this._debugLog(`Pre-loading source ${G.id}`),this.logDebugInformation=!1,G.load().catch(()=>{}),D--);return!0});this.logDebugInformation=v};x._forAllMapCollectionSources=function(z,D){for(const G of this.mapCollectionPaths){const I=`map.${G}`;var v=this._ensureLoadedOwnersFromCollectionName(I);!1!==z(v)&&(v=v.owner,!v||v.isRejected&&v.isRejected()?this._debugLog(`Collection ${I} owner is invalid or rejected -> skip`):
(v=this.view.get(I))?this._forEachSource(v,D):this._debugLog(`Collection ${I} does not exist -> skip`))}};x._forEachSource=function(z,D){for(const v of z.items)!1!==D(v)&&"layers"in v&&v.layers&&this._forEachSource(v.layers,D)};x._processSpatialReferenceSource=function(z){let D=this._getSupportedSpatialReferences(z);if(0===D.length)return!1;this._spatialReferenceCandidates?(D=q.intersect(D,this._spatialReferenceCandidates,(v,G)=>v.equals(G)),0<D.length?this._spatialReferenceCandidates=D:this._debugLog(`Layer ${z.id} is ignored because its supported spatial
          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=D;return 1===this._spatialReferenceCandidates.length};x._findExtent=function(z,D){var v="fullExtents"in z&&z.fullExtents||(z.fullExtent?[z.fullExtent]:[]);const G=v.find(I=>I.spatialReference.equals(D));if(G)return this._set("extent",G),!0;0<this._getSupportedSpatialReferences(z).length&&(v=v.map(I=>({extent:I,layer:z})),this._extentCandidates=(this._extentCandidates||[]).concat(v));return!1};
x._projectExtentCandidate=async function(){if(this._extentCandidates&&this._extentCandidates.length){var z=this.spatialReference,D=this._extentCandidates.find(v=>g.canProject(v.extent.spatialReference,z));if(D)this._set("extent",g.project(D.extent,z));else{D=this._extentCandidates[0];this._extentProjectController=h.createAbortController();const v=await new Promise(function(G,I){a(["../../portal/support/geometryServiceUtils"],G,I)});try{const G=await v.projectGeometry(D.extent,z,D.layer.portalItem,
this._extentProjectController.signal);this._set("extent",G)}catch{}this._extentProjectController=null}}};x._getSupportedSpatialReferences=function(z){var D="supportedSpatialReferences"in z&&z.supportedSpatialReferences||(z.spatialReference?[z.spatialReference]:[]);if(0===D.length)return this._debugLog(`Layer ${z.id} is ignored because it does not have any spatial references`),[];D=D.filter(v=>this.view.isSpatialReferenceSupported(v,z,G=>this._debugLog(G)));0===D.length?this._debugLog(`Layer ${z.id} has spatial references but none of them are supported (or layer doesn't require locking)`):
this._debugLog(`Layer ${z.id} has spatial references. Resulting candidate set: ${D.map(F).join(", ")}`);return D};x._processHeightModelInfoSource=function(z){const D=B.deriveHeightModelInfoFromLayer(z);return D?(this._set("heightModelInfo",D),this._set("isHeightModelInfoSearching",!1),z.spatialReference&&(this._set("vcsWkid",z.spatialReference.vcsWkid),this._set("latestVcsWkid",z.spatialReference.latestVcsWkid)),!0):!1};x._updateTileInfo=function(){if(null==this.tileInfo)if(!this.view.isTileInfoRequired())this._set("isTileInfoDone",
!0);else if(this.isSpatialReferenceDone){var z=this.get("view.map");if(z){var D=z.basemap;z=z.get("layers.0");var v=null;if(D&&"failed"!==D.loadStatus){if(!D.loaded){this._updateWhen(D.load());this._debugLog("updateTileInfo: basemap still loading");return}if((D=D&&D.get("baseLayers.0"))&&"failed"!==D.loadStatus)if(D.loaded)v="tileInfo"in D&&D.tileInfo;else{this._updateWhen(D.load());this._debugLog("updateTileInfo: first basemap layer still loading");return}else if(z&&"failed"!==z.loadStatus)if(z.loaded)v=
"tileInfo"in z&&z.tileInfo;else{this._updateWhen(z.load());this._debugLog("updateTileInfo: first operational layer still loading");return}else{this._debugLog("updateTileInfo: no tileInfo");this._set("isTileInfoDone",!0);return}}else if(z&&"failed"!==z.loadStatus)if(z.loaded)v="tileInfo"in z&&z.tileInfo;else{this._updateWhen(z.load());this._debugLog("updateTileInfo: first operational layer still loading");return}v&&!v.spatialReference.equals(this.spatialReference)&&(v=null);this._debugLog(`updateTileInfo: setting ${v}`);
this._set("tileInfo",v);this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}};x._debugLog=function(z){this.logDebugInformation&&A.info(z)};c._createClass(y,[{key:"_running",get:function(){return!!(this._handles&&0<this._handles.size)}}]);return y}(d);l.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"];b.__decorate([e.property()],l.prototype,"logDebugInformation",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,
"isSpatialReferenceDone",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"isTileInfoDone",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"isHeightModelInfoSearching",void 0);b.__decorate([e.property({constructOnly:!0})],l.prototype,"view",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"spatialReference",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"extent",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"heightModelInfo",void 0);
b.__decorate([e.property({readOnly:!0})],l.prototype,"vcsWkid",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"latestVcsWkid",void 0);b.__decorate([e.property()],l.prototype,"mapCollectionPaths",void 0);b.__decorate([e.property()],l.prototype,"defaultSpatialReference",void 0);b.__decorate([e.property({readOnly:!0})],l.prototype,"tileInfo",void 0);return l=C=b.__decorate([r.subclass("esri.views.support.DefaultsFromMap")],l)})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/maybe ../../core/Error ../../layers/support/arcgisLayerUrl ../HeightModelInfo".split(" "),
function(a,c,b,l,m,f){function e(h,d,g){if(!k(h)||!k(d))return 4;if(null==h||null==d)return 0;if(!g&&h.heightUnit!==d.heightUnit)return 1;if(h.heightModel!==d.heightModel)return 2;switch(h.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return h.vertCRS===d.vertCRS?0:3;default:return 4}}function k(h){return null==h||null!=h.heightModel&&null!=h.heightUnit}function r(h){const d=h.url&&m.parse(h.url);return(null!=(h.spatialReference&&h.spatialReference.vcsWkid)||!b.isSome(d)||
"ImageServer"!==d.serverType)&&"heightModelInfo"in h&&h.heightModelInfo?h.heightModelInfo:w(h)?f.deriveUnitFromSR(q,h.spatialReference):null}function p(h){if("unknown"===h.type||!("capabilities"in h))return!1;switch(h.type){case "csv":case "feature":case "geojson":case "ogc-feature":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;default:return!1}}function w(h){return p(h)?!!(h.capabilities&&h.capabilities.data&&h.capabilities.data.supportsZ):
n(h)}function n(h){switch(h.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":return!0}return!1}const q=new f({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=r;a.mayHaveHeightModelInfo=function(h){return null!=h.layers||n(h)||p(h)||"heightModelInfo"in h};a.rejectLayerError=function(h,d,g){const u=r(h);var t=e(u,d,g);{let B=null;if(u){const F=f.deriveUnitFromSR(u,h.spatialReference).heightUnit;g||F===u.heightUnit||(B=new l("layerview:unmatched-height-unit",
`The vertical units of the layer must match the horizontal units (${F})`,{horizontalUnit:F}))}if(!("heightModelInfo"in h&&null!=h.heightModelInfo||null!=h.spatialReference)&&w(h)||4===t||B)return new l("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:u,error:B})}h=null;switch(t){case 1:t=u.heightUnit||"unknown";h=d.heightUnit||"unknown";h=new l("layerview:incompatible-height-unit",`The vertical units of the layer (${t}) must match the vertical units of the scene (${h})`,
{layerUnit:t,sceneUnit:h});break;case 2:t=u.heightModel||"unknown";h=d.heightModel||"unknown";h=new l("layerview:incompatible-height-model",`The height model of the layer (${t}) must match the height model of the scene (${h})`,{layerHeightModel:t,sceneHeightModel:h});break;case 3:t=u.vertCRS||"unknown",h=d.vertCRS||"unknown",h=new l("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${t}) must match the vertical datum of the scene (${h})`,{layerDatum:t,sceneDatum:h})}return h?
new l("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:d,error:h}):null};a.validateWebSceneError=function(h,d){if(!h)return null;if(!k(h))return new l("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:h});const g=h.heightUnit;h=f.deriveUnitFromSR(h,d).heightUnit;return g!==h?new l("webscene:incompatible-height-unit",
`The vertical units of the scene (${g}) must match the horizontal units of the scene (${h})`,{verticalUnit:g,horizontalUnit:h}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Promise".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h){b=function(d){function g(t){t=d.call(this,t)||this;t.state="running";t.target=null;return t}a._inheritsLoose(g,d);var u=g.prototype;u.initialize=function(){this.addResolvingPromise(q.create((t,B)=>this._dfd={resolve:t,reject:B}))};u.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new r("ViewAnimation stopped")))};u.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._dfd.resolve())};u.update=function(t,B){B||(B=q.isPromiseLike(t)?"waiting-for-target":"running");this._set("target",t);this._set("state",B)};a._createClass(g,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return g}(h.EsriPromise);c.__decorate([f.property({readOnly:!0,dependsOn:["state"]})],b.prototype,"done",null);c.__decorate([f.property({readOnly:!0,type:String})],b.prototype,"state",void 0);c.__decorate([f.property()],b.prototype,"target",
void 0);b=c.__decorate([k.subclass("esri.views.ViewAnimation")],b);(b||(b={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return b})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Promise ../../core/HandleOwner".split(" "),
function(a,c,b,l,m,f,e,k,r,p,w,n,q,h,d,g){b=function(u){function t(F){F=u.call(this,F)||this;F.layer=null;F.parent=null;return F}a._inheritsLoose(t,u);var B=t.prototype;B.initialize=function(){this.when().catch(F=>{if("layerview:create-error"!==F.name){const H=this.layer&&this.layer.id||"no id",C=this.layer&&this.layer.title||"no title";l.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${C}', id: '${H}')`,F);throw F;}})};B.canResume=function(){return!this.get("parent.suspended")&&
this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};B.getSuspendInfo=function(){const F=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(F.viewNotReady=!0);this.layer&&this.layer.loaded||(F.layerNotLoaded=!0);this.visible||(F.layerInvisible=!0);return F};B.isUpdating=function(){return!1};a._createClass(t,[{key:"fullOpacity",get:function(){var F=this.get("layer.opacity");F=null==F?1:F;var H=this.get("parent.fullOpacity");return F*(null==H?1:
H)}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}},{key:"visible",get:function(){return!0===this.get("layer.visible")},set:function(F){void 0===F?this._clearOverride("visible"):this._override("visible",F)}}]);return t}(g.HandleOwnerMixin(h.IdentifiableMixin(d.EsriPromiseMixin(q.EventedMixin(n)))));
c.__decorate([f.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],b.prototype,"fullOpacity",null);c.__decorate([f.property()],b.prototype,"layer",void 0);c.__decorate([f.property()],b.prototype,"parent",void 0);c.__decorate([f.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],b.prototype,"suspended",null);c.__decorate([f.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],b.prototype,"suspendInfo",
null);c.__decorate([f.property({readOnly:!0,dependsOn:["suspended","layer.legendEnabled?"]})],b.prototype,"legendEnabled",null);c.__decorate([f.property({type:Boolean,dependsOn:["updatingHandles.updating"],readOnly:!0})],b.prototype,"updating",null);c.__decorate([f.property({dependsOn:["layer.visible"]})],b.prototype,"visible",null);return b=c.__decorate([k.subclass("esri.views.layers.LayerView")],b)})},"*noref":1}});require.boot&&require.apply(null,require.boot);
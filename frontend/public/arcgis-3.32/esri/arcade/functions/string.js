// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/arcade/functions/string","require exports ../ArcadePortal ../Dictionary ../Feature ../languageUtils".split(" "),function(p,k,m,n,l,c){Object.defineProperty(k,"__esModule",{value:!0});k.registerFunctions=function(h,f){h.portal=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,1,1);return new m(c.toString(a[0]))})};h.trim=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,1,1);return c.toString(a[0]).trim()})};h.upper=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,1,1);
return c.toString(a[0]).toUpperCase()})};h.proper=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,1,2);b=1;2===a.length&&"firstword"===c.toString(a[1]).toLowerCase()&&(b=2);g=/\s/;a=c.toString(a[0]);for(var e="",d=!0,h=0;h<a.length;h++){var f=a[h];g.test(f)?1===b&&(d=!0):f.toUpperCase()!==f.toLowerCase()&&(d?(f=f.toUpperCase(),d=!1):f=f.toLowerCase());e+=f}return e})};h.lower=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,1,1);return c.toString(a[0]).toLowerCase()})};h.guid=function(e,
d){return f(e,d,function(b,g,a){c.pcCheck(a,0,1);if(0<a.length)switch(c.toString(a[0]).toLowerCase()){case "digits":return c.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return c.generateUUID();case "digits-hyphen-parentheses":return"("+c.generateUUID()+")"}return"{"+c.generateUUID()+"}"})};h.console=function(e,d){return f(e,d,function(b,g,a){0!==a.length&&(1===a.length?e.console(c.toString(a[0])):e.console(c.toString(a)));return c.voidOperation})};
h.mid=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,2,3);b=c.toNumber(a[1]);if(isNaN(b))return"";0>b&&(b=0);if(2===a.length)return c.toString(a[0]).substr(b);g=c.toNumber(a[2]);if(isNaN(g))return"";0>g&&(g=0);return c.toString(a[0]).substr(b,g)})};h.find=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,2,3);b=0;if(2<a.length){b=c.toNumber(c.defaultUndefined(a[2],0));if(isNaN(b))return-1;0>b&&(b=0)}return c.toString(a[1]).indexOf(c.toString(a[0]),b)})};h.left=function(e,d){return f(e,
d,function(b,g,a){c.pcCheck(a,2,2);b=c.toNumber(a[1]);if(isNaN(b))return"";0>b&&(b=0);return c.toString(a[0]).substr(0,b)})};h.right=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,2,2);b=c.toNumber(a[1]);if(isNaN(b))return"";0>b&&(b=0);return c.toString(a[0]).substr(-1*b,b)})};h.split=function(e,d){return f(e,d,function(b,g,a){c.pcCheck(a,2,4);b=c.toNumber(c.defaultUndefined(a[2],-1));g=c.toBoolean(c.defaultUndefined(a[3],!1));-1===b||null===b||!0===g?a=c.toString(a[0]).split(c.toString(a[1])):
(isNaN(b)&&(b=-1),-1>b&&(b=-1),a=c.toString(a[0]).split(c.toString(a[1]),b));if(!1===g)return a;g=[];for(var e=0;e<a.length&&!(-1!==b&&g.length>=b);e++)""!==a[e]&&void 0!==a[e]&&g.push(a[e]);return g})};h.text=function(e,d){return f(e,d,function(b,e,a){c.pcCheck(a,1,2);return c.toStringExplicit(a[0],a[1])})};h.concatenate=function(e,d){return f(e,d,function(b,e,a){b=[];if(1>a.length)return"";if(c.isArray(a[0])){e=c.defaultUndefined(a[2],"");for(var d=0;d<a[0].length;d++)b[d]=c.toStringExplicit(a[0][d],
e);return 1<a.length?b.join(a[1]):b.join("")}if(c.isImmutableArray(a[0])){e=c.defaultUndefined(a[2],"");for(d=0;d<a[0].length();d++)b[d]=c.toStringExplicit(a[0].get(d),e);return 1<a.length?b.join(a[1]):b.join("")}for(d=0;d<a.length;d++)b[d]=c.toStringExplicit(a[d]);return b.join("")})};h.reverse=function(e,d){return f(e,d,function(b,d,a){c.pcCheck(a,1,1);if(c.isArray(a[0]))return b=a[0].slice(0),b.reverse(),b;if(c.isImmutableArray(a[0]))return b=a[0].toArray().slice(0),b.reverse(),b;throw Error("Invalid Parameter");
})};h.replace=function(e,d){return f(e,d,function(b,d,a){c.pcCheck(a,3,4);b=c.toString(a[0]);d=c.toString(a[1]);var e=c.toString(a[2]);return(4===a.length?c.toBoolean(a[3]):1)?c.multiReplace(b,d,e):b.replace(d,e)})};h.domainname=function(e,d){return f(e,d,function(b,d,a){c.pcCheck(a,2,4);if(a[0]instanceof l)return a[0].domainValueLookup(c.toString(a[1]),a[2],void 0===a[3]?void 0:c.toNumber(a[3]));throw Error("Invalid Parameter");})};h.domaincode=function(e,d){return f(e,d,function(b,d,a){c.pcCheck(a,
2,4);if(a[0]instanceof l)return a[0].domainCodeLookup(c.toString(a[1]),a[2],void 0===a[3]?void 0:c.toNumber(a[3]));throw Error("Invalid Parameter");})};h.urlencode=function(e,d){return f(e,d,function(b,d,a){c.pcCheck(a,1,1);if(null===a[0])return"";if(a[0]instanceof n){b="";d=0;for(var e=a[0].keys();d<e.length;d++){var f=e[d],g=a[0].field(f);""!==b&&(b+="\x26");b=null===g?b+(encodeURIComponent(f)+"\x3d"):b+(encodeURIComponent(f)+"\x3d"+encodeURIComponent(g))}return b}return encodeURIComponent(c.toString(a[0]))})}}});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/DomUtil","dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/query esri/dijit/geoenrichment/Deferred dojo/domReady!".split(" "),function(r,m,h,f,k,d,t,u){function v(){n||(n=f.create("div",{"class":"esriGEOffscreen"},document.body));return n}var c={isHidden:function(a){return a&&h.contains(a,"esriGEHidden")},hasVisibleChildren:function(a){if(!a||!a.children.length)return!1;for(var b=0;b<a.children.length;b++)if(!c.isHidden(a.children[b]))return!0;
return!1},hide:function(a){return c.addTag(a,"esriGEHidden")},show:function(a){return c.removeTag(a,"esriGEHidden")},display:function(a,b){return c[b?"show":"hide"](a)},addTag:function(a,b){return c.applyCallback(a,function(a){a&&h.add(a,b)})},removeTag:function(a,b){return c.applyCallback(a,function(a){a&&h.remove(a,b)})},applyCallback:function(a,b,e){e&&(b=r.hitch(e,b));Array.isArray(a)?a.forEach(b):b(a);return a},getChildIndex:function(a,b){if(!a||!a.children||!b)return-1;for(var e=0;e<a.children.length;e++)if(a.children[e]===
b)return e;return-1},getChildren:function(a){if(!a||!a.children)return null;for(var b=[],e=0;e<a.children.length;e++)b.push(a.children[e]);return b},getChildNodes:function(a){if(!a||!a.childNodes)return null;for(var b=[],e=0;e<a.childNodes.length;e++)b.push(a.childNodes[e]);return b},isChildOf:function(a,b,e){var c=!1,d=function(a){if(e&&!e(a))return!1;a.parentNode===b?c=!0:a.parentNode&&d(a.parentNode)};a&&d(a);return c},isNodeInLayout:function(a){return c.isChildOf(a,document.body,function(a){return!c.isHidden(a)&&
"none"!=d.get(a,"display")&&!h.contains(a,"dijitHidden")})},isNodeVisible:function(a){return c.isChildOf(a,document.body,function(a){return!h.contains(a,"dijitHidden")&&"hidden"!=d.get(a,"visibility")})},isNodeOnscreen:function(a){return c.isChildOf(a,document.body,function(a){return!h.contains(a,"esriGEOffscreen")})},enableContent:function(a,b,e){if(a){e=e||{};var c=a.children.length-1;if(!(0>c)){c=a.children[c];h.contains(c,"esriGEDisabledContent")||(c=null);if(b)c&&a.removeChild(c);else if(c=c||
f.create("div",{"class":"esriGEDisabledContent"+(e.overlayClass?" "+e.overlayClass:"")},a),e.textContent&&(c.textContent=e.textContent),!1!==e.fitParent&&(a=k[e.marginBox?"getMarginBox":"getContentBox"](a).h))a=a.toString()+"px",d.set(c,{height:a,marginTop:"-"+a});return c}}},enableContentAbsolute:function(a,b,e){if(a){e=e||{};var p=d.get(a,"position");"relative"!==p&&"absolute"!==p&&d.set(a,"position","relative");return c.enableContent(a,b,{overlayClass:"esriGEAbsoluteStretched "+(e.overlayClass||
"")+(e.isTransparent?" esriGEDisabledContentTransparent ":""),fitParent:!1,textContent:e.textContent})}}},n;c.hideNodeInBackground=function(a,b){if(a){if(a._hideNodeInBackgroundUndoController)return a._hideNodeInBackgroundUndoController;var c=f.create("div",null,a,"after"),d=f.create("div",{style:"position: absolute; left: 0px; top: 0px;"},v());f.place(a,d);b="DomUtil.hideNodeInBackground"+(b?"."+b:"");m.set(c,"_bg_memo_node",b);m.set(d,"_bg_temp_node",b);b={undo:function(){c&&(c.parentNode&&f.place(a,
c,"replace"),f.destroy(c),f.destroy(d),n.children.length||(f.destroy(n),n=null),c=null,delete a._hideNodeInBackgroundUndoController)},remove:function(){this.undo()}};return a._hideNodeInBackgroundUndoController=b}};c.showNodeFromBackground=function(a){a&&a._hideNodeInBackgroundUndoController&&a._hideNodeInBackgroundUndoController.undo()};c.noTransformPosition=function(a){function b(a){for(var b={x:0,y:0};a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop,a=a.offsetParent,b.x+=d.get(a,"borderLeftWidth"),
b.y+=d.get(a,"borderTopWidth");return b}function c(a){return d.get(a,"width")+d.get(a,"paddingLeft")+d.get(a,"paddingRight")+d.get(a,"borderLeftWidth")+d.get(a,"borderRightWidth")}function p(a){return d.get(a,"height")+d.get(a,"paddingTop")+d.get(a,"paddingBottom")+d.get(a,"borderTopWidth")+d.get(a,"borderBottomWidth")}if(a){var g;if(a instanceof SVGElement&&a.getBBox)return g=(g=a.ownerSVGElement&&a.ownerSVGElement.parentNode)&&b(g),a=a.getBBox(),{x:(a.x||0)+g.x,y:(a.y||0)+g.y,w:a.width||0,h:a.height||
0};g=b(a);return{x:g.x,y:g.y,w:c(a),h:p(a)}}};c.uniteNodeBoxes=function(a,b){var e=1E6,d=1E6,g=-1E6,f=-1E6;a.forEach(function(a){a=c.noTransformPosition(a);e=Math.min(e,a.x);d=Math.min(d,a.y);g=Math.max(g,a.x+a.w);f=Math.max(f,a.y+a.h)});a={x:e,y:d,w:g-e,h:f-d};b&&(b=c.noTransformPosition(b),a.x-=b.x,a.y-=b.y);return a};c.getNodesBox=function(a,b){if(!a||!a.length)return null;for(var e=1E6,d=-1E6,g=1E6,f=-1E6,h=0;h<a.length;h++)var l=a[h],l=b&&b.ignoreTranformation?c.noTransformPosition(l):k.position(l),
e=Math.min(e,l.x),g=Math.min(g,l.y),d=Math.max(d,l.x+l.w),f=Math.max(f,l.y+l.h);return{x:e,y:g,w:d-e,h:f-g}};c.traverseChildren=function(a,b){function c(a){if(a&&a.children)for(var e=0;e<a.children.length;e++){var d=a.children[e];if(b(d))break;c(d)}}c(a)};c.scrollToListNode=function(a,b,c){var e=b.offsetTop+b.clientHeight,d=e-(a.scrollTop+a.clientHeight);0<d&&(a.scrollTop+=d);c&&(e-=b.clientHeight-c.offsetTop,d=a.scrollTop-e,0<d&&(a.scrollTop-=d))};var q;c.getScrollbarSize=function(){if(!q){var a=
f.create("div",null,document.body);a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="9999px";q={w:a.offsetWidth-a.clientWidth,h:a.offsetHeight-a.clientHeight};f.destroy(a)}return q};c.hasScrollbars=function(a){var b=d.getComputedStyle(a);return{w:"scroll"===b.overflowX||a.offsetWidth>a.clientWidth&&"auto"===b.overflowX,h:"scroll"===b.overflowY||a.offsetHeight>a.clientHeight&&"auto"===b.overflowY}};c.getMeasureContext=function(a){a=a||{};
a.style=a.style?a.style+" ":"";a.style+="display: inline-block; position: absolute; left: 0; top: 0;";return{div:f.create("div",a,document.body),measureText:function(a){this.div.innerHTML=a;a=k.getMarginBox(this.div);delete a.l;delete a.t;return a},destroy:function(){f.destroy(this.div)}}};c.getTextBox=function(a,b){b=c.getMeasureContext(b);a=b.measureText(a);b.destroy();return a};c.getNodeFontFamily=function(a){return(a=d.get(a,"fontFamily")||d.getComputedStyle(a)["font-family"])?a.replace(/'|"/g,
"").split(",")[0]:a};c.getNodeFontSize=function(a){return d.toPixelValue(a,d.get(a,"fontSize"))};c.stealFocus=function(){var a=new u;try{var b=f.create("input",{type:"text",style:"position: absolute; left: 0px; top: 0px;"});f.place(b,document.body);b.select();f.destroy(b)}catch(e){}setTimeout(a.resolve,0);return a.promise};c.getWindowBox=function(){for(var a=[],b=0,e=document.body.children.length;b<e;b++){var d=document.body.children[b];c.isHidden(d)||(c.hide(d),a.push(d))}b={w:document.body.clientWidth,
h:document.body.clientHeight};a.forEach(function(a){c.show(a)});return b};c.getBorder=function(a){return{t:d.toPixelValue(a,d.get(a,"borderTopWidth")),r:d.toPixelValue(a,d.get(a,"borderRightWidth")),b:d.toPixelValue(a,d.get(a,"borderBottomWidth")),l:d.toPixelValue(a,d.get(a,"borderLeftWidth"))}};c.isBodyLtr=function(){return"ltr"===(document.body.dir||"ltr").toLowerCase()};c.setAttribute=function(a,b,c){return 2===arguments.length?m.set(a,b):m.set(a,b,c)};c.getAttribute=function(a,b,c){return 2===
arguments.length?m.get(a,b):m.get(a,b,c)};c.addClass=function(a,b){return h.add(a,b)};c.removeClass=function(a,b){return h.remove(a,b)};c.toggleClass=function(a,b,c){return h[c?"add":"remove"](a,b)};c.replaceClass=function(a,b,c){return h.replace(a,b,c)};c.containsClass=function(a,b){return h.contains(a,b)};c.getStyle=function(a,b){return d.get(a,b)};c.setStyle=function(a,b,c){return 2===arguments.length?d.set(a,b):d.set(a,b,c)};c.toPixelValue=function(a,b){return parseFloat(b)||0};c.getComputedStyle=
function(a){return a&&1===a.nodeType&&window.getComputedStyle(a)};c.position=function(a,b){return k.position(a,b)};c.getMarginBox=function(a,b){return k.getMarginBox(a,b)};c.setMarginBox=function(a,b){return k.setMarginBox(a,b)};c.getMarginExtents=function(a,b){return k.getMarginExtents(a,b)};c.getContentBox=function(a,b){return k.getContentBox(a,b)};c.getPadBorderExtents=function(a,b){return k.getPadBorderExtents(a,b)};c.getPadExtents=function(a,b){return k.getPadExtents(a,b)};c.getBorderExtents=
function(a,b){return k.getBorderExtents(a,b)};c.create=function(a,b,c,d){return f.create(a,b,c,d)};c.toDom=function(a){return f.toDom(a)};c.place=function(a,b,c){return f.place(a,b,c)};c.empty=function(a){return f.empty(a)};c.destroy=function(a){return f.destroy(a)};c.query=function(a,b){return t(a,b)};return c});